<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="stay hungry,stay foolish"><meta name=author content=hujainli94><link href=https://hujianli94.github.io/Golang/1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/3.Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E4%BD%BF%E7%94%A8/ rel=canonical><link href=../2.%E5%BC%80%E5%90%AFGo%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/ rel=prev><link href=../4.Go-Module%E6%95%99%E7%A8%8B/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.19"><title>Go基础语法与使用 - DevOps运维开发</title><link rel=stylesheet href=../../../assets/stylesheets/main.eebd395e.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ecc896b0.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/vssue.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video-js.min.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#go基础语法与使用 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title=DevOps运维开发 class="md-header__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DevOps运维开发 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Go基础语法与使用 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换至深色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换至深色模式 for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label=切换至浅色模式 type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title=切换至浅色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class="md-tabs__link md-tabs__link--active"> Golang </a> </li> <li class=md-tabs__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-tabs__link> Python-vs-Go </a> </li> <li class=md-tabs__item> <a href=../../../Linux/system/0.Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD/ class=md-tabs__link> Linux </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=DevOps运维开发 class="md-nav__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> DevOps运维开发 </label> <div class=md-nav__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> 首页 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-nav__link> Kubernetes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> 1.安装篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 1.安装篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/1.Kubeadm%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> Kubeadm安装高可用集群 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/2.%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> 二进制安装高可用K8s集群 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> 2.基础篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 2.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Docker%E5%9F%BA%E7%A1%80/ class=md-nav__link> Docker基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Kubernetes%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=md-nav__link> Kubernetes的基础概念 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Kubernetes%E8%B0%83%E5%BA%A6%E5%9F%BA%E7%A1%80/ class=md-nav__link> Kubernetes调度基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Kubernetes%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83%E5%9F%BA%E7%A1%80/ class=md-nav__link> Kubernetes服务发布基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Kubernetes%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> Kubernetes配置管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> 3.进阶篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 3.进阶篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/8.Kubernetes%E5%AD%98%E5%82%A8%E5%85%A5%E9%97%A8/ class=md-nav__link> Kubernetes存储入门 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/9.Kubernetes%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6/ class=md-nav__link> Kubernetes高级调度 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> 4.高级篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 4.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/12.%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AD%98%E5%82%A8Rook/ class=md-nav__link> 云原生存储Rook </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/13.%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%B9%E5%99%A8%E5%8C%96/ class=md-nav__link> 中间件容器化 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> 5.运维篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> 5.运维篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/14.Kubernetes%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/ class=md-nav__link> Kubernetes日志收集 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/15.Kubernetes%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6/ class=md-nav__link> Kubernetes监控告警 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/16.%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83Ingress%E8%BF%9B%E9%98%B6/ class=md-nav__link> 服务发布Ingress进阶 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex=0> 6.DevOps篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> 6.DevOps篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/6.DevOps%E7%AF%87/17.DevOps%E5%AE%9E%E8%B7%B5/ class=md-nav__link> DevOps实践 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-nav__link> Docker </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> 1.Docker基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 1.Docker基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Docker/ class=md-nav__link> 安装Docker </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/2.%E4%BD%BF%E7%94%A8Docker%E9%95%9C%E5%83%8F/ class=md-nav__link> 使用Docker镜像 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/3.%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8/ class=md-nav__link> 操作Docker容器 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/4.%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/ class=md-nav__link> 搭建本地私有仓库 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/5.Docker%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> Docker数据管理 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/6.Docker%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C/ class=md-nav__link> Docker使用网络 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/7.Dockerfile/ class=md-nav__link> Dockerfile </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/8.docker-compose/ class=md-nav__link> docker-compose </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/9.Docker%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC/ class=md-nav__link> Docker相关脚本 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> 2.实战案例 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2.实战案例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class=md-nav__link> 操作系统 </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/2.Web%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%BA%94%E7%94%A8/ class=md-nav__link> Web服务与应用 </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/3.%E6%8C%81%E7%BB%AD%E5%BC%80%E5%8F%91%E4%B8%8E%E7%AE%A1%E7%90%86/ class=md-nav__link> 持续开发与管理 </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/4.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8/ class=md-nav__link> 数据库应用 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> 3.Devops <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 3.Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/3.Devops/1.ConfCenter/ class=md-nav__link> ConfCenter </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/2.CoreDNS/ class=md-nav__link> Coredns </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/3.Harbor/ class=md-nav__link> Harbor </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/4.Python%E6%93%8D%E4%BD%9CDocker/ class=md-nav__link> Python操作Docker </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/5.Haproxy/ class=md-nav__link> Haproxy </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/6.Nexus/ class=md-nav__link> Nexus </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Golang <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-nav__link> Go Web开发实战 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> 1.Go基础入门 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 1.Go基础入门 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.%E5%AE%89%E8%A3%85Go/ class=md-nav__link> 安装Go </a> </li> <li class=md-nav__item> <a href=../2.%E5%BC%80%E5%90%AFGo%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/ class=md-nav__link> 开启Go的第一个程序 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Go基础语法与使用 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Go基础语法与使用 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1基础语法 class=md-nav__link> 1.基础语法 </a> <nav class=md-nav aria-label=1.基础语法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-go语言标记 class=md-nav__link> 1.1 Go语言标记 </a> </li> <li class=md-nav__item> <a href=#12-行分隔符 class=md-nav__link> 1.2 行分隔符 </a> </li> <li class=md-nav__item> <a href=#13-注释 class=md-nav__link> 1.3 注释 </a> </li> <li class=md-nav__item> <a href=#14-标识符 class=md-nav__link> 1.4 标识符 </a> </li> <li class=md-nav__item> <a href=#15-字符串拼接 class=md-nav__link> 1.5 字符串拼接 </a> </li> <li class=md-nav__item> <a href=#16-go语言的关键字 class=md-nav__link> 1.6 Go语言的关键字 </a> </li> <li class=md-nav__item> <a href=#17-go语言中的空格 class=md-nav__link> 1.7 Go语言中的空格 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-变量 class=md-nav__link> 2. 变量 </a> <nav class=md-nav aria-label="2. 变量"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-声明 class=md-nav__link> 2.1 声明 </a> <nav class=md-nav aria-label="2.1 声明"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#211-标准格式 class=md-nav__link> 2.1.1 标准格式 </a> </li> <li class=md-nav__item> <a href=#212-批量格式 class=md-nav__link> 2.1.2 批量格式 </a> </li> <li class=md-nav__item> <a href=#213-简短格式 class=md-nav__link> 2.1.3 简短格式 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#22-赋值 class=md-nav__link> 2.2 赋值 </a> <nav class=md-nav aria-label="2.2 赋值"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#221-单个变量赋值 class=md-nav__link> 2.2.1 单个变量赋值 </a> </li> <li class=md-nav__item> <a href=#222-多个变量赋值 class=md-nav__link> 2.2.2 多个变量赋值 </a> </li> <li class=md-nav__item> <a href=#223-变量作用域 class=md-nav__link> 2.2.3 变量作用域 </a> <nav class=md-nav aria-label="2.2.3 变量作用域"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-局部变量 class=md-nav__link> 1. 局部变量 </a> </li> <li class=md-nav__item> <a href=#2-全局变量 class=md-nav__link> 2. 全局变量 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-常量 class=md-nav__link> 3. 常量 </a> <nav class=md-nav aria-label="3. 常量"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-iota-常量生成器 class=md-nav__link> 3.1 iota 常量生成器 </a> </li> <li class=md-nav__item> <a href=#32-延迟明确常量的具体类型 class=md-nav__link> 3.2 延迟明确常量的具体类型 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-运算符 class=md-nav__link> 4. 运算符 </a> </li> <li class=md-nav__item> <a href=#5-流程控制语句 class=md-nav__link> 5. 流程控制语句 </a> <nav class=md-nav aria-label="5. 流程控制语句"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#511-if-else分支结构 class=md-nav__link> 5.1.1 if-else(分支结构) </a> </li> <li class=md-nav__item> <a href=#512-for循环 class=md-nav__link> 5.1.2 for循环 </a> </li> <li class=md-nav__item> <a href=#513-for-range循环 class=md-nav__link> 5.1.3 for-range循环 </a> <nav class=md-nav aria-label="5.1.3 for-range循环"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1遍历数组切片 class=md-nav__link> 1.遍历数组、切片。 </a> </li> <li class=md-nav__item> <a href=#2遍历字符串 class=md-nav__link> 2.遍历字符串。 </a> </li> <li class=md-nav__item> <a href=#3遍历map class=md-nav__link> 3.遍历map。 </a> </li> <li class=md-nav__item> <a href=#4遍历通道channel class=md-nav__link> 4.遍历通道(channel) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#514-switch-case语句 class=md-nav__link> 5.1.4 switch-case语句 </a> </li> <li class=md-nav__item> <a href=#515-goto语句 class=md-nav__link> 5.1.5 goto语句 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-go数据类型 class=md-nav__link> 6. Go数据类型 </a> <nav class=md-nav aria-label="6. Go数据类型"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-布尔型 class=md-nav__link> 6.1 布尔型 </a> </li> <li class=md-nav__item> <a href=#62-数字类型 class=md-nav__link> 6.2 数字类型 </a> </li> <li class=md-nav__item> <a href=#63-字符串类型 class=md-nav__link> 6.3 字符串类型 </a> </li> <li class=md-nav__item> <a href=#64-指针类型 class=md-nav__link> 6.4 指针类型 </a> </li> <li class=md-nav__item> <a href=#65-复合类型 class=md-nav__link> 6.5 复合类型 </a> <nav class=md-nav aria-label="6.5 复合类型"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1数组类型 class=md-nav__link> 1.数组类型 </a> </li> <li class=md-nav__item> <a href=#2结构体类型 class=md-nav__link> 2.结构体类型 </a> </li> <li class=md-nav__item> <a href=#3切片类型 class=md-nav__link> 3.切片类型 </a> </li> <li class=md-nav__item> <a href=#4map类型 class=md-nav__link> 4.map类型 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7函数 class=md-nav__link> 7.函数 </a> <nav class=md-nav aria-label=7.函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#71-声明函数 class=md-nav__link> 7.1 声明函数 </a> </li> <li class=md-nav__item> <a href=#72-函数参数 class=md-nav__link> 7.2 函数参数 </a> <nav class=md-nav aria-label="7.2 函数参数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1参数使用 class=md-nav__link> 1.参数使用 </a> </li> <li class=md-nav__item> <a href=#2可变参数 class=md-nav__link> 2.可变参数 </a> </li> <li class=md-nav__item> <a href=#3参数传递 class=md-nav__link> 3.参数传递 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#73-匿名函数 class=md-nav__link> 7.3 匿名函数 </a> <nav class=md-nav aria-label="7.3 匿名函数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1定义 class=md-nav__link> 1.定义 </a> </li> <li class=md-nav__item> <a href=#2调用 class=md-nav__link> 2.调用 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#74-defer延迟语句 class=md-nav__link> 7.4 defer延迟语句 </a> <nav class=md-nav aria-label="7.4 defer延迟语句"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1defer语句执行逻辑 class=md-nav__link> 1.defer语句执行逻辑： </a> </li> <li class=md-nav__item> <a href=#2defer常用应用场景 class=md-nav__link> 2.defer常用应用场景： </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8go面向对象编程 class=md-nav__link> 8.Go面向对象编程 </a> <nav class=md-nav aria-label=8.Go面向对象编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#81-封装 class=md-nav__link> 8.1 封装 </a> </li> <li class=md-nav__item> <a href=#82-继承 class=md-nav__link> 8.2 继承 </a> </li> <li class=md-nav__item> <a href=#83-多态 class=md-nav__link> 8.3 多态 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#9接口 class=md-nav__link> 9.接口 </a> <nav class=md-nav aria-label=9.接口> <ul class=md-nav__list> <li class=md-nav__item> <a href=#91-接口定义 class=md-nav__link> 9.1 接口定义 </a> </li> <li class=md-nav__item> <a href=#92-接口赋值 class=md-nav__link> 9.2 接口赋值 </a> <nav class=md-nav aria-label="9.2 接口赋值"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1实现接口的对象实例赋值给接口 class=md-nav__link> 1.实现接口的对象实例赋值给接口 </a> </li> <li class=md-nav__item> <a href=#2一个接口赋值给另一个接口 class=md-nav__link> 2.一个接口赋值给另一个接口 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#93-接口查询 class=md-nav__link> 9.3 接口查询 </a> </li> <li class=md-nav__item> <a href=#94-接口组合 class=md-nav__link> 9.4 接口组合 </a> </li> <li class=md-nav__item> <a href=#95-接口应用 class=md-nav__link> 9.5 接口应用 </a> <nav class=md-nav aria-label="9.5 接口应用"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1类型推断 class=md-nav__link> 1.类型推断 </a> </li> <li class=md-nav__item> <a href=#2实现多态功能 class=md-nav__link> 2.实现多态功能 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#10反射 class=md-nav__link> 10.反射 </a> <nav class=md-nav aria-label=10.反射> <ul class=md-nav__list> <li class=md-nav__item> <a href=#101-反射的定义 class=md-nav__link> 10.1 反射的定义 </a> </li> <li class=md-nav__item> <a href=#102-反射的三大法则 class=md-nav__link> 10.2 反射的三大法则 </a> <nav class=md-nav aria-label="10.2 反射的三大法则"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1接口类型变量转换为反射类型对象 class=md-nav__link> 1.接口类型变量转换为反射类型对象 </a> </li> <li class=md-nav__item> <a href=#2反射类型对象转换为接口类型变量 class=md-nav__link> 2.反射类型对象转换为接口类型变量 </a> </li> <li class=md-nav__item> <a href=#3修改反射类型对象其值必须是可写的settable class=md-nav__link> 3.修改反射类型对象，其值必须是可写的（settable） </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#11goroutine class=md-nav__link> 11.goroutine </a> </li> <li class=md-nav__item> <a href=#12单元测试go-test class=md-nav__link> 12.单元测试(go test） </a> </li> <li class=md-nav__item> <a href=#13-go编译与工具 class=md-nav__link> 13. Go编译与工具 </a> <nav class=md-nav aria-label="13. Go编译与工具"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#131-编译go-build class=md-nav__link> 13.1 编译(go build) </a> <nav class=md-nav aria-label="13.1 编译(go build)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-无参数编译 class=md-nav__link> 1. 无参数编译 </a> </li> <li class=md-nav__item> <a href=#2-文件列表编译 class=md-nav__link> 2. 文件列表编译 </a> </li> <li class=md-nav__item> <a href=#3-指定包编译 class=md-nav__link> 3. 指定包编译 </a> </li> <li class=md-nav__item> <a href=#4-交叉编译 class=md-nav__link> 4. 交叉编译 </a> </li> <li class=md-nav__item> <a href=#5-编译时的附加参数 class=md-nav__link> 5. 编译时的附加参数 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#132-编译后运行go-run class=md-nav__link> 13.2 编译后运行(go run) </a> </li> <li class=md-nav__item> <a href=#133-编译并安装go-install class=md-nav__link> 13.3 编译并安装(go install) </a> </li> <li class=md-nav__item> <a href=#134-获取代码go-get class=md-nav__link> 13.4 获取代码(go get) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#14-包 class=md-nav__link> 14. 包 </a> </li> <li class=md-nav__item> <a href=#1-代码 class=md-nav__link> 1. 代码 </a> <nav class=md-nav aria-label="1. 代码"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#2-输出 class=md-nav__link> 2. 输出 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3解释 class=md-nav__link> 3.解释 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../4.Go-Module%E6%95%99%E7%A8%8B/ class=md-nav__link> Go Module教程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> 2.Go-Web开发基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 2.Go-Web开发基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/5.%E5%BC%80%E5%90%AFGo-Web%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/ class=md-nav__link> 开启Go-Web的第一个程序 </a> </li> <li class=md-nav__item> <a href=../../2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/6.Web%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/ class=md-nav__link> Web程序运行原理简介 </a> </li> <li class=md-nav__item> <a href=../../2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/7.net-http%E5%8C%85/ class=md-nav__link> net/http包 </a> </li> <li class=md-nav__item> <a href=../../2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/8.html-template%E5%8C%85/ class=md-nav__link> html/template包 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> 3.Go-Web请求处理 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 3.Go-Web请求处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/9.%E7%AE%80%E5%8D%95Go-Web%E6%9C%8D%E5%8A%A1%E5%99%A8/ class=md-nav__link> 简单Go Web服务器 </a> </li> <li class=md-nav__item> <a href=../../3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/10.%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82/ class=md-nav__link> 处理请求 </a> </li> <li class=md-nav__item> <a href=../../3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/11.%E4%BA%86%E8%A7%A3session%E5%92%8Ccookie/ class=md-nav__link> 了解session和cookie </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> 4.Go访问数据库 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> 4.Go访问数据库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/12.Go%E6%93%8D%E4%BD%9CMySQL/ class=md-nav__link> Go操作MySQL </a> </li> <li class=md-nav__item> <a href=../../4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/13.Go%E6%93%8D%E4%BD%9CRedis/ class=md-nav__link> Go操作Redis </a> </li> <li class=md-nav__item> <a href=../../4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/14.Go%E6%93%8D%E4%BD%9CMongoDB/ class=md-nav__link> Go操作MongoDB </a> </li> <li class=md-nav__item> <a href=../../4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/15.Go%E7%9A%84%E5%B8%B8%E8%A7%81ORM%E5%BA%93/ class=md-nav__link> Go的常见ORM库 </a> </li> <li class=md-nav__item> <a href=../../4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/16.Go%E6%93%8D%E4%BD%9CSQLite/ class=md-nav__link> Go操作SQLite </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> 5.Go高级网络编程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> 5.Go高级网络编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/17.Go-Socket%E7%BC%96%E7%A8%8B/ class=md-nav__link> Go Socket编程 </a> </li> <li class=md-nav__item> <a href=../../5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.Go-RPC%E7%BC%96%E7%A8%8B/ class=md-nav__link> Go RPC编程 </a> </li> <li class=md-nav__item> <a href=../../5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/19.%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=md-nav__link> 微服务 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> 6.Go文件处理 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> 6.Go文件处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/20.%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理目录与文件 </a> </li> <li class=md-nav__item> <a href=../../6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/21.%E5%A4%84%E7%90%86XML%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理XML文件 </a> </li> <li class=md-nav__item> <a href=../../6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/22.%E5%A4%84%E7%90%86JSON%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理JSON文件 </a> </li> <li class=md-nav__item> <a href=../../6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/23.%E5%A4%84%E7%90%86CSV%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理CSV文件 </a> </li> <li class=md-nav__item> <a href=../../6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/24.%E5%A4%84%E7%90%86%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95/ class=md-nav__link> 处理日志记录 </a> </li> <li class=md-nav__item> <a href=../../6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/25.%E5%A4%84%E7%90%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> 处理正则表达式 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> 7.Go并发编程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> 7.Go并发编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/26.%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/ class=md-nav__link> 并发与并行 </a> </li> <li class=md-nav__item> <a href=../../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/27.%E8%BF%9B%E7%A8%8B%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E7%A8%8B/ class=md-nav__link> 进程 线程和协程 </a> </li> <li class=md-nav__item> <a href=../../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/28.Go%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B%E7%AE%80%E4%BB%8B/ class=md-nav__link> Go并发模型简介 </a> </li> <li class=md-nav__item> <a href=../../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/29.gogoroutine%E5%92%8Cchannel%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> gogoroutine和channel实现并发 </a> </li> <li class=md-nav__item> <a href=../../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/30.sync%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> sync实现并发 </a> </li> <li class=md-nav__item> <a href=../../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/31.Go%E5%B9%B6%E5%8F%91%E7%9A%84Web%E5%BA%94%E7%94%A8/ class=md-nav__link> Go并发的Web应用 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-nav__link> Pythjon自动化运维 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> 1.基础篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 1.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/1.Python%E5%86%85%E7%BD%AE%E5%B0%8F%E5%B7%A5%E5%85%B7/ class=md-nav__link> Python内置小工具 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/2.Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%89%E8%A3%85/ class=md-nav__link> Python第三方库安装 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Python%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/ class=md-nav__link> Python工作环境管理 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/4.VSCode%E4%B8%ADPython%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/ class=md-nav__link> VSCode中Python环境配置 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/5.%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/ class=md-nav__link> 开发工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> 2.高级篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 2.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/2.%E9%AB%98%E7%BA%A7%E7%AF%87/1.%E6%89%93%E9%80%A0%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> 打造命令行工具 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Python-vs-Go <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python-vs-Go </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-nav__link> Python-vs-Go </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> 1.对比学习 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 1.对比学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/1.Hello-World/ class=md-nav__link> Hello-World </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/2.Print/ class=md-nav__link> Print </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/3.%E6%B3%A8%E9%87%8A/ class=md-nav__link> 注释 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/4.%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> 多行字符串 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/5.Lists/ class=md-nav__link> Lists </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/6.Map/ class=md-nav__link> Map </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/7.Booleans/ class=md-nav__link> Booleans </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/8.Forloop/ class=md-nav__link> Forloop </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/9.Range/ class=md-nav__link> Range </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/10.Switch/ class=md-nav__link> Switch </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/11.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0/ class=md-nav__link> 可变参数函数 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/12.%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97/ class=md-nav__link> 时间计算 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/13.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/ class=md-nav__link> 函数的闭包 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/14.%E9%80%80%E5%87%BA%E5%A4%84%E7%90%86/ class=md-nav__link> 退出处理 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/15.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/ class=md-nav__link> 异常捕获 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/16.%E5%8F%AF%E5%8F%98%E9%A1%B9/ class=md-nav__link> 可变项 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/17.%E7%B1%BB/ class=md-nav__link> 类 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/18.%E6%96%B9%E6%B3%95/ class=md-nav__link> 方法 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/19.%E5%B9%B6%E5%8F%91/ class=md-nav__link> 并发 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/20.Args/ class=md-nav__link> Args </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/21.%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%88%AB%E5%90%8D/ class=md-nav__link> 导入模块别名 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/22.%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96/ class=md-nav__link> 字符串格式化 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/23.%E5%8E%BB%E9%87%8D/ class=md-nav__link> 去重 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/24.%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%89%93%E5%8D%B0/ class=md-nav__link> 带颜色打印 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> 2.进阶 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 2.进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class=md-nav__link> 使用RPC </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/2.%E4%BD%BF%E7%94%A8MySQL/ class=md-nav__link> 使用MySQL </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/3.%E4%BD%BF%E7%94%A8Redis/ class=md-nav__link> 使用Redis </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/4.%E4%BD%BF%E7%94%A8MongoDB/ class=md-nav__link> 使用MongoDB </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> system <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> system </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/system/0.Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD/ class=md-nav__link> Linux操作系统镜像下载 </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/1.Linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ class=md-nav__link> Linux 系统安全加固最佳实践 </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/2.Systemd/ class=md-nav__link> Systemd </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/3.Superivisor/ class=md-nav__link> Superivisor </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> serveices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> serveices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/serveices/0.ubuntu-desktop-vmware/ class=md-nav__link> ubuntu-desktop-vmware </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> Ansible <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Ansible/Ansible-wiki/ class=md-nav__link> Ansible-wiki </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/shell/Shell%E7%AE%80%E4%BB%8B/ class=md-nav__link> Shell 教程概述 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/1.%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F/ class=md-nav__link> 1.第一个 Shell 程序 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/2.Shell%E5%8F%98%E9%87%8F/ class=md-nav__link> 2.Shell 变量 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/3.Shell%E5%8F%82%E6%95%B0/ class=md-nav__link> 3.Shell 参数 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/4.Shell%E6%95%B0%E7%BB%84/ class=md-nav__link> 4.Shell数组 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/5.Shell%E8%BF%90%E7%AE%97%E7%AC%A6/ class=md-nav__link> 5.Shell 运算符 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/6.Shell%20echo_printf%E5%91%BD%E4%BB%A4/ class=md-nav__link> 6.Shell echo/printf 命令 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/7.Shell%20test%E5%91%BD%E4%BB%A4/ class=md-nav__link> 7.Shell test 命令 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/8.Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> 8.Shell 流程控制 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/9.Shell%E5%87%BD%E6%95%B0/ class=md-nav__link> 8.Shell 函数 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/10.Shell%E8%BE%93%E5%85%A5_%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> 10.Shell输入/输出重定向 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/11.Shell%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> 11.Shell 正则表达式 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/12.Shell%20%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep/ class=md-nav__link> 12.Shell 三剑客之grep </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/13.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed/ class=md-nav__link> 13.Shell三剑客之sed </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class=md-nav__link> 14.Shell三剑客之awk </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> 15.Shell常用工具 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class=md-nav__link> 16.Shell实战项目 </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/17.Shell%E8%84%9A%E6%9C%AC%E7%A4%BA%E4%BE%8B/ class=md-nav__link> 17.Shell脚本示例 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1基础语法 class=md-nav__link> 1.基础语法 </a> <nav class=md-nav aria-label=1.基础语法> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-go语言标记 class=md-nav__link> 1.1 Go语言标记 </a> </li> <li class=md-nav__item> <a href=#12-行分隔符 class=md-nav__link> 1.2 行分隔符 </a> </li> <li class=md-nav__item> <a href=#13-注释 class=md-nav__link> 1.3 注释 </a> </li> <li class=md-nav__item> <a href=#14-标识符 class=md-nav__link> 1.4 标识符 </a> </li> <li class=md-nav__item> <a href=#15-字符串拼接 class=md-nav__link> 1.5 字符串拼接 </a> </li> <li class=md-nav__item> <a href=#16-go语言的关键字 class=md-nav__link> 1.6 Go语言的关键字 </a> </li> <li class=md-nav__item> <a href=#17-go语言中的空格 class=md-nav__link> 1.7 Go语言中的空格 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-变量 class=md-nav__link> 2. 变量 </a> <nav class=md-nav aria-label="2. 变量"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-声明 class=md-nav__link> 2.1 声明 </a> <nav class=md-nav aria-label="2.1 声明"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#211-标准格式 class=md-nav__link> 2.1.1 标准格式 </a> </li> <li class=md-nav__item> <a href=#212-批量格式 class=md-nav__link> 2.1.2 批量格式 </a> </li> <li class=md-nav__item> <a href=#213-简短格式 class=md-nav__link> 2.1.3 简短格式 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#22-赋值 class=md-nav__link> 2.2 赋值 </a> <nav class=md-nav aria-label="2.2 赋值"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#221-单个变量赋值 class=md-nav__link> 2.2.1 单个变量赋值 </a> </li> <li class=md-nav__item> <a href=#222-多个变量赋值 class=md-nav__link> 2.2.2 多个变量赋值 </a> </li> <li class=md-nav__item> <a href=#223-变量作用域 class=md-nav__link> 2.2.3 变量作用域 </a> <nav class=md-nav aria-label="2.2.3 变量作用域"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-局部变量 class=md-nav__link> 1. 局部变量 </a> </li> <li class=md-nav__item> <a href=#2-全局变量 class=md-nav__link> 2. 全局变量 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-常量 class=md-nav__link> 3. 常量 </a> <nav class=md-nav aria-label="3. 常量"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-iota-常量生成器 class=md-nav__link> 3.1 iota 常量生成器 </a> </li> <li class=md-nav__item> <a href=#32-延迟明确常量的具体类型 class=md-nav__link> 3.2 延迟明确常量的具体类型 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-运算符 class=md-nav__link> 4. 运算符 </a> </li> <li class=md-nav__item> <a href=#5-流程控制语句 class=md-nav__link> 5. 流程控制语句 </a> <nav class=md-nav aria-label="5. 流程控制语句"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#511-if-else分支结构 class=md-nav__link> 5.1.1 if-else(分支结构) </a> </li> <li class=md-nav__item> <a href=#512-for循环 class=md-nav__link> 5.1.2 for循环 </a> </li> <li class=md-nav__item> <a href=#513-for-range循环 class=md-nav__link> 5.1.3 for-range循环 </a> <nav class=md-nav aria-label="5.1.3 for-range循环"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1遍历数组切片 class=md-nav__link> 1.遍历数组、切片。 </a> </li> <li class=md-nav__item> <a href=#2遍历字符串 class=md-nav__link> 2.遍历字符串。 </a> </li> <li class=md-nav__item> <a href=#3遍历map class=md-nav__link> 3.遍历map。 </a> </li> <li class=md-nav__item> <a href=#4遍历通道channel class=md-nav__link> 4.遍历通道(channel) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#514-switch-case语句 class=md-nav__link> 5.1.4 switch-case语句 </a> </li> <li class=md-nav__item> <a href=#515-goto语句 class=md-nav__link> 5.1.5 goto语句 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6-go数据类型 class=md-nav__link> 6. Go数据类型 </a> <nav class=md-nav aria-label="6. Go数据类型"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-布尔型 class=md-nav__link> 6.1 布尔型 </a> </li> <li class=md-nav__item> <a href=#62-数字类型 class=md-nav__link> 6.2 数字类型 </a> </li> <li class=md-nav__item> <a href=#63-字符串类型 class=md-nav__link> 6.3 字符串类型 </a> </li> <li class=md-nav__item> <a href=#64-指针类型 class=md-nav__link> 6.4 指针类型 </a> </li> <li class=md-nav__item> <a href=#65-复合类型 class=md-nav__link> 6.5 复合类型 </a> <nav class=md-nav aria-label="6.5 复合类型"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1数组类型 class=md-nav__link> 1.数组类型 </a> </li> <li class=md-nav__item> <a href=#2结构体类型 class=md-nav__link> 2.结构体类型 </a> </li> <li class=md-nav__item> <a href=#3切片类型 class=md-nav__link> 3.切片类型 </a> </li> <li class=md-nav__item> <a href=#4map类型 class=md-nav__link> 4.map类型 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7函数 class=md-nav__link> 7.函数 </a> <nav class=md-nav aria-label=7.函数> <ul class=md-nav__list> <li class=md-nav__item> <a href=#71-声明函数 class=md-nav__link> 7.1 声明函数 </a> </li> <li class=md-nav__item> <a href=#72-函数参数 class=md-nav__link> 7.2 函数参数 </a> <nav class=md-nav aria-label="7.2 函数参数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1参数使用 class=md-nav__link> 1.参数使用 </a> </li> <li class=md-nav__item> <a href=#2可变参数 class=md-nav__link> 2.可变参数 </a> </li> <li class=md-nav__item> <a href=#3参数传递 class=md-nav__link> 3.参数传递 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#73-匿名函数 class=md-nav__link> 7.3 匿名函数 </a> <nav class=md-nav aria-label="7.3 匿名函数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1定义 class=md-nav__link> 1.定义 </a> </li> <li class=md-nav__item> <a href=#2调用 class=md-nav__link> 2.调用 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#74-defer延迟语句 class=md-nav__link> 7.4 defer延迟语句 </a> <nav class=md-nav aria-label="7.4 defer延迟语句"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1defer语句执行逻辑 class=md-nav__link> 1.defer语句执行逻辑： </a> </li> <li class=md-nav__item> <a href=#2defer常用应用场景 class=md-nav__link> 2.defer常用应用场景： </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8go面向对象编程 class=md-nav__link> 8.Go面向对象编程 </a> <nav class=md-nav aria-label=8.Go面向对象编程> <ul class=md-nav__list> <li class=md-nav__item> <a href=#81-封装 class=md-nav__link> 8.1 封装 </a> </li> <li class=md-nav__item> <a href=#82-继承 class=md-nav__link> 8.2 继承 </a> </li> <li class=md-nav__item> <a href=#83-多态 class=md-nav__link> 8.3 多态 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#9接口 class=md-nav__link> 9.接口 </a> <nav class=md-nav aria-label=9.接口> <ul class=md-nav__list> <li class=md-nav__item> <a href=#91-接口定义 class=md-nav__link> 9.1 接口定义 </a> </li> <li class=md-nav__item> <a href=#92-接口赋值 class=md-nav__link> 9.2 接口赋值 </a> <nav class=md-nav aria-label="9.2 接口赋值"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1实现接口的对象实例赋值给接口 class=md-nav__link> 1.实现接口的对象实例赋值给接口 </a> </li> <li class=md-nav__item> <a href=#2一个接口赋值给另一个接口 class=md-nav__link> 2.一个接口赋值给另一个接口 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#93-接口查询 class=md-nav__link> 9.3 接口查询 </a> </li> <li class=md-nav__item> <a href=#94-接口组合 class=md-nav__link> 9.4 接口组合 </a> </li> <li class=md-nav__item> <a href=#95-接口应用 class=md-nav__link> 9.5 接口应用 </a> <nav class=md-nav aria-label="9.5 接口应用"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1类型推断 class=md-nav__link> 1.类型推断 </a> </li> <li class=md-nav__item> <a href=#2实现多态功能 class=md-nav__link> 2.实现多态功能 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#10反射 class=md-nav__link> 10.反射 </a> <nav class=md-nav aria-label=10.反射> <ul class=md-nav__list> <li class=md-nav__item> <a href=#101-反射的定义 class=md-nav__link> 10.1 反射的定义 </a> </li> <li class=md-nav__item> <a href=#102-反射的三大法则 class=md-nav__link> 10.2 反射的三大法则 </a> <nav class=md-nav aria-label="10.2 反射的三大法则"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1接口类型变量转换为反射类型对象 class=md-nav__link> 1.接口类型变量转换为反射类型对象 </a> </li> <li class=md-nav__item> <a href=#2反射类型对象转换为接口类型变量 class=md-nav__link> 2.反射类型对象转换为接口类型变量 </a> </li> <li class=md-nav__item> <a href=#3修改反射类型对象其值必须是可写的settable class=md-nav__link> 3.修改反射类型对象，其值必须是可写的（settable） </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#11goroutine class=md-nav__link> 11.goroutine </a> </li> <li class=md-nav__item> <a href=#12单元测试go-test class=md-nav__link> 12.单元测试(go test） </a> </li> <li class=md-nav__item> <a href=#13-go编译与工具 class=md-nav__link> 13. Go编译与工具 </a> <nav class=md-nav aria-label="13. Go编译与工具"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#131-编译go-build class=md-nav__link> 13.1 编译(go build) </a> <nav class=md-nav aria-label="13.1 编译(go build)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-无参数编译 class=md-nav__link> 1. 无参数编译 </a> </li> <li class=md-nav__item> <a href=#2-文件列表编译 class=md-nav__link> 2. 文件列表编译 </a> </li> <li class=md-nav__item> <a href=#3-指定包编译 class=md-nav__link> 3. 指定包编译 </a> </li> <li class=md-nav__item> <a href=#4-交叉编译 class=md-nav__link> 4. 交叉编译 </a> </li> <li class=md-nav__item> <a href=#5-编译时的附加参数 class=md-nav__link> 5. 编译时的附加参数 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#132-编译后运行go-run class=md-nav__link> 13.2 编译后运行(go run) </a> </li> <li class=md-nav__item> <a href=#133-编译并安装go-install class=md-nav__link> 13.3 编译并安装(go install) </a> </li> <li class=md-nav__item> <a href=#134-获取代码go-get class=md-nav__link> 13.4 获取代码(go get) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#14-包 class=md-nav__link> 14. 包 </a> </li> <li class=md-nav__item> <a href=#1-代码 class=md-nav__link> 1. 代码 </a> <nav class=md-nav aria-label="1. 代码"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#2-输出 class=md-nav__link> 2. 输出 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3解释 class=md-nav__link> 3.解释 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=go基础语法与使用>Go基础语法与使用<a class=headerlink href=#go基础语法与使用 title="Permanent link">&para;</a></h1> <h2 id=1基础语法>1.基础语法<a class=headerlink href=#1基础语法 title="Permanent link">&para;</a></h2> <h3 id=11-go语言标记>1.1 Go语言标记<a class=headerlink href=#11-go语言标记 title="Permanent link">&para;</a></h3> <p>Go程序由关键字、字符串、常量、标识符、符号等多种标记组成。</p> <h3 id=12-行分隔符>1.2 行分隔符<a class=headerlink href=#12-行分隔符 title="Permanent link">&para;</a></h3> <p>如果多行语句在一行，必须用；分隔符隔开，Go编辑器会自动在行尾加速；分隔符，所以不需要手动再语句后面再加；</p> <h3 id=13-注释>1.3 注释<a class=headerlink href=#13-注释 title="Permanent link">&para;</a></h3> <p>单行注释 <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>//
</code></pre></div></p> <p>多行注册</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>/*
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>多行注释
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>多行注释
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>*/
</code></pre></div> <h3 id=14-标识符>1.4 标识符<a class=headerlink href=#14-标识符 title="Permanent link">&para;</a></h3> <p>标识符实际上就是一个或者多个字符、数字、下划线(_)组成的字符串序列。</p> <p>标识符的命名需要遵守以下规则：</p> <ul> <li>由 26 个英文字母、0~9、<code>_</code>组成；</li> <li>不能以数字开头，例如 var 1num int 是错误的；</li> <li>Go语言中严格区分大小写；</li> <li>标识符不能包含空格；</li> <li>不能以系统保留关键字作为标识符，比如 break，if 等等。</li> </ul> <p>命名标识符时还需要注意以下几点：</p> <ul> <li>标识符的命名要尽量采取简短且有意义；</li> <li>不能和标准库中的包名重复；</li> <li>为变量、函数、常量命名时采用驼峰命名法，例如 stuName、getVal</li> </ul> <p>正确命名的标识符</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>product  user add  user_name   abc_123
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>resultValue name1  _tmp k
</code></pre></div> <p>错误命名的标识符</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>switch      (错误命名，Go语言的关键字) 
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>3ab         (错误命名: 以数字开通)
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>c-d         (错误命名：运算符是不允许的)
</code></pre></div> <h3 id=15-字符串拼接>1.5 字符串拼接<a class=headerlink href=#15-字符串拼接 title="Permanent link">&para;</a></h3> <p>字符串可以通过"+"号实现字符串连接。</p> <p>如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Go web 编程实战&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;----从入门到精通&quot;</span><span class=p>)</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=p>}</span>
</code></pre></div> <h3 id=16-go语言的关键字>1.6 Go语言的关键字<a class=headerlink href=#16-go语言的关键字 title="Permanent link">&para;</a></h3> <p>Go语言中的关键字一共有 25 个：</p> <table> <thead> <tr> <th>break</th> <th>default</th> <th>func</th> <th>interface</th> <th>select</th> </tr> </thead> <tbody> <tr> <td>case</td> <td>defer</td> <td>go</td> <td>map</td> <td>struct</td> </tr> <tr> <td>chan</td> <td>else</td> <td>goto</td> <td>package</td> <td>switch</td> </tr> <tr> <td>const</td> <td>fallthrough</td> <td>if</td> <td>range</td> <td>type</td> </tr> <tr> <td>continue</td> <td>for</td> <td>import</td> <td>return</td> <td>var</td> </tr> </tbody> </table> <h3 id=17-go语言中的空格>1.7 Go语言中的空格<a class=headerlink href=#17-go语言中的空格 title="Permanent link">&para;</a></h3> <p>空格让代码更容易阅读，Goland编辑器可以使用"Ctrl+Alt+L"命令进行快速格式化。</p> <h2 id=2-变量>2. 变量<a class=headerlink href=#2-变量 title="Permanent link">&para;</a></h2> <h3 id=21-声明>2.1 声明<a class=headerlink href=#21-声明 title="Permanent link">&para;</a></h3> <p>声明变量的一般形式是使用 var 关键字：</p> <p>var name type</p> <p>其中，var 是声明变量的关键字，name 是变量名，type 是变量的类型。</p> <h4 id=211-标准格式>2.1.1 标准格式<a class=headerlink href=#211-标准格式 title="Permanent link">&para;</a></h4> <p>Go语言的变量声明的标准格式为：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>var 变量名 变量类型
</code></pre></div> <p>变量声明以关键字 var 开头，后置变量类型，行尾无须分号。</p> <h4 id=212-批量格式>2.1.2 批量格式<a class=headerlink href=#212-批量格式 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kd>var</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=p>[]</span><span class=kt>float32</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=nx>d</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=nx>e</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>        </span><span class=nx>x</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=p>)</span>
</code></pre></div> <h4 id=213-简短格式>2.1.3 简短格式<a class=headerlink href=#213-简短格式 title="Permanent link">&para;</a></h4> <p>除 var 关键字外，还可使用更加简短的变量定义和初始化语法。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>名字 := 表达式
</code></pre></div> <p>需要注意的是，简短模式（short variable declaration）有以下限制：</p> <ul> <li>定义变量，同时显式初始化。</li> <li>不能提供数据类型。</li> <li>只能用在函数内部。</li> </ul> <p>和 var 形式声明语句一样，简短变量声明语句也可以用来声明和初始化一组变量：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span>
</code></pre></div> <p>下面通过一段代码来演示简短格式变量声明的基本样式。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>   </span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>    </span><span class=nx>x</span><span class=o>:=</span><span class=mi>100</span><span class=w>   </span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>    </span><span class=nx>a</span><span class=p>,</span><span class=nx>s</span><span class=o>:=</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s>&quot;abc&quot;</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=p>}</span>
</code></pre></div> <h3 id=22-赋值>2.2 赋值<a class=headerlink href=#22-赋值 title="Permanent link">&para;</a></h3> <h4 id=221-单个变量赋值>2.2.1 单个变量赋值<a class=headerlink href=#221-单个变量赋值 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>200</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=kd>var</span><span class=w> </span><span class=nx>attack</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>40</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=kd>var</span><span class=w> </span><span class=nx>defence</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>20</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=kd>var</span><span class=w> </span><span class=nx>damageRate</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mf>0.17</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=c1>// 短变量赋值</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=nx>hp</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>100</span>
</code></pre></div> <h4 id=222-多个变量赋值>2.2.2 多个变量赋值<a class=headerlink href=#222-多个变量赋值 title="Permanent link">&para;</a></h4> <p>声明一个用户的年龄、名字、余额</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=kd>var</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span><span class=nx>age</span><span class=w> </span><span class=kt>int</span><span class=p>=</span><span class=mi>18</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;shirdon&quot;</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class=nx>balance</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mf>99999.99</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=p>)</span>
</code></pre></div> <p>另外一种声明形式</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=kd>var</span><span class=w> </span><span class=nx>age</span><span class=p>,</span><span class=nx>name</span><span class=p>,</span><span class=nx>balance</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=s>&quot;shirdon&quot;</span><span class=p>,</span><span class=mf>99999.99</span>
</code></pre></div> <p>简单的形式</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=nx>age</span><span class=p>,</span><span class=nx>name</span><span class=p>,</span><span class=nx>balance</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>18</span><span class=p>,</span><span class=s>&quot;shirdon&quot;</span><span class=p>,</span><span class=mf>99999.99</span>
</code></pre></div> <p>变量的交换</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=nx>d</span><span class=p>,</span><span class=nx>c</span><span class=o>:=</span><span class=s>&quot;D&quot;</span><span class=p>,</span><span class=s>&quot;C&quot;</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=nx>c</span><span class=p>,</span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>d</span><span class=p>,</span><span class=nx>c</span>
</code></pre></div> <h4 id=223-变量作用域>2.2.3 变量作用域<a class=headerlink href=#223-变量作用域 title="Permanent link">&para;</a></h4> <h5 id=1-局部变量>1. 局部变量<a class=headerlink href=#1-局部变量 title="Permanent link">&para;</a></h5> <p>局部变量作用域只在函数体内。</p> <p><strong>局部变量不是一直存在的，它只在定义它的函数被调用后存在，函数调用结束后这个局部变量就会被销毁。</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=p>)</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=w>    </span><span class=c1>//声明局部变量 a 和 b 并赋值</span>
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>3</span>
<a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>4</span>
<a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=w>    </span><span class=c1>//声明局部变量 c 并计算 a 和 b 的和</span>
<a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>b</span>
<a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;a = %d, b = %d, c = %d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>)</span>
<a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=p>}</span>
</code></pre></div> <h5 id=2-全局变量>2. 全局变量<a class=headerlink href=#2-全局变量 title="Permanent link">&para;</a></h5> <p>在函数体外声明的变量称之为全局变量，全局变量只需要在一个源文件中定义，就可以在所有源文件中使用，当然，不包含这个全局变量的源文件需要使用"import"关键字引入全局变量所在的源文件之后才能使用这个全局变量。</p> <p>全局变量声明必须以 var 关键字开头，如果想要在外部包中使用全局变量的首字母必须大写。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=c1>//声明全局变量</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=kd>var</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=w>    </span><span class=c1>//声明局部变量</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=w>    </span><span class=c1>//初始化参数</span>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>3</span>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>4</span>
<a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>b</span>
<a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;a = %d, b = %d, c = %d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>)</span>
<a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=p>}</span>
</code></pre></div> <h2 id=3-常量>3. 常量<a class=headerlink href=#3-常量 title="Permanent link">&para;</a></h2> <p>常量的定义格式和变量的声明语法类似：<code>const name [type] = value</code>，例如：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=kd>const</span><span class=w> </span><span class=nx>pi</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mf>3.14159</span><span class=w> </span><span class=c1>// 相当于 math.Pi 的近似值</span>
</code></pre></div> <p>在Go语言中，你可以省略类型说明符 [type]，因为**编译器可以根据变量的值来推断其类型。**</p> <ul> <li>显式类型定义： const b string = "abc"</li> <li>隐式类型定义： const b = "abc"</li> </ul> <p>和变量声明一样，可以批量声明多个常量:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=kd>const</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=w>    </span><span class=nx>e</span><span class=w>  </span><span class=p>=</span><span class=w> </span><span class=mf>2.7182818</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=w>    </span><span class=nx>pi</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mf>3.1415926</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=p>)</span>
</code></pre></div> <p>如果是批量声明的常量，除了第一个外其它的常量右边的初始化表达式都可以省略，如果省略初始化表达式则表示使用前面常量的初始化表达式，对应的常量类型也是一样的。例如：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kd>const</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=w>    </span><span class=nx>b</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=w>    </span><span class=nx>d</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class=p>)</span>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=p>)</span><span class=w> </span><span class=c1>// &quot;1 1 2 2&quot;</span>
</code></pre></div> <h3 id=31-iota-常量生成器>3.1 iota 常量生成器<a class=headerlink href=#31-iota-常量生成器 title="Permanent link">&para;</a></h3> <p>常量声明可以使用 iota 常量生成器初始化，它用于生成一组以相似规则初始化的常量，但是不用每行都写一遍初始化表达式。在一个 const 声明语句中，在第一个声明的常量所在的行，iota 将会被置为 0，然后在每一个有常量声明的行加一。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Weekday</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=kd>const</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=w>    </span><span class=nx>Sunday</span><span class=w> </span><span class=nx>Weekday</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>iota</span>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=w>    </span><span class=nx>Monday</span>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=w>    </span><span class=nx>Tuesday</span>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=w>    </span><span class=nx>Wednesday</span>
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=w>    </span><span class=nx>Thursday</span>
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=w>    </span><span class=nx>Friday</span>
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=w>    </span><span class=nx>Saturday</span>
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=p>)</span>
</code></pre></div> <p>周日将对应 0，周一为 1，以此类推。</p> <h3 id=32-延迟明确常量的具体类型>3.2 延迟明确常量的具体类型<a class=headerlink href=#32-延迟明确常量的具体类型 title="Permanent link">&para;</a></h3> <p>Go语言的常量有一个不同寻常指出：虽然一个常量可以有任意一个确定的基础类型（例如<code>int</code>或<code>float64</code>，或者是类似<code>time.Duration</code>这样的基础类型），但是许多常量并没有一个明确的基础类型。</p> <p>编译器为这些没有明确的基础类型的数字常量，提供比基础类型更高精度的算数运算。</p> <p>Go语言有6种未明确类型的常量类型：<strong>无类型的布尔型、无类型的整数、无类型的字符、无类型的浮点数、无类型的复数、无类型的字符串。</strong></p> <p>例如，无类型的浮点数常量math.Pi，可以直接用于任何需要浮点数或复数的地方：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=kd>var</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=kt>complex128</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span>
</code></pre></div> <p>如果math.Pi被确定未特定类型（比如float64），则结果精度可能会不一样。同时在需要float32或complex128类型值得地方，需要对其进行一个明确得强制类型转换：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=kd>const</span><span class=w> </span><span class=nx>Pi64</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>float32</span><span class=p>(</span><span class=nx>Pi64</span><span class=p>)</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>Pi64</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=kd>var</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=kt>complex128</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>complex128</span><span class=p>(</span><span class=nx>Pi64</span><span class=p>)</span>
</code></pre></div> <p>对于常量面值，不同的写法会对应不同得类型。例如<code>0</code>、<code>0.0</code>、<code>0i</code>和<code>\u0000</code>虽然有着相同的常量值，但是它们分别对应无类型的整数、无类型的浮点数、无类型的复数和无类型的字符等不同的常量类型。同样，<code>true</code>和<code>false</code>也是无类型的布尔类型，字符串面值常量是无类型的字符串类型。</p> <h2 id=4-运算符>4. 运算符<a class=headerlink href=#4-运算符 title="Permanent link">&para;</a></h2> <p>运算符的优先级</p> <p>表达式如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>9</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=nx>d</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>c</span>
</code></pre></div> <p>与其他语言的优先级是一样的，这里不做扩展。</p> <h2 id=5-流程控制语句>5. 流程控制语句<a class=headerlink href=#5-流程控制语句 title="Permanent link">&para;</a></h2> <h3 id=511-if-else分支结构>5.1.1 if-else(分支结构)<a class=headerlink href=#511-if-else分支结构 title="Permanent link">&para;</a></h3> <p>在Go语言中，关键字<code>if</code>用于判断某个条件（布尔型或逻辑型）。</p> <p>如果该条件成立，则会执行<code>if</code>后面由大括号<code>{}</code>括起来的代码块，否则就忽略该代码块继续执行后续的代码。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=k>if</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=p>}</span>
</code></pre></div> <p>如果存在第2个分支，则可以在上面代码的基础上添加<code>else</code>关键字及另一代码块，见下方代码。</p> <p>这个代码块中的代码只有在<code>if</code>条件不满足时才会执行。</p> <p><code>if{}</code>和<code>else{}</code>中的两个代码块是相互独立的分支，两者只能执行其中一个。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>if</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=p>}</span><span class=k>else</span><span class=p>{</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=p>}</span>
</code></pre></div> <p>如果存在第3分支，则可以使用下面这种3个独立分支的形式：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=k>if</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=p>}</span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>10</span><span class=p>{</span>
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=p>}</span><span class=k>else</span><span class=p>{</span>
<a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>3</span>
<a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=p>}</span>
</code></pre></div> <p>一般来说，<code>else-if</code>分支的数量是没有限制的。</p> <p>但是为了代码的可读性，最好不要在<code>if</code>后面加入太多的<code>else-if</code>结构。</p> <p>如果必须使用这种形式，则尽可能把先满足的条件放在前面。</p> <p>关键字<code>if</code>和<code>else</code>之后的左大括号<code>{</code>必须和关键字在同一行。</p> <p>如果使用了<code>else-if</code>结构，则前段代码块的右大括号<code>}</code>必须和<code>else if</code>语句在同一行。</p> <p>这两条规则都是被编译器强制规定的，如果不满足，则编译不能通过。</p> <h3 id=512-for循环>5.1.2 for循环<a class=headerlink href=#512-for循环 title="Permanent link">&para;</a></h3> <p>Go语言种的循环语句只支持<code>for</code>关键字，不支持<code>while</code>和<code>do-while</code>结构。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=nx>product</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>{</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=w>    </span><span class=nx>product</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=p>}</span>
</code></pre></div> <p>无限循环场景</p> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=k>for</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=w>    </span><span class=nx>i</span><span class=o>++</span>
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>50</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=w>        </span><span class=k>break</span>
<a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=p>}</span>
</code></pre></div> <p>在使用循环语句时，需要注意以下几点：</p> <ul> <li> <p>左花括号{必须与for处于同一行。</p> </li> <li> <p>Go语言种的for循环与C语言一样，都允许在循环条件中定义和初始化变量。唯一的区别是，Go语言不支持以逗号为间隔的多个赋值语句，必须使用平行赋值的方式来初始化多个变量。</p> </li> <li> <p>Go语言的for循环同样支持用continue和break来控制循环，但它提供了一个更高级的break——可以选择中断哪一个循环，如下例：</p> </li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=nx>JumpLoop</span><span class=p>:</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=o>++</span><span class=p>{</span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>{</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>2</span><span class=p>{</span>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=w>                </span><span class=k>break</span><span class=w> </span><span class=nx>JumpLoop</span>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a><span class=w>    </span><span class=p>}</span>
</code></pre></div> <p>在上述代码中，<code>break</code>语句终止的是<code>JumpLoop</code>标签对应的<code>for</code>循环。<code>for</code>中的初始语句是在第1次循环前执行的语句。一般使用初始语句进行变量初始化，但如果变量在<code>for</code>循环中被声明，则其作用域只是这个<code>for</code>的范围。</p> <p>初始语句可以被忽略，但是初始语句之后的**分号**必须要写，代码如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=nx>j</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=k>for</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=o>--</span><span class=p>{</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>j</span><span class=p>)</span>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=p>}</span>
</code></pre></div> <p>在上面这段代码中，将<code>j</code>放在<code>for</code>的前面进行初始化，<code>for</code>中没有初始语句，此时<code>j</code>的作用域比在初始语句中声明的<code>j</code>的作用域要大</p> <p>for中的条件表达式是控制是否循环的开关。</p> <p>在每次循环开始前，都会判断条件表达式，如果表达式为true，则循环继续；否则结束循环。</p> <p>条件表达式可以被忽略，忽略条件表达式后默认形成无限循环。</p> <p>下面代码会忽略条件表达式，但是保留结束语句：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=w> </span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=nx>JumpLoop</span><span class=p>:</span>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=k>for</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>{</span>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=w>        </span><span class=c1>// println(i)</span>
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a><span class=w>        </span><span class=k>break</span><span class=w> </span><span class=nx>JumpLoop</span>
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=p>}</span>
</code></pre></div> <p>美观的写法</p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a><span class=k>for</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=w>        </span><span class=k>break</span>
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=w>    </span><span class=nx>i</span><span class=o>++</span>
<a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=p>}</span>
</code></pre></div> <p>在<code>for</code>循环中，如果循环被<code>break</code>、<code>goto</code>、<code>return</code>、<code>panic</code>等语句强制退出，则之后的语句不会被执行。</p> <h3 id=513-for-range循环>5.1.3 for-range循环<a class=headerlink href=#513-for-range循环 title="Permanent link">&para;</a></h3> <p><code>for-range</code>循环结构是Go语言特有的一种的迭代结构，其引用十分广泛。</p> <p><code>for-range</code>可以遍历数组、切片、字符串、<code>map</code>及通道（<code>channel</code>）。</p> <p><code>for-range</code>的语法结构：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a>for key, val := range 复合变量值 {
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>    // ...逻辑语句
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>}
</code></pre></div> <p>需要注意的是，<code>val</code>始终为集合中对应索引值的一个复制值。因此，它一般只具有“只读”属性，对它所做的任何修改都不会影响集合中原有的值。一个字符串是<code>Unicode</code>编码的字符（或称之为<code>rune</code>）集合，因此也可以用它来迭代字符串：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a>for position, char := range str{
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>    // ...逻辑语句
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>}
</code></pre></div> <p>每个<code>rune</code>字符和索引在<code>for-range</code>循环中的值是一一对应的，它能够自动根据<code>UTF-8</code>规则识别<code>Unicode</code>编码的字符。</p> <p>通过<code>for-range</code>遍历的返回值有一定的规律：</p> <ul> <li>数组、切片、字符串返回索引和值。</li> <li><code>map</code>返回值和键。</li> <li>通道(<code>channel</code>)只返回通道内的值。</li> </ul> <h4 id=1遍历数组切片>1.遍历数组、切片。<a class=headerlink href=#1遍历数组切片 title="Permanent link">&para;</a></h4> <p>在遍历代码中，<code>key</code>和<code>value</code>分别代表切片的下标及下标对应的值。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=k>for</span><span class=w> </span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>2</span><span class=p>}{</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;key:%d value:%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=p>}</span>
</code></pre></div> <h4 id=2遍历字符串>2.遍历字符串。<a class=headerlink href=#2遍历字符串 title="Permanent link">&para;</a></h4> <p>Go语言和其他语言类似：可以通过<code>for-range</code>的组合对字符串进行遍历。在遍历时，<code>key</code>和<code>value</code>分别代表字符串的索引和字符串中的一个字符。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=kd>var</span><span class=w> </span><span class=nx>str</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;hi 加油&quot;</span>
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=k>for</span><span class=w> </span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>str</span><span class=p>{</span>
<a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;key:%d value:0x%x\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=p>}</span>
</code></pre></div> <p>以上代码的运行结果如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=nx>key</span><span class=p>:</span><span class=mi>0</span><span class=w> </span><span class=nx>value</span><span class=p>:</span><span class=mh>0x68</span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=nx>key</span><span class=p>:</span><span class=mi>1</span><span class=w> </span><span class=nx>value</span><span class=p>:</span><span class=mh>0x69</span>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=nx>key</span><span class=p>:</span><span class=mi>2</span><span class=w> </span><span class=nx>value</span><span class=p>:</span><span class=mh>0x20</span>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=nx>key</span><span class=p>:</span><span class=mi>3</span><span class=w> </span><span class=nx>value</span><span class=p>:</span><span class=mh>0x52a0</span>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=nx>key</span><span class=p>:</span><span class=mi>4</span><span class=w> </span><span class=nx>value</span><span class=p>:</span><span class=mh>0x6cb9</span>
</code></pre></div> <p>代码中的遍历<code>value</code>的实际类型是<code>rune</code>类型，以十六进制打印出来就是字符的编码。</p> <h4 id=3遍历map>3.遍历map。<a class=headerlink href=#3遍历map title="Permanent link">&para;</a></h4> <p>对于<code>map</code>类型，<code>for-range</code>在遍历时，<code>key</code>和<code>value</code>分别代表<code>map</code>的索引键<code>key</code>和索引键对应的值。下面的代码演示了如何遍历<code>map</code>：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=nx>m</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=w>    </span><span class=s>&quot;go&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=p>,</span>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=w>    </span><span class=s>&quot;web&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=p>,</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=p>}</span>
<a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=k>for</span><span class=w> </span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=p>}</span>
</code></pre></div> <h4 id=4遍历通道channel>4.遍历通道(channel)<a class=headerlink href=#4遍历通道channel title="Permanent link">&para;</a></h4> <p>通道可以通过<code>for-range</code>进行遍历。</p> <p>不同于<code>slice</code>和<code>map</code>，在遍历通道时只输出一个值，即通道内的类型对应的数据。</p> <p>下面代码展示了通道的遍历方法：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>chan</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w>   </span><span class=c1>// 创建了一个整型类型的通道</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=k>go</span><span class=w> </span><span class=kd>func</span><span class=p>(){</span><span class=w>            </span><span class=c1>// 启动了一个goroutine</span>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=mi>7</span><span class=w>            </span><span class=c1>// 将数据推送进通道</span>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=mi>9</span>
<a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=p>}()</span>
<a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=k>for</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a><span class=p>}</span>
</code></pre></div> <p>以上代码的逻辑如下：</p> <ol> <li> <p>创建一个整型类型的通道并实例化；</p> </li> <li> <p>通过关键字go启动了一个goroutine；</p> </li> <li> <p>将数字传入通道，实现的功能是往通道中推送数据7、8、9；</p> </li> <li> <p>结束并关闭通道（这段goroutine在声明结束后马上被执行）；</p> </li> <li> <p>用for-range语句对通道c进行遍历，即不断地从通道中接收数据知道通道被关闭。</p> </li> </ol> <p>在使用<code>for-range</code>循环遍历某个对象时，往往不会同时使用<code>key</code>和<code>value</code>的值，而是只需要其中一个的值。这时可以采用一些技巧让代码变得更简单。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=nx>m</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span>
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=w>    </span><span class=s>&quot;shirdon&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=p>,</span>
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=w>    </span><span class=s>&quot;ronger&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>98</span><span class=p>,</span>
<a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=p>}</span>
<a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=p>}</span>
</code></pre></div> <h3 id=514-switch-case语句>5.1.4 switch-case语句<a class=headerlink href=#514-switch-case语句 title="Permanent link">&para;</a></h3> <p>Go语言改进了传统的switch-case语句的语法设计：</p> <p>case与case之间是独立的代码块。不需要break跳出当前case代码块，以避免执行到下一行。</p> <p>代码示例如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a>
<a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;love&quot;</span>
<a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=s>&quot;love&quot;</span><span class=p>:</span>
<a id=__codelineno-41-9 name=__codelineno-41-9 href=#__codelineno-41-9></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;love&quot;</span><span class=p>)</span>
<a id=__codelineno-41-10 name=__codelineno-41-10 href=#__codelineno-41-10></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=s>&quot;programming&quot;</span><span class=p>:</span>
<a id=__codelineno-41-11 name=__codelineno-41-11 href=#__codelineno-41-11></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;programming&quot;</span><span class=p>)</span>
<a id=__codelineno-41-12 name=__codelineno-41-12 href=#__codelineno-41-12></a><span class=w>    </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-41-13 name=__codelineno-41-13 href=#__codelineno-41-13></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;none&quot;</span><span class=p>)</span>
<a id=__codelineno-41-14 name=__codelineno-41-14 href=#__codelineno-41-14></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-41-15 name=__codelineno-41-15 href=#__codelineno-41-15></a><span class=p>}</span>
</code></pre></div> <p>(1) 一个分支多个值</p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=kd>var</span><span class=w> </span><span class=nx>language</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;golang&quot;</span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>language</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=s>&quot;golang&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;java&quot;</span><span class=p>:</span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;program&quot;</span><span class=p>)</span>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=p>}</span>
</code></pre></div> <p>(2) 分支表达式</p> <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=kd>var</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>11</span>
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>20</span><span class=p>:</span>
<a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>)</span>
<a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=w>    </span><span class=p>}</span>
</code></pre></div> <h3 id=515-goto语句>5.1.5 goto语句<a class=headerlink href=#515-goto语句 title="Permanent link">&para;</a></h3> <p>goto语句可以跳转到指定标签，进行代码间的无条件跳转。</p> <p>在快速跳出循环，避免重复退出的方面有一定的帮助，goto语句可以简化代码上实现过程。</p> <p>传统的连续退出两层循环的代码示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>
<a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>
<a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>isBreak</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=nx>x</span><span class=o>++</span><span class=w> </span><span class=p>{</span><span class=w>                   </span><span class=c1>// 外循环</span>
<a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=nx>y</span><span class=o>++</span><span class=w> </span><span class=p>{</span><span class=w>               </span><span class=c1>// 内循环</span>
<a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=p>{</span><span class=w>                         </span><span class=c1>// 满足某个条件时, 退出循环</span>
<a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a><span class=w>                </span><span class=nx>isBreak</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c1>// 设置退出标记</span>
<a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a><span class=w>                </span><span class=k>break</span><span class=w>           </span><span class=c1>// 退出本次循环</span>
<a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-44-13 name=__codelineno-44-13 href=#__codelineno-44-13></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-44-14 name=__codelineno-44-14 href=#__codelineno-44-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>isBreak</span><span class=w> </span><span class=p>{</span><span class=c1>// 根据标记, 还需要退出一次循环</span>
<a id=__codelineno-44-15 name=__codelineno-44-15 href=#__codelineno-44-15></a><span class=w>            </span><span class=k>break</span>
<a id=__codelineno-44-16 name=__codelineno-44-16 href=#__codelineno-44-16></a><span class=w>       </span><span class=p>}</span>
<a id=__codelineno-44-17 name=__codelineno-44-17 href=#__codelineno-44-17></a><span class=p>}</span>
<a id=__codelineno-44-18 name=__codelineno-44-18 href=#__codelineno-44-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;over&quot;</span><span class=p>)</span>
<a id=__codelineno-44-19 name=__codelineno-44-19 href=#__codelineno-44-19></a><span class=p>}</span>
</code></pre></div> <p>使用goto语句进行优化</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a>
<a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a>
<a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=nx>x</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-45-7 name=__codelineno-45-7 href=#__codelineno-45-7></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=nx>y</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-45-8 name=__codelineno-45-8 href=#__codelineno-45-8></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-45-9 name=__codelineno-45-9 href=#__codelineno-45-9></a><span class=w>                </span><span class=c1>// 跳转到标签</span>
<a id=__codelineno-45-10 name=__codelineno-45-10 href=#__codelineno-45-10></a><span class=w>                </span><span class=k>goto</span><span class=w> </span><span class=nx>breakHere</span>
<a id=__codelineno-45-11 name=__codelineno-45-11 href=#__codelineno-45-11></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-45-12 name=__codelineno-45-12 href=#__codelineno-45-12></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-45-13 name=__codelineno-45-13 href=#__codelineno-45-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-45-14 name=__codelineno-45-14 href=#__codelineno-45-14></a><span class=w>    </span><span class=c1>// 手动返回, 避免执行进入标签</span>
<a id=__codelineno-45-15 name=__codelineno-45-15 href=#__codelineno-45-15></a><span class=w>    </span><span class=k>return</span>
<a id=__codelineno-45-16 name=__codelineno-45-16 href=#__codelineno-45-16></a><span class=w>    </span><span class=c1>// 标签</span>
<a id=__codelineno-45-17 name=__codelineno-45-17 href=#__codelineno-45-17></a><span class=nx>breakHere</span><span class=p>:</span>
<a id=__codelineno-45-18 name=__codelineno-45-18 href=#__codelineno-45-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;done&quot;</span><span class=p>)</span>
<a id=__codelineno-45-19 name=__codelineno-45-19 href=#__codelineno-45-19></a><span class=p>}</span>
</code></pre></div> <p>"goto breakTag" 来跳转到指明的标签处，breakTag 是自定义的标签。</p> <p>goto在<code>多错误处理</code>中优势</p> <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>getUserInfo</span><span class=p>()</span>
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=w>        </span><span class=nx>exitProcess</span><span class=p>()</span>
<a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a>
<a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>getEmail</span><span class=p>()</span>
<a id=__codelineno-46-9 name=__codelineno-46-9 href=#__codelineno-46-9></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-46-10 name=__codelineno-46-10 href=#__codelineno-46-10></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-46-11 name=__codelineno-46-11 href=#__codelineno-46-11></a><span class=w>        </span><span class=nx>exitProcess</span><span class=p>()</span>
<a id=__codelineno-46-12 name=__codelineno-46-12 href=#__codelineno-46-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-46-13 name=__codelineno-46-13 href=#__codelineno-46-13></a>
<a id=__codelineno-46-14 name=__codelineno-46-14 href=#__codelineno-46-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;over&quot;</span><span class=p>)</span>
<a id=__codelineno-46-15 name=__codelineno-46-15 href=#__codelineno-46-15></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>getUserInfo</span><span class=p>()</span>
<a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=w>        </span><span class=k>goto</span><span class=w> </span><span class=nx>doExit</span>
<a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a>
<a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>getEmail</span><span class=p>()</span>
<a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a><span class=w>        </span><span class=k>goto</span><span class=w> </span><span class=nx>doExit</span>
<a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a>
<a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;over&quot;</span><span class=p>)</span>
<a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a><span class=w>    </span><span class=k>return</span>
<a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a>
<a id=__codelineno-47-15 name=__codelineno-47-15 href=#__codelineno-47-15></a><span class=nx>doExit</span><span class=p>:</span>
<a id=__codelineno-47-16 name=__codelineno-47-16 href=#__codelineno-47-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-47-17 name=__codelineno-47-17 href=#__codelineno-47-17></a><span class=w>    </span><span class=nx>exitProcess</span><span class=p>()</span>
<a id=__codelineno-47-18 name=__codelineno-47-18 href=#__codelineno-47-18></a><span class=p>}</span>
</code></pre></div> <h2 id=6-go数据类型>6. Go数据类型<a class=headerlink href=#6-go数据类型 title="Permanent link">&para;</a></h2> <table> <thead> <tr> <th>类型</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>布尔型</td> <td>true或false</td> </tr> <tr> <td>数字类型</td> <td>uint8、uint16、uint32、uint64、int8、int16、int32、int64 、<br>float32（IEEE-754）、float64（IEEE-754）、complex64、complex128、<br>byte（uint8）、rune（int32）、uint（32或64）、int（32或64）、uintptr（存放指针）</td> </tr> <tr> <td>字符串类型</td> <td>一串固定长度的字符连接起来的字符序列，utf-8编码</td> </tr> <tr> <td>复合类型</td> <td>数组、切片、map、结构体</td> </tr> </tbody> </table> <h3 id=61-布尔型>6.1 布尔型<a class=headerlink href=#61-布尔型 title="Permanent link">&para;</a></h3> <p>只有两个相同类型的值才能比较：</p> <ul> <li>值的类型是接口（interface），两者必须都实现了相同的接口。</li> <li>一个是常量，另一个不是常量，类型必须和常量类型相同。</li> <li>类型不同，必须转换为相同类型，才能比较。</li> </ul> <p>&amp;&amp;优先级高于||，有短路现象。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a>
<a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=p>)</span>
<a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>
<a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=kd>func</span><span class=w> </span><span class=nx>bool2int</span><span class=p>(</span><span class=nx>b</span><span class=w> </span><span class=kt>bool</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=p>}</span>
<a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a>
<a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a><span class=kd>func</span><span class=w> </span><span class=nx>int2bool</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-48-16 name=__codelineno-48-16 href=#__codelineno-48-16></a>
<a id=__codelineno-48-17 name=__codelineno-48-17 href=#__codelineno-48-17></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-18 name=__codelineno-48-18 href=#__codelineno-48-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>bool2int</span><span class=p>(</span><span class=kc>true</span><span class=p>))</span><span class=w> </span><span class=c1>//1</span>
<a id=__codelineno-48-19 name=__codelineno-48-19 href=#__codelineno-48-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>int2bool</span><span class=p>(</span><span class=mi>0</span><span class=p>))</span><span class=w>    </span><span class=c1>//false</span>
<a id=__codelineno-48-20 name=__codelineno-48-20 href=#__codelineno-48-20></a><span class=p>}</span>
</code></pre></div> <h3 id=62-数字类型>6.2 数字类型<a class=headerlink href=#62-数字类型 title="Permanent link">&para;</a></h3> <p>位运算采用补码。int、uint和uintptr，长度由操作系统类型决定。</p> <h3 id=63-字符串类型>6.3 字符串类型<a class=headerlink href=#63-字符串类型 title="Permanent link">&para;</a></h3> <p>由一串固定长度的字符连接起来的字符序列，utf-8编码。值类型，字节的定长数组。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a><span class=c1>//声明和初始化</span>
<a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;string&quot;</span>
</code></pre></div> <p>字符串字面量用"或`创建</p> <ul> <li>"创建可解析的字符串，支持转义，不能引用多行</li> <li>`创建原生的字符串字面量，不支持转义，可多行，不能包含反引号字符</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=nx>str1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;\&quot;hello\&quot;\nI love you&quot;</span>
<a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a><span class=nx>str2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`&quot;hello&quot;</span>
<a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=s>I love you</span>
<a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a><span class=s>`</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=c1>//字符串连接</span>
<a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;I love&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; Go Web&quot;</span>
<a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=nx>str</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s>&quot; programming&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a>
<a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a><span class=w>    </span><span class=s>&quot;unicode/utf8&quot;</span>
<a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a><span class=p>)</span>
<a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a>
<a id=__codelineno-52-8 name=__codelineno-52-8 href=#__codelineno-52-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-52-9 name=__codelineno-52-9 href=#__codelineno-52-9></a><span class=w>    </span><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;我喜欢Go Web&quot;</span>
<a id=__codelineno-52-10 name=__codelineno-52-10 href=#__codelineno-52-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nx>str</span><span class=p>))</span><span class=w>                    </span><span class=c1>//15</span>
<a id=__codelineno-52-11 name=__codelineno-52-11 href=#__codelineno-52-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>utf8</span><span class=p>.</span><span class=nx>RuneCountInString</span><span class=p>(</span><span class=nx>str</span><span class=p>))</span><span class=w> </span><span class=c1>//9</span>
<a id=__codelineno-52-12 name=__codelineno-52-12 href=#__codelineno-52-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str</span><span class=p>[</span><span class=mi>9</span><span class=p>])</span><span class=w>                      </span><span class=c1>//71</span>
<a id=__codelineno-52-13 name=__codelineno-52-13 href=#__codelineno-52-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>str</span><span class=p>[</span><span class=mi>9</span><span class=p>]))</span><span class=w>              </span><span class=c1>//G</span>
<a id=__codelineno-52-14 name=__codelineno-52-14 href=#__codelineno-52-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str</span><span class=p>[:</span><span class=mi>3</span><span class=p>])</span><span class=w>                     </span><span class=c1>//我</span>
<a id=__codelineno-52-15 name=__codelineno-52-15 href=#__codelineno-52-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>str</span><span class=p>[:</span><span class=mi>3</span><span class=p>]))</span><span class=w>             </span><span class=c1>//我</span>
<a id=__codelineno-52-16 name=__codelineno-52-16 href=#__codelineno-52-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str</span><span class=p>[</span><span class=mi>3</span><span class=p>:])</span><span class=w>                     </span><span class=c1>//喜欢Go Web</span>
<a id=__codelineno-52-17 name=__codelineno-52-17 href=#__codelineno-52-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>([]</span><span class=nb>rune</span><span class=p>(</span><span class=nx>str</span><span class=p>))</span><span class=w>                </span><span class=c1>//[25105 21916 27426 71 111 32 87 101 98]</span>
<a id=__codelineno-52-18 name=__codelineno-52-18 href=#__codelineno-52-18></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=p>)</span>
<a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a>
<a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=w>    </span><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;我喜欢Go Web&quot;</span>
<a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a><span class=w>    </span><span class=nx>chars</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>rune</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span>
<a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>ind</span><span class=p>,</span><span class=w> </span><span class=nx>char</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>chars</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ind</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>char</span><span class=p>))</span>
<a id=__codelineno-53-12 name=__codelineno-53-12 href=#__codelineno-53-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-13 name=__codelineno-53-13 href=#__codelineno-53-13></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>ind</span><span class=p>,</span><span class=w> </span><span class=nx>char</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>str</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-14 name=__codelineno-53-14 href=#__codelineno-53-14></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ind</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>char</span><span class=p>))</span>
<a id=__codelineno-53-15 name=__codelineno-53-15 href=#__codelineno-53-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-16 name=__codelineno-53-16 href=#__codelineno-53-16></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>ind</span><span class=p>,</span><span class=w> </span><span class=nx>char</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>str</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-17 name=__codelineno-53-17 href=#__codelineno-53-17></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d: %U %c\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ind</span><span class=p>,</span><span class=w> </span><span class=nx>char</span><span class=p>,</span><span class=w> </span><span class=nx>char</span><span class=p>)</span>
<a id=__codelineno-53-18 name=__codelineno-53-18 href=#__codelineno-53-18></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-19 name=__codelineno-53-19 href=#__codelineno-53-19></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class=kd>var</span><span class=w> </span><span class=nx>buffer</span><span class=w> </span><span class=nx>bytes</span><span class=p>.</span><span class=nx>Buffer</span>
<a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a><span class=k>for</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>piece</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>getNextString</span><span class=p>();</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a><span class=w>        </span><span class=nx>buffer</span><span class=p>.</span><span class=nx>WriteString</span><span class=p>(</span><span class=nx>piece</span><span class=p>)</span>
<a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a><span class=w>        </span><span class=k>break</span>
<a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a><span class=p>}</span>
<a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>buffer</span><span class=p>.</span><span class=nx>String</span><span class=p>())</span>
</code></pre></div> <p>不能通过str[i]方式修改字符串中的字符。 只能将字符串内容复制到可写变量（[]byte或[]rune），然后修改。转换类型过程中会自动复制数据。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>
<a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a><span class=p>)</span>
<a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a>
<a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-55-8 name=__codelineno-55-8 href=#__codelineno-55-8></a><span class=w>    </span><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;hi 世界&quot;</span>
<a id=__codelineno-55-9 name=__codelineno-55-9 href=#__codelineno-55-9></a><span class=w>    </span><span class=nx>by</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span>
<a id=__codelineno-55-10 name=__codelineno-55-10 href=#__codelineno-55-10></a><span class=w>    </span><span class=nx>by</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=sc>&#39;,&#39;</span>
<a id=__codelineno-55-11 name=__codelineno-55-11 href=#__codelineno-55-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>str</span><span class=p>)</span><span class=w> </span><span class=c1>//hi 世界     </span>
<a id=__codelineno-55-12 name=__codelineno-55-12 href=#__codelineno-55-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>by</span><span class=p>)</span><span class=w>  </span><span class=c1>//hi 世界</span>
<a id=__codelineno-55-13 name=__codelineno-55-13 href=#__codelineno-55-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>by</span><span class=p>))</span><span class=w>  </span><span class=c1>//hi 世界</span>
<a id=__codelineno-55-14 name=__codelineno-55-14 href=#__codelineno-55-14></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>
<a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a><span class=p>)</span>
<a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a>
<a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a><span class=w>    </span><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;hi 世界&quot;</span>
<a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a><span class=w>    </span><span class=nx>by</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>rune</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span>
<a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a><span class=w>    </span><span class=nx>by</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=sc>&#39;中&#39;</span>
<a id=__codelineno-56-11 name=__codelineno-56-11 href=#__codelineno-56-11></a><span class=w>    </span><span class=nx>by</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=sc>&#39;国&#39;</span>
<a id=__codelineno-56-12 name=__codelineno-56-12 href=#__codelineno-56-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span><span class=w> </span><span class=c1>//hi 世界</span>
<a id=__codelineno-56-13 name=__codelineno-56-13 href=#__codelineno-56-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>by</span><span class=p>)</span><span class=w>  </span><span class=c1>//[104 105 32 20013 22269]</span>
<a id=__codelineno-56-14 name=__codelineno-56-14 href=#__codelineno-56-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>by</span><span class=p>))</span><span class=w>     </span><span class=c1>//hi 中国</span>
<a id=__codelineno-56-15 name=__codelineno-56-15 href=#__codelineno-56-15></a><span class=p>}</span>
</code></pre></div> <h3 id=64-指针类型>6.4 指针类型<a class=headerlink href=#64-指针类型 title="Permanent link">&para;</a></h3> <p>指针类型指存储内存地址的变量类型。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a>var b int = 66
<a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>var p * int = &amp;b
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>
<a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a><span class=p>)</span>
<a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a>
<a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>score</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span>
<a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;barry&quot;</span>
<a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%p %p\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>score</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>name</span><span class=p>)</span><span class=w> </span><span class=c1>//0xc0000ac058 0xc000088230</span>
<a id=__codelineno-58-11 name=__codelineno-58-11 href=#__codelineno-58-11></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a><span class=p>)</span>
<a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a>
<a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>address</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;hangzhou, China&quot;</span>
<a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a><span class=w>    </span><span class=nx>ptr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>address</span>
<a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a>
<a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;address type: %T\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>address</span><span class=p>)</span><span class=w>     </span><span class=c1>//address type: string</span>
<a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;address value: %v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>address</span><span class=p>)</span><span class=w>    </span><span class=c1>//address value: hangzhou, China</span>
<a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;address address: %p\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>address</span><span class=p>)</span><span class=w> </span><span class=c1>//address address: 0xc00003a240</span>
<a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a>
<a id=__codelineno-59-15 name=__codelineno-59-15 href=#__codelineno-59-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;ptr type: %T\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ptr</span><span class=p>)</span><span class=w>             </span><span class=c1>//ptr type: *string</span>
<a id=__codelineno-59-16 name=__codelineno-59-16 href=#__codelineno-59-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;ptr value: %v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ptr</span><span class=p>)</span><span class=w>            </span><span class=c1>//ptr value: 0xc00003a240</span>
<a id=__codelineno-59-17 name=__codelineno-59-17 href=#__codelineno-59-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;ptr address: %p\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>ptr</span><span class=p>)</span><span class=w>         </span><span class=c1>//ptr address: 0xc000006028</span>
<a id=__codelineno-59-18 name=__codelineno-59-18 href=#__codelineno-59-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;point value of ptr : %v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>ptr</span><span class=p>)</span><span class=w> </span><span class=c1>//point value of ptr : hangzhou, China</span>
<a id=__codelineno-59-19 name=__codelineno-59-19 href=#__codelineno-59-19></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>
<a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a><span class=p>)</span>
<a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a>
<a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange1</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>c</span>
<a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>d</span>
<a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a><span class=w>    </span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>t</span>
<a id=__codelineno-60-11 name=__codelineno-60-11 href=#__codelineno-60-11></a><span class=p>}</span>
<a id=__codelineno-60-12 name=__codelineno-60-12 href=#__codelineno-60-12></a>
<a id=__codelineno-60-13 name=__codelineno-60-13 href=#__codelineno-60-13></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange2</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-14 name=__codelineno-60-14 href=#__codelineno-60-14></a><span class=w>    </span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>d</span><span class=p>,</span><span class=w> </span><span class=nx>c</span>
<a id=__codelineno-60-15 name=__codelineno-60-15 href=#__codelineno-60-15></a><span class=p>}</span>
<a id=__codelineno-60-16 name=__codelineno-60-16 href=#__codelineno-60-16></a>
<a id=__codelineno-60-17 name=__codelineno-60-17 href=#__codelineno-60-17></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange3</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=o>*</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-18 name=__codelineno-60-18 href=#__codelineno-60-18></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>*</span><span class=nx>c</span>
<a id=__codelineno-60-19 name=__codelineno-60-19 href=#__codelineno-60-19></a><span class=w>    </span><span class=o>*</span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>d</span>
<a id=__codelineno-60-20 name=__codelineno-60-20 href=#__codelineno-60-20></a><span class=w>    </span><span class=o>*</span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>t</span>
<a id=__codelineno-60-21 name=__codelineno-60-21 href=#__codelineno-60-21></a><span class=p>}</span>
<a id=__codelineno-60-22 name=__codelineno-60-22 href=#__codelineno-60-22></a>
<a id=__codelineno-60-23 name=__codelineno-60-23 href=#__codelineno-60-23></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange4</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=o>*</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-24 name=__codelineno-60-24 href=#__codelineno-60-24></a><span class=w>    </span><span class=nx>d</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span>
<a id=__codelineno-60-25 name=__codelineno-60-25 href=#__codelineno-60-25></a><span class=p>}</span>
<a id=__codelineno-60-26 name=__codelineno-60-26 href=#__codelineno-60-26></a>
<a id=__codelineno-60-27 name=__codelineno-60-27 href=#__codelineno-60-27></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange5</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=o>*</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-28 name=__codelineno-60-28 href=#__codelineno-60-28></a><span class=w>    </span><span class=o>*</span><span class=nx>d</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>c</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>d</span>
<a id=__codelineno-60-29 name=__codelineno-60-29 href=#__codelineno-60-29></a><span class=p>}</span>
<a id=__codelineno-60-30 name=__codelineno-60-30 href=#__codelineno-60-30></a>
<a id=__codelineno-60-31 name=__codelineno-60-31 href=#__codelineno-60-31></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-32 name=__codelineno-60-32 href=#__codelineno-60-32></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-60-33 name=__codelineno-60-33 href=#__codelineno-60-33></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>y</span><span class=p>,</span><span class=w> </span><span class=nx>x</span>
<a id=__codelineno-60-34 name=__codelineno-60-34 href=#__codelineno-60-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//8 6</span>
<a id=__codelineno-60-35 name=__codelineno-60-35 href=#__codelineno-60-35></a>
<a id=__codelineno-60-36 name=__codelineno-60-36 href=#__codelineno-60-36></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-60-37 name=__codelineno-60-37 href=#__codelineno-60-37></a><span class=w>    </span><span class=nx>exchange1</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-60-38 name=__codelineno-60-38 href=#__codelineno-60-38></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//6 8</span>
<a id=__codelineno-60-39 name=__codelineno-60-39 href=#__codelineno-60-39></a>
<a id=__codelineno-60-40 name=__codelineno-60-40 href=#__codelineno-60-40></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-60-41 name=__codelineno-60-41 href=#__codelineno-60-41></a><span class=w>    </span><span class=nx>exchange2</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-60-42 name=__codelineno-60-42 href=#__codelineno-60-42></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//6 8</span>
<a id=__codelineno-60-43 name=__codelineno-60-43 href=#__codelineno-60-43></a>
<a id=__codelineno-60-44 name=__codelineno-60-44 href=#__codelineno-60-44></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-60-45 name=__codelineno-60-45 href=#__codelineno-60-45></a><span class=w>    </span><span class=nx>exchange3</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-60-46 name=__codelineno-60-46 href=#__codelineno-60-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//8 6</span>
<a id=__codelineno-60-47 name=__codelineno-60-47 href=#__codelineno-60-47></a>
<a id=__codelineno-60-48 name=__codelineno-60-48 href=#__codelineno-60-48></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-60-49 name=__codelineno-60-49 href=#__codelineno-60-49></a><span class=w>    </span><span class=nx>exchange4</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-60-50 name=__codelineno-60-50 href=#__codelineno-60-50></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//6 8</span>
<a id=__codelineno-60-51 name=__codelineno-60-51 href=#__codelineno-60-51></a>
<a id=__codelineno-60-52 name=__codelineno-60-52 href=#__codelineno-60-52></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-60-53 name=__codelineno-60-53 href=#__codelineno-60-53></a><span class=w>    </span><span class=nx>exchange5</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-60-54 name=__codelineno-60-54 href=#__codelineno-60-54></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//8 6</span>
<a id=__codelineno-60-55 name=__codelineno-60-55 href=#__codelineno-60-55></a><span class=p>}</span>
</code></pre></div> <h3 id=65-复合类型>6.5 复合类型<a class=headerlink href=#65-复合类型 title="Permanent link">&para;</a></h3> <h4 id=1数组类型>1.数组类型<a class=headerlink href=#1数组类型 title="Permanent link">&para;</a></h4> <p>数组是具有相同类型（整数、字符串、自定义类型等）的一组长度固定的数据项的序列。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=kd>var</span><span class=w> </span><span class=nx>array</span><span class=w> </span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=kt>int</span>
<a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=kd>var</span><span class=w> </span><span class=nx>numbers</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>float32</span><span class=p>{</span><span class=mf>100.0</span><span class=p>,</span><span class=w> </span><span class=mf>8.0</span><span class=p>,</span><span class=w> </span><span class=mf>9.4</span><span class=p>,</span><span class=w> </span><span class=mf>6.8</span><span class=p>,</span><span class=w> </span><span class=mf>30.1</span><span class=p>}</span>
<a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=kd>var</span><span class=w> </span><span class=nx>numbers</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=kt>float32</span><span class=p>{</span><span class=mf>100.0</span><span class=p>,</span><span class=w> </span><span class=mf>8.0</span><span class=p>,</span><span class=w> </span><span class=mf>9.4</span><span class=p>,</span><span class=w> </span><span class=mf>6.8</span><span class=p>,</span><span class=w> </span><span class=mf>30.1</span><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a>
<a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a><span class=p>)</span>
<a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a>
<a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>arr</span><span class=w> </span><span class=p>[</span><span class=mi>6</span><span class=p>]</span><span class=kt>int</span>
<a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>6</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a><span class=w>        </span><span class=nx>arr</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>66</span>
<a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-62-13 name=__codelineno-62-13 href=#__codelineno-62-13></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>6</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-14 name=__codelineno-62-14 href=#__codelineno-62-14></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;arr[%d] = %d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>j</span><span class=p>,</span><span class=w> </span><span class=nx>arr</span><span class=p>[</span><span class=nx>j</span><span class=p>])</span>
<a id=__codelineno-62-15 name=__codelineno-62-15 href=#__codelineno-62-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-62-16 name=__codelineno-62-16 href=#__codelineno-62-16></a><span class=p>}</span>
<a id=__codelineno-62-17 name=__codelineno-62-17 href=#__codelineno-62-17></a>
<a id=__codelineno-62-18 name=__codelineno-62-18 href=#__codelineno-62-18></a><span class=cm>/**</span>
<a id=__codelineno-62-19 name=__codelineno-62-19 href=#__codelineno-62-19></a><span class=cm>arr[0] = 66</span>
<a id=__codelineno-62-20 name=__codelineno-62-20 href=#__codelineno-62-20></a><span class=cm>arr[1] = 67</span>
<a id=__codelineno-62-21 name=__codelineno-62-21 href=#__codelineno-62-21></a><span class=cm>arr[2] = 68</span>
<a id=__codelineno-62-22 name=__codelineno-62-22 href=#__codelineno-62-22></a><span class=cm>arr[3] = 69</span>
<a id=__codelineno-62-23 name=__codelineno-62-23 href=#__codelineno-62-23></a><span class=cm>arr[4] = 70</span>
<a id=__codelineno-62-24 name=__codelineno-62-24 href=#__codelineno-62-24></a><span class=cm>arr[5] = 71</span>
<a id=__codelineno-62-25 name=__codelineno-62-25 href=#__codelineno-62-25></a><span class=cm>**/</span>
</code></pre></div> <h4 id=2结构体类型>2.结构体类型<a class=headerlink href=#2结构体类型 title="Permanent link">&para;</a></h4> <p>结构体是由0或多个任意类型的数据构成的数据集合。 <div class=highlight><pre><span></span><code><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a>type 类型名 struct {
<a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>    字段1 类型1
<a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a>    结构体成员2 类型2
<a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>}
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Pointer</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a><span class=w>    </span><span class=nx>A</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a><span class=w>    </span><span class=nx>B</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a><span class=p>}</span>
<a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a>
<a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a><span class=kd>type</span><span class=w> </span><span class=nx>Color</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a><span class=w>    </span><span class=nx>Red</span><span class=p>,</span><span class=w> </span><span class=nx>Green</span><span class=p>,</span><span class=w> </span><span class=nx>Blue</span><span class=w> </span><span class=kt>byte</span>
<a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a><span class=p>}</span>
<a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a>
<a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a><span class=nx>variable_name</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>struct_variable_type</span><span class=w> </span><span class=p>{</span><span class=nx>value1</span><span class=p>,</span><span class=w> </span><span class=nx>value2</span><span class=p>,</span><span class=w> </span><span class=o>...</span><span class=p>}</span>
<a id=__codelineno-64-11 name=__codelineno-64-11 href=#__codelineno-64-11></a><span class=nx>variable_name</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>struct_variable_type</span><span class=w> </span><span class=p>{</span><span class=nx>key2</span><span class=p>:</span><span class=w> </span><span class=nx>value2</span><span class=p>,</span><span class=w> </span><span class=nx>key1</span><span class=p>:</span><span class=w> </span><span class=nx>value1</span><span class=p>,</span><span class=w> </span><span class=o>...</span><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>
<a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a>
<a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=kd>type</span><span class=w> </span><span class=nx>Books</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a><span class=w>    </span><span class=nx>title</span><span class=w>   </span><span class=kt>string</span>
<a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a><span class=w>    </span><span class=nx>author</span><span class=w>  </span><span class=kt>string</span>
<a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a><span class=w>    </span><span class=nx>subject</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a><span class=w>    </span><span class=nx>press</span><span class=w>   </span><span class=kt>string</span>
<a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a><span class=p>}</span>
<a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a>
<a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a><span class=kd>func</span><span class=w> </span><span class=nx>printBook</span><span class=p>(</span><span class=nx>book</span><span class=w> </span><span class=nx>Books</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.title: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>title</span><span class=p>)</span>
<a id=__codelineno-65-14 name=__codelineno-65-14 href=#__codelineno-65-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.author: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>author</span><span class=p>)</span>
<a id=__codelineno-65-15 name=__codelineno-65-15 href=#__codelineno-65-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.subject: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>subject</span><span class=p>)</span>
<a id=__codelineno-65-16 name=__codelineno-65-16 href=#__codelineno-65-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.press: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>press</span><span class=p>)</span>
<a id=__codelineno-65-17 name=__codelineno-65-17 href=#__codelineno-65-17></a><span class=p>}</span>
<a id=__codelineno-65-18 name=__codelineno-65-18 href=#__codelineno-65-18></a>
<a id=__codelineno-65-19 name=__codelineno-65-19 href=#__codelineno-65-19></a><span class=kd>func</span><span class=w> </span><span class=nx>printBook2</span><span class=p>(</span><span class=nx>book</span><span class=w> </span><span class=o>*</span><span class=nx>Books</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-65-20 name=__codelineno-65-20 href=#__codelineno-65-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.title: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>title</span><span class=p>)</span>
<a id=__codelineno-65-21 name=__codelineno-65-21 href=#__codelineno-65-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.author: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>author</span><span class=p>)</span>
<a id=__codelineno-65-22 name=__codelineno-65-22 href=#__codelineno-65-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.subject: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>subject</span><span class=p>)</span>
<a id=__codelineno-65-23 name=__codelineno-65-23 href=#__codelineno-65-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;book.press: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>book</span><span class=p>.</span><span class=nx>press</span><span class=p>)</span>
<a id=__codelineno-65-24 name=__codelineno-65-24 href=#__codelineno-65-24></a><span class=p>}</span>
<a id=__codelineno-65-25 name=__codelineno-65-25 href=#__codelineno-65-25></a>
<a id=__codelineno-65-26 name=__codelineno-65-26 href=#__codelineno-65-26></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-65-27 name=__codelineno-65-27 href=#__codelineno-65-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>Books</span><span class=p>{</span><span class=nx>author</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yx&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>title</span><span class=p>:</span><span class=w> </span><span class=s>&quot;学习 Go Web&quot;</span><span class=p>})</span>
<a id=__codelineno-65-28 name=__codelineno-65-28 href=#__codelineno-65-28></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-65-29 name=__codelineno-65-29 href=#__codelineno-65-29></a>
<a id=__codelineno-65-30 name=__codelineno-65-30 href=#__codelineno-65-30></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>bookGo</span><span class=w> </span><span class=nx>Books</span>
<a id=__codelineno-65-31 name=__codelineno-65-31 href=#__codelineno-65-31></a><span class=w>    </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>title</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;学习 Go Web&quot;</span>
<a id=__codelineno-65-32 name=__codelineno-65-32 href=#__codelineno-65-32></a><span class=w>    </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>author</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;yx&quot;</span>
<a id=__codelineno-65-33 name=__codelineno-65-33 href=#__codelineno-65-33></a><span class=w>    </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>subject</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;Go&quot;</span>
<a id=__codelineno-65-34 name=__codelineno-65-34 href=#__codelineno-65-34></a><span class=w>    </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>press</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;电力工业出版社&quot;</span>
<a id=__codelineno-65-35 name=__codelineno-65-35 href=#__codelineno-65-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;bookGo.title: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>title</span><span class=p>)</span>
<a id=__codelineno-65-36 name=__codelineno-65-36 href=#__codelineno-65-36></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;bookGo.author: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>author</span><span class=p>)</span>
<a id=__codelineno-65-37 name=__codelineno-65-37 href=#__codelineno-65-37></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;bookGo.subject: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>subject</span><span class=p>)</span>
<a id=__codelineno-65-38 name=__codelineno-65-38 href=#__codelineno-65-38></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;bookGo.press: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>bookGo</span><span class=p>.</span><span class=nx>press</span><span class=p>)</span>
<a id=__codelineno-65-39 name=__codelineno-65-39 href=#__codelineno-65-39></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-65-40 name=__codelineno-65-40 href=#__codelineno-65-40></a><span class=w>    </span><span class=nx>printBook</span><span class=p>(</span><span class=nx>bookGo</span><span class=p>)</span>
<a id=__codelineno-65-41 name=__codelineno-65-41 href=#__codelineno-65-41></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-65-42 name=__codelineno-65-42 href=#__codelineno-65-42></a><span class=w>    </span><span class=nx>printBook2</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>bookGo</span><span class=p>)</span>
<a id=__codelineno-65-43 name=__codelineno-65-43 href=#__codelineno-65-43></a><span class=p>}</span>
</code></pre></div> <h4 id=3切片类型>3.切片类型<a class=headerlink href=#3切片类型 title="Permanent link">&para;</a></h4> <p>slice是对数组或切片连续片段的引用。 切片内部结构包含**内存地址pointer、大小len和容量cap**。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a>//不含结束位置,左开右闭
<a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a>slice[开始位置:结束位置]
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>
<a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a>
<a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a><span class=kd>var</span><span class=w> </span><span class=nx>sliceBuilder</span><span class=w> </span><span class=p>[</span><span class=mi>20</span><span class=p>]</span><span class=kt>int</span>
<a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a>
<a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>20</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-67-9 name=__codelineno-67-9 href=#__codelineno-67-9></a><span class=w>        </span><span class=nx>sliceBuilder</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-67-10 name=__codelineno-67-10 href=#__codelineno-67-10></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-67-11 name=__codelineno-67-11 href=#__codelineno-67-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sliceBuilder</span><span class=p>)</span><span class=w>       </span><span class=c1>//[1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20]</span>
<a id=__codelineno-67-12 name=__codelineno-67-12 href=#__codelineno-67-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sliceBuilder</span><span class=p>[</span><span class=mi>5</span><span class=p>:</span><span class=mi>15</span><span class=p>])</span><span class=w> </span><span class=c1>//[6 7 8 9 10 11 12 13 14 15]</span>
<a id=__codelineno-67-13 name=__codelineno-67-13 href=#__codelineno-67-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sliceBuilder</span><span class=p>[</span><span class=mi>15</span><span class=p>:])</span><span class=w>  </span><span class=c1>//[16 17 18 19 20]</span>
<a id=__codelineno-67-14 name=__codelineno-67-14 href=#__codelineno-67-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sliceBuilder</span><span class=p>[:</span><span class=mi>2</span><span class=p>])</span><span class=w>   </span><span class=c1>//[1 2]</span>
<a id=__codelineno-67-15 name=__codelineno-67-15 href=#__codelineno-67-15></a>
<a id=__codelineno-67-16 name=__codelineno-67-16 href=#__codelineno-67-16></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>}</span>
<a id=__codelineno-67-17 name=__codelineno-67-17 href=#__codelineno-67-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>[:])</span><span class=w>   </span><span class=c1>//[6 7 8]</span>
<a id=__codelineno-67-18 name=__codelineno-67-18 href=#__codelineno-67-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>0</span><span class=p>])</span><span class=w> </span><span class=c1>//[]</span>
<a id=__codelineno-67-19 name=__codelineno-67-19 href=#__codelineno-67-19></a>
<a id=__codelineno-67-20 name=__codelineno-67-20 href=#__codelineno-67-20></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>sliceStr</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span>
<a id=__codelineno-67-21 name=__codelineno-67-21 href=#__codelineno-67-21></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>sliceNum</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span>
<a id=__codelineno-67-22 name=__codelineno-67-22 href=#__codelineno-67-22></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>emptySliceNum</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{}</span>
<a id=__codelineno-67-23 name=__codelineno-67-23 href=#__codelineno-67-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sliceStr</span><span class=p>,</span><span class=w> </span><span class=nx>sliceNum</span><span class=p>,</span><span class=w> </span><span class=nx>emptySliceNum</span><span class=p>)</span><span class=w>                      </span><span class=c1>//[] [] []</span>
<a id=__codelineno-67-24 name=__codelineno-67-24 href=#__codelineno-67-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nx>sliceStr</span><span class=p>),</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>sliceNum</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=nx>emptySliceNum</span><span class=p>))</span><span class=w>          </span><span class=c1>//0 0 []</span>
<a id=__codelineno-67-25 name=__codelineno-67-25 href=#__codelineno-67-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sliceStr</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>sliceNum</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>emptySliceNum</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span><span class=w> </span><span class=c1>//true true false</span>
<a id=__codelineno-67-26 name=__codelineno-67-26 href=#__codelineno-67-26></a>
<a id=__codelineno-67-27 name=__codelineno-67-27 href=#__codelineno-67-27></a><span class=w>    </span><span class=nx>slice1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>)</span>
<a id=__codelineno-67-28 name=__codelineno-67-28 href=#__codelineno-67-28></a><span class=w>    </span><span class=nx>slice2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>)</span>
<a id=__codelineno-67-29 name=__codelineno-67-29 href=#__codelineno-67-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>slice1</span><span class=p>,</span><span class=w> </span><span class=nx>slice2</span><span class=p>)</span><span class=w>           </span><span class=c1>//[0 0 0 0 0 0] [0 0 0 0 0 0]</span>
<a id=__codelineno-67-30 name=__codelineno-67-30 href=#__codelineno-67-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nx>slice1</span><span class=p>),</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>slice2</span><span class=p>))</span><span class=w> </span><span class=c1>//6 6</span>
<a id=__codelineno-67-31 name=__codelineno-67-31 href=#__codelineno-67-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice1</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>slice2</span><span class=p>))</span><span class=w> </span><span class=c1>//6 10</span>
<a id=__codelineno-67-32 name=__codelineno-67-32 href=#__codelineno-67-32></a>
<a id=__codelineno-67-33 name=__codelineno-67-33 href=#__codelineno-67-33></a><span class=p>}</span>
</code></pre></div> <h4 id=4map类型>4.map类型<a class=headerlink href=#4map类型 title="Permanent link">&para;</a></h4> <p>关联数组，字典，元素对（pair）的无序集合，引用类型。</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a>var name map[key_type]value_type
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a>
<a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a>
<a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=kd>var</span><span class=w> </span><span class=nx>literalMap</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span>
<a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=kd>var</span><span class=w> </span><span class=nx>assignedMap</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span>
<a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a>
<a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-9 name=__codelineno-69-9 href=#__codelineno-69-9></a><span class=w>    </span><span class=nx>literalMap</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;first&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;go&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;second&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;web&quot;</span><span class=p>}</span>
<a id=__codelineno-69-10 name=__codelineno-69-10 href=#__codelineno-69-10></a><span class=w>    </span><span class=nx>createdMap</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>float32</span><span class=p>)</span>
<a id=__codelineno-69-11 name=__codelineno-69-11 href=#__codelineno-69-11></a><span class=w>    </span><span class=nx>assignedMap</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>literalMap</span><span class=w> </span><span class=c1>//引用</span>
<a id=__codelineno-69-12 name=__codelineno-69-12 href=#__codelineno-69-12></a><span class=w>    </span><span class=nx>createdMap</span><span class=p>[</span><span class=s>&quot;k1&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>99</span>
<a id=__codelineno-69-13 name=__codelineno-69-13 href=#__codelineno-69-13></a><span class=w>    </span><span class=nx>createdMap</span><span class=p>[</span><span class=s>&quot;k2&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>199</span>
<a id=__codelineno-69-14 name=__codelineno-69-14 href=#__codelineno-69-14></a><span class=w>    </span><span class=nx>assignedMap</span><span class=p>[</span><span class=s>&quot;second&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;program&quot;</span>
<a id=__codelineno-69-15 name=__codelineno-69-15 href=#__codelineno-69-15></a>
<a id=__codelineno-69-16 name=__codelineno-69-16 href=#__codelineno-69-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>literalMap</span><span class=p>[</span><span class=s>&quot;first&quot;</span><span class=p>])</span><span class=w>  </span><span class=c1>//go</span>
<a id=__codelineno-69-17 name=__codelineno-69-17 href=#__codelineno-69-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>literalMap</span><span class=p>[</span><span class=s>&quot;second&quot;</span><span class=p>])</span><span class=w> </span><span class=c1>//program</span>
<a id=__codelineno-69-18 name=__codelineno-69-18 href=#__codelineno-69-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>literalMap</span><span class=p>[</span><span class=s>&quot;third&quot;</span><span class=p>])</span><span class=w>  </span><span class=c1>//</span>
<a id=__codelineno-69-19 name=__codelineno-69-19 href=#__codelineno-69-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>createdMap</span><span class=p>[</span><span class=s>&quot;k1&quot;</span><span class=p>])</span><span class=w>     </span><span class=c1>//99</span>
<a id=__codelineno-69-20 name=__codelineno-69-20 href=#__codelineno-69-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>createdMap</span><span class=p>[</span><span class=s>&quot;k2&quot;</span><span class=p>])</span><span class=w>     </span><span class=c1>//199</span>
<a id=__codelineno-69-21 name=__codelineno-69-21 href=#__codelineno-69-21></a>
<a id=__codelineno-69-22 name=__codelineno-69-22 href=#__codelineno-69-22></a><span class=p>}</span>
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=nx>createdMap</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>new</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>float32</span><span class=p>)</span>
<a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=c1>//错误</span>
<a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=c1>//声明了一个未初始化的变量并取了它的地址</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=c1>//map到达容量上限，自动增1</span>
<a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=nx>key_type</span><span class=p>]</span><span class=nx>value_type</span><span class=p>,</span><span class=w> </span><span class=nx>cap</span><span class=p>)</span>
<a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=kd>map</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>float32</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>)</span>
<a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a>
<a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a><span class=nx>achievement</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>float32</span><span class=p>{</span>
<a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a><span class=w>        </span><span class=s>&quot;zhang&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>99.5</span><span class=p>,</span><span class=w> </span><span class=s>&quot;xiao&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>88</span><span class=p>,</span>
<a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a><span class=w>        </span><span class=s>&quot;wange&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>96</span><span class=p>,</span><span class=w> </span><span class=s>&quot;ma&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=p>,</span>
<a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a><span class=p>}</span>
<a id=__codelineno-71-9 name=__codelineno-71-9 href=#__codelineno-71-9></a><span class=nx>map1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>int</span><span class=p>][]</span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-71-10 name=__codelineno-71-10 href=#__codelineno-71-10></a><span class=nx>map2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>int</span><span class=p>]</span><span class=o>*</span><span class=p>[]</span><span class=kt>int</span><span class=p>)</span>
</code></pre></div> <h2 id=7函数>7.函数<a class=headerlink href=#7函数 title="Permanent link">&para;</a></h2> <h3 id=71-声明函数>7.1 声明函数<a class=headerlink href=#71-声明函数 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a>func function_name([parameter list]) [return_types] {
<a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a>    //bunction_body
<a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a>}
</code></pre></div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a>
<a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a>
<a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=w>    </span><span class=nx>array</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>}</span>
<a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>ret</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a><span class=w>    </span><span class=nx>ret</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>min</span><span class=p>(</span><span class=nx>array</span><span class=p>)</span>
<a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;最小值是: %d \n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ret</span><span class=p>)</span>
<a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a><span class=p>}</span>
<a id=__codelineno-73-11 name=__codelineno-73-11 href=#__codelineno-73-11></a>
<a id=__codelineno-73-12 name=__codelineno-73-12 href=#__codelineno-73-12></a><span class=kd>func</span><span class=w> </span><span class=nx>min</span><span class=p>(</span><span class=nx>arr</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>m</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-73-13 name=__codelineno-73-13 href=#__codelineno-73-13></a><span class=w>    </span><span class=nx>m</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-73-14 name=__codelineno-73-14 href=#__codelineno-73-14></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>arr</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-73-15 name=__codelineno-73-15 href=#__codelineno-73-15></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-73-16 name=__codelineno-73-16 href=#__codelineno-73-16></a><span class=w>            </span><span class=nx>m</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>v</span>
<a id=__codelineno-73-17 name=__codelineno-73-17 href=#__codelineno-73-17></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-73-18 name=__codelineno-73-18 href=#__codelineno-73-18></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-73-19 name=__codelineno-73-19 href=#__codelineno-73-19></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>m</span>
<a id=__codelineno-73-20 name=__codelineno-73-20 href=#__codelineno-73-20></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>
<a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-74-4 name=__codelineno-74-4 href=#__codelineno-74-4></a>
<a id=__codelineno-74-5 name=__codelineno-74-5 href=#__codelineno-74-5></a><span class=kd>func</span><span class=w> </span><span class=nx>compute</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-74-6 name=__codelineno-74-6 href=#__codelineno-74-6></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>y</span><span class=p>,</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>y</span>
<a id=__codelineno-74-7 name=__codelineno-74-7 href=#__codelineno-74-7></a><span class=p>}</span>
<a id=__codelineno-74-8 name=__codelineno-74-8 href=#__codelineno-74-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-74-9 name=__codelineno-74-9 href=#__codelineno-74-9></a><span class=w>    </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>compute</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span>
<a id=__codelineno-74-10 name=__codelineno-74-10 href=#__codelineno-74-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span><span class=w> </span><span class=c1>//14 48</span>
<a id=__codelineno-74-11 name=__codelineno-74-11 href=#__codelineno-74-11></a><span class=p>}</span>
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>
<a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a>
<a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a><span class=kd>func</span><span class=w> </span><span class=nx>change</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a><span class=w>    </span><span class=nx>x</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>100</span>
<a id=__codelineno-75-7 name=__codelineno-75-7 href=#__codelineno-75-7></a><span class=w>    </span><span class=nx>y</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>100</span>
<a id=__codelineno-75-8 name=__codelineno-75-8 href=#__codelineno-75-8></a><span class=w>    </span><span class=k>return</span>
<a id=__codelineno-75-9 name=__codelineno-75-9 href=#__codelineno-75-9></a><span class=w>    </span><span class=c1>//return x, y</span>
<a id=__codelineno-75-10 name=__codelineno-75-10 href=#__codelineno-75-10></a><span class=w>    </span><span class=c1>//return y, x</span>
<a id=__codelineno-75-11 name=__codelineno-75-11 href=#__codelineno-75-11></a><span class=p>}</span>
<a id=__codelineno-75-12 name=__codelineno-75-12 href=#__codelineno-75-12></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-75-13 name=__codelineno-75-13 href=#__codelineno-75-13></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-75-14 name=__codelineno-75-14 href=#__codelineno-75-14></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-75-15 name=__codelineno-75-15 href=#__codelineno-75-15></a><span class=w>    </span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>change</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-75-16 name=__codelineno-75-16 href=#__codelineno-75-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=p>)</span><span class=w> </span><span class=c1>//111 102</span>
<a id=__codelineno-75-17 name=__codelineno-75-17 href=#__codelineno-75-17></a><span class=p>}</span>
</code></pre></div> <h3 id=72-函数参数>7.2 函数参数<a class=headerlink href=#72-函数参数 title="Permanent link">&para;</a></h3> <h4 id=1参数使用>1.参数使用<a class=headerlink href=#1参数使用 title="Permanent link">&para;</a></h4> <ul> <li>形参：定义函数时，用于接收外部传入的数据。</li> <li>实参：调用函数时，传给形参的实际的数据。</li> </ul> <h4 id=2可变参数>2.可变参数<a class=headerlink href=#2可变参数 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>
<a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a>
<a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a><span class=kd>func</span><span class=w> </span><span class=nx>myFunc</span><span class=p>(</span><span class=nx>arg</span><span class=w> </span><span class=o>...</span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>arg</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-76-7 name=__codelineno-76-7 href=#__codelineno-76-7></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;the string is: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-76-8 name=__codelineno-76-8 href=#__codelineno-76-8></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-76-9 name=__codelineno-76-9 href=#__codelineno-76-9></a><span class=p>}</span>
<a id=__codelineno-76-10 name=__codelineno-76-10 href=#__codelineno-76-10></a>
<a id=__codelineno-76-11 name=__codelineno-76-11 href=#__codelineno-76-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-76-12 name=__codelineno-76-12 href=#__codelineno-76-12></a><span class=w>    </span><span class=nx>myFunc</span><span class=p>(</span><span class=s>&quot;hujianli1&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hujianli2&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hujianli3&quot;</span><span class=p>)</span>
<a id=__codelineno-76-13 name=__codelineno-76-13 href=#__codelineno-76-13></a><span class=p>}</span>
</code></pre></div> <h4 id=3参数传递>3.参数传递<a class=headerlink href=#3参数传递 title="Permanent link">&para;</a></h4> <ul> <li> <p>值传递 <div class=highlight><pre><span></span><code><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>
<a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a>
<a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>tmp</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a><span class=w>    </span><span class=nx>tmp</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>a</span>
<a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>b</span>
<a id=__codelineno-77-9 name=__codelineno-77-9 href=#__codelineno-77-9></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>tmp</span>
<a id=__codelineno-77-10 name=__codelineno-77-10 href=#__codelineno-77-10></a><span class=p>}</span>
<a id=__codelineno-77-11 name=__codelineno-77-11 href=#__codelineno-77-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-77-12 name=__codelineno-77-12 href=#__codelineno-77-12></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-77-13 name=__codelineno-77-13 href=#__codelineno-77-13></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-77-14 name=__codelineno-77-14 href=#__codelineno-77-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换前a=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-77-15 name=__codelineno-77-15 href=#__codelineno-77-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换前b=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-77-16 name=__codelineno-77-16 href=#__codelineno-77-16></a><span class=w>    </span><span class=nx>exchange</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-77-17 name=__codelineno-77-17 href=#__codelineno-77-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换后a=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-77-18 name=__codelineno-77-18 href=#__codelineno-77-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换后b=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-77-19 name=__codelineno-77-19 href=#__codelineno-77-19></a><span class=p>}</span>
<a id=__codelineno-77-20 name=__codelineno-77-20 href=#__codelineno-77-20></a>
<a id=__codelineno-77-21 name=__codelineno-77-21 href=#__codelineno-77-21></a><span class=cm>/* 交换前a=1</span>
<a id=__codelineno-77-22 name=__codelineno-77-22 href=#__codelineno-77-22></a><span class=cm>交换前b=2</span>
<a id=__codelineno-77-23 name=__codelineno-77-23 href=#__codelineno-77-23></a><span class=cm>交换后a=1</span>
<a id=__codelineno-77-24 name=__codelineno-77-24 href=#__codelineno-77-24></a><span class=cm>交换后b=2 */</span>
</code></pre></div></p> </li> <li> <p>引用传递 <div class=highlight><pre><span></span><code><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>
<a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a>
<a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a><span class=kd>func</span><span class=w> </span><span class=nx>exchange</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>*</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>tmp</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a><span class=w>    </span><span class=nx>tmp</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>a</span>
<a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a><span class=w>    </span><span class=o>*</span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>b</span>
<a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a><span class=w>    </span><span class=o>*</span><span class=nx>b</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>tmp</span>
<a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a><span class=p>}</span>
<a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换前a=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换前b=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a><span class=w>    </span><span class=nx>exchange</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换后a=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;交换后b=%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-78-19 name=__codelineno-78-19 href=#__codelineno-78-19></a><span class=p>}</span>
<a id=__codelineno-78-20 name=__codelineno-78-20 href=#__codelineno-78-20></a>
<a id=__codelineno-78-21 name=__codelineno-78-21 href=#__codelineno-78-21></a><span class=cm>/* 交换前a=1</span>
<a id=__codelineno-78-22 name=__codelineno-78-22 href=#__codelineno-78-22></a><span class=cm>交换前b=2</span>
<a id=__codelineno-78-23 name=__codelineno-78-23 href=#__codelineno-78-23></a><span class=cm>交换后a=2</span>
<a id=__codelineno-78-24 name=__codelineno-78-24 href=#__codelineno-78-24></a><span class=cm>交换后b=1 */</span>
</code></pre></div></p> </li> </ul> <h3 id=73-匿名函数>7.3 匿名函数<a class=headerlink href=#73-匿名函数 title="Permanent link">&para;</a></h3> <p>匿名函数（闭包），一类无须定义标识符（函数名）的函数或子程序。</p> <h4 id=1定义>1.定义<a class=headerlink href=#1定义 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a>func (参数列表) (返回值列表) {
<a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>    //函数体
<a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a>}
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>
<a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a>
<a id=__codelineno-80-5 name=__codelineno-80-5 href=#__codelineno-80-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-80-6 name=__codelineno-80-6 href=#__codelineno-80-6></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-80-7 name=__codelineno-80-7 href=#__codelineno-80-7></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-80-8 name=__codelineno-80-8 href=#__codelineno-80-8></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;defer x, y = &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span><span class=w> </span><span class=c1>//y为闭包引用</span>
<a id=__codelineno-80-9 name=__codelineno-80-9 href=#__codelineno-80-9></a><span class=w>    </span><span class=p>}(</span><span class=nx>x</span><span class=p>)</span>
<a id=__codelineno-80-10 name=__codelineno-80-10 href=#__codelineno-80-10></a><span class=w>    </span><span class=nx>x</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=mi>10</span>
<a id=__codelineno-80-11 name=__codelineno-80-11 href=#__codelineno-80-11></a><span class=w>    </span><span class=nx>y</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=mi>100</span>
<a id=__codelineno-80-12 name=__codelineno-80-12 href=#__codelineno-80-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-80-13 name=__codelineno-80-13 href=#__codelineno-80-13></a><span class=p>}</span>
<a id=__codelineno-80-14 name=__codelineno-80-14 href=#__codelineno-80-14></a><span class=cm>/*</span>
<a id=__codelineno-80-15 name=__codelineno-80-15 href=#__codelineno-80-15></a><span class=cm>输出</span>
<a id=__codelineno-80-16 name=__codelineno-80-16 href=#__codelineno-80-16></a><span class=cm>16 108</span>
<a id=__codelineno-80-17 name=__codelineno-80-17 href=#__codelineno-80-17></a><span class=cm>defer x,y = 6 108</span>
<a id=__codelineno-80-18 name=__codelineno-80-18 href=#__codelineno-80-18></a><span class=cm>*/</span>
</code></pre></div> <h4 id=2调用>2.调用<a class=headerlink href=#2调用 title="Permanent link">&para;</a></h4> <ul> <li>定义时调用 <div class=highlight><pre><span></span><code><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a>
<a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a>
<a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a><span class=w>    </span><span class=c1>//定义匿名函数并赋值给f变量</span>
<a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a><span class=w>    </span><span class=nx>f</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>data</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;closure&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>data</span><span class=p>)</span>
<a id=__codelineno-81-9 name=__codelineno-81-9 href=#__codelineno-81-9></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-81-10 name=__codelineno-81-10 href=#__codelineno-81-10></a><span class=w>    </span><span class=nx>f</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span><span class=w> </span><span class=c1>//closure 6</span>
<a id=__codelineno-81-11 name=__codelineno-81-11 href=#__codelineno-81-11></a>
<a id=__codelineno-81-12 name=__codelineno-81-12 href=#__codelineno-81-12></a><span class=w>    </span><span class=c1>//直接声明并调用</span>
<a id=__codelineno-81-13 name=__codelineno-81-13 href=#__codelineno-81-13></a><span class=w>    </span><span class=kd>func</span><span class=p>(</span><span class=nx>data</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-81-14 name=__codelineno-81-14 href=#__codelineno-81-14></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;closure, directly&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>data</span><span class=p>)</span>
<a id=__codelineno-81-15 name=__codelineno-81-15 href=#__codelineno-81-15></a><span class=w>    </span><span class=p>}(</span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=c1>//closure, directly 8</span>
<a id=__codelineno-81-16 name=__codelineno-81-16 href=#__codelineno-81-16></a><span class=p>}</span>
</code></pre></div></li> <li>回调函数（call then back）</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a>
<a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a>
<a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a><span class=kd>func</span><span class=w> </span><span class=nx>visitPrint</span><span class=p>(</span><span class=nx>list</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=nx>f</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>list</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a><span class=w>        </span><span class=nx>f</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a><span class=p>}</span>
<a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a>
<a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a><span class=w>    </span><span class=nx>sli</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>}</span>
<a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a><span class=w>    </span><span class=nx>visitPrint</span><span class=p>(</span><span class=nx>sli</span><span class=p>,</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>value</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-14 name=__codelineno-82-14 href=#__codelineno-82-14></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-82-15 name=__codelineno-82-15 href=#__codelineno-82-15></a><span class=w>    </span><span class=p>})</span>
<a id=__codelineno-82-16 name=__codelineno-82-16 href=#__codelineno-82-16></a><span class=p>}</span>
<a id=__codelineno-82-17 name=__codelineno-82-17 href=#__codelineno-82-17></a>
<a id=__codelineno-82-18 name=__codelineno-82-18 href=#__codelineno-82-18></a><span class=cm>/*</span>
<a id=__codelineno-82-19 name=__codelineno-82-19 href=#__codelineno-82-19></a><span class=cm>1</span>
<a id=__codelineno-82-20 name=__codelineno-82-20 href=#__codelineno-82-20></a><span class=cm>6</span>
<a id=__codelineno-82-21 name=__codelineno-82-21 href=#__codelineno-82-21></a><span class=cm>8 */</span>
</code></pre></div> <h3 id=74-defer延迟语句>7.4 defer延迟语句<a class=headerlink href=#74-defer延迟语句 title="Permanent link">&para;</a></h3> <p>defer用于函数结束（return或panic）前最后执行的动作，便于及时的释放资源（数据库连接、文件句柄、锁等）。</p> <h4 id=1defer语句执行逻辑>1.defer语句执行逻辑：<a class=headerlink href=#1defer语句执行逻辑 title="Permanent link">&para;</a></h4> <ol> <li>函数执行到defer时，将defer后的语句压入专门存储defer语句的栈中，然后继续执行函数下一个语句。</li> <li>函数执行完毕，从defer栈顶依次取出语句执行（先进后出，后进先出）。</li> <li>defer语句放在defer栈时，相关值会复制入栈中。</li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a>
<a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a>
<a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a><span class=w>    </span><span class=nx>deferCall</span><span class=p>()</span>
<a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a><span class=p>}</span>
<a id=__codelineno-83-8 name=__codelineno-83-8 href=#__codelineno-83-8></a>
<a id=__codelineno-83-9 name=__codelineno-83-9 href=#__codelineno-83-9></a><span class=kd>func</span><span class=w> </span><span class=nx>deferCall</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-83-10 name=__codelineno-83-10 href=#__codelineno-83-10></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>func1</span><span class=p>()</span>
<a id=__codelineno-83-11 name=__codelineno-83-11 href=#__codelineno-83-11></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>func2</span><span class=p>()</span>
<a id=__codelineno-83-12 name=__codelineno-83-12 href=#__codelineno-83-12></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>func3</span><span class=p>()</span>
<a id=__codelineno-83-13 name=__codelineno-83-13 href=#__codelineno-83-13></a><span class=p>}</span>
<a id=__codelineno-83-14 name=__codelineno-83-14 href=#__codelineno-83-14></a>
<a id=__codelineno-83-15 name=__codelineno-83-15 href=#__codelineno-83-15></a><span class=kd>func</span><span class=w> </span><span class=nx>func1</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-83-16 name=__codelineno-83-16 href=#__codelineno-83-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;A&quot;</span><span class=p>)</span>
<a id=__codelineno-83-17 name=__codelineno-83-17 href=#__codelineno-83-17></a><span class=p>}</span>
<a id=__codelineno-83-18 name=__codelineno-83-18 href=#__codelineno-83-18></a>
<a id=__codelineno-83-19 name=__codelineno-83-19 href=#__codelineno-83-19></a><span class=kd>func</span><span class=w> </span><span class=nx>func2</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-83-20 name=__codelineno-83-20 href=#__codelineno-83-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;B&quot;</span><span class=p>)</span>
<a id=__codelineno-83-21 name=__codelineno-83-21 href=#__codelineno-83-21></a><span class=p>}</span>
<a id=__codelineno-83-22 name=__codelineno-83-22 href=#__codelineno-83-22></a>
<a id=__codelineno-83-23 name=__codelineno-83-23 href=#__codelineno-83-23></a><span class=kd>func</span><span class=w> </span><span class=nx>func3</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-83-24 name=__codelineno-83-24 href=#__codelineno-83-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;C&quot;</span><span class=p>)</span>
<a id=__codelineno-83-25 name=__codelineno-83-25 href=#__codelineno-83-25></a><span class=p>}</span>
<a id=__codelineno-83-26 name=__codelineno-83-26 href=#__codelineno-83-26></a>
<a id=__codelineno-83-27 name=__codelineno-83-27 href=#__codelineno-83-27></a><span class=c1>//输出</span>
<a id=__codelineno-83-28 name=__codelineno-83-28 href=#__codelineno-83-28></a><span class=c1>//C</span>
<a id=__codelineno-83-29 name=__codelineno-83-29 href=#__codelineno-83-29></a><span class=c1>//B</span>
<a id=__codelineno-83-30 name=__codelineno-83-30 href=#__codelineno-83-30></a><span class=c1>//A</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>
<a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a>
<a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a><span class=kd>var</span><span class=w> </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;go&quot;</span>
<a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a>
<a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a><span class=kd>func</span><span class=w> </span><span class=nx>myfunc</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a><span class=w>        </span><span class=nx>name</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;python&quot;</span><span class=w>             </span><span class=c1>//最后一个动作，修改全局变量name为&quot;python&quot;</span>
<a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a><span class=w>    </span><span class=p>}()</span>
<a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a>
<a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;myfunc()函数里的name: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>)</span><span class=w> </span><span class=c1>//全局变量name（&quot;go&quot;）未修改</span>
<a id=__codelineno-84-13 name=__codelineno-84-13 href=#__codelineno-84-13></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>name</span><span class=w>                                </span><span class=c1>//倒数第二个动作，将全局变量name（&quot;go&quot;）赋值给myfunc函数返回值</span>
<a id=__codelineno-84-14 name=__codelineno-84-14 href=#__codelineno-84-14></a><span class=p>}</span>
<a id=__codelineno-84-15 name=__codelineno-84-15 href=#__codelineno-84-15></a>
<a id=__codelineno-84-16 name=__codelineno-84-16 href=#__codelineno-84-16></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-84-17 name=__codelineno-84-17 href=#__codelineno-84-17></a><span class=w>    </span><span class=nx>myname</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>myfunc</span><span class=p>()</span>
<a id=__codelineno-84-18 name=__codelineno-84-18 href=#__codelineno-84-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;main()函数里的name: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-84-19 name=__codelineno-84-19 href=#__codelineno-84-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;main()函数里的myname: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>myname</span><span class=p>)</span>
<a id=__codelineno-84-20 name=__codelineno-84-20 href=#__codelineno-84-20></a><span class=p>}</span>
<a id=__codelineno-84-21 name=__codelineno-84-21 href=#__codelineno-84-21></a>
<a id=__codelineno-84-22 name=__codelineno-84-22 href=#__codelineno-84-22></a><span class=c1>//输出</span>
<a id=__codelineno-84-23 name=__codelineno-84-23 href=#__codelineno-84-23></a><span class=c1>//myfunc()函数里的name: go</span>
<a id=__codelineno-84-24 name=__codelineno-84-24 href=#__codelineno-84-24></a><span class=c1>//main()函数里的name: python</span>
<a id=__codelineno-84-25 name=__codelineno-84-25 href=#__codelineno-84-25></a><span class=c1>//main()函数里的myname: go</span>
</code></pre></div> <h4 id=2defer常用应用场景>2.defer常用应用场景：<a class=headerlink href=#2defer常用应用场景 title="Permanent link">&para;</a></h4> <ol> <li> <p>关闭资源。 创建资源（数据库连接、文件句柄、锁等）语句下一行，defer语句注册关闭资源，避免忘记。</p> </li> <li> <p>和recover()函数一起使用。 程序宕机或panic时，recover()函数恢复执行，而不报错。</p> </li> </ol> <div class=highlight><pre><span></span><code><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a>
<a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a>
<a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=kd>func</span><span class=w> </span><span class=nx>f</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>recover</span><span class=p>();</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Recovered in f&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>r</span><span class=p>)</span>
<a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class=w>    </span><span class=p>}()</span><span class=w> </span><span class=c1>//func()函数含recover，不可封装成外部函数调用，必须defer func(){}()匿名函数调用</span>
<a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Calling g.&quot;</span><span class=p>)</span>
<a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=w>    </span><span class=nx>g</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Returned normally from g.&quot;</span><span class=p>)</span>
<a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a><span class=p>}</span>
<a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a>
<a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a><span class=kd>func</span><span class=w> </span><span class=nx>g</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Panicking!&quot;</span><span class=p>)</span>
<a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;%v&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>))</span>
<a id=__codelineno-85-20 name=__codelineno-85-20 href=#__codelineno-85-20></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-85-21 name=__codelineno-85-21 href=#__codelineno-85-21></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Defer in g&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-85-22 name=__codelineno-85-22 href=#__codelineno-85-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Printing in g&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-85-23 name=__codelineno-85-23 href=#__codelineno-85-23></a><span class=w>    </span><span class=nx>g</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-85-24 name=__codelineno-85-24 href=#__codelineno-85-24></a><span class=p>}</span>
<a id=__codelineno-85-25 name=__codelineno-85-25 href=#__codelineno-85-25></a>
<a id=__codelineno-85-26 name=__codelineno-85-26 href=#__codelineno-85-26></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-27 name=__codelineno-85-27 href=#__codelineno-85-27></a><span class=w>    </span><span class=nx>f</span><span class=p>()</span>
<a id=__codelineno-85-28 name=__codelineno-85-28 href=#__codelineno-85-28></a><span class=p>}</span>
</code></pre></div> <h2 id=8go面向对象编程>8.Go面向对象编程<a class=headerlink href=#8go面向对象编程 title="Permanent link">&para;</a></h2> <h3 id=81-封装>8.1 封装<a class=headerlink href=#81-封装 title="Permanent link">&para;</a></h3> <p>隐藏对象属性和实现细节，仅公开访问方式。</p> <p>Go使用结构体封装属性。 <div class=highlight><pre><span></span><code><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Triangle</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a><span class=w>    </span><span class=nx>Bottom</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a><span class=w>    </span><span class=nx>Height</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-86-4 name=__codelineno-86-4 href=#__codelineno-86-4></a><span class=p>}</span>
</code></pre></div> 方法（Methods）是作用在接收者（receiver）（某种类型的变量）上的函数。 <div class=highlight><pre><span></span><code><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a>func (recv recv_type) methodName(parameter_list) (return_value_list) {...}
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a>
<a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a>
<a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a><span class=kd>type</span><span class=w> </span><span class=nx>Triangle</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a><span class=w>    </span><span class=nx>Bottom</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a><span class=w>    </span><span class=nx>Height</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a><span class=p>}</span>
<a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a>
<a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>Triangle</span><span class=p>)</span><span class=w> </span><span class=nx>Area</span><span class=p>()</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>Bottom</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Height</span><span class=p>)</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a><span class=p>}</span>
<a id=__codelineno-88-13 name=__codelineno-88-13 href=#__codelineno-88-13></a>
<a id=__codelineno-88-14 name=__codelineno-88-14 href=#__codelineno-88-14></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-15 name=__codelineno-88-15 href=#__codelineno-88-15></a><span class=w>    </span><span class=cm>/*  t := Triangle{</span>
<a id=__codelineno-88-16 name=__codelineno-88-16 href=#__codelineno-88-16></a><span class=cm>            Bottom: 6,</span>
<a id=__codelineno-88-17 name=__codelineno-88-17 href=#__codelineno-88-17></a><span class=cm>            Height: 4,</span>
<a id=__codelineno-88-18 name=__codelineno-88-18 href=#__codelineno-88-18></a><span class=cm>        }</span>
<a id=__codelineno-88-19 name=__codelineno-88-19 href=#__codelineno-88-19></a><span class=cm>    */</span>
<a id=__codelineno-88-20 name=__codelineno-88-20 href=#__codelineno-88-20></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Triangle</span><span class=p>{</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>}</span>
<a id=__codelineno-88-21 name=__codelineno-88-21 href=#__codelineno-88-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>Area</span><span class=p>())</span><span class=w> </span><span class=c1>//12</span>
<a id=__codelineno-88-22 name=__codelineno-88-22 href=#__codelineno-88-22></a><span class=p>}</span>
</code></pre></div> <p><strong>访问权限指类属性是公开还是私有的，Go通过首字母大小写来控制可见性。</strong></p> <p>常量、变量、类型、接口、结构体、函数等若是大写字母开头，则能被其他包访问或调用（public）；<strong>非大写开头则只能包内使用（private）</strong>。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a>bubble/
<a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a>├── go.mod
<a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a>├── main.go
<a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a>└── person
<a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a>    └── person.go
</code></pre></div> <p><code>bubble/go.mod</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a>module bubble
<a id=__codelineno-90-2 name=__codelineno-90-2 href=#__codelineno-90-2></a>
<a id=__codelineno-90-3 name=__codelineno-90-3 href=#__codelineno-90-3></a>go 1.16
</code></pre></div> <p><code>bubble/main.go</code> <div class=highlight><pre><span></span><code><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-91-2 name=__codelineno-91-2 href=#__codelineno-91-2></a>
<a id=__codelineno-91-3 name=__codelineno-91-3 href=#__codelineno-91-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-91-4 name=__codelineno-91-4 href=#__codelineno-91-4></a><span class=w>        </span><span class=s>&quot;bubble/person&quot;</span>
<a id=__codelineno-91-5 name=__codelineno-91-5 href=#__codelineno-91-5></a><span class=w>        </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-91-6 name=__codelineno-91-6 href=#__codelineno-91-6></a><span class=p>)</span>
<a id=__codelineno-91-7 name=__codelineno-91-7 href=#__codelineno-91-7></a>
<a id=__codelineno-91-8 name=__codelineno-91-8 href=#__codelineno-91-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-91-9 name=__codelineno-91-9 href=#__codelineno-91-9></a><span class=w>        </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>new</span><span class=p>(</span><span class=nx>person</span><span class=p>.</span><span class=nx>Student</span><span class=p>)</span>
<a id=__codelineno-91-10 name=__codelineno-91-10 href=#__codelineno-91-10></a><span class=w>        </span><span class=nx>s</span><span class=p>.</span><span class=nx>SetName</span><span class=p>(</span><span class=s>&quot;yx&quot;</span><span class=p>)</span>
<a id=__codelineno-91-11 name=__codelineno-91-11 href=#__codelineno-91-11></a><span class=w>        </span><span class=nx>s</span><span class=p>.</span><span class=nx>Age</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>22</span>
<a id=__codelineno-91-12 name=__codelineno-91-12 href=#__codelineno-91-12></a><span class=w>        </span><span class=c1>// s.name = &quot;hujianli&quot;                  无法设置私有变量</span>
<a id=__codelineno-91-13 name=__codelineno-91-13 href=#__codelineno-91-13></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>.</span><span class=nx>GetName</span><span class=p>())</span><span class=w>                </span><span class=c1>// yx</span>
<a id=__codelineno-91-14 name=__codelineno-91-14 href=#__codelineno-91-14></a><span class=p>}</span>
</code></pre></div> <code>bubble/person/person.go</code> <div class=highlight><pre><span></span><code><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a><span class=kn>package</span><span class=w> </span><span class=nx>person</span>
<a id=__codelineno-92-2 name=__codelineno-92-2 href=#__codelineno-92-2></a>
<a id=__codelineno-92-3 name=__codelineno-92-3 href=#__codelineno-92-3></a><span class=kd>type</span><span class=w> </span><span class=nx>Student</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-4 name=__codelineno-92-4 href=#__codelineno-92-4></a><span class=w>        </span><span class=nx>name</span><span class=w>  </span><span class=kt>string</span>
<a id=__codelineno-92-5 name=__codelineno-92-5 href=#__codelineno-92-5></a><span class=w>        </span><span class=nx>score</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-92-6 name=__codelineno-92-6 href=#__codelineno-92-6></a><span class=w>        </span><span class=nx>Age</span><span class=w>   </span><span class=kt>int</span>
<a id=__codelineno-92-7 name=__codelineno-92-7 href=#__codelineno-92-7></a><span class=p>}</span>
<a id=__codelineno-92-8 name=__codelineno-92-8 href=#__codelineno-92-8></a>
<a id=__codelineno-92-9 name=__codelineno-92-9 href=#__codelineno-92-9></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=o>*</span><span class=nx>Student</span><span class=p>)</span><span class=w> </span><span class=nx>GetName</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-10 name=__codelineno-92-10 href=#__codelineno-92-10></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>name</span>
<a id=__codelineno-92-11 name=__codelineno-92-11 href=#__codelineno-92-11></a><span class=p>}</span>
<a id=__codelineno-92-12 name=__codelineno-92-12 href=#__codelineno-92-12></a>
<a id=__codelineno-92-13 name=__codelineno-92-13 href=#__codelineno-92-13></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=o>*</span><span class=nx>Student</span><span class=p>)</span><span class=w> </span><span class=nx>SetName</span><span class=p>(</span><span class=nx>newName</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-14 name=__codelineno-92-14 href=#__codelineno-92-14></a><span class=w>        </span><span class=nx>s</span><span class=p>.</span><span class=nx>name</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>newName</span>
<a id=__codelineno-92-15 name=__codelineno-92-15 href=#__codelineno-92-15></a><span class=p>}</span>
</code></pre></div></p> <h3 id=82-继承>8.2 继承<a class=headerlink href=#82-继承 title="Permanent link">&para;</a></h3> <p>结构体中内嵌匿名类型的方法来实现继承。 <div class=highlight><pre><span></span><code><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-93-2 name=__codelineno-93-2 href=#__codelineno-93-2></a>
<a id=__codelineno-93-3 name=__codelineno-93-3 href=#__codelineno-93-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-93-4 name=__codelineno-93-4 href=#__codelineno-93-4></a>
<a id=__codelineno-93-5 name=__codelineno-93-5 href=#__codelineno-93-5></a><span class=kd>type</span><span class=w> </span><span class=nx>Engine</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-93-6 name=__codelineno-93-6 href=#__codelineno-93-6></a><span class=w>    </span><span class=nx>Run</span><span class=p>()</span>
<a id=__codelineno-93-7 name=__codelineno-93-7 href=#__codelineno-93-7></a><span class=w>    </span><span class=nx>Stop</span><span class=p>()</span>
<a id=__codelineno-93-8 name=__codelineno-93-8 href=#__codelineno-93-8></a><span class=p>}</span>
<a id=__codelineno-93-9 name=__codelineno-93-9 href=#__codelineno-93-9></a>
<a id=__codelineno-93-10 name=__codelineno-93-10 href=#__codelineno-93-10></a><span class=kd>type</span><span class=w> </span><span class=nx>Bus</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-93-11 name=__codelineno-93-11 href=#__codelineno-93-11></a><span class=w>    </span><span class=nx>Engine</span>
<a id=__codelineno-93-12 name=__codelineno-93-12 href=#__codelineno-93-12></a><span class=p>}</span>
<a id=__codelineno-93-13 name=__codelineno-93-13 href=#__codelineno-93-13></a>
<a id=__codelineno-93-14 name=__codelineno-93-14 href=#__codelineno-93-14></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>c</span><span class=w> </span><span class=o>*</span><span class=nx>Bus</span><span class=p>)</span><span class=w> </span><span class=nx>Working</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-93-15 name=__codelineno-93-15 href=#__codelineno-93-15></a><span class=w>    </span><span class=nx>c</span><span class=p>.</span><span class=nx>Run</span><span class=p>()</span>
<a id=__codelineno-93-16 name=__codelineno-93-16 href=#__codelineno-93-16></a><span class=w>    </span><span class=nx>c</span><span class=p>.</span><span class=nx>Stop</span><span class=p>()</span>
<a id=__codelineno-93-17 name=__codelineno-93-17 href=#__codelineno-93-17></a><span class=p>}</span>
<a id=__codelineno-93-18 name=__codelineno-93-18 href=#__codelineno-93-18></a>
<a id=__codelineno-93-19 name=__codelineno-93-19 href=#__codelineno-93-19></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>c</span><span class=w> </span><span class=o>*</span><span class=nx>Bus</span><span class=p>)</span><span class=w> </span><span class=nx>Run</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-93-20 name=__codelineno-93-20 href=#__codelineno-93-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;running...........&quot;</span><span class=p>)</span>
<a id=__codelineno-93-21 name=__codelineno-93-21 href=#__codelineno-93-21></a><span class=p>}</span>
<a id=__codelineno-93-22 name=__codelineno-93-22 href=#__codelineno-93-22></a>
<a id=__codelineno-93-23 name=__codelineno-93-23 href=#__codelineno-93-23></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>c</span><span class=w> </span><span class=o>*</span><span class=nx>Bus</span><span class=p>)</span><span class=w> </span><span class=nx>Stop</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-93-24 name=__codelineno-93-24 href=#__codelineno-93-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Stopping...........&quot;</span><span class=p>)</span>
<a id=__codelineno-93-25 name=__codelineno-93-25 href=#__codelineno-93-25></a><span class=p>}</span>
<a id=__codelineno-93-26 name=__codelineno-93-26 href=#__codelineno-93-26></a>
<a id=__codelineno-93-27 name=__codelineno-93-27 href=#__codelineno-93-27></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-93-28 name=__codelineno-93-28 href=#__codelineno-93-28></a><span class=w>    </span><span class=nx>nEw_Name</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>new</span><span class=p>(</span><span class=nx>Bus</span><span class=p>)</span>
<a id=__codelineno-93-29 name=__codelineno-93-29 href=#__codelineno-93-29></a><span class=w>    </span><span class=nx>nEw_Name</span><span class=p>.</span><span class=nx>Run</span><span class=p>()</span>
<a id=__codelineno-93-30 name=__codelineno-93-30 href=#__codelineno-93-30></a><span class=w>    </span><span class=nx>nEw_Name</span><span class=p>.</span><span class=nx>Stop</span><span class=p>()</span>
<a id=__codelineno-93-31 name=__codelineno-93-31 href=#__codelineno-93-31></a><span class=p>}</span>
</code></pre></div></p> <h3 id=83-多态>8.3 多态<a class=headerlink href=#83-多态 title="Permanent link">&para;</a></h3> <p>多态指不同对象中同种行为的不同实现方法，通过接口实现。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a>
<a id=__codelineno-94-3 name=__codelineno-94-3 href=#__codelineno-94-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-94-4 name=__codelineno-94-4 href=#__codelineno-94-4></a>
<a id=__codelineno-94-5 name=__codelineno-94-5 href=#__codelineno-94-5></a><span class=c1>// 现状接口</span>
<a id=__codelineno-94-6 name=__codelineno-94-6 href=#__codelineno-94-6></a><span class=kd>type</span><span class=w> </span><span class=nx>Shape</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-7 name=__codelineno-94-7 href=#__codelineno-94-7></a><span class=w>    </span><span class=nx>Area</span><span class=p>()</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-94-8 name=__codelineno-94-8 href=#__codelineno-94-8></a><span class=p>}</span>
<a id=__codelineno-94-9 name=__codelineno-94-9 href=#__codelineno-94-9></a>
<a id=__codelineno-94-10 name=__codelineno-94-10 href=#__codelineno-94-10></a><span class=c1>// 正方形</span>
<a id=__codelineno-94-11 name=__codelineno-94-11 href=#__codelineno-94-11></a><span class=kd>type</span><span class=w> </span><span class=nx>Square</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-12 name=__codelineno-94-12 href=#__codelineno-94-12></a><span class=w>    </span><span class=nx>sideLen</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-94-13 name=__codelineno-94-13 href=#__codelineno-94-13></a><span class=p>}</span>
<a id=__codelineno-94-14 name=__codelineno-94-14 href=#__codelineno-94-14></a>
<a id=__codelineno-94-15 name=__codelineno-94-15 href=#__codelineno-94-15></a><span class=c1>// 三角形</span>
<a id=__codelineno-94-16 name=__codelineno-94-16 href=#__codelineno-94-16></a><span class=kd>type</span><span class=w> </span><span class=nx>Triangle</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-17 name=__codelineno-94-17 href=#__codelineno-94-17></a><span class=w>    </span><span class=nx>Bottom</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-94-18 name=__codelineno-94-18 href=#__codelineno-94-18></a><span class=w>    </span><span class=nx>Height</span><span class=w> </span><span class=kt>float32</span>
<a id=__codelineno-94-19 name=__codelineno-94-19 href=#__codelineno-94-19></a><span class=p>}</span>
<a id=__codelineno-94-20 name=__codelineno-94-20 href=#__codelineno-94-20></a>
<a id=__codelineno-94-21 name=__codelineno-94-21 href=#__codelineno-94-21></a><span class=c1>// 正方形计算面积的方法</span>
<a id=__codelineno-94-22 name=__codelineno-94-22 href=#__codelineno-94-22></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>sq</span><span class=w> </span><span class=nx>Square</span><span class=p>)</span><span class=w> </span><span class=nx>Area</span><span class=p>()</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-23 name=__codelineno-94-23 href=#__codelineno-94-23></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>sq</span><span class=p>.</span><span class=nx>sideLen</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>sq</span><span class=p>.</span><span class=nx>sideLen</span>
<a id=__codelineno-94-24 name=__codelineno-94-24 href=#__codelineno-94-24></a><span class=p>}</span>
<a id=__codelineno-94-25 name=__codelineno-94-25 href=#__codelineno-94-25></a>
<a id=__codelineno-94-26 name=__codelineno-94-26 href=#__codelineno-94-26></a><span class=c1>// 三角形计算面积的方法</span>
<a id=__codelineno-94-27 name=__codelineno-94-27 href=#__codelineno-94-27></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=nx>Triangle</span><span class=p>)</span><span class=w> </span><span class=nx>Area</span><span class=p>()</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-28 name=__codelineno-94-28 href=#__codelineno-94-28></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Bottom</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Height</span>
<a id=__codelineno-94-29 name=__codelineno-94-29 href=#__codelineno-94-29></a><span class=p>}</span>
<a id=__codelineno-94-30 name=__codelineno-94-30 href=#__codelineno-94-30></a>
<a id=__codelineno-94-31 name=__codelineno-94-31 href=#__codelineno-94-31></a><span class=c1>// 多态函数，传入接口根据接口实现相对于的方法</span>
<a id=__codelineno-94-32 name=__codelineno-94-32 href=#__codelineno-94-32></a><span class=kd>func</span><span class=w> </span><span class=nx>Polymorphism</span><span class=p>(</span><span class=nx>n</span><span class=w> </span><span class=nx>Shape</span><span class=p>)</span><span class=w> </span><span class=kt>float32</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-33 name=__codelineno-94-33 href=#__codelineno-94-33></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>n</span><span class=p>.</span><span class=nx>Area</span><span class=p>()</span>
<a id=__codelineno-94-34 name=__codelineno-94-34 href=#__codelineno-94-34></a><span class=p>}</span>
<a id=__codelineno-94-35 name=__codelineno-94-35 href=#__codelineno-94-35></a>
<a id=__codelineno-94-36 name=__codelineno-94-36 href=#__codelineno-94-36></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-37 name=__codelineno-94-37 href=#__codelineno-94-37></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Triangle</span><span class=p>{</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>}</span>
<a id=__codelineno-94-38 name=__codelineno-94-38 href=#__codelineno-94-38></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Square</span><span class=p>{</span><span class=mi>8</span><span class=p>}</span>
<a id=__codelineno-94-39 name=__codelineno-94-39 href=#__codelineno-94-39></a>
<a id=__codelineno-94-40 name=__codelineno-94-40 href=#__codelineno-94-40></a><span class=w>    </span><span class=nx>shapes</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nx>Shape</span><span class=p>{</span><span class=nx>t</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>}</span>
<a id=__codelineno-94-41 name=__codelineno-94-41 href=#__codelineno-94-41></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>n</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>shapes</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-42 name=__codelineno-94-42 href=#__codelineno-94-42></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;图形数据：&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>shapes</span><span class=p>[</span><span class=nx>n</span><span class=p>])</span>
<a id=__codelineno-94-43 name=__codelineno-94-43 href=#__codelineno-94-43></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;面积：&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>shapes</span><span class=p>[</span><span class=nx>n</span><span class=p>].</span><span class=nx>Area</span><span class=p>())</span>
<a id=__codelineno-94-44 name=__codelineno-94-44 href=#__codelineno-94-44></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-94-45 name=__codelineno-94-45 href=#__codelineno-94-45></a>
<a id=__codelineno-94-46 name=__codelineno-94-46 href=#__codelineno-94-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-94-47 name=__codelineno-94-47 href=#__codelineno-94-47></a><span class=w>    </span><span class=nx>t1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Polymorphism</span><span class=p>(</span><span class=nx>t</span><span class=p>)</span>
<a id=__codelineno-94-48 name=__codelineno-94-48 href=#__codelineno-94-48></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Polymorphism</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span>
<a id=__codelineno-94-49 name=__codelineno-94-49 href=#__codelineno-94-49></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>t1</span><span class=p>)</span>
<a id=__codelineno-94-50 name=__codelineno-94-50 href=#__codelineno-94-50></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-94-51 name=__codelineno-94-51 href=#__codelineno-94-51></a><span class=p>}</span>
</code></pre></div> <h2 id=9接口>9.接口<a class=headerlink href=#9接口 title="Permanent link">&para;</a></h2> <h3 id=91-接口定义>9.1 接口定义<a class=headerlink href=#91-接口定义 title="Permanent link">&para;</a></h3> <p>接口类型是对其他类型行为的概括与抽象，定义了零及以上个方法，但没具体实现这些方法。 接口本质上是指针类型，可以实现多态。</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a>//接口定义格式
<a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a>type 接口名称 interface {
<a id=__codelineno-95-3 name=__codelineno-95-3 href=#__codelineno-95-3></a>    method1(参数列表) 返回值列表
<a id=__codelineno-95-4 name=__codelineno-95-4 href=#__codelineno-95-4></a>    method2(参数列表) 返回值列表
<a id=__codelineno-95-5 name=__codelineno-95-5 href=#__codelineno-95-5></a>    //...
<a id=__codelineno-95-6 name=__codelineno-95-6 href=#__codelineno-95-6></a>    methodn(参数列表) 返回值列表
<a id=__codelineno-95-7 name=__codelineno-95-7 href=#__codelineno-95-7></a>}
</code></pre></div> 空接口（interface{}），无任何方法声明，类似面向对象中的根类型，c中的void*，默认值nil。 实现接口的类型支持相等运算，才能比较。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class=kd>var</span><span class=w> </span><span class=nx>var1</span><span class=p>,</span><span class=w> </span><span class=nx>var2</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span>
<a id=__codelineno-96-2 name=__codelineno-96-2 href=#__codelineno-96-2></a><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>var1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>var1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>var2</span><span class=p>)</span>
<a id=__codelineno-96-3 name=__codelineno-96-3 href=#__codelineno-96-3></a>
<a id=__codelineno-96-4 name=__codelineno-96-4 href=#__codelineno-96-4></a><span class=nx>var1</span><span class=p>,</span><span class=w> </span><span class=nx>var2</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>66</span><span class=p>,</span><span class=w> </span><span class=mi>88</span>
<a id=__codelineno-96-5 name=__codelineno-96-5 href=#__codelineno-96-5></a><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>var1</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>var2</span><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class=c1>//比较map[string]interface{}</span>
<a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a><span class=kd>func</span><span class=w> </span><span class=nx>CompareTwoMapInterface</span><span class=p>(</span><span class=nx>data1</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kd>interface</span><span class=p>{},</span><span class=w> </span><span class=nx>data2</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kd>interface</span><span class=p>{})</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-97-3 name=__codelineno-97-3 href=#__codelineno-97-3></a><span class=w>    </span><span class=nx>keySlice</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-97-4 name=__codelineno-97-4 href=#__codelineno-97-4></a><span class=w>    </span><span class=nx>dataSlice1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kd>interface</span><span class=p>{},</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-97-5 name=__codelineno-97-5 href=#__codelineno-97-5></a><span class=w>    </span><span class=nx>dataSlice2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kd>interface</span><span class=p>{},</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-97-6 name=__codelineno-97-6 href=#__codelineno-97-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>key</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>data1</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-97-7 name=__codelineno-97-7 href=#__codelineno-97-7></a><span class=w>        </span><span class=nx>keySlice</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>keySlice</span><span class=p>,</span><span class=w> </span><span class=nx>key</span><span class=p>)</span>
<a id=__codelineno-97-8 name=__codelineno-97-8 href=#__codelineno-97-8></a><span class=w>        </span><span class=nx>dataSlice1</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>dataSlice1</span><span class=p>,</span><span class=w> </span><span class=nx>value</span><span class=p>)</span>
<a id=__codelineno-97-9 name=__codelineno-97-9 href=#__codelineno-97-9></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-97-10 name=__codelineno-97-10 href=#__codelineno-97-10></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>key</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>keySlice</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-97-11 name=__codelineno-97-11 href=#__codelineno-97-11></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>data</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>data2</span><span class=p>[</span><span class=nx>key</span><span class=p>];</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-97-12 name=__codelineno-97-12 href=#__codelineno-97-12></a><span class=w>            </span><span class=nx>dataSlice2</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>dataSlice2</span><span class=p>,</span><span class=w> </span><span class=nx>data</span><span class=p>)</span>
<a id=__codelineno-97-13 name=__codelineno-97-13 href=#__codelineno-97-13></a><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-97-14 name=__codelineno-97-14 href=#__codelineno-97-14></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=kc>false</span>
<a id=__codelineno-97-15 name=__codelineno-97-15 href=#__codelineno-97-15></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-97-16 name=__codelineno-97-16 href=#__codelineno-97-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-97-17 name=__codelineno-97-17 href=#__codelineno-97-17></a><span class=w>    </span><span class=nx>dataStr1</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=nx>dataSlice1</span><span class=p>)</span>
<a id=__codelineno-97-18 name=__codelineno-97-18 href=#__codelineno-97-18></a><span class=w>    </span><span class=nx>dataStr2</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=nx>dataSlice2</span><span class=p>)</span>
<a id=__codelineno-97-19 name=__codelineno-97-19 href=#__codelineno-97-19></a>
<a id=__codelineno-97-20 name=__codelineno-97-20 href=#__codelineno-97-20></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>dataStr1</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>dataStr2</span><span class=p>)</span>
<a id=__codelineno-97-21 name=__codelineno-97-21 href=#__codelineno-97-21></a><span class=p>}</span>
</code></pre></div> <h3 id=92-接口赋值>9.2 接口赋值<a class=headerlink href=#92-接口赋值 title="Permanent link">&para;</a></h3> <p>接口不支持直接实例化，但支持赋值操作。</p> <h4 id=1实现接口的对象实例赋值给接口>1.实现接口的对象实例赋值给接口<a class=headerlink href=#1实现接口的对象实例赋值给接口 title="Permanent link">&para;</a></h4> <p>要求该对象实例实现了接口的所有方法。 <div class=highlight><pre><span></span><code><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Num</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a>
<a id=__codelineno-98-3 name=__codelineno-98-3 href=#__codelineno-98-3></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-98-4 name=__codelineno-98-4 href=#__codelineno-98-4></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-98-5 name=__codelineno-98-5 href=#__codelineno-98-5></a><span class=p>}</span>
<a id=__codelineno-98-6 name=__codelineno-98-6 href=#__codelineno-98-6></a>
<a id=__codelineno-98-7 name=__codelineno-98-7 href=#__codelineno-98-7></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-98-8 name=__codelineno-98-8 href=#__codelineno-98-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-98-9 name=__codelineno-98-9 href=#__codelineno-98-9></a><span class=p>}</span>
<a id=__codelineno-98-10 name=__codelineno-98-10 href=#__codelineno-98-10></a>
<a id=__codelineno-98-11 name=__codelineno-98-11 href=#__codelineno-98-11></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>MoreThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-98-12 name=__codelineno-98-12 href=#__codelineno-98-12></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-98-13 name=__codelineno-98-13 href=#__codelineno-98-13></a><span class=p>}</span>
<a id=__codelineno-98-14 name=__codelineno-98-14 href=#__codelineno-98-14></a>
<a id=__codelineno-98-15 name=__codelineno-98-15 href=#__codelineno-98-15></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=o>*</span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>Multiple</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-98-16 name=__codelineno-98-16 href=#__codelineno-98-16></a><span class=w>    </span><span class=o>*</span><span class=nx>x</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>x</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-98-17 name=__codelineno-98-17 href=#__codelineno-98-17></a><span class=p>}</span>
<a id=__codelineno-98-18 name=__codelineno-98-18 href=#__codelineno-98-18></a>
<a id=__codelineno-98-19 name=__codelineno-98-19 href=#__codelineno-98-19></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=o>*</span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>Divide</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-98-20 name=__codelineno-98-20 href=#__codelineno-98-20></a><span class=w>    </span><span class=o>*</span><span class=nx>x</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>x</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-98-21 name=__codelineno-98-21 href=#__codelineno-98-21></a><span class=p>}</span>
<a id=__codelineno-98-22 name=__codelineno-98-22 href=#__codelineno-98-22></a>
<a id=__codelineno-98-23 name=__codelineno-98-23 href=#__codelineno-98-23></a><span class=kd>type</span><span class=w> </span><span class=nx>NumI</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-98-24 name=__codelineno-98-24 href=#__codelineno-98-24></a><span class=w>    </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-98-25 name=__codelineno-98-25 href=#__codelineno-98-25></a><span class=w>    </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-98-26 name=__codelineno-98-26 href=#__codelineno-98-26></a><span class=w>    </span><span class=nx>MoreThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-98-27 name=__codelineno-98-27 href=#__codelineno-98-27></a><span class=w>    </span><span class=nx>Multiple</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span>
<a id=__codelineno-98-28 name=__codelineno-98-28 href=#__codelineno-98-28></a><span class=w>    </span><span class=nx>Divide</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span>
<a id=__codelineno-98-29 name=__codelineno-98-29 href=#__codelineno-98-29></a><span class=p>}</span>
<a id=__codelineno-98-30 name=__codelineno-98-30 href=#__codelineno-98-30></a>
<a id=__codelineno-98-31 name=__codelineno-98-31 href=#__codelineno-98-31></a><span class=c1>//&amp;Num实现NumI所有方法</span>
<a id=__codelineno-98-32 name=__codelineno-98-32 href=#__codelineno-98-32></a><span class=c1>//Num未实现NumI所有方法</span>
<a id=__codelineno-98-33 name=__codelineno-98-33 href=#__codelineno-98-33></a><span class=kd>var</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>8</span>
<a id=__codelineno-98-34 name=__codelineno-98-34 href=#__codelineno-98-34></a><span class=kd>var</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=nx>NumI</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>x</span>
<a id=__codelineno-98-35 name=__codelineno-98-35 href=#__codelineno-98-35></a>
<a id=__codelineno-98-36 name=__codelineno-98-36 href=#__codelineno-98-36></a><span class=cm>/*</span>
<a id=__codelineno-98-37 name=__codelineno-98-37 href=#__codelineno-98-37></a><span class=cm>Go语言会根据非指针成员方法，自动生成对应的指针成员方法</span>
<a id=__codelineno-98-38 name=__codelineno-98-38 href=#__codelineno-98-38></a><span class=cm>func (x Num) Equal(i Num) bool</span>
<a id=__codelineno-98-39 name=__codelineno-98-39 href=#__codelineno-98-39></a><span class=cm>func (x *Num) Equal(i Num) bool</span>
<a id=__codelineno-98-40 name=__codelineno-98-40 href=#__codelineno-98-40></a><span class=cm>*/</span>
</code></pre></div></p> <h4 id=2一个接口赋值给另一个接口>2.一个接口赋值给另一个接口<a class=headerlink href=#2一个接口赋值给另一个接口 title="Permanent link">&para;</a></h4> <p>两个接口拥有相同的方法列表（与顺序无关），则等同，可相互赋值。 <div class=highlight><pre><span></span><code><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a><span class=kn>package</span><span class=w> </span><span class=nx>oop1</span>
<a id=__codelineno-99-2 name=__codelineno-99-2 href=#__codelineno-99-2></a>
<a id=__codelineno-99-3 name=__codelineno-99-3 href=#__codelineno-99-3></a><span class=kd>type</span><span class=w> </span><span class=nx>NumInterface1</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-99-4 name=__codelineno-99-4 href=#__codelineno-99-4></a><span class=w>    </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-99-5 name=__codelineno-99-5 href=#__codelineno-99-5></a><span class=w>    </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-99-6 name=__codelineno-99-6 href=#__codelineno-99-6></a><span class=w>    </span><span class=nx>BiggerThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-99-7 name=__codelineno-99-7 href=#__codelineno-99-7></a><span class=p>}</span>
<a id=__codelineno-99-8 name=__codelineno-99-8 href=#__codelineno-99-8></a>
<a id=__codelineno-99-9 name=__codelineno-99-9 href=#__codelineno-99-9></a><span class=kn>package</span><span class=w> </span><span class=nx>oop2</span>
<a id=__codelineno-99-10 name=__codelineno-99-10 href=#__codelineno-99-10></a>
<a id=__codelineno-99-11 name=__codelineno-99-11 href=#__codelineno-99-11></a><span class=kd>type</span><span class=w> </span><span class=nx>NumInterface2</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-99-12 name=__codelineno-99-12 href=#__codelineno-99-12></a><span class=w>    </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-99-13 name=__codelineno-99-13 href=#__codelineno-99-13></a><span class=w>    </span><span class=nx>BiggerThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-99-14 name=__codelineno-99-14 href=#__codelineno-99-14></a><span class=w>    </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-99-15 name=__codelineno-99-15 href=#__codelineno-99-15></a><span class=p>}</span>
<a id=__codelineno-99-16 name=__codelineno-99-16 href=#__codelineno-99-16></a>
<a id=__codelineno-99-17 name=__codelineno-99-17 href=#__codelineno-99-17></a><span class=kd>type</span><span class=w> </span><span class=nx>Num</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-99-18 name=__codelineno-99-18 href=#__codelineno-99-18></a>
<a id=__codelineno-99-19 name=__codelineno-99-19 href=#__codelineno-99-19></a><span class=c1>//int不能改为Num</span>
<a id=__codelineno-99-20 name=__codelineno-99-20 href=#__codelineno-99-20></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-99-21 name=__codelineno-99-21 href=#__codelineno-99-21></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-99-22 name=__codelineno-99-22 href=#__codelineno-99-22></a><span class=p>}</span>
<a id=__codelineno-99-23 name=__codelineno-99-23 href=#__codelineno-99-23></a>
<a id=__codelineno-99-24 name=__codelineno-99-24 href=#__codelineno-99-24></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-99-25 name=__codelineno-99-25 href=#__codelineno-99-25></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-99-26 name=__codelineno-99-26 href=#__codelineno-99-26></a><span class=p>}</span>
<a id=__codelineno-99-27 name=__codelineno-99-27 href=#__codelineno-99-27></a>
<a id=__codelineno-99-28 name=__codelineno-99-28 href=#__codelineno-99-28></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>BiggerThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-99-29 name=__codelineno-99-29 href=#__codelineno-99-29></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-99-30 name=__codelineno-99-30 href=#__codelineno-99-30></a><span class=p>}</span>
<a id=__codelineno-99-31 name=__codelineno-99-31 href=#__codelineno-99-31></a>
<a id=__codelineno-99-32 name=__codelineno-99-32 href=#__codelineno-99-32></a><span class=kd>var</span><span class=w> </span><span class=nx>f1</span><span class=w> </span><span class=nx>Num</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span>
<a id=__codelineno-99-33 name=__codelineno-99-33 href=#__codelineno-99-33></a><span class=kd>var</span><span class=w> </span><span class=nx>f2</span><span class=w> </span><span class=nx>oop1</span><span class=p>.</span><span class=nx>NumInterface1</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>f1</span>
<a id=__codelineno-99-34 name=__codelineno-99-34 href=#__codelineno-99-34></a><span class=kd>var</span><span class=w> </span><span class=nx>f3</span><span class=w> </span><span class=nx>oop2</span><span class=p>.</span><span class=nx>NumInterface2</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>f2</span>
</code></pre></div></p> <p>若接口A的方法列表是接口B的方法列表的子集，则接口B可以直接赋值给接口A。 <div class=highlight><pre><span></span><code><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class=kd>type</span><span class=w> </span><span class=nx>NumInterface1</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a><span class=w>    </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a><span class=w>    </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-100-4 name=__codelineno-100-4 href=#__codelineno-100-4></a><span class=w>    </span><span class=nx>BiggerThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-100-5 name=__codelineno-100-5 href=#__codelineno-100-5></a><span class=p>}</span>
<a id=__codelineno-100-6 name=__codelineno-100-6 href=#__codelineno-100-6></a>
<a id=__codelineno-100-7 name=__codelineno-100-7 href=#__codelineno-100-7></a><span class=kd>type</span><span class=w> </span><span class=nx>NumInterface2</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-8 name=__codelineno-100-8 href=#__codelineno-100-8></a><span class=w>    </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-100-9 name=__codelineno-100-9 href=#__codelineno-100-9></a><span class=w>    </span><span class=nx>BiggerThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-100-10 name=__codelineno-100-10 href=#__codelineno-100-10></a><span class=w>    </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span>
<a id=__codelineno-100-11 name=__codelineno-100-11 href=#__codelineno-100-11></a><span class=w>    </span><span class=nx>Sum</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-100-12 name=__codelineno-100-12 href=#__codelineno-100-12></a><span class=p>}</span>
<a id=__codelineno-100-13 name=__codelineno-100-13 href=#__codelineno-100-13></a>
<a id=__codelineno-100-14 name=__codelineno-100-14 href=#__codelineno-100-14></a><span class=kd>type</span><span class=w> </span><span class=nx>Num</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-100-15 name=__codelineno-100-15 href=#__codelineno-100-15></a>
<a id=__codelineno-100-16 name=__codelineno-100-16 href=#__codelineno-100-16></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>Equal</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-17 name=__codelineno-100-17 href=#__codelineno-100-17></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-100-18 name=__codelineno-100-18 href=#__codelineno-100-18></a><span class=p>}</span>
<a id=__codelineno-100-19 name=__codelineno-100-19 href=#__codelineno-100-19></a>
<a id=__codelineno-100-20 name=__codelineno-100-20 href=#__codelineno-100-20></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>LessThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-21 name=__codelineno-100-21 href=#__codelineno-100-21></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-100-22 name=__codelineno-100-22 href=#__codelineno-100-22></a><span class=p>}</span>
<a id=__codelineno-100-23 name=__codelineno-100-23 href=#__codelineno-100-23></a>
<a id=__codelineno-100-24 name=__codelineno-100-24 href=#__codelineno-100-24></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>BiggerThan</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-25 name=__codelineno-100-25 href=#__codelineno-100-25></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>int</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-100-26 name=__codelineno-100-26 href=#__codelineno-100-26></a><span class=p>}</span>
<a id=__codelineno-100-27 name=__codelineno-100-27 href=#__codelineno-100-27></a>
<a id=__codelineno-100-28 name=__codelineno-100-28 href=#__codelineno-100-28></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>x</span><span class=w> </span><span class=o>*</span><span class=nx>Num</span><span class=p>)</span><span class=w> </span><span class=nx>Sum</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-29 name=__codelineno-100-29 href=#__codelineno-100-29></a><span class=w>    </span><span class=o>*</span><span class=nx>x</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>*</span><span class=nx>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>Num</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-100-30 name=__codelineno-100-30 href=#__codelineno-100-30></a><span class=p>}</span>
<a id=__codelineno-100-31 name=__codelineno-100-31 href=#__codelineno-100-31></a>
<a id=__codelineno-100-32 name=__codelineno-100-32 href=#__codelineno-100-32></a><span class=kd>var</span><span class=w> </span><span class=nx>f1</span><span class=w> </span><span class=nx>Num</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>6</span>
<a id=__codelineno-100-33 name=__codelineno-100-33 href=#__codelineno-100-33></a><span class=kd>var</span><span class=w> </span><span class=nx>f2</span><span class=w> </span><span class=nx>NumInterface2</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>f1</span>
<a id=__codelineno-100-34 name=__codelineno-100-34 href=#__codelineno-100-34></a><span class=kd>var</span><span class=w> </span><span class=nx>f3</span><span class=w> </span><span class=nx>NumInterface1</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>f2</span>
</code></pre></div></p> <h3 id=93-接口查询>9.3 接口查询<a class=headerlink href=#93-接口查询 title="Permanent link">&para;</a></h3> <p>程序运行时，询问接口指向的对象是否时某个类型。 <div class=highlight><pre><span></span><code><a id=__codelineno-101-1 name=__codelineno-101-1 href=#__codelineno-101-1></a>var filewriter Write = ...
<a id=__codelineno-101-2 name=__codelineno-101-2 href=#__codelineno-101-2></a>if filew, ok := filewriter.(*File); ok {
<a id=__codelineno-101-3 name=__codelineno-101-3 href=#__codelineno-101-3></a>    //...
<a id=__codelineno-101-4 name=__codelineno-101-4 href=#__codelineno-101-4></a>}
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-102-1 name=__codelineno-102-1 href=#__codelineno-102-1></a><span class=nx>slice</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-102-2 name=__codelineno-102-2 href=#__codelineno-102-2></a><span class=nx>slice</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>slice</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>)</span>
<a id=__codelineno-102-3 name=__codelineno-102-3 href=#__codelineno-102-3></a><span class=kd>var</span><span class=w> </span><span class=nx>I</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>slice</span>
<a id=__codelineno-102-4 name=__codelineno-102-4 href=#__codelineno-102-4></a><span class=k>if</span><span class=w> </span><span class=nx>res</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>I</span><span class=p>.([]</span><span class=kt>int</span><span class=p>);</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-102-5 name=__codelineno-102-5 href=#__codelineno-102-5></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span><span class=w> </span><span class=c1>//[6 7 8]</span>
<a id=__codelineno-102-6 name=__codelineno-102-6 href=#__codelineno-102-6></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>ok</span><span class=p>)</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-102-7 name=__codelineno-102-7 href=#__codelineno-102-7></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-103-1 name=__codelineno-103-1 href=#__codelineno-103-1></a><span class=kd>func</span><span class=w> </span><span class=nx>Len</span><span class=p>(</span><span class=nx>array</span><span class=w> </span><span class=kd>interface</span><span class=p>{})</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-103-2 name=__codelineno-103-2 href=#__codelineno-103-2></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>length</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-103-3 name=__codelineno-103-3 href=#__codelineno-103-3></a>
<a id=__codelineno-103-4 name=__codelineno-103-4 href=#__codelineno-103-4></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>array</span><span class=p>.(</span><span class=kd>type</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-103-5 name=__codelineno-103-5 href=#__codelineno-103-5></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=kc>nil</span><span class=p>:</span>
<a id=__codelineno-103-6 name=__codelineno-103-6 href=#__codelineno-103-6></a><span class=w>        </span><span class=nx>length</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-103-7 name=__codelineno-103-7 href=#__codelineno-103-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>:</span>
<a id=__codelineno-103-8 name=__codelineno-103-8 href=#__codelineno-103-8></a><span class=w>        </span><span class=nx>length</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-103-9 name=__codelineno-103-9 href=#__codelineno-103-9></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>:</span>
<a id=__codelineno-103-10 name=__codelineno-103-10 href=#__codelineno-103-10></a><span class=w>        </span><span class=nx>length</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-103-11 name=__codelineno-103-11 href=#__codelineno-103-11></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=p>[]</span><span class=kt>float32</span><span class=p>:</span>
<a id=__codelineno-103-12 name=__codelineno-103-12 href=#__codelineno-103-12></a><span class=w>        </span><span class=nx>length</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-103-13 name=__codelineno-103-13 href=#__codelineno-103-13></a><span class=w>    </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-103-14 name=__codelineno-103-14 href=#__codelineno-103-14></a><span class=w>        </span><span class=nx>length</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-103-15 name=__codelineno-103-15 href=#__codelineno-103-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-103-16 name=__codelineno-103-16 href=#__codelineno-103-16></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>length</span>
<a id=__codelineno-103-17 name=__codelineno-103-17 href=#__codelineno-103-17></a><span class=p>}</span>
</code></pre></div> <h3 id=94-接口组合>9.4 接口组合<a class=headerlink href=#94-接口组合 title="Permanent link">&para;</a></h3> <p>接口间通过嵌套创造出新接口。 <div class=highlight><pre><span></span><code><a id=__codelineno-104-1 name=__codelineno-104-1 href=#__codelineno-104-1></a><span class=kd>type</span><span class=w> </span><span class=nx>Interface1</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-2 name=__codelineno-104-2 href=#__codelineno-104-2></a><span class=w>    </span><span class=nx>Write</span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>n</span><span class=w> </span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=kt>error</span><span class=p>)</span>
<a id=__codelineno-104-3 name=__codelineno-104-3 href=#__codelineno-104-3></a><span class=p>}</span>
<a id=__codelineno-104-4 name=__codelineno-104-4 href=#__codelineno-104-4></a>
<a id=__codelineno-104-5 name=__codelineno-104-5 href=#__codelineno-104-5></a><span class=kd>type</span><span class=w> </span><span class=nx>Interface2</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-6 name=__codelineno-104-6 href=#__codelineno-104-6></a><span class=w>    </span><span class=nx>Close</span><span class=p>()</span><span class=w> </span><span class=kt>error</span>
<a id=__codelineno-104-7 name=__codelineno-104-7 href=#__codelineno-104-7></a><span class=p>}</span>
<a id=__codelineno-104-8 name=__codelineno-104-8 href=#__codelineno-104-8></a>
<a id=__codelineno-104-9 name=__codelineno-104-9 href=#__codelineno-104-9></a><span class=kd>type</span><span class=w> </span><span class=nx>InterfaceCombine</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-10 name=__codelineno-104-10 href=#__codelineno-104-10></a><span class=w>    </span><span class=nx>Interface1</span>
<a id=__codelineno-104-11 name=__codelineno-104-11 href=#__codelineno-104-11></a><span class=w>    </span><span class=nx>Interface2</span>
<a id=__codelineno-104-12 name=__codelineno-104-12 href=#__codelineno-104-12></a><span class=p>}</span>
</code></pre></div></p> <h3 id=95-接口应用>9.5 接口应用<a class=headerlink href=#95-接口应用 title="Permanent link">&para;</a></h3> <h4 id=1类型推断>1.类型推断<a class=headerlink href=#1类型推断 title="Permanent link">&para;</a></h4> <p>类型推断可将接口还原为原始类型，或用来判断是否实现了某种更具体的接口类型。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-105-1 name=__codelineno-105-1 href=#__codelineno-105-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-105-2 name=__codelineno-105-2 href=#__codelineno-105-2></a>
<a id=__codelineno-105-3 name=__codelineno-105-3 href=#__codelineno-105-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-105-4 name=__codelineno-105-4 href=#__codelineno-105-4></a>
<a id=__codelineno-105-5 name=__codelineno-105-5 href=#__codelineno-105-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-105-6 name=__codelineno-105-6 href=#__codelineno-105-6></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-105-7 name=__codelineno-105-7 href=#__codelineno-105-7></a><span class=w>        </span><span class=nx>rteurn</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;d:%d&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-105-8 name=__codelineno-105-8 href=#__codelineno-105-8></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-105-9 name=__codelineno-105-9 href=#__codelineno-105-9></a>
<a id=__codelineno-105-10 name=__codelineno-105-10 href=#__codelineno-105-10></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>a</span><span class=p>.(</span><span class=kd>type</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-105-11 name=__codelineno-105-11 href=#__codelineno-105-11></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=kc>nil</span><span class=p>:</span>
<a id=__codelineno-105-12 name=__codelineno-105-12 href=#__codelineno-105-12></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;nil&quot;</span><span class=p>)</span>
<a id=__codelineno-105-13 name=__codelineno-105-13 href=#__codelineno-105-13></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=o>*</span><span class=kt>int</span><span class=p>:</span>
<a id=__codelineno-105-14 name=__codelineno-105-14 href=#__codelineno-105-14></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=o>*</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-105-15 name=__codelineno-105-15 href=#__codelineno-105-15></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>string</span><span class=p>:</span>
<a id=__codelineno-105-16 name=__codelineno-105-16 href=#__codelineno-105-16></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>(</span><span class=mi>66</span><span class=p>))</span>
<a id=__codelineno-105-17 name=__codelineno-105-17 href=#__codelineno-105-17></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Stringer</span><span class=p>:</span>
<a id=__codelineno-105-18 name=__codelineno-105-18 href=#__codelineno-105-18></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-105-19 name=__codelineno-105-19 href=#__codelineno-105-19></a><span class=w>    </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-105-20 name=__codelineno-105-20 href=#__codelineno-105-20></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;unknown&quot;</span><span class=p>)</span>
<a id=__codelineno-105-21 name=__codelineno-105-21 href=#__codelineno-105-21></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-105-22 name=__codelineno-105-22 href=#__codelineno-105-22></a><span class=p>}</span>
</code></pre></div> <h4 id=2实现多态功能>2.实现多态功能<a class=headerlink href=#2实现多态功能 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-106-1 name=__codelineno-106-1 href=#__codelineno-106-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-106-2 name=__codelineno-106-2 href=#__codelineno-106-2></a>
<a id=__codelineno-106-3 name=__codelineno-106-3 href=#__codelineno-106-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-106-4 name=__codelineno-106-4 href=#__codelineno-106-4></a>
<a id=__codelineno-106-5 name=__codelineno-106-5 href=#__codelineno-106-5></a><span class=kd>type</span><span class=w> </span><span class=nx>Message</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-6 name=__codelineno-106-6 href=#__codelineno-106-6></a><span class=w>    </span><span class=nx>sending</span><span class=p>()</span>
<a id=__codelineno-106-7 name=__codelineno-106-7 href=#__codelineno-106-7></a><span class=p>}</span>
<a id=__codelineno-106-8 name=__codelineno-106-8 href=#__codelineno-106-8></a>
<a id=__codelineno-106-9 name=__codelineno-106-9 href=#__codelineno-106-9></a><span class=kd>type</span><span class=w> </span><span class=nx>User</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-10 name=__codelineno-106-10 href=#__codelineno-106-10></a><span class=w>    </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-106-11 name=__codelineno-106-11 href=#__codelineno-106-11></a><span class=w>    </span><span class=nx>phone</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-106-12 name=__codelineno-106-12 href=#__codelineno-106-12></a><span class=p>}</span>
<a id=__codelineno-106-13 name=__codelineno-106-13 href=#__codelineno-106-13></a>
<a id=__codelineno-106-14 name=__codelineno-106-14 href=#__codelineno-106-14></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>u</span><span class=w> </span><span class=o>*</span><span class=nx>User</span><span class=p>)</span><span class=w> </span><span class=nx>sending</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-15 name=__codelineno-106-15 href=#__codelineno-106-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;Sending user phone to %s&lt;%s&gt;\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>u</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>u</span><span class=p>.</span><span class=nx>phone</span><span class=p>)</span>
<a id=__codelineno-106-16 name=__codelineno-106-16 href=#__codelineno-106-16></a><span class=p>}</span>
<a id=__codelineno-106-17 name=__codelineno-106-17 href=#__codelineno-106-17></a>
<a id=__codelineno-106-18 name=__codelineno-106-18 href=#__codelineno-106-18></a><span class=kd>type</span><span class=w> </span><span class=nx>admin</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-19 name=__codelineno-106-19 href=#__codelineno-106-19></a><span class=w>    </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-106-20 name=__codelineno-106-20 href=#__codelineno-106-20></a><span class=w>    </span><span class=nx>phone</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-106-21 name=__codelineno-106-21 href=#__codelineno-106-21></a><span class=p>}</span>
<a id=__codelineno-106-22 name=__codelineno-106-22 href=#__codelineno-106-22></a>
<a id=__codelineno-106-23 name=__codelineno-106-23 href=#__codelineno-106-23></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>a</span><span class=w> </span><span class=o>*</span><span class=nx>admin</span><span class=p>)</span><span class=w> </span><span class=nx>sending</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-24 name=__codelineno-106-24 href=#__codelineno-106-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;Sending admin phone to %s&lt;%s&gt;\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>.</span><span class=nx>phone</span><span class=p>)</span>
<a id=__codelineno-106-25 name=__codelineno-106-25 href=#__codelineno-106-25></a><span class=p>}</span>
<a id=__codelineno-106-26 name=__codelineno-106-26 href=#__codelineno-106-26></a>
<a id=__codelineno-106-27 name=__codelineno-106-27 href=#__codelineno-106-27></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-28 name=__codelineno-106-28 href=#__codelineno-106-28></a><span class=w>    </span><span class=nx>bill</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>User</span><span class=p>{</span><span class=s>&quot;Barry&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;barry@gmail.com&quot;</span><span class=p>}</span>
<a id=__codelineno-106-29 name=__codelineno-106-29 href=#__codelineno-106-29></a><span class=w>    </span><span class=nx>sendMessage</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>bill</span><span class=p>)</span>
<a id=__codelineno-106-30 name=__codelineno-106-30 href=#__codelineno-106-30></a>
<a id=__codelineno-106-31 name=__codelineno-106-31 href=#__codelineno-106-31></a><span class=w>    </span><span class=nx>lisa</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>admin</span><span class=p>{</span><span class=s>&quot;Barry&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;barry@gmail.com&quot;</span><span class=p>}</span>
<a id=__codelineno-106-32 name=__codelineno-106-32 href=#__codelineno-106-32></a><span class=w>    </span><span class=nx>sendMessage</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>lisa</span><span class=p>)</span>
<a id=__codelineno-106-33 name=__codelineno-106-33 href=#__codelineno-106-33></a><span class=p>}</span>
<a id=__codelineno-106-34 name=__codelineno-106-34 href=#__codelineno-106-34></a>
<a id=__codelineno-106-35 name=__codelineno-106-35 href=#__codelineno-106-35></a><span class=kd>func</span><span class=w> </span><span class=nx>sendMessage</span><span class=p>(</span><span class=nx>n</span><span class=w> </span><span class=nx>Message</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-36 name=__codelineno-106-36 href=#__codelineno-106-36></a><span class=w>    </span><span class=nx>n</span><span class=p>.</span><span class=nx>sending</span><span class=p>()</span>
<a id=__codelineno-106-37 name=__codelineno-106-37 href=#__codelineno-106-37></a><span class=p>}</span>
</code></pre></div> <h2 id=10反射>10.反射<a class=headerlink href=#10反射 title="Permanent link">&para;</a></h2> <h3 id=101-反射的定义>10.1 反射的定义<a class=headerlink href=#101-反射的定义 title="Permanent link">&para;</a></h3> <p>反射指，编译时不知道变量的具体类型，运行时（Run time）可以访问、检测和修改状态或行为的能力。</p> <p>reflect包定义了接口和结构体，获取类型信息。</p> <ul> <li>reflect.Type接口提供类型信息</li> <li>reflect.Value结构体提供值相关信息，可以获取甚至改变类型的值</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-107-1 name=__codelineno-107-1 href=#__codelineno-107-1></a>func TypeOf(i interface{}) Type
<a id=__codelineno-107-2 name=__codelineno-107-2 href=#__codelineno-107-2></a>func ValueOf(i interface{}) Value
</code></pre></div> <h3 id=102-反射的三大法则>10.2 反射的三大法则<a class=headerlink href=#102-反射的三大法则 title="Permanent link">&para;</a></h3> <h4 id=1接口类型变量转换为反射类型对象>1.接口类型变量转换为反射类型对象<a class=headerlink href=#1接口类型变量转换为反射类型对象 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-108-1 name=__codelineno-108-1 href=#__codelineno-108-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-108-2 name=__codelineno-108-2 href=#__codelineno-108-2></a>
<a id=__codelineno-108-3 name=__codelineno-108-3 href=#__codelineno-108-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-108-4 name=__codelineno-108-4 href=#__codelineno-108-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-108-5 name=__codelineno-108-5 href=#__codelineno-108-5></a><span class=w>    </span><span class=s>&quot;reflect&quot;</span>
<a id=__codelineno-108-6 name=__codelineno-108-6 href=#__codelineno-108-6></a><span class=p>)</span>
<a id=__codelineno-108-7 name=__codelineno-108-7 href=#__codelineno-108-7></a>
<a id=__codelineno-108-8 name=__codelineno-108-8 href=#__codelineno-108-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-108-9 name=__codelineno-108-9 href=#__codelineno-108-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mf>3.4</span>
<a id=__codelineno-108-10 name=__codelineno-108-10 href=#__codelineno-108-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;type:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>TypeOf</span><span class=p>(</span><span class=nx>x</span><span class=p>))</span>
<a id=__codelineno-108-11 name=__codelineno-108-11 href=#__codelineno-108-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;value:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>ValueOf</span><span class=p>(</span><span class=nx>x</span><span class=p>))</span>
<a id=__codelineno-108-12 name=__codelineno-108-12 href=#__codelineno-108-12></a>
<a id=__codelineno-108-13 name=__codelineno-108-13 href=#__codelineno-108-13></a><span class=w>    </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>ValueOf</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
<a id=__codelineno-108-14 name=__codelineno-108-14 href=#__codelineno-108-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;type:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>.</span><span class=nx>Type</span><span class=p>())</span>
<a id=__codelineno-108-15 name=__codelineno-108-15 href=#__codelineno-108-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;kind is float64:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>.</span><span class=nx>Kind</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>Float64</span><span class=p>)</span>
<a id=__codelineno-108-16 name=__codelineno-108-16 href=#__codelineno-108-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;value:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>.</span><span class=nx>Float</span><span class=p>())</span>
<a id=__codelineno-108-17 name=__codelineno-108-17 href=#__codelineno-108-17></a><span class=p>}</span>
<a id=__codelineno-108-18 name=__codelineno-108-18 href=#__codelineno-108-18></a><span class=c1>//输出</span>
<a id=__codelineno-108-19 name=__codelineno-108-19 href=#__codelineno-108-19></a><span class=c1>//type: float64</span>
<a id=__codelineno-108-20 name=__codelineno-108-20 href=#__codelineno-108-20></a><span class=c1>//value: 3.4</span>
<a id=__codelineno-108-21 name=__codelineno-108-21 href=#__codelineno-108-21></a><span class=c1>//kind is float64: true</span>
<a id=__codelineno-108-22 name=__codelineno-108-22 href=#__codelineno-108-22></a><span class=c1>//type: float64</span>
<a id=__codelineno-108-23 name=__codelineno-108-23 href=#__codelineno-108-23></a><span class=c1>//value: 3.4</span>
</code></pre></div> <h4 id=2反射类型对象转换为接口类型变量>2.反射类型对象转换为接口类型变量<a class=headerlink href=#2反射类型对象转换为接口类型变量 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-109-1 name=__codelineno-109-1 href=#__codelineno-109-1></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>v</span><span class=w> </span><span class=nx>Value</span><span class=p>)</span><span class=w> </span><span class=nx>Interface</span><span class=p>()</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span>
<a id=__codelineno-109-2 name=__codelineno-109-2 href=#__codelineno-109-2></a><span class=nx>y</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>v</span><span class=p>.</span><span class=nx>Interface</span><span class=p>().(</span><span class=kt>float64</span><span class=p>)</span>
<a id=__codelineno-109-3 name=__codelineno-109-3 href=#__codelineno-109-3></a><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>y</span><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-110-1 name=__codelineno-110-1 href=#__codelineno-110-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-110-2 name=__codelineno-110-2 href=#__codelineno-110-2></a>
<a id=__codelineno-110-3 name=__codelineno-110-3 href=#__codelineno-110-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-110-4 name=__codelineno-110-4 href=#__codelineno-110-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-110-5 name=__codelineno-110-5 href=#__codelineno-110-5></a><span class=w>    </span><span class=s>&quot;reflect&quot;</span>
<a id=__codelineno-110-6 name=__codelineno-110-6 href=#__codelineno-110-6></a><span class=p>)</span>
<a id=__codelineno-110-7 name=__codelineno-110-7 href=#__codelineno-110-7></a>
<a id=__codelineno-110-8 name=__codelineno-110-8 href=#__codelineno-110-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-110-9 name=__codelineno-110-9 href=#__codelineno-110-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>name</span><span class=w> </span><span class=kd>interface</span><span class=p>{}</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;shirdon&quot;</span>
<a id=__codelineno-110-10 name=__codelineno-110-10 href=#__codelineno-110-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;原始接口变量类型为%T，值为%v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-110-11 name=__codelineno-110-11 href=#__codelineno-110-11></a>
<a id=__codelineno-110-12 name=__codelineno-110-12 href=#__codelineno-110-12></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>TypeOf</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-110-13 name=__codelineno-110-13 href=#__codelineno-110-13></a><span class=w>    </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>ValueOf</span><span class=p>(</span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-110-14 name=__codelineno-110-14 href=#__codelineno-110-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;Type类型为%T，值为%v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>t</span><span class=p>,</span><span class=w> </span><span class=nx>t</span><span class=p>)</span>
<a id=__codelineno-110-15 name=__codelineno-110-15 href=#__codelineno-110-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;Value类型为%T，值为%v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-110-16 name=__codelineno-110-16 href=#__codelineno-110-16></a>
<a id=__codelineno-110-17 name=__codelineno-110-17 href=#__codelineno-110-17></a><span class=w>    </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>v</span><span class=p>.</span><span class=nx>Interface</span><span class=p>()</span>
<a id=__codelineno-110-18 name=__codelineno-110-18 href=#__codelineno-110-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;新对象interface{}类型为%T，值为%v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-110-19 name=__codelineno-110-19 href=#__codelineno-110-19></a><span class=p>}</span>
<a id=__codelineno-110-20 name=__codelineno-110-20 href=#__codelineno-110-20></a><span class=c1>//输出</span>
<a id=__codelineno-110-21 name=__codelineno-110-21 href=#__codelineno-110-21></a><span class=c1>//原始接口变量类型为string，值为shirdon</span>
<a id=__codelineno-110-22 name=__codelineno-110-22 href=#__codelineno-110-22></a><span class=c1>//Type类型为*reflect.rtype，值为string</span>
<a id=__codelineno-110-23 name=__codelineno-110-23 href=#__codelineno-110-23></a><span class=c1>//Value类型为reflect.Value，值为shirdon</span>
<a id=__codelineno-110-24 name=__codelineno-110-24 href=#__codelineno-110-24></a><span class=c1>//新对象interface{}类型为string，值为shirdon</span>
</code></pre></div> <h4 id=3修改反射类型对象其值必须是可写的settable>3.修改反射类型对象，其值必须是可写的（settable）<a class=headerlink href=#3修改反射类型对象其值必须是可写的settable title="Permanent link">&para;</a></h4> <p>reflect.TypeOf()和reflect.ValueOf()函数中若传递的不是指针，则只是变量复制，对该反射对象修改，不会影响原始变量。 反射对象可写性要点:</p> <ul> <li>变量指针创建的反射对象</li> <li>CanSet()可判断</li> <li>Elem()返回指针指向的数据</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-111-1 name=__codelineno-111-1 href=#__codelineno-111-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-111-2 name=__codelineno-111-2 href=#__codelineno-111-2></a>
<a id=__codelineno-111-3 name=__codelineno-111-3 href=#__codelineno-111-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-111-4 name=__codelineno-111-4 href=#__codelineno-111-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-111-5 name=__codelineno-111-5 href=#__codelineno-111-5></a><span class=w>    </span><span class=s>&quot;reflect&quot;</span>
<a id=__codelineno-111-6 name=__codelineno-111-6 href=#__codelineno-111-6></a><span class=p>)</span>
<a id=__codelineno-111-7 name=__codelineno-111-7 href=#__codelineno-111-7></a>
<a id=__codelineno-111-8 name=__codelineno-111-8 href=#__codelineno-111-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-111-9 name=__codelineno-111-9 href=#__codelineno-111-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;shirdon&quot;</span>
<a id=__codelineno-111-10 name=__codelineno-111-10 href=#__codelineno-111-10></a><span class=w>    </span><span class=c1>//var name int = 12</span>
<a id=__codelineno-111-11 name=__codelineno-111-11 href=#__codelineno-111-11></a>
<a id=__codelineno-111-12 name=__codelineno-111-12 href=#__codelineno-111-12></a><span class=w>    </span><span class=nx>v1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>ValueOf</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-111-13 name=__codelineno-111-13 href=#__codelineno-111-13></a><span class=w>    </span><span class=nx>v2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>v1</span><span class=p>.</span><span class=nx>Elem</span><span class=p>()</span>
<a id=__codelineno-111-14 name=__codelineno-111-14 href=#__codelineno-111-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;可写性:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v1</span><span class=p>.</span><span class=nx>CanSet</span><span class=p>())</span>
<a id=__codelineno-111-15 name=__codelineno-111-15 href=#__codelineno-111-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;可写性:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v2</span><span class=p>.</span><span class=nx>CanSet</span><span class=p>())</span>
<a id=__codelineno-111-16 name=__codelineno-111-16 href=#__codelineno-111-16></a><span class=p>}</span>
<a id=__codelineno-111-17 name=__codelineno-111-17 href=#__codelineno-111-17></a>
<a id=__codelineno-111-18 name=__codelineno-111-18 href=#__codelineno-111-18></a><span class=c1>//输出</span>
<a id=__codelineno-111-19 name=__codelineno-111-19 href=#__codelineno-111-19></a><span class=c1>//可写性：false</span>
<a id=__codelineno-111-20 name=__codelineno-111-20 href=#__codelineno-111-20></a><span class=c1>//可写性：true</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-112-1 name=__codelineno-112-1 href=#__codelineno-112-1></a>func (v Value) SetBool(x bool)
<a id=__codelineno-112-2 name=__codelineno-112-2 href=#__codelineno-112-2></a>func (v Value) SetBytes(x []byte)
<a id=__codelineno-112-3 name=__codelineno-112-3 href=#__codelineno-112-3></a>func (v Value) SetFloat(x float64)
<a id=__codelineno-112-4 name=__codelineno-112-4 href=#__codelineno-112-4></a>func (v Value) SetInt(x int64)
<a id=__codelineno-112-5 name=__codelineno-112-5 href=#__codelineno-112-5></a>func (v Value) SetString(x string)
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-113-1 name=__codelineno-113-1 href=#__codelineno-113-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-113-2 name=__codelineno-113-2 href=#__codelineno-113-2></a>
<a id=__codelineno-113-3 name=__codelineno-113-3 href=#__codelineno-113-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-113-4 name=__codelineno-113-4 href=#__codelineno-113-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-113-5 name=__codelineno-113-5 href=#__codelineno-113-5></a><span class=w>    </span><span class=s>&quot;reflect&quot;</span>
<a id=__codelineno-113-6 name=__codelineno-113-6 href=#__codelineno-113-6></a><span class=p>)</span>
<a id=__codelineno-113-7 name=__codelineno-113-7 href=#__codelineno-113-7></a>
<a id=__codelineno-113-8 name=__codelineno-113-8 href=#__codelineno-113-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-113-9 name=__codelineno-113-9 href=#__codelineno-113-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;shirdon&quot;</span>
<a id=__codelineno-113-10 name=__codelineno-113-10 href=#__codelineno-113-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;name原始值:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-113-11 name=__codelineno-113-11 href=#__codelineno-113-11></a>
<a id=__codelineno-113-12 name=__codelineno-113-12 href=#__codelineno-113-12></a><span class=w>    </span><span class=nx>v1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>reflect</span><span class=p>.</span><span class=nx>ValueOf</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-113-13 name=__codelineno-113-13 href=#__codelineno-113-13></a><span class=w>    </span><span class=nx>v2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>v1</span><span class=p>.</span><span class=nx>Elem</span><span class=p>()</span>
<a id=__codelineno-113-14 name=__codelineno-113-14 href=#__codelineno-113-14></a>
<a id=__codelineno-113-15 name=__codelineno-113-15 href=#__codelineno-113-15></a><span class=w>    </span><span class=nx>v2</span><span class=p>.</span><span class=nx>SetString</span><span class=p>(</span><span class=s>&quot;yx&quot;</span><span class=p>)</span>
<a id=__codelineno-113-16 name=__codelineno-113-16 href=#__codelineno-113-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;反射对象修改后，name值:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-113-17 name=__codelineno-113-17 href=#__codelineno-113-17></a><span class=p>}</span>
<a id=__codelineno-113-18 name=__codelineno-113-18 href=#__codelineno-113-18></a>
<a id=__codelineno-113-19 name=__codelineno-113-19 href=#__codelineno-113-19></a><span class=c1>//输出</span>
<a id=__codelineno-113-20 name=__codelineno-113-20 href=#__codelineno-113-20></a><span class=c1>//name原始值: shirdon</span>
<a id=__codelineno-113-21 name=__codelineno-113-21 href=#__codelineno-113-21></a><span class=c1>//反射对象修改后，name值: yx</span>
</code></pre></div> <h2 id=11goroutine>11.goroutine<a class=headerlink href=#11goroutine title="Permanent link">&para;</a></h2> <p>在Go语言中，每一个并发执行的活动叫goroutine。使用go 关键字可创建goroutine。形式如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-114-1 name=__codelineno-114-1 href=#__codelineno-114-1></a><span class=k>go</span><span class=w> </span><span class=nx>func_name</span><span class=p>()</span>
</code></pre></div> <p>先将go关键字声明放到一个需要调用的函数之前，然后在相同地址空间调用运行这个函数，这样该函数执行时便会作为一个独立的并发线程。 这种线程在Go语言中则被称为goroutine。</p> <p>goroutine的使用示例如下：</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-115-1 name=__codelineno-115-1 href=#__codelineno-115-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-115-2 name=__codelineno-115-2 href=#__codelineno-115-2></a>
<a id=__codelineno-115-3 name=__codelineno-115-3 href=#__codelineno-115-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-115-4 name=__codelineno-115-4 href=#__codelineno-115-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-115-5 name=__codelineno-115-5 href=#__codelineno-115-5></a><span class=w>    </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-115-6 name=__codelineno-115-6 href=#__codelineno-115-6></a><span class=p>)</span>
<a id=__codelineno-115-7 name=__codelineno-115-7 href=#__codelineno-115-7></a>
<a id=__codelineno-115-8 name=__codelineno-115-8 href=#__codelineno-115-8></a><span class=kd>func</span><span class=w> </span><span class=nx>HelloWorld</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-115-9 name=__codelineno-115-9 href=#__codelineno-115-9></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;this is a goroutine msg&quot;</span><span class=p>)</span>
<a id=__codelineno-115-10 name=__codelineno-115-10 href=#__codelineno-115-10></a><span class=p>}</span>
<a id=__codelineno-115-11 name=__codelineno-115-11 href=#__codelineno-115-11></a>
<a id=__codelineno-115-12 name=__codelineno-115-12 href=#__codelineno-115-12></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-115-13 name=__codelineno-115-13 href=#__codelineno-115-13></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=nx>HelloWorld</span><span class=p>()</span>
<a id=__codelineno-115-14 name=__codelineno-115-14 href=#__codelineno-115-14></a><span class=w>    </span><span class=nx>time</span><span class=p>.</span><span class=nx>Sleep</span><span class=p>(</span><span class=mi>1</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
<a id=__codelineno-115-15 name=__codelineno-115-15 href=#__codelineno-115-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;end&quot;</span><span class=p>)</span>
<a id=__codelineno-115-16 name=__codelineno-115-16 href=#__codelineno-115-16></a><span class=p>}</span>
</code></pre></div> goroutine在多核CPU环境下是并行的。如果代码块在多个goroutine中执行，则实现了代码的并行。</p> <p>goroutine是Go语言最重要的特性之一，同时也是一个难点。</p> <h2 id=12单元测试go-test>12.单元测试(go test）<a class=headerlink href=#12单元测试go-test title="Permanent link">&para;</a></h2> <p>Go语言在设计之初就考虑到了代码的可测试性。 Go语言提供了testing库用于单元测试，go test是Go语言的程序测试工具。</p> <p>在目录下，它以*_test.go的文件形式存在，且go build不会将其编译成为构建的一部分。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-116-1 name=__codelineno-116-1 href=#__codelineno-116-1></a><span class=c1>//sum.go</span>
<a id=__codelineno-116-2 name=__codelineno-116-2 href=#__codelineno-116-2></a><span class=kn>package</span><span class=w> </span><span class=nx>testexample</span>
<a id=__codelineno-116-3 name=__codelineno-116-3 href=#__codelineno-116-3></a>
<a id=__codelineno-116-4 name=__codelineno-116-4 href=#__codelineno-116-4></a><span class=kd>func</span><span class=w> </span><span class=nx>Min</span><span class=p>(</span><span class=nx>arr</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>min</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>//获取整型数组中的最小值</span>
<a id=__codelineno-116-5 name=__codelineno-116-5 href=#__codelineno-116-5></a><span class=w>    </span><span class=nx>min</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<a id=__codelineno-116-6 name=__codelineno-116-6 href=#__codelineno-116-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>arr</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-116-7 name=__codelineno-116-7 href=#__codelineno-116-7></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>min</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-116-8 name=__codelineno-116-8 href=#__codelineno-116-8></a><span class=w>            </span><span class=nx>min</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>v</span>
<a id=__codelineno-116-9 name=__codelineno-116-9 href=#__codelineno-116-9></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-116-10 name=__codelineno-116-10 href=#__codelineno-116-10></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-116-11 name=__codelineno-116-11 href=#__codelineno-116-11></a><span class=w>    </span><span class=k>return</span>
<a id=__codelineno-116-12 name=__codelineno-116-12 href=#__codelineno-116-12></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-117-1 name=__codelineno-117-1 href=#__codelineno-117-1></a><span class=c1>//sum_test.go</span>
<a id=__codelineno-117-2 name=__codelineno-117-2 href=#__codelineno-117-2></a><span class=kn>package</span><span class=w> </span><span class=nx>testexample</span>
<a id=__codelineno-117-3 name=__codelineno-117-3 href=#__codelineno-117-3></a>
<a id=__codelineno-117-4 name=__codelineno-117-4 href=#__codelineno-117-4></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-117-5 name=__codelineno-117-5 href=#__codelineno-117-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-117-6 name=__codelineno-117-6 href=#__codelineno-117-6></a><span class=w>    </span><span class=s>&quot;testing&quot;</span>
<a id=__codelineno-117-7 name=__codelineno-117-7 href=#__codelineno-117-7></a><span class=p>)</span>
<a id=__codelineno-117-8 name=__codelineno-117-8 href=#__codelineno-117-8></a>
<a id=__codelineno-117-9 name=__codelineno-117-9 href=#__codelineno-117-9></a><span class=kd>func</span><span class=w> </span><span class=nx>TestMin</span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-117-10 name=__codelineno-117-10 href=#__codelineno-117-10></a><span class=w>    </span><span class=nx>array</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>}</span>
<a id=__codelineno-117-11 name=__codelineno-117-11 href=#__codelineno-117-11></a><span class=w>    </span><span class=nx>ret</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>Min</span><span class=p>(</span><span class=nx>array</span><span class=p>)</span>
<a id=__codelineno-117-12 name=__codelineno-117-12 href=#__codelineno-117-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>ret</span><span class=p>)</span>
<a id=__codelineno-117-13 name=__codelineno-117-13 href=#__codelineno-117-13></a><span class=p>}</span>
</code></pre></div> <p>注意，文件名必须是name_test.go格式，测试函数名称必须以Test开头，传入参数必须是*testing.T。</p> <p>格式如下： </p> <div class=highlight><pre><span></span><code><a id=__codelineno-118-1 name=__codelineno-118-1 href=#__codelineno-118-1></a><span class=kd>func</span><span class=w> </span><span class=nx>TestName</span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>){</span>
<a id=__codelineno-118-2 name=__codelineno-118-2 href=#__codelineno-118-2></a><span class=w>  </span><span class=c1>//...</span>
<a id=__codelineno-118-3 name=__codelineno-118-3 href=#__codelineno-118-3></a><span class=p>}</span>
</code></pre></div> <p>运行测试程序</p> <div class=highlight><pre><span></span><code><a id=__codelineno-119-1 name=__codelineno-119-1 href=#__codelineno-119-1></a><span class=c1># 执行整个项目测试文件</span>
<a id=__codelineno-119-2 name=__codelineno-119-2 href=#__codelineno-119-2></a>go<span class=w> </span><span class=nb>test</span>
<a id=__codelineno-119-3 name=__codelineno-119-3 href=#__codelineno-119-3></a>
<a id=__codelineno-119-4 name=__codelineno-119-4 href=#__codelineno-119-4></a><span class=c1># 查看详细运行结果</span>
<a id=__codelineno-119-5 name=__codelineno-119-5 href=#__codelineno-119-5></a>go<span class=w> </span><span class=nb>test</span><span class=w> </span>-v
<a id=__codelineno-119-6 name=__codelineno-119-6 href=#__codelineno-119-6></a>
<a id=__codelineno-119-7 name=__codelineno-119-7 href=#__codelineno-119-7></a><span class=c1># 参数run对应一个正则表达式，匹配的函数才会被&quot;go test&quot;命令运行。</span>
<a id=__codelineno-119-8 name=__codelineno-119-8 href=#__codelineno-119-8></a>
<a id=__codelineno-119-9 name=__codelineno-119-9 href=#__codelineno-119-9></a>go<span class=w> </span><span class=nb>test</span><span class=w> </span>-v<span class=w> </span>-run<span class=o>=</span><span class=s2>&quot;Test&quot;</span>
</code></pre></div> <p>“go test”命令还可以从主体中分离出来生成独立的测试二进制文件，因为“go test”命令中包含了编译动作，所以它可以接受可用于“go build”命令的所有参数。</p> <p>“go test'”命令常见参数的作用见表1-5。</p> <table> <thead> <tr> <th>参数</th> <th>作用</th> </tr> </thead> <tbody> <tr> <td>-v</td> <td>打印每个测试函数的名字和运行时间</td> </tr> <tr> <td>-c</td> <td>生成测试可执行文件，但不执行，默认命名pkg.test</td> </tr> <tr> <td>-i</td> <td>重新安装运行测试依赖包，但不编译和运行测试代码</td> </tr> <tr> <td>-o</td> <td>指定生成测试可执行文件的名称</td> </tr> </tbody> </table> <p>例如，生成用于测试的二进制可执行文件： </p> <div class=highlight><pre><span></span><code><a id=__codelineno-120-1 name=__codelineno-120-1 href=#__codelineno-120-1></a>go<span class=w> </span><span class=nb>test</span><span class=w> </span>-c<span class=w> </span>
</code></pre></div> <p>运行“go test”命令生成指定名字的二进制可执行文件的示例如下。 </p> <div class=highlight><pre><span></span><code><a id=__codelineno-121-1 name=__codelineno-121-1 href=#__codelineno-121-1></a>go<span class=w> </span><span class=nb>test</span><span class=w> </span>-v<span class=w> </span>-o<span class=w> </span>testexample.test
</code></pre></div> <p>运行命令后，会在项目所在目录生成一个名为testexample.test的文件。</p> <h2 id=13-go编译与工具>13. Go编译与工具<a class=headerlink href=#13-go编译与工具 title="Permanent link">&para;</a></h2> <h3 id=131-编译go-build>13.1 编译(go build)<a class=headerlink href=#131-编译go-build title="Permanent link">&para;</a></h3> <p>Go语言中“go build”命令主要用于编译代码。</p> <p>在包的编译过程中，若有必要，则会同时编译与之相关联的包。“go build'”命令有很多种编译方法，如无参数编译、文件列表编译、指定包编译等，使用这些 方法都可以输出可执行文件。</p> <p><strong>注意：在windows中，可执行文件后缀为.exe文件，Linux中无后缀。</strong></p> <h4 id=1-无参数编译>1. 无参数编译<a class=headerlink href=#1-无参数编译 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-122-1 name=__codelineno-122-1 href=#__codelineno-122-1></a><span class=c1>//build</span>
<a id=__codelineno-122-2 name=__codelineno-122-2 href=#__codelineno-122-2></a><span class=c1>//----main.go</span>
<a id=__codelineno-122-3 name=__codelineno-122-3 href=#__codelineno-122-3></a><span class=c1>//----utils.go</span>
<a id=__codelineno-122-4 name=__codelineno-122-4 href=#__codelineno-122-4></a>
<a id=__codelineno-122-5 name=__codelineno-122-5 href=#__codelineno-122-5></a><span class=c1>//main.go</span>
<a id=__codelineno-122-6 name=__codelineno-122-6 href=#__codelineno-122-6></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-122-7 name=__codelineno-122-7 href=#__codelineno-122-7></a>
<a id=__codelineno-122-8 name=__codelineno-122-8 href=#__codelineno-122-8></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-122-9 name=__codelineno-122-9 href=#__codelineno-122-9></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-122-10 name=__codelineno-122-10 href=#__codelineno-122-10></a><span class=p>)</span>
<a id=__codelineno-122-11 name=__codelineno-122-11 href=#__codelineno-122-11></a>
<a id=__codelineno-122-12 name=__codelineno-122-12 href=#__codelineno-122-12></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-122-13 name=__codelineno-122-13 href=#__codelineno-122-13></a><span class=w>    </span><span class=nx>printString</span><span class=p>()</span>
<a id=__codelineno-122-14 name=__codelineno-122-14 href=#__codelineno-122-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;go build&quot;</span><span class=p>)</span>
<a id=__codelineno-122-15 name=__codelineno-122-15 href=#__codelineno-122-15></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-123-1 name=__codelineno-123-1 href=#__codelineno-123-1></a><span class=c1>//utils.go</span>
<a id=__codelineno-123-2 name=__codelineno-123-2 href=#__codelineno-123-2></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-123-3 name=__codelineno-123-3 href=#__codelineno-123-3></a>
<a id=__codelineno-123-4 name=__codelineno-123-4 href=#__codelineno-123-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-123-5 name=__codelineno-123-5 href=#__codelineno-123-5></a>
<a id=__codelineno-123-6 name=__codelineno-123-6 href=#__codelineno-123-6></a><span class=kd>func</span><span class=w> </span><span class=nx>printString</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-123-7 name=__codelineno-123-7 href=#__codelineno-123-7></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>)</span>
<a id=__codelineno-123-8 name=__codelineno-123-8 href=#__codelineno-123-8></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-124-1 name=__codelineno-124-1 href=#__codelineno-124-1></a><span class=nb>cd</span><span class=w> </span>build
<a id=__codelineno-124-2 name=__codelineno-124-2 href=#__codelineno-124-2></a>go<span class=w> </span>build
<a id=__codelineno-124-3 name=__codelineno-124-3 href=#__codelineno-124-3></a><span class=c1># 运行以上命令，文件夹会生成一个build的文件，windows中为build.exe</span>
<a id=__codelineno-124-4 name=__codelineno-124-4 href=#__codelineno-124-4></a>
<a id=__codelineno-124-5 name=__codelineno-124-5 href=#__codelineno-124-5></a>$<span class=w> </span>./build<span class=w> </span>
<a id=__codelineno-124-6 name=__codelineno-124-6 href=#__codelineno-124-6></a>this<span class=w> </span>is<span class=w> </span>a<span class=w> </span>go<span class=w> </span>build<span class=w> </span><span class=nb>test</span><span class=w> </span>call!
<a id=__codelineno-124-7 name=__codelineno-124-7 href=#__codelineno-124-7></a>I<span class=w> </span>love<span class=w> </span>go<span class=w> </span>build!
</code></pre></div> <h4 id=2-文件列表编译>2. 文件列表编译<a class=headerlink href=#2-文件列表编译 title="Permanent link">&para;</a></h4> <p>在编译同一个目录下的多个源码文件时，可以在“go build”命令的后面加上多个文件名。</p> <p>“go build'”命令会编译这些源码，输出可执行文件。</p> <p>“go build-+文件列表”的格式如下： </p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-125-1 name=__codelineno-125-1 href=#__codelineno-125-1></a>go<span class=w> </span>build<span class=w> </span>filel.go<span class=w> </span>file2.go......
</code></pre></div> 例如，在代码所在根目录（chapter1/build)中运行“go build'”命令，在“go build”命令后添加要编译的源码的文件名，代码如下：</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-126-1 name=__codelineno-126-1 href=#__codelineno-126-1></a>go<span class=w> </span>build<span class=w> </span>main.go<span class=w> </span>utils.go
</code></pre></div> 在Linux中运行以上命令后，该目录下有如下文件：build、utils.go、main、main.go。</p> <p>在使用“go buid+文件列表”方式编译时，<strong>可执行文件默认选择文件列表中第1个源码文件将作为可执行文件名输出。</strong></p> <p>如果需要指定输出可执行文件名，则需要使用-o参数，示例如下： <div class=highlight><pre><span></span><code><a id=__codelineno-127-1 name=__codelineno-127-1 href=#__codelineno-127-1></a>go<span class=w> </span>build<span class=w> </span>main.go<span class=w> </span>utils.go
<a id=__codelineno-127-2 name=__codelineno-127-2 href=#__codelineno-127-2></a><span class=c1># 运行以上命令，文件夹会生成一个main的文件，windows中为main.exe</span>
<a id=__codelineno-127-3 name=__codelineno-127-3 href=#__codelineno-127-3></a>
<a id=__codelineno-127-4 name=__codelineno-127-4 href=#__codelineno-127-4></a>go<span class=w> </span>build<span class=w> </span>-o<span class=w> </span>file<span class=w> </span>main.go<span class=w> </span>utils.go
<a id=__codelineno-127-5 name=__codelineno-127-5 href=#__codelineno-127-5></a>$<span class=w> </span>./file<span class=w> </span>
<a id=__codelineno-127-6 name=__codelineno-127-6 href=#__codelineno-127-6></a>this<span class=w> </span>is<span class=w> </span>a<span class=w> </span>go<span class=w> </span>build<span class=w> </span><span class=nb>test</span><span class=w> </span>call!
<a id=__codelineno-127-7 name=__codelineno-127-7 href=#__codelineno-127-7></a>I<span class=w> </span>love<span class=w> </span>go<span class=w> </span>build!
</code></pre></div> 在上面的示例中，在“go build”和文件列表中，插入了一个-o file参数，表示指定输出文件名为file。</p> <blockquote> <p>注意： 使在用“go build+文件列表”.编译方式编译时，文件列表中的每个文件必须是同一个包的Go源码。即不能像C++那样将所有工程的Go源码使用文件列表方式进行编译。 在编译复杂工程时需要采用“指定包编译”的方式</p> </blockquote> <h4 id=3-指定包编译>3. 指定包编译<a class=headerlink href=#3-指定包编译 title="Permanent link">&para;</a></h4> <p>“go build + 文件列表”的方式适合编译少量文件的情景。</p> <p>而"go build + 包"在设置GOPATH之后，可以直接根据包名进行编译，即使包内文件被增加或者删除也不影响编译指令。</p> <p>新建一个项目，代码目录结构关系如下： <div class=highlight><pre><span></span><code><a id=__codelineno-128-1 name=__codelineno-128-1 href=#__codelineno-128-1></a>├──<span class=w> </span>build
<a id=__codelineno-128-2 name=__codelineno-128-2 href=#__codelineno-128-2></a><span class=w>  </span>├──<span class=w> </span>pkg
<a id=__codelineno-128-3 name=__codelineno-128-3 href=#__codelineno-128-3></a><span class=w>  </span>│<span class=w>   </span>├──<span class=w> </span>buildpkg.go
<a id=__codelineno-128-4 name=__codelineno-128-4 href=#__codelineno-128-4></a><span class=w>  </span>│<span class=w>   </span>├──<span class=w> </span>mainpkg.go
<a id=__codelineno-128-5 name=__codelineno-128-5 href=#__codelineno-128-5></a><span class=w>  </span>│<span class=w>   </span>└──<span class=w> </span>pkg
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-129-1 name=__codelineno-129-1 href=#__codelineno-129-1></a><span class=c1>//pkg</span>
<a id=__codelineno-129-2 name=__codelineno-129-2 href=#__codelineno-129-2></a><span class=c1>//----mainpkg.go</span>
<a id=__codelineno-129-3 name=__codelineno-129-3 href=#__codelineno-129-3></a><span class=c1>//----buildpkg.go</span>
<a id=__codelineno-129-4 name=__codelineno-129-4 href=#__codelineno-129-4></a>
<a id=__codelineno-129-5 name=__codelineno-129-5 href=#__codelineno-129-5></a><span class=c1>//mainpkg.go</span>
<a id=__codelineno-129-6 name=__codelineno-129-6 href=#__codelineno-129-6></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-129-7 name=__codelineno-129-7 href=#__codelineno-129-7></a>
<a id=__codelineno-129-8 name=__codelineno-129-8 href=#__codelineno-129-8></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-129-9 name=__codelineno-129-9 href=#__codelineno-129-9></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-129-10 name=__codelineno-129-10 href=#__codelineno-129-10></a><span class=w>    </span><span class=s>&quot;pkg&quot;</span>
<a id=__codelineno-129-11 name=__codelineno-129-11 href=#__codelineno-129-11></a><span class=p>)</span>
<a id=__codelineno-129-12 name=__codelineno-129-12 href=#__codelineno-129-12></a>
<a id=__codelineno-129-13 name=__codelineno-129-13 href=#__codelineno-129-13></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-129-14 name=__codelineno-129-14 href=#__codelineno-129-14></a><span class=w>    </span><span class=nx>pkg</span><span class=p>.</span><span class=nx>CallFunc</span><span class=p>()</span>
<a id=__codelineno-129-15 name=__codelineno-129-15 href=#__codelineno-129-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;go build&quot;</span><span class=p>)</span>
<a id=__codelineno-129-16 name=__codelineno-129-16 href=#__codelineno-129-16></a><span class=p>}</span>
<a id=__codelineno-129-17 name=__codelineno-129-17 href=#__codelineno-129-17></a>
<a id=__codelineno-129-18 name=__codelineno-129-18 href=#__codelineno-129-18></a><span class=c1>//buildpkg.go</span>
<a id=__codelineno-129-19 name=__codelineno-129-19 href=#__codelineno-129-19></a><span class=kn>package</span><span class=w> </span><span class=nx>pkg</span>
<a id=__codelineno-129-20 name=__codelineno-129-20 href=#__codelineno-129-20></a>
<a id=__codelineno-129-21 name=__codelineno-129-21 href=#__codelineno-129-21></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-129-22 name=__codelineno-129-22 href=#__codelineno-129-22></a>
<a id=__codelineno-129-23 name=__codelineno-129-23 href=#__codelineno-129-23></a><span class=kd>func</span><span class=w> </span><span class=nx>CallFunc</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-129-24 name=__codelineno-129-24 href=#__codelineno-129-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>)</span>
<a id=__codelineno-129-25 name=__codelineno-129-25 href=#__codelineno-129-25></a><span class=p>}</span>
<a id=__codelineno-129-26 name=__codelineno-129-26 href=#__codelineno-129-26></a><span class=c1>//go build .../pkg</span>
</code></pre></div> <h4 id=4-交叉编译>4. 交叉编译<a class=headerlink href=#4-交叉编译 title="Permanent link">&para;</a></h4> <p>(1) 创建一个名为compole.go的文件 <div class=highlight><pre><span></span><code><a id=__codelineno-130-1 name=__codelineno-130-1 href=#__codelineno-130-1></a><span class=c1>//compile.go</span>
<a id=__codelineno-130-2 name=__codelineno-130-2 href=#__codelineno-130-2></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-130-3 name=__codelineno-130-3 href=#__codelineno-130-3></a>
<a id=__codelineno-130-4 name=__codelineno-130-4 href=#__codelineno-130-4></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-130-5 name=__codelineno-130-5 href=#__codelineno-130-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-130-6 name=__codelineno-130-6 href=#__codelineno-130-6></a><span class=p>)</span>
<a id=__codelineno-130-7 name=__codelineno-130-7 href=#__codelineno-130-7></a>
<a id=__codelineno-130-8 name=__codelineno-130-8 href=#__codelineno-130-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-130-9 name=__codelineno-130-9 href=#__codelineno-130-9></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;go build&quot;</span><span class=p>)</span>
<a id=__codelineno-130-10 name=__codelineno-130-10 href=#__codelineno-130-10></a><span class=p>}</span>
</code></pre></div></p> <p>(2) 如果Mac OS X系统中编译64位的可执行文件，为了让它能够在Linux系统中也可以执行，则编译命令如下： <div class=highlight><pre><span></span><code><a id=__codelineno-131-1 name=__codelineno-131-1 href=#__codelineno-131-1></a><span class=nv>CGO_ENABLED</span><span class=o>=</span><span class=m>1</span><span class=w> </span><span class=nv>GOOS</span><span class=o>=</span>linux<span class=w> </span><span class=nv>GOARCH</span><span class=o>=</span>amd64<span class=w> </span>go<span class=w> </span>build<span class=w> </span>compile.go
</code></pre></div></p> <p>通过上面的这段代码可以生成64位的，能够在Linux系统中可执行的文件，这里用到了2个变量。</p> <ul> <li>CGO_ENABLED: 是否使用C语言的Go编译器；0关闭，1开启</li> <li>GOOS：目标操作系统</li> <li>GOARCH：目标操作系统的架构</li> </ul> <p>如果要编译其他平台中可执行的文件， 根据如下表执行编译即可。</p> <table> <thead> <tr> <th>系统编译参数</th> <th>架构</th> </tr> </thead> <tbody> <tr> <td>linux(&gt;=Linux 2.6)</td> <td>386/amd64/arm</td> </tr> <tr> <td>darwin(OS X(Snow Lepoard + Lion))</td> <td>386/amd64</td> </tr> <tr> <td>freebsd(&gt;=FreeBSD 7)</td> <td>386/amd64</td> </tr> <tr> <td>windows(&gt;=Windows 2000)</td> <td>386/amd64</td> </tr> </tbody> </table> <p>通过下面的编译命令，可以生成在windows系统中可以执行的文件： <div class=highlight><pre><span></span><code><a id=__codelineno-132-1 name=__codelineno-132-1 href=#__codelineno-132-1></a><span class=nv>CGO_ENABLED</span><span class=o>=</span><span class=m>0</span><span class=w> </span><span class=nv>GOOS</span><span class=o>=</span>windows<span class=w> </span><span class=nv>GOARCH</span><span class=o>=</span>amd64<span class=w> </span>go<span class=w> </span>build<span class=w> </span>compile.go
</code></pre></div></p> <blockquote> <p>提示：</p> <p>1.5版本之后，Go语言就开始使用“用Go语言编写的编译器”进行编译。 <strong>在Go语言1.9及以后的版本中，如果不使用CGO ENABLED参数，依然可以正常编译。</strong> 当然使用了也可以正常编译。比如把CGO ENABLED参数设置成1（即在编译的过程当中使用CGO编译器），依然是可以正常编译的。</p> </blockquote> <p>实际上，如果在Go中使用了C语言的库，则默认在使用“go build'”命令时就会启动CGO编译器。当然，也可以使用CGO_ENABLED来控制“go build”命令是否使用CGO编译器。</p> <h4 id=5-编译时的附加参数>5. 编译时的附加参数<a class=headerlink href=#5-编译时的附加参数 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>附加参数</th> <th>作用</th> </tr> </thead> <tbody> <tr> <td>-v</td> <td>编译时显示包名</td> </tr> <tr> <td>-p n</td> <td>开启并发编译，默认值为CPU逻辑核数</td> </tr> <tr> <td>-a</td> <td>强制重新构建</td> </tr> <tr> <td>-n</td> <td>打印编译时会用到的所有命令，但不真正执行</td> </tr> <tr> <td>-x</td> <td>打印编译时会用到的所有命令</td> </tr> <tr> <td>-race</td> <td>开启竞态检测</td> </tr> </tbody> </table> <h3 id=132-编译后运行go-run>13.2 编译后运行(go run)<a class=headerlink href=#132-编译后运行go-run title="Permanent link">&para;</a></h3> <p>Go语言虽然不使用虚拟机，但可以使用"go run"命令达到同样的效果，</p> <p>编译后直接运行main()函数，且不保留可执行文件。</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-133-1 name=__codelineno-133-1 href=#__codelineno-133-1></a><span class=c1>//hello.go</span>
<a id=__codelineno-133-2 name=__codelineno-133-2 href=#__codelineno-133-2></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-133-3 name=__codelineno-133-3 href=#__codelineno-133-3></a>
<a id=__codelineno-133-4 name=__codelineno-133-4 href=#__codelineno-133-4></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-133-5 name=__codelineno-133-5 href=#__codelineno-133-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-133-6 name=__codelineno-133-6 href=#__codelineno-133-6></a><span class=p>)</span>
<a id=__codelineno-133-7 name=__codelineno-133-7 href=#__codelineno-133-7></a>
<a id=__codelineno-133-8 name=__codelineno-133-8 href=#__codelineno-133-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-133-9 name=__codelineno-133-9 href=#__codelineno-133-9></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;go run&quot;</span><span class=p>)</span>
<a id=__codelineno-133-10 name=__codelineno-133-10 href=#__codelineno-133-10></a><span class=p>}</span>
<a id=__codelineno-133-11 name=__codelineno-133-11 href=#__codelineno-133-11></a>
<a id=__codelineno-133-12 name=__codelineno-133-12 href=#__codelineno-133-12></a><span class=c1>//go run hello.go</span>
</code></pre></div> “go run”命令不会在运行目录下生成任何文件，可执行文件被放在临时文件中被执行，工作目录被设置为当前目录，“go run”命令后边可以添加参数，这部分参数可以 作为代码可以接受的命令行输入提供给程序。</p> <p>'go run”命令不能采用“go run+包”的方式进行编译。</p> <p>如果需快速编译运行包，则应采用如下步骤来代替：</p> <ol> <li>使用“go build”命令生成可执行文件。</li> <li>运行可执行文件。</li> </ol> <h3 id=133-编译并安装go-install>13.3 编译并安装(go install)<a class=headerlink href=#133-编译并安装go-install title="Permanent link">&para;</a></h3> <p>类似go build，只是编译中间文件放在<span class=arithmatex>\(GOPATH/pkg目录下，编译结果放在\)</span>GOPATH/bin目录下。</p> <p>项目代码相对于项目的根目录层级关系如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-134-1 name=__codelineno-134-1 href=#__codelineno-134-1></a>install
<a id=__codelineno-134-2 name=__codelineno-134-2 href=#__codelineno-134-2></a><span class=p>|</span>----main.go
<a id=__codelineno-134-3 name=__codelineno-134-3 href=#__codelineno-134-3></a><span class=p>|</span>----pkg
<a id=__codelineno-134-4 name=__codelineno-134-4 href=#__codelineno-134-4></a><span class=w>    </span><span class=p>|</span>----installpkg.go
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-135-1 name=__codelineno-135-1 href=#__codelineno-135-1></a><span class=c1>//main.go</span>
<a id=__codelineno-135-2 name=__codelineno-135-2 href=#__codelineno-135-2></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-135-3 name=__codelineno-135-3 href=#__codelineno-135-3></a>
<a id=__codelineno-135-4 name=__codelineno-135-4 href=#__codelineno-135-4></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-135-5 name=__codelineno-135-5 href=#__codelineno-135-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-135-6 name=__codelineno-135-6 href=#__codelineno-135-6></a><span class=w>    </span><span class=s>&quot;pkg&quot;</span>
<a id=__codelineno-135-7 name=__codelineno-135-7 href=#__codelineno-135-7></a><span class=p>)</span>
<a id=__codelineno-135-8 name=__codelineno-135-8 href=#__codelineno-135-8></a>
<a id=__codelineno-135-9 name=__codelineno-135-9 href=#__codelineno-135-9></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-135-10 name=__codelineno-135-10 href=#__codelineno-135-10></a><span class=w>    </span><span class=nx>pkg</span><span class=p>.</span><span class=nx>CallFunc</span><span class=p>()</span>
<a id=__codelineno-135-11 name=__codelineno-135-11 href=#__codelineno-135-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;go build&quot;</span><span class=p>)</span>
<a id=__codelineno-135-12 name=__codelineno-135-12 href=#__codelineno-135-12></a><span class=p>}</span>
<a id=__codelineno-135-13 name=__codelineno-135-13 href=#__codelineno-135-13></a>
<a id=__codelineno-135-14 name=__codelineno-135-14 href=#__codelineno-135-14></a><span class=c1>//installpkg.go</span>
<a id=__codelineno-135-15 name=__codelineno-135-15 href=#__codelineno-135-15></a><span class=kn>package</span><span class=w> </span><span class=nx>pkg</span>
<a id=__codelineno-135-16 name=__codelineno-135-16 href=#__codelineno-135-16></a>
<a id=__codelineno-135-17 name=__codelineno-135-17 href=#__codelineno-135-17></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-135-18 name=__codelineno-135-18 href=#__codelineno-135-18></a>
<a id=__codelineno-135-19 name=__codelineno-135-19 href=#__codelineno-135-19></a><span class=kd>func</span><span class=w> </span><span class=nx>CallFunc</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-135-20 name=__codelineno-135-20 href=#__codelineno-135-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>)</span>
<a id=__codelineno-135-21 name=__codelineno-135-21 href=#__codelineno-135-21></a><span class=p>}</span>
<a id=__codelineno-135-22 name=__codelineno-135-22 href=#__codelineno-135-22></a><span class=c1>//go install</span>
</code></pre></div> <p>"go insta"命令的输出目录始终为<span class=arithmatex>\(GOPATH下的bin目录，无法使用-o附加参数进行自定义。\)</span>GOPATH下的pkg目录放置的是编译期间的中间文件。</p> <h3 id=134-获取代码go-get>13.4 获取代码(go get)<a class=headerlink href=#134-获取代码go-get title="Permanent link">&para;</a></h3> <p>动态远程拉取或更新代码包及其依赖包，自动完成编译和安装。整个过程就行手机中安装一个APP一样简单。</p> <p>需要安装Git，SVN，HG等。</p> <table> <thead> <tr> <th>标记名称</th> <th>标记描述</th> </tr> </thead> <tbody> <tr> <td>-d</td> <td>只下载，不安装</td> </tr> <tr> <td>-f</td> <td>使用-u时才有效，忽略对已下载代码包导入路径的检查。适用于从别人处Fork代码包</td> </tr> <tr> <td>-fix</td> <td>下载代码包后先修正，然后编译和安装</td> </tr> <tr> <td>-insecure</td> <td>运行非安全scheme(如HTTP)下载代码包。</td> </tr> <tr> <td>-t</td> <td>同时下载测试源码文件中的依赖代码包</td> </tr> <tr> <td>-u</td> <td>更新已有代码包及其依赖包</td> </tr> </tbody> </table> <p>“go get”命令的使用方法如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-136-1 name=__codelineno-136-1 href=#__codelineno-136-1></a>go<span class=w> </span>get<span class=w> </span>-u<span class=w> </span>github.com/shirdon1/TP-Link-HS110
</code></pre></div> <p>运行完成后即可下载并进行编译和安装。</p> <p>在项目中执行go get命令可以下载依赖包，并且还可以指定下载的版本。</p> <ul> <li>运行go get -u将会升级到最新的次要版本或者修订版本(x.y.z, z是修订版本号， y是次要版本号)</li> <li>运行go get -u=patch将会升级到最新的修订版本</li> <li>运行go get package@version将会升级到指定的版本号version</li> </ul> <p><strong>如果下载所有依赖可以使用go mod download命令。</strong></p> <h2 id=14-包>14. 包<a class=headerlink href=#14-包 title="Permanent link">&para;</a></h2> <h2 id=1-代码>1. 代码<a class=headerlink href=#1-代码 title="Permanent link">&para;</a></h2> <p>项目代码相对于项目的根目录层级关系如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-137-1 name=__codelineno-137-1 href=#__codelineno-137-1></a><span class=nx>tree</span>
<a id=__codelineno-137-2 name=__codelineno-137-2 href=#__codelineno-137-2></a><span class=p>.</span>
<a id=__codelineno-137-3 name=__codelineno-137-3 href=#__codelineno-137-3></a><span class=err>├──</span><span class=w> </span><span class=k>go</span><span class=p>.</span><span class=nx>mod</span>
<a id=__codelineno-137-4 name=__codelineno-137-4 href=#__codelineno-137-4></a><span class=err>├──</span><span class=w> </span><span class=nx>main</span><span class=p>.</span><span class=k>go</span>
<a id=__codelineno-137-5 name=__codelineno-137-5 href=#__codelineno-137-5></a><span class=err>└──</span><span class=w> </span><span class=nx>mathop</span>
<a id=__codelineno-137-6 name=__codelineno-137-6 href=#__codelineno-137-6></a><span class=w>    </span><span class=err>└──</span><span class=w> </span><span class=nx>multi</span><span class=p>.</span><span class=k>go</span>
</code></pre></div> <p>mathop/multi.go</p> <div class=highlight><pre><span></span><code><a id=__codelineno-138-1 name=__codelineno-138-1 href=#__codelineno-138-1></a><span class=kn>package</span><span class=w> </span><span class=nx>mathop</span>
<a id=__codelineno-138-2 name=__codelineno-138-2 href=#__codelineno-138-2></a>
<a id=__codelineno-138-3 name=__codelineno-138-3 href=#__codelineno-138-3></a><span class=c1>// 此处Multi函数，开头M要大写，否则外部不可访问它</span>
<a id=__codelineno-138-4 name=__codelineno-138-4 href=#__codelineno-138-4></a><span class=kd>func</span><span class=w> </span><span class=nx>Multi</span><span class=p>(</span><span class=nx>num1</span><span class=w> </span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=nx>num2</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-138-5 name=__codelineno-138-5 href=#__codelineno-138-5></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>num1</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>num2</span>
<a id=__codelineno-138-6 name=__codelineno-138-6 href=#__codelineno-138-6></a><span class=p>}</span>
</code></pre></div> <p>main.go</p> <div class=highlight><pre><span></span><code><a id=__codelineno-139-1 name=__codelineno-139-1 href=#__codelineno-139-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-139-2 name=__codelineno-139-2 href=#__codelineno-139-2></a>
<a id=__codelineno-139-3 name=__codelineno-139-3 href=#__codelineno-139-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-139-4 name=__codelineno-139-4 href=#__codelineno-139-4></a>
<a id=__codelineno-139-5 name=__codelineno-139-5 href=#__codelineno-139-5></a><span class=c1>// 注意在引用本地包的定位格式</span>
<a id=__codelineno-139-6 name=__codelineno-139-6 href=#__codelineno-139-6></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;pkg/mathop&quot;</span>
<a id=__codelineno-139-7 name=__codelineno-139-7 href=#__codelineno-139-7></a>
<a id=__codelineno-139-8 name=__codelineno-139-8 href=#__codelineno-139-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-139-9 name=__codelineno-139-9 href=#__codelineno-139-9></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>mathop</span><span class=p>.</span><span class=nx>Multi</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>))</span><span class=w> </span><span class=c1>// 72</span>
<a id=__codelineno-139-10 name=__codelineno-139-10 href=#__codelineno-139-10></a><span class=p>}</span>
</code></pre></div> <h3 id=2-输出>2. 输出<a class=headerlink href=#2-输出 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-140-1 name=__codelineno-140-1 href=#__codelineno-140-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>main.go
<a id=__codelineno-140-2 name=__codelineno-140-2 href=#__codelineno-140-2></a><span class=m>72</span>
</code></pre></div> <h2 id=3解释>3.解释<a class=headerlink href=#3解释 title="Permanent link">&para;</a></h2> <p>Go语言用包来组织源代码的，实现命名空间管理，任何一个Go语言的程序必须属于一个包，即每个Go语言程序的开头必须写上package &lt;包名&gt;。</p> <p>Go语言的包一般需要满足3个条件：</p> <ol> <li>同一个目录下同级的所有Go语言文件应该属于同一个包。</li> <li>包的名称可以跟目录不同，不过建议同名。</li> <li>一个Go语言程序有且只有一个main函数，它是Go语言的入口函数，且必须属于main包，没有或者多余一个Go语言编译时都会报错。</li> </ol> <p>如果要在一个包里面引用另外一个包的标识符(如变量、常量、类型或函数等)，该标识符必须是对外可见的(public)。在Go语言中只需要将标识符首字母大写就能 让标识符对外可见了。</p> <p>要在代码中引用其他包的内容，需要使用import关键字导入使用的包，具体方法如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-141-1 name=__codelineno-141-1 href=#__codelineno-141-1></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;包的路径&quot;</span>
</code></pre></div> <hr> <div class=md-source-file> <small> 最后更新: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">July 22, 2023 19:45:41</span> <br> 创建日期: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">April 11, 2023 22:46:11</span> </small> </div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/hujianli94/hujianli94.github.io/issues/new/?title=[Feedback]+Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E4%BD%BF%E7%94%A8+-+/Golang/1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/3.Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E4%BD%BF%E7%94%A8/" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../2.%E5%BC%80%E5%90%AFGo%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 开启Go的第一个程序" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> 开启Go的第一个程序 </div> </div> </a> <a href=../4.Go-Module%E6%95%99%E7%A8%8B/ class="md-footer__link md-footer__link--next" aria-label="下一页: Go Module教程" rel=next> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> Go Module教程 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 hujainli94 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hujianli94 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com/blog_img/20220125122524.png target=_blank rel=noopener title=kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href="mailto:<1879324764@qq.com>" target=_blank rel=noopener title=发送邮件 class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "navigation.indexes", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.220ee61c.min.js></script> <script src=../../../javascripts/extra.js></script> <script src=https://file.cdn.shafish.cn/blog/js/video.min.js></script> </body> </html>