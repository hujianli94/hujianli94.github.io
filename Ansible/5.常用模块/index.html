<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="stay hungry,stay foolish #magic___^_^___line"><meta name=author content=hujainli94><link href=https://hujianli94.github.io/Ansible/5.%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97/ rel=canonical><link href=../4.Inventory/ rel=prev><link href=../6.playbook/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.34"><title>5.常用模块 - DevOps运维开发</title><link rel=stylesheet href=../../assets/stylesheets/main.35f28582.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13.274 9.537zl-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074M4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5M4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75M8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.5 4.5 0 0 1-.563-1.191 3.84 3.84 0 0 1-.05-2.063 4.65 4.65 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .75.75 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4 2.4 0 0 1-.507-.441 3.1 3.1 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19.01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.7 3.7 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6 6 0 0 0-.26.16 1 1 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1 1 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.61.61 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1 1 0 0 0-.34.398M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343za8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275M6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L6.94 8 4.97 6.03a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005 0-.009.004"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.5 3.5 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327q0 .15-.025.292c.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5q-.002.615-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A5 5 0 0 1 8 16a5 5 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5 5 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.7 1.7 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06m.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.17.17 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5m4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/vssue.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video-js.min.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","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"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","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",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=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",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#5常用模块 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../.. title=DevOps运维开发 class="md-header__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DevOps运维开发 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 5.常用模块 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换至深色模式 type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title=切换至深色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label=切换至浅色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换至浅色模式 for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../k8s/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.k8s/ class=md-tabs__link> k8s </a> </li> <li class=md-tabs__item> <a href=../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-tabs__link> Golang </a> </li> <li class=md-tabs__item> <a href=../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../Openstack/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.OpenStack/ class=md-tabs__link> Openstack </a> </li> <li class=md-tabs__item> <a href=../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-tabs__link> Python-vs-Go </a> </li> <li class=md-tabs__item> <a href=../../Git/1.Git%E5%9F%BA%E7%A1%80/ class=md-tabs__link> Git </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../1.Ansible%E7%AE%80%E4%BB%8B/ class=md-tabs__link> Ansible </a> </li> <li class=md-tabs__item> <a href=../../Shell/Shell%E7%AE%80%E4%BB%8B/ class=md-tabs__link> Shell </a> </li> <li class=md-tabs__item> <a href=../../Linux/KVM/1.kvm%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../middleware/db/1.postgres/ class=md-tabs__link> middleware </a> </li> <li class=md-tabs__item> <a href=../../Other/tools/1.PicGo%E5%9B%BE%E5%BA%8A/ class=md-tabs__link> Other </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=DevOps运维开发 class="md-nav__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../assets/images/logo.png alt=logo> </a> DevOps运维开发 </label> <div class=md-nav__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> k8s </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> k8s </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../k8s/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.k8s/ class=md-nav__link> <span class=md-ellipsis> Kubernetes 从入门到实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> 1.容器的发展史 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 1.容器的发展史 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../k8s/1.%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2/1.1%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E7%9A%84%E5%8F%91%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 1.1开发过程的发展 </span> </a> </li> <li class=md-nav__item> <a href=../../k8s/1.%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2/1.2%E5%BA%94%E7%94%A8%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8F%91%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 1.2应用架构的发展 </span> </a> </li> <li class=md-nav__item> <a href=../../k8s/1.%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2/1.3%E9%83%A8%E7%BD%B2%E6%89%93%E5%8C%85%E7%9A%84%E5%8F%91%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 1.3部署打包的发展 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> 2.Kubernetes的核心概念 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 2.Kubernetes的核心概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../k8s/2.Kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/2.1Kubernetes%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 2.1Kubernetes的设计架构 </span> </a> </li> <li class=md-nav__item> <a href=../../k8s/2.Kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/2.2Kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83%E5%AF%B9%E8%B1%A1/ class=md-nav__link> <span class=md-ellipsis> 2.2Kubernetes的核心对象 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> 3.Kubernetes的安装和部署 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 3.Kubernetes的安装和部署 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../k8s/3.Kubernetes%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E9%83%A8%E7%BD%B2/3.1kubeadm%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 3.1kubeadm搭建开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../k8s/3.Kubernetes%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E9%83%A8%E7%BD%B2/3.2kubeadm%E6%90%AD%E5%BB%BA%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 3.2kubeadm搭建生产环境 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> 4.Pod </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 4.Pod </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../k8s/4.Pod/4.1Pod%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 4.1Pod的基本操作 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class=md-ellipsis> 5.控制器 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> 5.控制器 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../k8s/5.%E6%8E%A7%E5%88%B6%E5%99%A8/5.1Deployment/ class=md-nav__link> <span class=md-ellipsis> 5.1Deployment </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> 1.安装篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 1.安装篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/1.Kubeadm%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> <span class=md-ellipsis> Kubeadm安装高可用集群 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/2.%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> <span class=md-ellipsis> 二进制安装高可用K8s集群 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/3.%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 安装常用工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/4.Kubeadm%E5%AE%89%E8%A3%85%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> Kubeadm安装开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/5.K3s%E5%92%8CMinikube/ class=md-nav__link> <span class=md-ellipsis> K3s和Minikube </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> 2.基础篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Docker%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Docker基础 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Kubernetes%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=md-nav__link> <span class=md-ellipsis> Kubernetes的基础概念 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Kubernetes%E8%B0%83%E5%BA%A6%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Kubernetes调度基础 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Kubernetes%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Kubernetes服务发布基础 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Kubernetes%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> Kubernetes配置管理 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> 3.进阶篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 3.进阶篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/8.Kubernetes%E5%AD%98%E5%82%A8%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> Kubernetes存储入门 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/9.Kubernetes%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6/ class=md-nav__link> <span class=md-ellipsis> Kubernetes高级调度 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> 4.高级篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> 4.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/12.%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AD%98%E5%82%A8Rook/ class=md-nav__link> <span class=md-ellipsis> 云原生存储Rook </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/13.%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%B9%E5%99%A8%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 中间件容器化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> 5.运维篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> 5.运维篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/14.Kubernetes%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/ class=md-nav__link> <span class=md-ellipsis> Kubernetes 日志收集 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/15.Kubernetes%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6/ class=md-nav__link> <span class=md-ellipsis> Kubernetes监控告警 </span> </a> </li> <li class=md-nav__item> <a href=../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/16.%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83Ingress%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 服务发布Ingress进阶 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class=md-ellipsis> 6.DevOps篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> 6.DevOps篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/6.DevOps%E7%AF%87/17.DevOps%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> DevOps 实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class=md-ellipsis> 7.Kubernetes面试 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> 7.Kubernetes面试 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/7.Kubernetes%E9%9D%A2%E8%AF%95/1.Kubernetes%E9%9D%A2%E8%AF%95%E9%A2%98/ class=md-nav__link> <span class=md-ellipsis> Kubernetes 面试题 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9 id=__nav_3_9_label tabindex=0> <span class=md-ellipsis> 8.Kubernetes-网络权威指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> 8.Kubernetes-网络权威指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Kubernetes/8.Kubernetes-%E7%BD%91%E7%BB%9C%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/1.network-namespace/ class=md-nav__link> <span class=md-ellipsis> 1.network-namespace </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> 1.基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 1.基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Docker/ class=md-nav__link> <span class=md-ellipsis> 1.安装Docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/2.Docker%E9%95%9C%E5%83%8F/ class=md-nav__link> <span class=md-ellipsis> 2.Docker 镜像 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/3.Docker%E5%AE%B9%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 3.Docker容器 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/4.%E4%BC%81%E4%B8%9A%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93harbor/ class=md-nav__link> <span class=md-ellipsis> 4.企业私有仓库 harbor </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/5.Docker%E6%95%B0%E6%8D%AE/ class=md-nav__link> <span class=md-ellipsis> 5.Docker数据 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/6.Docker%E7%BD%91%E7%BB%9C/ class=md-nav__link> <span class=md-ellipsis> 6.Docker网络 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/7.Dockerfile/ class=md-nav__link> <span class=md-ellipsis> 7.Dockerfile </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/8.docker-compose/ class=md-nav__link> <span class=md-ellipsis> 8.docker-compose </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/9.Docker%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 9.Docker相关脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/1.%E5%9F%BA%E7%A1%80/10.Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 10.Docker常用命令 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> 2.实战案例 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 2.实战案例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 1.操作系统 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/2.Web%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Web服务与应用 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/3.%E6%8C%81%E7%BB%AD%E5%BC%80%E5%8F%91%E4%B8%8E%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.持续开发与管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/4.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 4.数据库应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> 3.Devops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 3.Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Docker/3.Devops/0.keepalived-docker/ class=md-nav__link> <span class=md-ellipsis> 0.keepalived-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/1.confcenter-docker/ class=md-nav__link> <span class=md-ellipsis> 1.confcenter-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/2.simaple-jenkins/ class=md-nav__link> <span class=md-ellipsis> 2.simaple-jenkins </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/3.docker-nginx-spa/ class=md-nav__link> <span class=md-ellipsis> 3.docker-nginx-spa </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/4.fileserver-docker/ class=md-nav__link> <span class=md-ellipsis> 4.fileserver-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/5.haproxy-docker/ class=md-nav__link> <span class=md-ellipsis> 5.haproxy-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/6.mysql-docker/ class=md-nav__link> <span class=md-ellipsis> 6.mysql-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/7.frp-docker/ class=md-nav__link> <span class=md-ellipsis> 7.frp-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/8.coredns-docker/ class=md-nav__link> <span class=md-ellipsis> 8.coredns-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/9.simple-harbor/ class=md-nav__link> <span class=md-ellipsis> 9.simple-harbor </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/10.redis-docker/ class=md-nav__link> <span class=md-ellipsis> 10.redis-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/11.nexus3-docker/ class=md-nav__link> <span class=md-ellipsis> 11.nexus3-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/12.openvpn-docker/ class=md-nav__link> <span class=md-ellipsis> 12.openvpn-docker.md </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/13.nfs-docker/ class=md-nav__link> <span class=md-ellipsis> 13.nfs-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/14.jumpserver-docker/ class=md-nav__link> <span class=md-ellipsis> 14.jumpserver-docker.md </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/15.ansible-docker/ class=md-nav__link> <span class=md-ellipsis> 15.ansible-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/16.minio-docker/ class=md-nav__link> <span class=md-ellipsis> 16.minio-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/17.vaultwarden-docker/ class=md-nav__link> <span class=md-ellipsis> 17.vaultwarden-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/18.kasm-docker/ class=md-nav__link> <span class=md-ellipsis> 18.kasm-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/19.nginx-docker/ class=md-nav__link> <span class=md-ellipsis> 19.nginx-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/20.kafka-docker/ class=md-nav__link> <span class=md-ellipsis> 20.kafka-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/21.golang-docker/ class=md-nav__link> <span class=md-ellipsis> 21.golang-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/22.postgres-docker/ class=md-nav__link> <span class=md-ellipsis> 22.postgres-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/23.nginx-download-docker/ class=md-nav__link> <span class=md-ellipsis> 23.nginx-download-docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/24.helm%E9%83%A8%E7%BD%B2%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 24.helm部署常用服务 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/25.Python%E6%93%8D%E4%BD%9CDocker/ class=md-nav__link> <span class=md-ellipsis> 25.Python操作Docker </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/26.docker-compose-devops/ class=md-nav__link> <span class=md-ellipsis> 26.docker-compose-devops </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/27.DevOps%E4%B8%8B%E7%9A%84Shell%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 27.DevOps 下的 Shell 脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/28.Devops%E4%B8%8B%E7%9A%84Python%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 28.Devops下的Python脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/29.Vagrant%E8%99%9A%E6%8B%9F%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 29.Vagrant虚拟机 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/30.VMware-workstation/ class=md-nav__link> <span class=md-ellipsis> 30.VMware Workstation </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/31.VirtualBox/ class=md-nav__link> <span class=md-ellipsis> 31.VirtualBox </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/32.Devops%E7%9B%B8%E5%85%B3%E5%AD%98%E5%82%A8%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 32.Devops相关存储库 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/33.terraform%E6%A6%82%E8%BF%B0/ class=md-nav__link> <span class=md-ellipsis> 33.terraform概述 </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/34.%E5%8A%A0%E9%80%9Fdockerhub/ class=md-nav__link> <span class=md-ellipsis> 34.加速 dockerhub </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/35.instantbox/ class=md-nav__link> <span class=md-ellipsis> 35.instantbox </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/36.docker-prometheus-stack/ class=md-nav__link> <span class=md-ellipsis> 36.docker-prometheus-stack </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/37.grabber/ class=md-nav__link> <span class=md-ellipsis> 37.grabber </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/38.webhookbot/ class=md-nav__link> <span class=md-ellipsis> 38.webhookbot </span> </a> </li> <li class=md-nav__item> <a href=../../Docker/3.Devops/39.docker_pull/ class=md-nav__link> <span class=md-ellipsis> 39.docker_pull </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Golang </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> Go Web 开发实战 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 1.Go基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 1.Go基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/1.Go%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Go/ class=md-nav__link> <span class=md-ellipsis> 安装 Go </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/1.Go%E5%9F%BA%E7%A1%80/2.%E7%AC%AC%E4%B8%80%E4%B8%AAGo%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 第一个Go程序 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/1.Go%E5%9F%BA%E7%A1%80/3.Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> Go 基础语法 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/1.Go%E5%9F%BA%E7%A1%80/4.Go-Module/ class=md-nav__link> <span class=md-ellipsis> Go Module </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/1.Go%E5%9F%BA%E7%A1%80/5.Go-%E6%A0%87%E5%87%86%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> Go 标准目录结构 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> 2.Go-Web基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 2.Go-Web基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/5.%E7%AC%AC%E4%B8%80%E4%B8%AAGo-Web%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 第一个Go Web程序 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/6.Web%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> Web程序运行原理简介 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/7.net-http%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> net/http包 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/8.html-template%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> html/template包 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> 3.Go-Web请求处理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> 3.Go-Web请求处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/9.%E7%AE%80%E5%8D%95Web%E6%9C%8D%E5%8A%A1%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 简单Web服务器 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/10.%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82/ class=md-nav__link> <span class=md-ellipsis> 处理请求 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/11.session%E5%92%8Ccookie/ class=md-nav__link> <span class=md-ellipsis> session和cookie </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> 4.Go访问数据库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> 4.Go访问数据库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/12.Go%E6%93%8D%E4%BD%9CMySQL/ class=md-nav__link> <span class=md-ellipsis> Go操作MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/13.Go%E6%93%8D%E4%BD%9CRedis/ class=md-nav__link> <span class=md-ellipsis> Go操作Redis </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/14.Go%E6%93%8D%E4%BD%9CMongoDB/ class=md-nav__link> <span class=md-ellipsis> Go操作MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/15.Go%E7%9A%84%E5%B8%B8%E8%A7%81ORM%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> Go的常见ORM库 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/16.Go%E6%93%8D%E4%BD%9CSQLite/ class=md-nav__link> <span class=md-ellipsis> Go操作SQLite </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class=md-ellipsis> 5.Go高级网络编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> 5.Go高级网络编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/17.Go-Socket%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> Go Socket编程 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.Go-RPC%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> Go RPC编程 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/19.Go-%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> Go 微服务 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> 6.Go文件处理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> 6.Go文件处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/20.%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理目录与文件 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/21.%E5%A4%84%E7%90%86XML%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理XML文件 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/22.%E5%A4%84%E7%90%86JSON%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理JSON文件 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/23.%E5%A4%84%E7%90%86CSV%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理CSV文件 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/24.%E5%A4%84%E7%90%86Go%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95/ class=md-nav__link> <span class=md-ellipsis> 处理Go日志记录 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/25.%E5%A4%84%E7%90%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 处理正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/26.%E5%A4%84%E7%90%86Excel%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理Excel文件 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8> <label class=md-nav__link for=__nav_5_8 id=__nav_5_8_label tabindex=0> <span class=md-ellipsis> 7.Go并发编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> 7.Go并发编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/26.%E5%B9%B6%E5%8F%91-%E5%B9%B6%E8%A1%8C/ class=md-nav__link> <span class=md-ellipsis> 并发 并行 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/27.%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B-%E5%8D%8F%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 进程 线程 协程 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/28.Go%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> Go并发模型 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/29.goroutine%E5%92%8Cchannel/ class=md-nav__link> <span class=md-ellipsis> goroutine和channel </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/30.sync%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> sync实现并发 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/31.Go%E5%B9%B6%E5%8F%91%E7%9A%84Web%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> Go并发的Web应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> 8.Go标准库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> 8.Go标准库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/32.time/ class=md-nav__link> <span class=md-ellipsis> time </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/33.strings/ class=md-nav__link> <span class=md-ellipsis> strings </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/34.bytes/ class=md-nav__link> <span class=md-ellipsis> bytes </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/35.json/ class=md-nav__link> <span class=md-ellipsis> json </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/36.io-bufio/ class=md-nav__link> <span class=md-ellipsis> io/bufio </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/37.fmt/ class=md-nav__link> <span class=md-ellipsis> fmt </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/38.strconv/ class=md-nav__link> <span class=md-ellipsis> strconv </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/39.regexp/ class=md-nav__link> <span class=md-ellipsis> regexp </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/40.log/ class=md-nav__link> <span class=md-ellipsis> log </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/41.reflect-unsafe/ class=md-nav__link> <span class=md-ellipsis> reflect/unsafe </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/42.os-path-filepath/ class=md-nav__link> <span class=md-ellipsis> os/path/filepath </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/43.unicode/ class=md-nav__link> <span class=md-ellipsis> unicode </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/44.flag/ class=md-nav__link> <span class=md-ellipsis> flag </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/45.net-url/ class=md-nav__link> <span class=md-ellipsis> net/url </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/46.net-http/ class=md-nav__link> <span class=md-ellipsis> net/http </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/47.sort/ class=md-nav__link> <span class=md-ellipsis> sort </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/48.errors/ class=md-nav__link> <span class=md-ellipsis> errors </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/49.%E5%87%BD%E6%95%B0%E5%B7%A5%E5%85%B7%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 函数工具库 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/50.Go%E8%AF%AD%E8%A8%80%E5%9C%A8%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> Go语言在运维开发中的应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> 9.Go三方库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> 9.Go三方库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/0.%E5%BC%80%E6%BA%90%E8%87%AA%E5%B7%B1%E7%9A%84Go%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 开源自己的Go库 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/1.cobra/ class=md-nav__link> <span class=md-ellipsis> Cobra </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/2.viper/ class=md-nav__link> <span class=md-ellipsis> Viper </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/3.Zap/ class=md-nav__link> <span class=md-ellipsis> Zap </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/4.mahonia/ class=md-nav__link> <span class=md-ellipsis> mahonia </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/5.ssh/ class=md-nav__link> <span class=md-ellipsis> ssh </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/6.fsnotify/ class=md-nav__link> <span class=md-ellipsis> fsnotify </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/7.yaml/ class=md-nav__link> <span class=md-ellipsis> yaml </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/8.tail/ class=md-nav__link> <span class=md-ellipsis> tail </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/9.gRPC/ class=md-nav__link> <span class=md-ellipsis> gRPC </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/10.gopsutil/ class=md-nav__link> <span class=md-ellipsis> gopsutil </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/11.go-awesome/ class=md-nav__link> <span class=md-ellipsis> go-awesome </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/12.dmidecode/ class=md-nav__link> <span class=md-ellipsis> dmidecode </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/13.toml/ class=md-nav__link> <span class=md-ellipsis> toml </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/14.%E5%85%B6%E4%BB%96%E4%B8%89%E6%96%B9%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 其他三方库 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex=0> <span class=md-ellipsis> 10.Go-RESTful-API接口开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> 10.Go-RESTful-API接口开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/1.%E4%BB%80%E4%B9%88%E6%98%AFRESTful-API/ class=md-nav__link> <span class=md-ellipsis> 1.什么是 RESTful-API </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/2.GORMv2/ class=md-nav__link> <span class=md-ellipsis> 2.GORMv2 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/3.Gin%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 3.Gin 框架的使用 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/4.%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%89%8D%E7%AB%AF/ class=md-nav__link> <span class=md-ellipsis> 4.图书管理系统-前端 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/5.%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%90%8E%E7%AB%AF/ class=md-nav__link> <span class=md-ellipsis> 5.图书管理系统-后端 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/6.Gin%2BVue%E5%85%A5%E9%97%A8%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 6.Gin+Vue入门项目 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_12> <label class=md-nav__link for=__nav_5_12 id=__nav_5_12_label tabindex=0> <span class=md-ellipsis> 11.Web前端 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_5_12> <span class="md-nav__icon md-icon"></span> 11.Web前端 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/11.Web%E5%89%8D%E7%AB%AF/1.HTML%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/ class=md-nav__link> <span class=md-ellipsis> 1.HTML标记语言 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/11.Web%E5%89%8D%E7%AB%AF/2.CSS%E6%A0%B7%E5%BC%8F%E8%AF%AD%E8%A8%80/ class=md-nav__link> <span class=md-ellipsis> 2.CSS样式语言 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/11.Web%E5%89%8D%E7%AB%AF/3.JavaScript%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/ class=md-nav__link> <span class=md-ellipsis> 3.JavaScript客户端脚本语言 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/11.Web%E5%89%8D%E7%AB%AF/4.JavaScript%E5%BA%93-JQuery/ class=md-nav__link> <span class=md-ellipsis> 4.JavaScript库:JQuery </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_13> <label class=md-nav__link for=__nav_5_13 id=__nav_5_13_label tabindex=0> <span class=md-ellipsis> 12.Vue前端开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_13_label aria-expanded=false> <label class=md-nav__title for=__nav_5_13> <span class="md-nav__icon md-icon"></span> 12.Vue前端开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/1.%E8%AE%A4%E8%AF%86Vue.js/ class=md-nav__link> <span class=md-ellipsis> 1.认识Vue.js.md </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/2.Vue%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 2.Vue常用指令 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/3.Vue%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7/ class=md-nav__link> <span class=md-ellipsis> 3.Vue常用属性 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/4.Vue%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E4%B9%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 4.Vue常用指令之流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/5.Vue%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E4%B9%8B%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/ class=md-nav__link> <span class=md-ellipsis> 5.Vue常用指令之数据双向绑定 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/6.Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90/ class=md-nav__link> <span class=md-ellipsis> 6.Vue生命周期钩子 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/7.VueCli%E8%84%9A%E6%89%8B%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 7.VueCli脚手架 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/8.Vue%E7%BB%84%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 8.Vue组件 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/9.Vue%E8%B7%AF%E7%94%B1/ class=md-nav__link> <span class=md-ellipsis> 9.Vue路由 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/10.Vuex%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 10.Vuex状态管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/11.%E5%89%8D%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92-Axios/ class=md-nav__link> <span class=md-ellipsis> 11.前后端数据交互 Axios </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/12.Element-Plus/ class=md-nav__link> <span class=md-ellipsis> 12.Element Plus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_14> <label class=md-nav__link for=__nav_5_14 id=__nav_5_14_label tabindex=0> <span class=md-ellipsis> 13.K8s管理系统项目实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_14_label aria-expanded=false> <label class=md-nav__title for=__nav_5_14> <span class="md-nav__icon md-icon"></span> 13.K8s管理系统项目实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/13.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/1.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> K8s 管理系统-后端开发 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/13.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/2.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> K8s管理系统-前端开发 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_15> <label class=md-nav__link for=__nav_5_15 id=__nav_5_15_label tabindex=0> <span class=md-ellipsis> 14.Go开发的三方平台 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_15_label aria-expanded=false> <label class=md-nav__title for=__nav_5_15> <span class="md-nav__icon md-icon"></span> 14.Go开发的三方平台 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/0.%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8Go%E5%81%9A%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 为什么使用Go做后端开发 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/1.TBak-System%E5%A4%87%E4%BB%BD%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> TBak System备份平台 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/2.kubernetes%E5%AE%B9%E5%99%A8%E4%BA%91%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> kubernetes容器云管理平台 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/3.Go%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> Go 命令行工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/4.%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/ class=md-nav__link> <span class=md-ellipsis> nps </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/5.go-web%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> go-web项目 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/6.go-%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7%E7%AE%80%E5%8D%95%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> go-三方工具简单入门 </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/7.diamond-devops/ class=md-nav__link> <span class=md-ellipsis> diamond-devops </span> </a> </li> <li class=md-nav__item> <a href=../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/8.Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95/ class=md-nav__link> <span class=md-ellipsis> Go语言学习目录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_16> <label class=md-nav__link for=__nav_5_16 id=__nav_5_16_label tabindex=0> <span class=md-ellipsis> 15.容器化Go </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_16_label aria-expanded=false> <label class=md-nav__title for=__nav_5_16> <span class="md-nav__icon md-icon"></span> 15.容器化Go </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Golang/15.%E5%AE%B9%E5%99%A8%E5%8C%96Go/0.%E6%9E%84%E5%BB%BAGo%E5%BA%94%E7%94%A8docker%E9%95%9C%E5%83%8F/ class=md-nav__link> <span class=md-ellipsis> 构建Go应用docker镜像 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-nav__link> <span class=md-ellipsis> Python Linux 管理与自动化运维 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 1.Python基础篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 1.Python基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/1.Python%E7%94%9F%E6%80%81%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 1.Python 生态工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/2.Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 2.Python 第三方库安装 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/3.Python%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.Python 工作环境管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/4.Python%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 4.Python 开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/5.Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 5.Python 数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/6.Python%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 6.Python 项目的组织结构 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/7.Python%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 7.Python代码规范 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/8.Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ class=md-nav__link> <span class=md-ellipsis> 8.Python 基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/9.Python%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 9.Python 字符串 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/10.Python%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> 10.Python 数据类型 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/11.Python%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 11.Python 运算符和流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/12.Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 12.Python 文件操作 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/13.Python%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 13.Python 函数 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/14.Python%E5%B8%B8%E7%94%A8%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 14.Python 常用内建函数 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/15.Python%E7%B1%BB/ class=md-nav__link> <span class=md-ellipsis> 15.Python 类 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/16.Python%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 16.Python 异常处理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/17.Python%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 17.Python 模块与包 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/18.Python%E6%A0%87%E5%87%86%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 18.Python 标准库 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/19.Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 19.Python 正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/20.Python%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 20.Python 数据库编程 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/21.Python%E6%89%B9%E9%87%8F%E7%AE%A1%E7%90%86%E4%B8%BB%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 21.Python 批量管理主机 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/22.Python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%8D%8F%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 22.Python 多线程多进程协程 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/23.Python%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95/ class=md-nav__link> <span class=md-ellipsis> 23.Python 代码调试 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/24.Python%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/ class=md-nav__link> <span class=md-ellipsis> 24.Python 单元测试 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/25.%E7%8E%A9%E8%BD%ACDjango2.0/ class=md-nav__link> <span class=md-ellipsis> 25.玩转 Django2.0 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%950-%E5%86%85%E5%BB%BA%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 附录 0-内建模块 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%951-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 附录 1-虚拟环境 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%952-%E6%89%93%E5%8C%85%E5%92%8C%E5%88%86%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 附录 2-打包和分发 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%953-%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E8%BD%AF%E4%BB%B6%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 附录 3-安装第三方软件包 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%954-%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 附录 4-常用第三方模块 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%955-Python%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/ class=md-nav__link> <span class=md-ellipsis> 附录 5-Python 面试宝典 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%956-%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/ class=md-nav__link> <span class=md-ellipsis> 附录 6-项目部署 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python基础篇/附录7-开发容器化的Python微服务.md class=md-nav__link> <span class=md-ellipsis> None </span> </a> </li> <li class=md-nav__item> <a href=../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%958-Python-rpm%E7%BC%96%E8%AF%91/ class=md-nav__link> <span class=md-ellipsis> 附录 8-Python-rpm 编译 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 2.Python运维开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 2.Python运维开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/1.%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 1.命令行工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/2.%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 2.文本处理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/3.Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.Linux 系统管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/4.%E7%9B%91%E6%8E%A7Linux/ class=md-nav__link> <span class=md-ellipsis> 4.监控 Linux </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/5.%E6%96%87%E6%A1%A3%E4%B8%8E%E6%8A%A5%E5%91%8A/ class=md-nav__link> <span class=md-ellipsis> 5.文档与报告 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/6.%E7%BD%91%E7%BB%9C/ class=md-nav__link> <span class=md-ellipsis> 6.网络 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/7.%E8%87%AA%E5%8A%A8%E5%8C%96%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 7.自动化管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/8.%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 8.常用模块 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/9.Python%E6%89%93%E9%80%A0MySQL%E4%B8%93%E5%AE%B6%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 9.Python 打造 MySQL 专家系统 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/10.%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 10.自动化运维系统的开发 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/11.%E5%8D%8E%E4%B8%BA%E4%BA%91Python%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81/ class=md-nav__link> <span class=md-ellipsis> 11.华为云 Python 演示代码 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/12.%E5%8D%8E%E4%B8%BA%E4%BA%91Go%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81/ class=md-nav__link> <span class=md-ellipsis> 12.华为云 Go 演示代码 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/13.Tornado%E6%A1%86%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 13.Tornado 框架 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-%E5%AD%A6%E4%B9%A0API%E7%9A%84demo/ class=md-nav__link> <span class=md-ellipsis> 附-学习 API 的 demo </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-%E8%BF%90%E7%BB%B4%E7%9B%B8%E5%85%B3%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 附-运维相关开源项目 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-awesome-python-cn/ class=md-nav__link> <span class=md-ellipsis> 附-awesome-python-cn </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-CMDB/ class=md-nav__link> <span class=md-ellipsis> 附-CMDB </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-Django-web%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 附-Django-web 开发 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-Django%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%AE%80%E6%98%93%E5%8F%91%E5%B8%83%E4%BC%9A%E7%AD%BE%E5%88%B0%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 附-Django 实现的简易发布会签到系统 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-Kubernetes%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> 附-Kubernetes 管理平台 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-varnish%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> 附-varnish 管理平台 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> 3.Python测试开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 3.Python测试开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/1.Python2%E4%B8%8EPython3%E5%8C%BA%E5%88%AB/ class=md-nav__link> <span class=md-ellipsis> 1.Python2 与 Python3 区别 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/2.Windows%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85Python/ class=md-nav__link> <span class=md-ellipsis> 2.Windows环境安装Python </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/3.Linux%E5%A4%9A%E7%89%88%E6%9C%ACPython%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 3.Linux多版本Python安装 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/4.Python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 4.Python虚拟环境安装 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/5.Pycharm%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 5.Pycharm安装与使用 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/6.Python%E9%97%B4%E6%8E%A5%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F/ class=md-nav__link> <span class=md-ellipsis> 6.Python间接定义常量 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/7.Python%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 7.Python运算符与表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/8.%E9%80%BB%E8%BE%91%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ class=md-nav__link> <span class=md-ellipsis> 8.逻辑控制语句 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/9.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BB%8B%E7%BB%8D/ class=md-nav__link> <span class=md-ellipsis> 9.数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/10.%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D/ class=md-nav__link> <span class=md-ellipsis> 10.函数介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/11.%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/ class=md-nav__link> <span class=md-ellipsis> 11.类与对象 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/12.%E6%89%93%E5%8C%85%E4%B8%8E%E5%8F%91%E5%B8%83/ class=md-nav__link> <span class=md-ellipsis> 12.打包与发布 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/13.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E4%B8%8E%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 13.异常捕获与处理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/14.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 14.并发编程 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/15.%E6%A0%87%E5%87%86%E5%BA%93%E5%92%8C%E4%B8%89%E6%96%B9%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 15.标准库和三方库 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/16.vue-cli%E8%84%9A%E6%89%8B%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 16.vue-cli脚手架 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/17.%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5-%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8/ class=md-nav__link> <span class=md-ellipsis> 17.案例实践-任务列表 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/%E9%99%84%E5%BD%95-%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E6%B1%87%E6%80%BB/ class=md-nav__link> <span class=md-ellipsis> 附录-前后端代码仓库汇总 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/%E9%99%84%E5%BD%95-Nginx%E5%AE%8C%E6%95%B4%E9%85%8D%E7%BD%AE%E6%A0%B7%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 附录-Nginx 完整配置样例 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> 4.Flask学习 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> 4.Flask学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/1.Flask%E5%89%8D%E5%A5%8F/ class=md-nav__link> <span class=md-ellipsis> 1.Flask 前缀 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/2.%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 2.项目配置 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/3.URL%E4%B8%8E%E8%A7%86%E5%9B%BE/ class=md-nav__link> <span class=md-ellipsis> 3.URL与视图 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/4.Jinja2%E6%A8%A1%E6%9D%BF/ class=md-nav__link> <span class=md-ellipsis> 4.Jinja2模板 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/5.%E6%95%B0%E6%8D%AE%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 5.数据库 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/6.%E8%A1%A8%E5%8D%95/ class=md-nav__link> <span class=md-ellipsis> 6.表单 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/7.Flask%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 7.Flask 进阶 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/8.%E7%BC%93%E5%AD%98%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 8.缓存系统 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/9.Flask_Restful/ class=md-nav__link> <span class=md-ellipsis> 9.Flask_Restful </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/10.Flask%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> 10.Flask 项目实战 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/11.WebSock%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> 11.WebSock 实战 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/12.Flask%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 12.Flask 异步编程 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-%E4%BD%BF%E7%94%A8Pytest%E6%B5%8B%E8%AF%95Flask/ class=md-nav__link> <span class=md-ellipsis> 附-使用 Pytest 测试 Flask </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 附-图书管理系统 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0-flask/ class=md-nav__link> <span class=md-ellipsis> 附-自动化测试平台-flask </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%B8%B8%E7%94%A8%E6%89%A9%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 附-Flask常用扩展 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%92%8CRedis%E9%98%9F%E5%88%97%E7%9A%84%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 附-Flask和Redis队列的异步任务 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%92%8CVue.js%E5%BC%80%E5%8F%91%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 和 Vue.js 开发单页应用 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-flask%E8%84%9A%E6%89%8B%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 附-flask 脚手架 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E6%A1%86%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 框架 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 容器化部署 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> 附-Flask数据模型 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E8%87%AA%E5%AE%9A%E4%B9%89exporter%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 自定义 exporter 开发 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6 id=__nav_6_6_label tabindex=0> <span class=md-ellipsis> 5.DevOps和自动化运维实践 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> 5.DevOps和自动化运维实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/1.Devops%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E7%9A%84%E6%84%8F%E4%B9%89/ class=md-nav__link> <span class=md-ellipsis> 1.Devops 与自动化运维的意义 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/2.Shell%E8%84%9A%E6%9C%AC%E5%9C%A8Devops%E4%B8%8B%E7%9A%84%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Shell脚本在Devops下的应用 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/3.%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84Shell%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 3.生产环境下的 Shell 脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/4.%E5%B7%A5%E4%BD%9C%E4%B8%AD%E7%9A%84Python%E8%84%9A%E6%9C%AC%E5%88%86%E4%BA%AB/ class=md-nav__link> <span class=md-ellipsis> 4.工作中的 Python 脚本分享 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/5.Python%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E7%9A%84Docker%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> 5.Python 开发人员的 Docker 最佳实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> <span class=md-ellipsis> 6.CMDB项目实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> 6.CMDB项目实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/0.DRF%E5%89%8D%E5%A5%8F/ class=md-nav__link> <span class=md-ellipsis> 0.DRF 前奏 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/1.DRF%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> 1.DRF入门 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/2.DRF%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 2.DRF 进阶 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/3.CMDB%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 3.CMDB 后端开发 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/4.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8A/ class=md-nav__link> <span class=md-ellipsis> 4.Vue前端开发-上 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/5.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8B/ class=md-nav__link> <span class=md-ellipsis> 5.Vue前端开发-下 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/6.Element-Plus%E5%89%8D%E7%AB%AF%E7%BB%84%E4%BB%B6%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 6.Element-Plus前端组件库 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/7.CMDB%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8A/ class=md-nav__link> <span class=md-ellipsis> 7.CMDB前端开发-上 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/8.CMDB%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8B/ class=md-nav__link> <span class=md-ellipsis> 8.CMDB前端开发-下 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/9.celery%E7%BB%84%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 9.celery 组件 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/10.Django%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 10.Django 自定义命令 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/11.Django%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/ class=md-nav__link> <span class=md-ellipsis> 11.Django 容器化部署 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8 id=__nav_6_8_label tabindex=0> <span class=md-ellipsis> 7.Python网络编程攻略 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_8_label aria-expanded=false> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> 7.Python网络编程攻略 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/7.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%94%BB%E7%95%A5/1.IPv4%E5%92%8C%E7%AE%80%E5%8D%95%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 1.IPv4 和简单的客户端-服务器编程 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/7.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%94%BB%E7%95%A5/2.%E4%BD%BF%E7%94%A8%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%A5%97%E6%8E%A5%E5%AD%97-IO%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD/ class=md-nav__link> <span class=md-ellipsis> 2.使用多路复用套接字-IO 提升性能 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/7.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%94%BB%E7%95%A5/3.IPv6-Unix%E5%9F%9F%E5%A5%97%E6%8E%A5%E5%AD%97%E5%92%8C%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3/ class=md-nav__link> <span class=md-ellipsis> 3.IPv6-Unix 域套接字和网络接口 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_9> <label class=md-nav__link for=__nav_6_9 id=__nav_6_9_label tabindex=0> <span class=md-ellipsis> 8.Python自动化运维实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_9_label aria-expanded=false> <label class=md-nav__title for=__nav_6_9> <span class="md-nav__icon md-icon"></span> 8.Python自动化运维实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/1.%E6%90%AD%E5%BB%BAPython%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 1.搭建 Python 环境 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/2.%E5%B8%B8%E7%94%A8%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 2.常用的自动化库 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/3.%E6%90%AD%E5%BB%BA%E7%BD%91%E7%BB%9C%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 3.搭建网络实验室环境 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/4.%E4%BD%BF%E7%94%A8Python%E7%AE%A1%E7%90%86%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87/ class=md-nav__link> <span class=md-ellipsis> 4.使用 Python 管理网络设备 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/5.%E4%BB%8E%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E4%B8%AD%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE/ class=md-nav__link> <span class=md-ellipsis> 5.从网络设备中提取数据 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/6.Python%E5%92%8CJinja2%E9%85%8D%E7%BD%AE%E7%94%9F%E6%88%90%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 6.Python和Jinja2配置生成器 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/7.%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8CPython%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 7.并行执行 Python 脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/8.%E5%87%86%E5%A4%87%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 8.准备实验室环境 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/9.%E4%BD%BF%E7%94%A8Subprocess%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 9.使用 Subprocess 模块 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/10.%E4%BD%BF%E7%94%A8Fabric%E7%AE%A1%E7%90%86%E4%BB%BB%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 10.使用 Fabric 管理任务 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/11.%E7%94%9F%E6%88%90%E7%B3%BB%E7%BB%9F%E6%8A%A5%E5%91%8A%E5%92%8C%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/ class=md-nav__link> <span class=md-ellipsis> 11.生成系统报告和系统监控 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/12.%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%A4%E4%BA%92/ class=md-nav__link> <span class=md-ellipsis> 12.与数据库交互 </span> </a> </li> <li class=md-nav__item> <a href=../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/13.%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E7%9A%84Ansible/ class=md-nav__link> <span class=md-ellipsis> 13.系统管理的 Ansible </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Openstack </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Openstack </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Openstack/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.OpenStack/ class=md-nav__link> <span class=md-ellipsis> 基于 OpenStack 组件开发 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> 1.OpenStack工程师工作 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> 1.OpenStack工程师工作 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Openstack/1.OpenStack%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E4%BD%9C/1.Horizon%E7%95%8C%E9%9D%A2%E5%B7%A5%E7%A8%8B%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 1.Horizon 界面工程师 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/1.OpenStack%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E4%BD%9C/2.Neutron%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 2.Neutron 网络工程师 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/1.OpenStack%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E4%BD%9C/3.Nova%E8%B5%84%E6%B7%B1%E5%B7%A5%E7%A8%8B%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 3.Nova 资深工程师 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> 2.开发环境的搭建 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> 2.开发环境的搭建 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/1.Windows%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/ class=md-nav__link> <span class=md-ellipsis> 1.Windows 开发环境的搭建 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/2.Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/ class=md-nav__link> <span class=md-ellipsis> 2.Linux 开发环境的搭建 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/3.Launchpad%E8%B4%A6%E5%8F%B7/ class=md-nav__link> <span class=md-ellipsis> 3.Launchpad 账号 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/4.Git%E7%9A%84%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 4.Git 的使用 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/5.%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9/ class=md-nav__link> <span class=md-ellipsis> 5.配置文件修改 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/6.RPM%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 6.RPM软件包管理器 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/7.%E5%88%B6%E4%BD%9Cdeb%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 7.制作deb包 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/8.Linux%E8%87%AA%E5%BB%BA%E8%BD%AF%E4%BB%B6%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 8.Linux自建软件源 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> 3.Python模块 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> 3.Python模块 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/1.Python%E5%8C%85%E7%9A%84%E6%9E%84%E5%BB%BA%E4%B8%8E%E5%88%86%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 1.Python 包的构建与分发 </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/2.SQLAlchemy/ class=md-nav__link> <span class=md-ellipsis> 2.SQLAlchemy </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/3.logging/ class=md-nav__link> <span class=md-ellipsis> 3.logging </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/4.cliff/ class=md-nav__link> <span class=md-ellipsis> 4.cliff </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/5.Eventlet/ class=md-nav__link> <span class=md-ellipsis> 5.Eventlet </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/6.WSGI/ class=md-nav__link> <span class=md-ellipsis> 6.WSGI </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/7.%E9%80%9A%E7%94%A8%E5%BA%93Oslo/ class=md-nav__link> <span class=md-ellipsis> 7.通用库 Oslo </span> </a> </li> <li class=md-nav__item> <a href=../../Openstack/3.Python%E6%A8%A1%E5%9D%97/%E9%99%84-%E6%A8%A1%E4%BB%BFOpenStack%E5%86%99%E8%87%AA%E5%B7%B1%E7%9A%84RPC/ class=md-nav__link> <span class=md-ellipsis> 附-模仿 OpenStack 写自己的 RPC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_5> <label class=md-nav__link for=__nav_7_5 id=__nav_7_5_label tabindex=0> <span class=md-ellipsis> 4.OpenStack容器手册 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_5_label aria-expanded=false> <label class=md-nav__title for=__nav_7_5> <span class="md-nav__icon md-icon"></span> 4.OpenStack容器手册 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Openstack/4.OpenStack%E5%AE%B9%E5%99%A8%E6%89%8B%E5%86%8C/1.OpenStack-Kolla%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 1.OpenStack-Kolla项目 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Python-vs-Go </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Python-vs-Go </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_1> <label class=md-nav__link for=__nav_8_1 id=__nav_8_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-nav__link> <span class=md-ellipsis> Python-vs-Go </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2> <label class=md-nav__link for=__nav_8_2 id=__nav_8_2_label tabindex=0> <span class=md-ellipsis> 1.对比 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_2_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> 1.对比 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/1.Hello-World/ class=md-nav__link> <span class=md-ellipsis> Hello-World </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/2.Print/ class=md-nav__link> <span class=md-ellipsis> Print </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/3.%E6%B3%A8%E9%87%8A/ class=md-nav__link> <span class=md-ellipsis> 注释 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/4.%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 多行字符串 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/5.Lists/ class=md-nav__link> <span class=md-ellipsis> Lists </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/6.Map/ class=md-nav__link> <span class=md-ellipsis> Map </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/7.Booleans/ class=md-nav__link> <span class=md-ellipsis> Booleans </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/8.Forloop/ class=md-nav__link> <span class=md-ellipsis> Forloop </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/9.Range/ class=md-nav__link> <span class=md-ellipsis> Range </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/10.Switch/ class=md-nav__link> <span class=md-ellipsis> Switch </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/11.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 可变参数函数 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/12.%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97/ class=md-nav__link> <span class=md-ellipsis> 时间计算 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/13.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 函数的闭包 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/14.%E9%80%80%E5%87%BA%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 退出处理 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/15.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/ class=md-nav__link> <span class=md-ellipsis> 异常捕获 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/16.%E5%8F%AF%E5%8F%98%E9%A1%B9/ class=md-nav__link> <span class=md-ellipsis> 可变项 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/17.%E7%B1%BB/ class=md-nav__link> <span class=md-ellipsis> 类 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/18.%E6%96%B9%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 方法 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/19.%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 并发 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/20.Args/ class=md-nav__link> <span class=md-ellipsis> Args </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/21.%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%88%AB%E5%90%8D/ class=md-nav__link> <span class=md-ellipsis> 导入模块别名 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/22.%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 字符串格式化 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/23.%E5%8E%BB%E9%87%8D/ class=md-nav__link> <span class=md-ellipsis> 去重 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/24.%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%89%93%E5%8D%B0/ class=md-nav__link> <span class=md-ellipsis> 带颜色打印 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/25.python-example/ class=md-nav__link> <span class=md-ellipsis> Python By Example </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94/26.go-example/ class=md-nav__link> <span class=md-ellipsis> Go By Example </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_3> <label class=md-nav__link for=__nav_8_3 id=__nav_8_3_label tabindex=0> <span class=md-ellipsis> 2.进阶 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> 2.进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class=md-nav__link> <span class=md-ellipsis> 使用RPC </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/2.%E4%BD%BF%E7%94%A8MySQL/ class=md-nav__link> <span class=md-ellipsis> 使用MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/3.%E4%BD%BF%E7%94%A8Redis/ class=md-nav__link> <span class=md-ellipsis> 使用Redis </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/4.%E4%BD%BF%E7%94%A8MongoDB/ class=md-nav__link> <span class=md-ellipsis> 使用MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/5.%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%8E%A8%E8%8D%90/ class=md-nav__link> <span class=md-ellipsis> 练手项目推荐 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_4> <label class=md-nav__link for=__nav_8_4 id=__nav_8_4_label tabindex=0> <span class=md-ellipsis> 3.开发之路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_4_label aria-expanded=false> <label class=md-nav__title for=__nav_8_4> <span class="md-nav__icon md-icon"></span> 3.开发之路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/1.Go%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/ class=md-nav__link> <span class=md-ellipsis> 1.Go 开发之路 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/2.Python%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/ class=md-nav__link> <span class=md-ellipsis> 2.Python 开发之路 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/3.Vue3%E6%A1%86%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 3.Vue3 框架 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/4.Git%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 4.Git 版本控制 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/5.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> 5.Python 自动化运维平台 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/6.Go%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> 6.Go 自动化运维平台 </span> </a> </li> <li class=md-nav__item> <a href=../../Python-vs-Go/3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/7.Shell%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 7.Shell 开发 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Git </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1> <label class=md-nav__link for=__nav_9_1 id=__nav_9_1_label tabindex=0> <span class=md-ellipsis> Git基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> Git基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Git/1.Git%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> 1.Git 基础 </span> </a> </li> <li class=md-nav__item> <a href=../../Git/2.%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 2.远程仓库 </span> </a> </li> <li class=md-nav__item> <a href=../../Git/3.%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.分支管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Git/4.%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5/ class=md-nav__link> <span class=md-ellipsis> 4.分支管理策略 </span> </a> </li> <li class=md-nav__item> <a href=../../Git/5.%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 5.标签管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Git/6.%E4%BD%BF%E7%94%A8Gitee/ class=md-nav__link> <span class=md-ellipsis> 6.使用Gitee </span> </a> </li> <li class=md-nav__item> <a href=../../Git/7.%E4%BD%BF%E7%94%A8Github/ class=md-nav__link> <span class=md-ellipsis> 7.使用 Github </span> </a> </li> <li class=md-nav__item> <a href=../../Git/8.%E5%AE%9E%E8%B7%B5GitHub-Flow/ class=md-nav__link> <span class=md-ellipsis> 8.实践GitHub Flow </span> </a> </li> <li class=md-nav__item> <a href=../../Git/9.%E5%AE%9E%E8%B7%B5Git-Flow/ class=md-nav__link> <span class=md-ellipsis> 9.实践Git Flow </span> </a> </li> <li class=md-nav__item> <a href=../../Git/10.%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 10.项目规范 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10 checked> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex> <span class=md-ellipsis> Ansible </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=true> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_1 checked> <label class=md-nav__link for=__nav_10_1 id=__nav_10_1_label tabindex=0> <span class=md-ellipsis> Ansible实践 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_1_label aria-expanded=true> <label class=md-nav__title for=__nav_10_1> <span class="md-nav__icon md-icon"></span> Ansible实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.Ansible%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> 1.Ansible简介 </span> </a> </li> <li class=md-nav__item> <a href=../2.YAML%E4%BB%8B%E7%BB%8D/ class=md-nav__link> <span class=md-ellipsis> 2.YAML 介绍 </span> </a> </li> <li class=md-nav__item> <a href=../3.%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 3.安装和配置 </span> </a> </li> <li class=md-nav__item> <a href=../4.Inventory/ class=md-nav__link> <span class=md-ellipsis> 4.Inventory </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 5.常用模块 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 5.常用模块 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ansible-常用模块介绍 class=md-nav__link> <span class=md-ellipsis> Ansible 常用模块介绍 </span> </a> <nav class=md-nav aria-label="Ansible 常用模块介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ansiblebuiltin class=md-nav__link> <span class=md-ellipsis> ansible.builtin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#运维常用模块示例 class=md-nav__link> <span class=md-ellipsis> 运维常用模块示例 </span> </a> <nav class=md-nav aria-label=运维常用模块示例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ping class=md-nav__link> <span class=md-ellipsis> ping </span> </a> </li> <li class=md-nav__item> <a href=#debug class=md-nav__link> <span class=md-ellipsis> debug </span> </a> </li> <li class=md-nav__item> <a href=#local_action class=md-nav__link> <span class=md-ellipsis> local_action </span> </a> </li> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> setup </span> </a> </li> <li class=md-nav__item> <a href=#copy class=md-nav__link> <span class=md-ellipsis> copy </span> </a> </li> <li class=md-nav__item> <a href=#fetch class=md-nav__link> <span class=md-ellipsis> fetch </span> </a> </li> <li class=md-nav__item> <a href=#authorized_key class=md-nav__link> <span class=md-ellipsis> authorized_key </span> </a> </li> <li class=md-nav__item> <a href=#synchronize class=md-nav__link> <span class=md-ellipsis> synchronize </span> </a> </li> <li class=md-nav__item> <a href=#template class=md-nav__link> <span class=md-ellipsis> template </span> </a> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> <span class=md-ellipsis> file </span> </a> </li> <li class=md-nav__item> <a href=#user class=md-nav__link> <span class=md-ellipsis> user </span> </a> </li> <li class=md-nav__item> <a href=#group class=md-nav__link> <span class=md-ellipsis> group </span> </a> </li> <li class=md-nav__item> <a href=#yum class=md-nav__link> <span class=md-ellipsis> yum </span> </a> </li> <li class=md-nav__item> <a href=#apt class=md-nav__link> <span class=md-ellipsis> apt </span> </a> </li> <li class=md-nav__item> <a href=#package class=md-nav__link> <span class=md-ellipsis> package </span> </a> </li> <li class=md-nav__item> <a href=#apt_key class=md-nav__link> <span class=md-ellipsis> apt_key </span> </a> </li> <li class=md-nav__item> <a href=#apt_repository class=md-nav__link> <span class=md-ellipsis> apt_repository </span> </a> </li> <li class=md-nav__item> <a href=#yum_repository class=md-nav__link> <span class=md-ellipsis> yum_repository </span> </a> </li> <li class=md-nav__item> <a href=#service class=md-nav__link> <span class=md-ellipsis> service </span> </a> </li> <li class=md-nav__item> <a href=#command class=md-nav__link> <span class=md-ellipsis> command </span> </a> </li> <li class=md-nav__item> <a href=#shell class=md-nav__link> <span class=md-ellipsis> shell </span> </a> </li> <li class=md-nav__item> <a href=#raw class=md-nav__link> <span class=md-ellipsis> raw </span> </a> </li> <li class=md-nav__item> <a href=#git class=md-nav__link> <span class=md-ellipsis> git </span> </a> </li> <li class=md-nav__item> <a href=#scritp class=md-nav__link> <span class=md-ellipsis> scritp </span> </a> </li> <li class=md-nav__item> <a href=#set_fact class=md-nav__link> <span class=md-ellipsis> set_fact </span> </a> </li> <li class=md-nav__item> <a href=#get_url class=md-nav__link> <span class=md-ellipsis> get_url </span> </a> </li> <li class=md-nav__item> <a href=#systemd class=md-nav__link> <span class=md-ellipsis> systemd </span> </a> </li> <li class=md-nav__item> <a href=#modprobe class=md-nav__link> <span class=md-ellipsis> modprobe </span> </a> </li> <li class=md-nav__item> <a href=#pypi class=md-nav__link> <span class=md-ellipsis> PyPI </span> </a> </li> <li class=md-nav__item> <a href=#cron class=md-nav__link> <span class=md-ellipsis> cron </span> </a> </li> <li class=md-nav__item> <a href=#filesystem class=md-nav__link> <span class=md-ellipsis> filesystem </span> </a> </li> <li class=md-nav__item> <a href=#mount class=md-nav__link> <span class=md-ellipsis> mount </span> </a> </li> <li class=md-nav__item> <a href=#hostname class=md-nav__link> <span class=md-ellipsis> hostname </span> </a> </li> <li class=md-nav__item> <a href=#archive class=md-nav__link> <span class=md-ellipsis> archive </span> </a> </li> <li class=md-nav__item> <a href=#unarchive class=md-nav__link> <span class=md-ellipsis> unarchive </span> </a> </li> <li class=md-nav__item> <a href=#lineinfile class=md-nav__link> <span class=md-ellipsis> lineinfile </span> </a> </li> <li class=md-nav__item> <a href=#replace class=md-nav__link> <span class=md-ellipsis> replace </span> </a> </li> <li class=md-nav__item> <a href=#blockinfile class=md-nav__link> <span class=md-ellipsis> blockinfile </span> </a> </li> <li class=md-nav__item> <a href=#group_by class=md-nav__link> <span class=md-ellipsis> group_by </span> </a> </li> <li class=md-nav__item> <a href=#slurp class=md-nav__link> <span class=md-ellipsis> slurp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#docker-模块 class=md-nav__link> <span class=md-ellipsis> Docker 模块 </span> </a> <nav class=md-nav aria-label="Docker 模块"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#docker-容器管理模块 class=md-nav__link> <span class=md-ellipsis> Docker 容器管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#docker-镜像管理模块 class=md-nav__link> <span class=md-ellipsis> Docker 镜像管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#docker-登录模块 class=md-nav__link> <span class=md-ellipsis> Docker 登录模块 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vmware-模块 class=md-nav__link> <span class=md-ellipsis> VMware 模块 </span> </a> <nav class=md-nav aria-label="VMware 模块"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vmware-虚拟机管理模块 class=md-nav__link> <span class=md-ellipsis> VMware 虚拟机管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware-虚拟机快照管理模块 class=md-nav__link> <span class=md-ellipsis> VMware 虚拟机快照管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware-虚拟机-shell-执行模块 class=md-nav__link> <span class=md-ellipsis> VMware 虚拟机 shell 执行模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware-主机电源状态控制模块 class=md-nav__link> <span class=md-ellipsis> VMware 主机电源状态控制模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware_guest_facts-模块 class=md-nav__link> <span class=md-ellipsis> vmware_guest_facts 模块 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../6.playbook/ class=md-nav__link> <span class=md-ellipsis> 6.playbook </span> </a> </li> <li class=md-nav__item> <a href=../7.role/ class=md-nav__link> <span class=md-ellipsis> 7.role </span> </a> </li> <li class=md-nav__item> <a href=../8.Galaxy/ class=md-nav__link> <span class=md-ellipsis> 8.Galaxy </span> </a> </li> <li class=md-nav__item> <a href=../9.Jinja2/ class=md-nav__link> <span class=md-ellipsis> 9.Jinja2 </span> </a> </li> <li class=md-nav__item> <a href=../10.Ansible%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 10.Ansible速度优化 </span> </a> </li> <li class=md-nav__item> <a href=../11.Ansible-API/ class=md-nav__link> <span class=md-ellipsis> 11.Ansible API </span> </a> </li> <li class=md-nav__item> <a href=../12.flask%2Bansible%E8%BF%90%E7%BB%B4%E5%90%8E%E7%AB%AF/ class=md-nav__link> <span class=md-ellipsis> 12.flask+ansible运维后端 </span> </a> </li> <li class=md-nav__item> <a href=../13.Module%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 13.Module 开发 </span> </a> </li> <li class=md-nav__item> <a href=../14.Plugin%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 14.Plugin 开发 </span> </a> </li> <li class=md-nav__item> <a href=../15.Ansible%E8%B0%83%E8%AF%95/ class=md-nav__link> <span class=md-ellipsis> 15.Ansible 调试 </span> </a> </li> <li class=md-nav__item> <a href=../16.playbook%E5%AE%9E%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 16.playbook 实例 </span> </a> </li> <li class=md-nav__item> <a href=../17.role%E5%AE%9E%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 17.role 实例 </span> </a> </li> <li class=md-nav__item> <a href=../%E9%99%84%E5%BD%95-Ansible-wiki/ class=md-nav__link> <span class=md-ellipsis> 附录-Ansible wiki </span> </a> </li> <li class=md-nav__item> <a href=../%E9%99%84%E5%BD%95-Ansible%E6%A0%B8%E5%BF%83%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90-1/ class=md-nav__link> <span class=md-ellipsis> 附录-Ansible 核心源码剖析-1 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> Shell </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11_1> <label class=md-nav__link for=__nav_11_1 id=__nav_11_1_label tabindex=0> <span class=md-ellipsis> Shell实践 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_11_1> <span class="md-nav__icon md-icon"></span> Shell实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Shell/Shell%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> Shell 教程概述 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/1.%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 1.第一个 Shell 程序 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/2.Shell%E5%8F%98%E9%87%8F%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 2.Shell 变量和字符串 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/3.Shell%E5%8F%82%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 3.Shell 参数 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/4.Shell%E6%95%B0%E7%BB%84/ class=md-nav__link> <span class=md-ellipsis> 4.Shell数组 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/5.Shell%E8%BF%90%E7%AE%97%E7%AC%A6/ class=md-nav__link> <span class=md-ellipsis> 5.Shell运算符 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/6.Shell-echo_printf%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 6.Shell echo/printf 命令 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/7.Shell-test%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 7.Shell test 命令 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/8.Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 8.Shell流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/9.Shell%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 9.Shell函数 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/10.Shell%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> <span class=md-ellipsis> 10.Shell重定向 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/11.Shell%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 11.Shell正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/12.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep/ class=md-nav__link> <span class=md-ellipsis> 12.Shell 三剑客之 grep </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/13.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed/ class=md-nav__link> <span class=md-ellipsis> 13.Shell 三剑客之 sed </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class=md-nav__link> <span class=md-ellipsis> 14.Shell 三剑客之 awk </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 15.Shell 常用工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 16.Shell实战项目 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/17.Shell%E8%84%9A%E6%9C%AC%E7%A4%BA%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 17.Shell 脚本示例 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/18.Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 18.Shell 脚本的参数解析工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/19.%E5%AE%9E%E7%94%A8Shell%E8%84%9A%E6%9C%AC%E6%A1%88%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 19.实用 Shell 脚本案例 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/20.Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 20.Shell 脚本的规范 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/21.Shell%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 21.Shell多进程并发 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/22.Shell_Library/ class=md-nav__link> <span class=md-ellipsis> 22.Shell_Library </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/23.Shell%E8%84%9A%E6%9C%AC%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/ class=md-nav__link> <span class=md-ellipsis> 23.Shell 脚本调试技术 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/24.Linux_Shell%E8%84%9A%E6%9C%AC%E6%94%BB%E7%95%A5/ class=md-nav__link> <span class=md-ellipsis> 24.Linux Shell脚本攻略 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/%E9%99%84-shell%E5%85%B6%E5%AE%83%E8%B5%84%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 附-shell 其它资源 </span> </a> </li> <li class=md-nav__item> <a href=../../Shell/%E9%99%84-vim%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 附-vim常用操作 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_1> <label class=md-nav__link for=__nav_12_1 id=__nav_12_1_label tabindex=0> <span class=md-ellipsis> KVM </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_1_label aria-expanded=false> <label class=md-nav__title for=__nav_12_1> <span class="md-nav__icon md-icon"></span> KVM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/KVM/1.kvm%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 1.kvm 常见操作 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/KVM/2.kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%9B%E5%BB%BA/ class=md-nav__link> <span class=md-ellipsis> 2.kvm虚拟机创建 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/KVM/3.kvm%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 3.kvm网络配置 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/KVM/4.%E5%AE%89%E8%A3%85KVM/ class=md-nav__link> <span class=md-ellipsis> 4.安装 KVM </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_2> <label class=md-nav__link for=__nav_12_2 id=__nav_12_2_label tabindex=0> <span class=md-ellipsis> Nginx </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_2_label aria-expanded=false> <label class=md-nav__title for=__nav_12_2> <span class="md-nav__icon md-icon"></span> Nginx </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/Nginx/1.Nginx%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> 1.Nginx 简介 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/2.Nginx%E5%AE%89%E8%A3%85%E5%8F%8A%E5%90%AF%E5%8A%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Nginx安装及启动 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/3.Nginx%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 3.Nginx配置 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/4.Nginx%E9%85%8D%E7%BD%AE%E4%B8%8B%E8%BD%BD%E7%AB%99%E7%82%B9/ class=md-nav__link> <span class=md-ellipsis> 4.Nginx配置下载站点 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/5.Nginx%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 5.Nginx访问控制 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/6.Nginx%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 6.Nginx虚拟主机 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/7.Nginx%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 7.Nginx静态资源 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/8.Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 8.Nginx缓存配置 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/9.Nginx%E6%AD%A3%E5%8F%8D%E4%BB%A3%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 9.Nginx 正反向代理 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/10.Nginx%E9%98%B2%E7%9B%97%E9%93%BE/ class=md-nav__link> <span class=md-ellipsis> 10.Nginx 防盗链 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/11.Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/ class=md-nav__link> <span class=md-ellipsis> 11.Nginx 负载均衡 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/12.Nginx%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/ class=md-nav__link> <span class=md-ellipsis> 12.Nginx 动静分离 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/13.Nginx%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 13.Nginx 跨域配置 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/14.Nginx%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> <span class=md-ellipsis> 14.Nginx重定向 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/15.Nginx-HTTPS/ class=md-nav__link> <span class=md-ellipsis> 15.Nginx HTTPS </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/16.%E9%99%84-Nginx-location%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 16.附-Nginx-location语法 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/17.%E9%99%84-Nginx-wiki/ class=md-nav__link> <span class=md-ellipsis> 17.附-Nginx-wiki </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Nginx/18.%E9%99%84-Nginx%E7%BB%BC%E5%90%88%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> 18.附-Nginx 综合实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_3> <label class=md-nav__link for=__nav_12_3 id=__nav_12_3_label tabindex=0> <span class=md-ellipsis> System </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_3_label aria-expanded=false> <label class=md-nav__title for=__nav_12_3> <span class="md-nav__icon md-icon"></span> System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/System/1.%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E5%92%8C%E8%BD%AF%E4%BB%B6%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 1.系统镜像和软件源 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/2.Linux%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/ class=md-nav__link> <span class=md-ellipsis> 2.Linux安全加固 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/3.Systemd/ class=md-nav__link> <span class=md-ellipsis> 3.Systemd </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/4.Superivisor/ class=md-nav__link> <span class=md-ellipsis> 4.Superivisor </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/5.SSH%E7%99%BB%E5%BD%95Linux%E6%98%BE%E7%A4%BA%E6%A8%AA%E5%B9%85/ class=md-nav__link> <span class=md-ellipsis> 5.SSH登录Linux显示横幅 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/6.Linux%E4%B8%AD%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%8E%92%E6%9F%A5/ class=md-nav__link> <span class=md-ellipsis> 6.Linux中端口占用排查 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/7.%E4%BD%BF%E7%94%A8curl%E5%8F%91%E9%80%81REST-API%E8%AF%B7%E6%B1%82/ class=md-nav__link> <span class=md-ellipsis> 7.使用curl发送REST API请求 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/8.%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E7%B3%8A%E6%9F%A5%E6%89%BE%E5%99%A8fzf/ class=md-nav__link> <span class=md-ellipsis> 8.命令行模糊查找器fzf </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/9.Centos7.9%E7%B3%BB%E7%BB%9F%E7%9B%98%E6%89%A9%E5%AE%B9/ class=md-nav__link> <span class=md-ellipsis> 9.Centos7.9系统盘扩容 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/10.Centos%E5%9C%A8%E7%BA%BF-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96/ class=md-nav__link> <span class=md-ellipsis> 10.Centos 在线-离线安装依赖 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/11.rsync-ssh/ class=md-nav__link> <span class=md-ellipsis> 11.rsync ssh 使用 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/12.%E5%90%84%E5%A4%A7%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%81%9ARAID/ class=md-nav__link> <span class=md-ellipsis> 12.各大服务器做RAID </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/13.Linux%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E4%B8%8E%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> 13.Linux 系统架构与运维实战 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/14.Linux%E4%B8%8B%E8%BD%AF%E4%BB%B6%E6%89%93%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 14.Linux 下软件打包 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/15.Linux%E7%B3%BB%E7%BB%9F%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 15.Linux 系统磁盘管理 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/System/16.Linux%E7%B3%BB%E7%BB%9F%E7%A3%81%E7%9B%98%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 16.Linux系统磁盘进阶 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_4> <label class=md-nav__link for=__nav_12_4 id=__nav_12_4_label tabindex=0> <span class=md-ellipsis> Serveices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_4_label aria-expanded=false> <label class=md-nav__title for=__nav_12_4> <span class="md-nav__icon md-icon"></span> Serveices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Linux/Serveices/0.ubuntu-desktop-vmware/ class=md-nav__link> <span class=md-ellipsis> 0.ubuntu-desktop-vmware </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Serveices/1.Vagrant%E8%99%9A%E6%8B%9F%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 1.Vagrant虚拟机 </span> </a> </li> <li class=md-nav__item> <a href=../../Linux/Serveices/2.ubuntu%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 2.ubuntu 网络设置 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13> <label class=md-nav__link for=__nav_13 id=__nav_13_label tabindex=0> <span class=md-ellipsis> middleware </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_13_label aria-expanded=false> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> middleware </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_1> <label class=md-nav__link for=__nav_13_1 id=__nav_13_1_label tabindex=0> <span class=md-ellipsis> db </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_1_label aria-expanded=false> <label class=md-nav__title for=__nav_13_1> <span class="md-nav__icon md-icon"></span> db </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../middleware/db/1.postgres/ class=md-nav__link> <span class=md-ellipsis> 1.postgres </span> </a> </li> <li class=md-nav__item> <a href=../../middleware/db/2.redis/ class=md-nav__link> <span class=md-ellipsis> 2.redis </span> </a> </li> <li class=md-nav__item> <a href=../../middleware/db/3.Mysql/ class=md-nav__link> <span class=md-ellipsis> 3.Mysql </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_2> <label class=md-nav__link for=__nav_13_2 id=__nav_13_2_label tabindex=0> <span class=md-ellipsis> mq </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_2_label aria-expanded=false> <label class=md-nav__title for=__nav_13_2> <span class="md-nav__icon md-icon"></span> mq </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../middleware/mq/1.rabbitMQ/ class=md-nav__link> <span class=md-ellipsis> 1.rabbitMQ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14> <label class=md-nav__link for=__nav_14 id=__nav_14_label tabindex=0> <span class=md-ellipsis> Other </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_14_label aria-expanded=false> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Other </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14_1> <label class=md-nav__link for=__nav_14_1 id=__nav_14_1_label tabindex=0> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_1_label aria-expanded=false> <label class=md-nav__title for=__nav_14_1> <span class="md-nav__icon md-icon"></span> tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Other/tools/1.PicGo%E5%9B%BE%E5%BA%8A/ class=md-nav__link> <span class=md-ellipsis> 1.PicGo图床 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/2.PicX%E5%9B%BE%E5%BA%8A/ class=md-nav__link> <span class=md-ellipsis> 2.Picx图床 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/3.Markdown%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 3.Markdown语法 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/4.KeyManager/ class=md-nav__link> <span class=md-ellipsis> 4.KeyManager </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/5.mkdocs-material%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/ class=md-nav__link> <span class=md-ellipsis> 5.mkdocs-material搭建博客 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/6.sphinx%E6%9E%84%E5%BB%BA%E5%8D%9A%E5%AE%A2/ class=md-nav__link> <span class=md-ellipsis> 6.sphinx构建博客 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/7.%E4%BC%81%E4%B8%9A%E7%BA%A7VPN%E8%BD%AF%E4%BB%B6AnyLink/ class=md-nav__link> <span class=md-ellipsis> 7.企业级VPN软件AnyLink </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/8.%E5%B9%B3%E5%8F%B0%E5%8F%8A%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/ class=md-nav__link> <span class=md-ellipsis> 8.平台及工具汇总 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/9.%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 9.自动更新系统代理 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/10.Bash-to-Bat-Converter/ class=md-nav__link> <span class=md-ellipsis> 10.Bash-to-Bat-Converter </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/11.%E7%94%B5%E5%AD%90%E4%B9%A6%E9%98%85%E8%AF%BB%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 11.电子书阅读器 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/12.ssh%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 12.ssh 工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/13.%E8%87%AA%E7%94%A8%E5%B7%A5%E5%85%B7%E9%9B%86/ class=md-nav__link> <span class=md-ellipsis> 13.自用工具集 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/14.Draw%E7%94%BB%E5%9B%BE/ class=md-nav__link> <span class=md-ellipsis> 14.Draw 画图 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/15.%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86%E7%BD%91%E7%AB%99/ class=md-nav__link> <span class=md-ellipsis> 15.搭建一个文档管理网站 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/16.%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7%E7%AE%B1/ class=md-nav__link> <span class=md-ellipsis> 16.在线工具箱 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/tools/17.GitHub%E6%8E%92%E8%A1%8C%E6%A6%9C/ class=md-nav__link> <span class=md-ellipsis> 17.GitHub 排行榜 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14_2> <label class=md-nav__link for=__nav_14_2 id=__nav_14_2_label tabindex=0> <span class=md-ellipsis> windows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_2_label aria-expanded=false> <label class=md-nav__title for=__nav_14_2> <span class="md-nav__icon md-icon"></span> windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Other/windows/1.%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E4%B8%8B%E8%BD%BD/ class=md-nav__link> <span class=md-ellipsis> 1.常用软件下载 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/2.windows%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 2.windows 快捷指令 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/3.DOS/ class=md-nav__link> <span class=md-ellipsis> 3.DOS </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/4.Windows%E6%BF%80%E6%B4%BB%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 4.Windows 激活工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/5.windows%E4%B8%8Bnetcat%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 5.windows下netcat安装 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/6.U%E7%9B%98%E5%88%B6%E4%BD%9C%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> U 盘制作工具 </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/7.rustdesk/ class=md-nav__link> <span class=md-ellipsis> 7.rustdesk </span> </a> </li> <li class=md-nav__item> <a href=../../Other/windows/8.Docker%E4%B8%AD%E8%BF%90%E8%A1%8CWindows%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 8.Docker 中运行 Windows 操作系统 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14_3> <label class=md-nav__link for=__nav_14_3 id=__nav_14_3_label tabindex=0> <span class=md-ellipsis> Interview </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_3_label aria-expanded=false> <label class=md-nav__title for=__nav_14_3> <span class="md-nav__icon md-icon"></span> Interview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Other/Interview/0.%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/ class=md-nav__link> <span class=md-ellipsis> 面试宝典 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ansible-常用模块介绍 class=md-nav__link> <span class=md-ellipsis> Ansible 常用模块介绍 </span> </a> <nav class=md-nav aria-label="Ansible 常用模块介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ansiblebuiltin class=md-nav__link> <span class=md-ellipsis> ansible.builtin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#运维常用模块示例 class=md-nav__link> <span class=md-ellipsis> 运维常用模块示例 </span> </a> <nav class=md-nav aria-label=运维常用模块示例> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ping class=md-nav__link> <span class=md-ellipsis> ping </span> </a> </li> <li class=md-nav__item> <a href=#debug class=md-nav__link> <span class=md-ellipsis> debug </span> </a> </li> <li class=md-nav__item> <a href=#local_action class=md-nav__link> <span class=md-ellipsis> local_action </span> </a> </li> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> setup </span> </a> </li> <li class=md-nav__item> <a href=#copy class=md-nav__link> <span class=md-ellipsis> copy </span> </a> </li> <li class=md-nav__item> <a href=#fetch class=md-nav__link> <span class=md-ellipsis> fetch </span> </a> </li> <li class=md-nav__item> <a href=#authorized_key class=md-nav__link> <span class=md-ellipsis> authorized_key </span> </a> </li> <li class=md-nav__item> <a href=#synchronize class=md-nav__link> <span class=md-ellipsis> synchronize </span> </a> </li> <li class=md-nav__item> <a href=#template class=md-nav__link> <span class=md-ellipsis> template </span> </a> </li> <li class=md-nav__item> <a href=#file class=md-nav__link> <span class=md-ellipsis> file </span> </a> </li> <li class=md-nav__item> <a href=#user class=md-nav__link> <span class=md-ellipsis> user </span> </a> </li> <li class=md-nav__item> <a href=#group class=md-nav__link> <span class=md-ellipsis> group </span> </a> </li> <li class=md-nav__item> <a href=#yum class=md-nav__link> <span class=md-ellipsis> yum </span> </a> </li> <li class=md-nav__item> <a href=#apt class=md-nav__link> <span class=md-ellipsis> apt </span> </a> </li> <li class=md-nav__item> <a href=#package class=md-nav__link> <span class=md-ellipsis> package </span> </a> </li> <li class=md-nav__item> <a href=#apt_key class=md-nav__link> <span class=md-ellipsis> apt_key </span> </a> </li> <li class=md-nav__item> <a href=#apt_repository class=md-nav__link> <span class=md-ellipsis> apt_repository </span> </a> </li> <li class=md-nav__item> <a href=#yum_repository class=md-nav__link> <span class=md-ellipsis> yum_repository </span> </a> </li> <li class=md-nav__item> <a href=#service class=md-nav__link> <span class=md-ellipsis> service </span> </a> </li> <li class=md-nav__item> <a href=#command class=md-nav__link> <span class=md-ellipsis> command </span> </a> </li> <li class=md-nav__item> <a href=#shell class=md-nav__link> <span class=md-ellipsis> shell </span> </a> </li> <li class=md-nav__item> <a href=#raw class=md-nav__link> <span class=md-ellipsis> raw </span> </a> </li> <li class=md-nav__item> <a href=#git class=md-nav__link> <span class=md-ellipsis> git </span> </a> </li> <li class=md-nav__item> <a href=#scritp class=md-nav__link> <span class=md-ellipsis> scritp </span> </a> </li> <li class=md-nav__item> <a href=#set_fact class=md-nav__link> <span class=md-ellipsis> set_fact </span> </a> </li> <li class=md-nav__item> <a href=#get_url class=md-nav__link> <span class=md-ellipsis> get_url </span> </a> </li> <li class=md-nav__item> <a href=#systemd class=md-nav__link> <span class=md-ellipsis> systemd </span> </a> </li> <li class=md-nav__item> <a href=#modprobe class=md-nav__link> <span class=md-ellipsis> modprobe </span> </a> </li> <li class=md-nav__item> <a href=#pypi class=md-nav__link> <span class=md-ellipsis> PyPI </span> </a> </li> <li class=md-nav__item> <a href=#cron class=md-nav__link> <span class=md-ellipsis> cron </span> </a> </li> <li class=md-nav__item> <a href=#filesystem class=md-nav__link> <span class=md-ellipsis> filesystem </span> </a> </li> <li class=md-nav__item> <a href=#mount class=md-nav__link> <span class=md-ellipsis> mount </span> </a> </li> <li class=md-nav__item> <a href=#hostname class=md-nav__link> <span class=md-ellipsis> hostname </span> </a> </li> <li class=md-nav__item> <a href=#archive class=md-nav__link> <span class=md-ellipsis> archive </span> </a> </li> <li class=md-nav__item> <a href=#unarchive class=md-nav__link> <span class=md-ellipsis> unarchive </span> </a> </li> <li class=md-nav__item> <a href=#lineinfile class=md-nav__link> <span class=md-ellipsis> lineinfile </span> </a> </li> <li class=md-nav__item> <a href=#replace class=md-nav__link> <span class=md-ellipsis> replace </span> </a> </li> <li class=md-nav__item> <a href=#blockinfile class=md-nav__link> <span class=md-ellipsis> blockinfile </span> </a> </li> <li class=md-nav__item> <a href=#group_by class=md-nav__link> <span class=md-ellipsis> group_by </span> </a> </li> <li class=md-nav__item> <a href=#slurp class=md-nav__link> <span class=md-ellipsis> slurp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#docker-模块 class=md-nav__link> <span class=md-ellipsis> Docker 模块 </span> </a> <nav class=md-nav aria-label="Docker 模块"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#docker-容器管理模块 class=md-nav__link> <span class=md-ellipsis> Docker 容器管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#docker-镜像管理模块 class=md-nav__link> <span class=md-ellipsis> Docker 镜像管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#docker-登录模块 class=md-nav__link> <span class=md-ellipsis> Docker 登录模块 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#vmware-模块 class=md-nav__link> <span class=md-ellipsis> VMware 模块 </span> </a> <nav class=md-nav aria-label="VMware 模块"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vmware-虚拟机管理模块 class=md-nav__link> <span class=md-ellipsis> VMware 虚拟机管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware-虚拟机快照管理模块 class=md-nav__link> <span class=md-ellipsis> VMware 虚拟机快照管理模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware-虚拟机-shell-执行模块 class=md-nav__link> <span class=md-ellipsis> VMware 虚拟机 shell 执行模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware-主机电源状态控制模块 class=md-nav__link> <span class=md-ellipsis> VMware 主机电源状态控制模块 </span> </a> </li> <li class=md-nav__item> <a href=#vmware_guest_facts-模块 class=md-nav__link> <span class=md-ellipsis> vmware_guest_facts 模块 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=5常用模块>5.常用模块<a class=headerlink href=#5常用模块 title="Permanent link">&para;</a></h1> <h2 id=ansible-常用模块介绍>Ansible 常用模块介绍<a class=headerlink href=#ansible-常用模块介绍 title="Permanent link">&para;</a></h2> <p>Ansible 常用模块有很多，包括云计算、命令行、包管理、系统服务、用户管理等，可以通过<a href=https://docs.ansible.com/ansible/latest/module_plugin_guide/index.html>官方网站</a></p> <p>参考：<a href=https://blog.gmem.cc/ansible-study-note>https://blog.gmem.cc/ansible-study-note</a></p> <p>查看相应的模块，也可以在命令行下通过<code>ansible-doc -l</code>命令查看模块，或者通过<code>ansible-doc -s</code>模块名查看具体某个模块的使用方法。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># pip show ansible</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>Name:<span class=w> </span>ansible
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>Version:<span class=w> </span><span class=m>2</span>.9.27
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>Summary:<span class=w> </span>Radically<span class=w> </span>simple<span class=w> </span>IT<span class=w> </span>automation
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>Home-page:<span class=w> </span>https://ansible.com/
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>Author:<span class=w> </span>Ansible,<span class=w> </span>Inc.
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>Author-email:<span class=w> </span>info@ansible.com
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>License:<span class=w> </span>GPLv3+
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>Location:<span class=w> </span>/usr/local/lib/python3.8/dist-packages
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>Requires:<span class=w> </span>cryptography,<span class=w> </span>jinja2,<span class=w> </span>PyYAML
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>Required-by:
</code></pre></div> <p>pip 安装的 ansible 模块安装在</p> <p><code>/usr/local/lib/python3.8/dist-packages/ansible/modules</code></p> <p>示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># 获取所有系统模块</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>ansible-doc<span class=w> </span>-l
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>ansible-doc<span class=w> </span>--list
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>ansible-doc<span class=w> </span>-s<span class=w> </span>yum
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>ansible-doc<span class=w> </span>yum
</code></pre></div> <p>官网的介绍比较详细，建议查看官网介绍。“ansible-doc -l”命令部分显示结果如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>.....
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>purestorage.flashblade.purefb_s3user<span class=w>                                                     </span>Create<span class=w> </span>or<span class=w> </span>delete<span class=w> </span>FlashBlade<span class=w> </span>Object<span class=w> </span>Store<span class=w> </span>account<span class=w> </span>users
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>purestorage.flashblade.purefb_smtp<span class=w>                                                       </span>Configure<span class=w> </span>SMTP<span class=w> </span><span class=k>for</span><span class=w> </span>Pure<span class=w> </span>Storage<span class=w> </span>FlashBlade
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>purestorage.flashblade.purefb_snap<span class=w>                                                       </span>Manage<span class=w> </span>filesystem<span class=w> </span>snapshots<span class=w> </span>on<span class=w> </span>Pure<span class=w> </span>Storage<span class=w> </span>FlashBlades
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>purestorage.flashblade.purefb_snmp_agent<span class=w>                                                 </span>Configure<span class=w> </span>the<span class=w> </span>FlashBlade<span class=w> </span>SNMP<span class=w> </span>Agent
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>purestorage.flashblade.purefb_snmp_mgr<span class=w>                                                   </span>Configure<span class=w> </span>FlashBlade<span class=w> </span>SNMP<span class=w> </span>Managers
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>purestorage.flashblade.purefb_subnet<span class=w>                                                     </span>Manage<span class=w> </span>network<span class=w> </span>subnets<span class=w> </span><span class=k>in</span><span class=w> </span>a<span class=w> </span>Pure<span class=w> </span>Storage<span class=w> </span>FlashBlade
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>purestorage.flashblade.purefb_syslog<span class=w>                                                     </span>Configure<span class=w> </span>Pure<span class=w> </span>Storage<span class=w> </span>FlashBlade<span class=w> </span>syslog<span class=w> </span>settings
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>purestorage.flashblade.purefb_target<span class=w>                                                     </span>Manage<span class=w> </span>remote<span class=w> </span>S3-capable<span class=w> </span>targets<span class=w> </span><span class=k>for</span><span class=w> </span>a<span class=w> </span>FlashBlade
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>purestorage.flashblade.purefb_timeout<span class=w>                                                    </span>Configure<span class=w> </span>Pure<span class=w> </span>Storage<span class=w> </span>FlashBlade<span class=w> </span>GUI<span class=w> </span>idle<span class=w> </span>timeout
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>purestorage.flashblade.purefb_user<span class=w>                                                       </span>Modify<span class=w> </span>FlashBlade<span class=w> </span><span class=nb>local</span><span class=w> </span>user<span class=w> </span>account<span class=w> </span>password
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>purestorage.flashblade.purefb_userpolicy<span class=w>                                                 </span>Manage<span class=w> </span>FlashBlade<span class=w> </span>Object<span class=w> </span>Store<span class=w> </span>User<span class=w> </span>Access<span class=w> </span>Policies
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>purestorage.flashblade.purefb_virtualhost<span class=w>                                                </span>Manage<span class=w> </span>FlashBlade<span class=w> </span>Object<span class=w> </span>Store<span class=w> </span>Virtual<span class=w> </span>Hosts
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>raw<span class=w>                                                                                      </span>Executes<span class=w> </span>a<span class=w> </span>low-down<span class=w> </span>and<span class=w> </span>dirty<span class=w> </span><span class=nb>command</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>reboot<span class=w>                                                                                   </span>Reboot<span class=w> </span>a<span class=w> </span>machine
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>replace<span class=w>                                                                                  </span>Replace<span class=w> </span>all<span class=w> </span>instances<span class=w> </span>of<span class=w> </span>a<span class=w> </span>particular<span class=w> </span>string<span class=w> </span><span class=k>in</span><span class=w> </span>a<span class=w> </span>file<span class=w> </span>using<span class=w> </span>a<span class=w> </span>back-referenced<span class=w> </span>regular<span class=w> </span>expression
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>rpm_key<span class=w>                                                                                  </span>Adds<span class=w> </span>or<span class=w> </span>removes<span class=w> </span>a<span class=w> </span>gpg<span class=w> </span>key<span class=w> </span>from<span class=w> </span>the<span class=w> </span>rpm<span class=w> </span>db
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>script<span class=w>                                                                                   </span>Runs<span class=w> </span>a<span class=w> </span><span class=nb>local</span><span class=w> </span>script<span class=w> </span>on<span class=w> </span>a<span class=w> </span>remote<span class=w> </span>node<span class=w> </span>after<span class=w> </span>transferring<span class=w> </span>it
<a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>sensu.sensu_go.ad_auth_provider<span class=w>                                                          </span>Manage<span class=w> </span>Sensu<span class=w> </span>AD<span class=w> </span>authent
<a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>.....
</code></pre></div> <h3 id=ansiblebuiltin>ansible.builtin<a class=headerlink href=#ansiblebuiltin title="Permanent link">&para;</a></h3> <p>在 Ansible 中，ansible.builtin 是一个特殊的关键字，用于指示 Ansible 使用其内置的核心模块。</p> <p>推荐一款 vscode 插件 Ansible Core Snippets</p> <p>ansible.builtin collection</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>ansible.builtin.add_host<span class=w> </span>:<span class=w> </span>add_host<span class=w> </span>Add<span class=w> </span>a<span class=w> </span>host<span class=w> </span><span class=o>(</span>and<span class=w> </span>alternatively<span class=w> </span>a<span class=w> </span>group<span class=o>)</span><span class=w> </span>to<span class=w> </span>the<span class=w> </span>ansible-playbook<span class=w> </span><span class=k>in</span>-memory<span class=w> </span>inventory
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>ansible.builtin.apt<span class=w> </span>:<span class=w> </span>apt<span class=w> </span>Manages<span class=w> </span>apt-packages
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>ansible.builtin.apt_key<span class=w> </span>:<span class=w> </span>apt_key<span class=w> </span>Add<span class=w> </span>or<span class=w> </span>remove<span class=w> </span>an<span class=w> </span>apt<span class=w> </span>key
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>ansible.builtin.apt_repository<span class=w> </span>:<span class=w> </span>apt_repository<span class=w> </span>Add<span class=w> </span>and<span class=w> </span>remove<span class=w> </span>APT<span class=w> </span>repositories
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>ansible.builtin.assemble<span class=w> </span>:<span class=w> </span>assemble<span class=w> </span>Assemble<span class=w> </span>configuration<span class=w> </span>files<span class=w> </span>from<span class=w> </span>fragments
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>ansible.builtin.assert<span class=w> </span>:<span class=w> </span>assert<span class=w> </span>Asserts<span class=w> </span>given<span class=w> </span>expressions<span class=w> </span>are<span class=w> </span><span class=nb>true</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>ansible.builtin.async_status<span class=w> </span>:<span class=w> </span>async_status<span class=w> </span>Obtain<span class=w> </span>status<span class=w> </span>of<span class=w> </span>asynchronous<span class=w> </span>task
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>ansible.builtin.blockinfile<span class=w> </span>:<span class=w> </span>blockinfile<span class=w> </span>Insert/update/remove<span class=w> </span>a<span class=w> </span>text<span class=w> </span>block<span class=w> </span>surrounded<span class=w> </span>by<span class=w> </span>marker<span class=w> </span>lines
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>ansible.builtin.command<span class=w> </span>:<span class=w> </span><span class=nb>command</span><span class=w> </span>Execute<span class=w> </span>commands<span class=w> </span>on<span class=w> </span>targets
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>ansible.builtin.copy<span class=w> </span>:<span class=w> </span>copy<span class=w> </span>Copy<span class=w> </span>files<span class=w> </span>to<span class=w> </span>remote<span class=w> </span>locations
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>ansible.builtin.cron<span class=w> </span>:<span class=w> </span>cron<span class=w> </span>Manage<span class=w> </span>cron.d<span class=w> </span>and<span class=w> </span>crontab<span class=w> </span>entries
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>ansible.builtin.debconf<span class=w> </span>:<span class=w> </span>debconf<span class=w> </span>Configure<span class=w> </span>a<span class=w> </span>.deb<span class=w> </span>package
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>ansible.builtin.debug<span class=w> </span>:<span class=w> </span>debug<span class=w> </span>Print<span class=w> </span>statements<span class=w> </span>during<span class=w> </span>execution
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>ansible.builtin.dnf<span class=w> </span>:<span class=w> </span>dnf<span class=w> </span>Manages<span class=w> </span>packages<span class=w> </span>with<span class=w> </span>the<span class=w> </span>I<span class=o>(</span>dnf<span class=o>)</span><span class=w> </span>package<span class=w> </span>manager
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>ansible.builtin.dpkg_selections<span class=w> </span>:<span class=w> </span>dpkg_selections<span class=w> </span>Dpkg<span class=w> </span>package<span class=w> </span>selection<span class=w> </span>selections
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>ansible.builtin.expect<span class=w> </span>:<span class=w> </span>expect<span class=w> </span>Executes<span class=w> </span>a<span class=w> </span><span class=nb>command</span><span class=w> </span>and<span class=w> </span>responds<span class=w> </span>to<span class=w> </span>prompts
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>ansible.builtin.fail<span class=w> </span>:<span class=w> </span>fail<span class=w> </span>Fail<span class=w> </span>with<span class=w> </span>custom<span class=w> </span>message
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>ansible.builtin.fetch<span class=w> </span>:<span class=w> </span>fetch<span class=w> </span>Fetch<span class=w> </span>files<span class=w> </span>from<span class=w> </span>remote<span class=w> </span>nodes
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>ansible.builtin.file<span class=w> </span>:<span class=w> </span>file<span class=w> </span>Manage<span class=w> </span>files<span class=w> </span>and<span class=w> </span>file<span class=w> </span>properties
<a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>ansible.builtin.find<span class=w> </span>:<span class=w> </span>find<span class=w> </span>Return<span class=w> </span>a<span class=w> </span>list<span class=w> </span>of<span class=w> </span>files<span class=w> </span>based<span class=w> </span>on<span class=w> </span>specific<span class=w> </span>criteria
<a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a>ansible.builtin.setup<span class=w> </span>:<span class=w> </span>setup<span class=w> </span>Gathers<span class=w> </span>facts<span class=w> </span>about<span class=w> </span>remote<span class=w> </span>hosts
<a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>ansible.builtin.get_url<span class=w> </span>:<span class=w> </span>get_url<span class=w> </span>Downloads<span class=w> </span>files<span class=w> </span>from<span class=w> </span>HTTP,<span class=w> </span>HTTPS,<span class=w> </span>or<span class=w> </span>FTP<span class=w> </span>to<span class=w> </span>node
<a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a>ansible.builtin.getent<span class=w> </span>:<span class=w> </span>getent<span class=w> </span>A<span class=w> </span>wrapper<span class=w> </span>to<span class=w> </span>the<span class=w> </span>unix<span class=w> </span>getent<span class=w> </span>utility
<a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>ansible.builtin.git<span class=w> </span>:<span class=w> </span>git<span class=w> </span>Deploy<span class=w> </span>software<span class=w> </span><span class=o>(</span>or<span class=w> </span>files<span class=o>)</span><span class=w> </span>from<span class=w> </span>git<span class=w> </span>checkouts
<a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a>ansible.builtin.group<span class=w> </span>:<span class=w> </span>group<span class=w> </span>Add<span class=w> </span>or<span class=w> </span>remove<span class=w> </span>groups
<a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a>ansible.builtin.group_by<span class=w> </span>:<span class=w> </span>group_by<span class=w> </span>Create<span class=w> </span>Ansible<span class=w> </span>groups<span class=w> </span>based<span class=w> </span>on<span class=w> </span>facts
<a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a>ansible.builtin.hostname<span class=w> </span>:<span class=w> </span>hostname<span class=w> </span>Manage<span class=w> </span>hostname
<a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a>ansible.builtin.import_playbook<span class=w> </span>:<span class=w> </span>import_playbook<span class=w> </span>Import<span class=w> </span>a<span class=w> </span>playbook
<a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a>ansible.builtin.import_role<span class=w> </span>:<span class=w> </span>import_role<span class=w> </span>Import<span class=w> </span>a<span class=w> </span>role<span class=w> </span>into<span class=w> </span>a<span class=w> </span>play
<a id=__codelineno-3-30 name=__codelineno-3-30 href=#__codelineno-3-30></a>ansible.builtin.import_tasks<span class=w> </span>:<span class=w> </span>import_tasks<span class=w> </span>Import<span class=w> </span>a<span class=w> </span>task<span class=w> </span>list
<a id=__codelineno-3-31 name=__codelineno-3-31 href=#__codelineno-3-31></a>ansible.builtin.include_role<span class=w> </span>:<span class=w> </span>include_role<span class=w> </span>Load<span class=w> </span>and<span class=w> </span>execute<span class=w> </span>a<span class=w> </span>role
<a id=__codelineno-3-32 name=__codelineno-3-32 href=#__codelineno-3-32></a>ansible.builtin.include_tasks<span class=w> </span>:<span class=w> </span>include_tasks<span class=w> </span>Dynamically<span class=w> </span>include<span class=w> </span>a<span class=w> </span>task<span class=w> </span>list
<a id=__codelineno-3-33 name=__codelineno-3-33 href=#__codelineno-3-33></a>ansible.builtin.include_vars<span class=w> </span>:<span class=w> </span>include_vars<span class=w> </span>Load<span class=w> </span>variables<span class=w> </span>from<span class=w> </span>files,<span class=w> </span>dynamically<span class=w> </span>within<span class=w> </span>a<span class=w> </span>task
<a id=__codelineno-3-34 name=__codelineno-3-34 href=#__codelineno-3-34></a>ansible.builtin.iptables<span class=w> </span>:<span class=w> </span>iptables<span class=w> </span>Modify<span class=w> </span>iptables<span class=w> </span>rules
<a id=__codelineno-3-35 name=__codelineno-3-35 href=#__codelineno-3-35></a>ansible.builtin.known_hosts<span class=w> </span>:<span class=w> </span>known_hosts<span class=w> </span>Add<span class=w> </span>or<span class=w> </span>remove<span class=w> </span>a<span class=w> </span>host<span class=w> </span>from<span class=w> </span>the<span class=w> </span>C<span class=o>(</span>known_hosts<span class=o>)</span><span class=w> </span>file
<a id=__codelineno-3-36 name=__codelineno-3-36 href=#__codelineno-3-36></a>ansible.builtin.lineinfile<span class=w> </span>:<span class=w> </span>lineinfile<span class=w> </span>Manage<span class=w> </span>lines<span class=w> </span><span class=k>in</span><span class=w> </span>text<span class=w> </span>files
<a id=__codelineno-3-37 name=__codelineno-3-37 href=#__codelineno-3-37></a>ansible.builtin.meta<span class=w> </span>:<span class=w> </span>meta<span class=w> </span>Execute<span class=w> </span>Ansible<span class=w> </span><span class=s1>&#39;actions&#39;</span>
<a id=__codelineno-3-38 name=__codelineno-3-38 href=#__codelineno-3-38></a>ansible.builtin.package<span class=w> </span>:<span class=w> </span>package<span class=w> </span>Generic<span class=w> </span>OS<span class=w> </span>package<span class=w> </span>manager
<a id=__codelineno-3-39 name=__codelineno-3-39 href=#__codelineno-3-39></a>ansible.builtin.package_facts<span class=w> </span>:<span class=w> </span>package_facts<span class=w> </span>Package<span class=w> </span>information<span class=w> </span>as<span class=w> </span>facts
<a id=__codelineno-3-40 name=__codelineno-3-40 href=#__codelineno-3-40></a>ansible.builtin.pause<span class=w> </span>:<span class=w> </span>pause<span class=w> </span>Pause<span class=w> </span>playbook<span class=w> </span>execution
<a id=__codelineno-3-41 name=__codelineno-3-41 href=#__codelineno-3-41></a>ansible.builtin.ping<span class=w> </span>:<span class=w> </span>ping<span class=w> </span>Try<span class=w> </span>to<span class=w> </span>connect<span class=w> </span>to<span class=w> </span>host,<span class=w> </span>verify<span class=w> </span>a<span class=w> </span>usable<span class=w> </span>python<span class=w> </span>and<span class=w> </span><span class=k>return</span><span class=w> </span>C<span class=o>(</span>pong<span class=o>)</span><span class=w> </span>on<span class=w> </span>success
<a id=__codelineno-3-42 name=__codelineno-3-42 href=#__codelineno-3-42></a>ansible.builtin.pip<span class=w> </span>:<span class=w> </span>pip<span class=w> </span>Manages<span class=w> </span>Python<span class=w> </span>library<span class=w> </span>dependencies
<a id=__codelineno-3-43 name=__codelineno-3-43 href=#__codelineno-3-43></a>ansible.builtin.raw<span class=w> </span>:<span class=w> </span>raw<span class=w> </span>Executes<span class=w> </span>a<span class=w> </span>low-down<span class=w> </span>and<span class=w> </span>dirty<span class=w> </span><span class=nb>command</span>
<a id=__codelineno-3-44 name=__codelineno-3-44 href=#__codelineno-3-44></a>ansible.builtin.reboot<span class=w> </span>:<span class=w> </span>reboot<span class=w> </span>Reboot<span class=w> </span>a<span class=w> </span>machine
<a id=__codelineno-3-45 name=__codelineno-3-45 href=#__codelineno-3-45></a>ansible.builtin.replace<span class=w> </span>:<span class=w> </span>replace<span class=w> </span>Replace<span class=w> </span>all<span class=w> </span>instances<span class=w> </span>of<span class=w> </span>a<span class=w> </span>particular<span class=w> </span>string<span class=w> </span><span class=k>in</span><span class=w> </span>a<span class=w> </span>file<span class=w> </span>using<span class=w> </span>a<span class=w> </span>back-referenced<span class=w> </span>regular<span class=w> </span>expression
<a id=__codelineno-3-46 name=__codelineno-3-46 href=#__codelineno-3-46></a>ansible.builtin.rpm_key<span class=w> </span>:<span class=w> </span>rpm_key<span class=w> </span>Adds<span class=w> </span>or<span class=w> </span>removes<span class=w> </span>a<span class=w> </span>gpg<span class=w> </span>key<span class=w> </span>from<span class=w> </span>the<span class=w> </span>rpm<span class=w> </span>db
<a id=__codelineno-3-47 name=__codelineno-3-47 href=#__codelineno-3-47></a>ansible.builtin.script<span class=w> </span>:<span class=w> </span>script<span class=w> </span>Runs<span class=w> </span>a<span class=w> </span><span class=nb>local</span><span class=w> </span>script<span class=w> </span>on<span class=w> </span>a<span class=w> </span>remote<span class=w> </span>node<span class=w> </span>after<span class=w> </span>transferring<span class=w> </span>it
<a id=__codelineno-3-48 name=__codelineno-3-48 href=#__codelineno-3-48></a>ansible.builtin.service<span class=w> </span>:<span class=w> </span>service<span class=w> </span>Manage<span class=w> </span>services
<a id=__codelineno-3-49 name=__codelineno-3-49 href=#__codelineno-3-49></a>ansible.builtin.service_facts<span class=w> </span>:<span class=w> </span>service_facts<span class=w> </span>Return<span class=w> </span>service<span class=w> </span>state<span class=w> </span>information<span class=w> </span>as<span class=w> </span>fact<span class=w> </span>data
<a id=__codelineno-3-50 name=__codelineno-3-50 href=#__codelineno-3-50></a>ansible.builtin.set_fact<span class=w> </span>:<span class=w> </span>set_fact<span class=w> </span>Set<span class=w> </span>host<span class=w> </span>variable<span class=o>(</span>s<span class=o>)</span><span class=w> </span>and<span class=w> </span>fact<span class=o>(</span>s<span class=o>)</span>.
<a id=__codelineno-3-51 name=__codelineno-3-51 href=#__codelineno-3-51></a>ansible.builtin.set_stats<span class=w> </span>:<span class=w> </span>set_stats<span class=w> </span>Define<span class=w> </span>and<span class=w> </span>display<span class=w> </span>stats<span class=w> </span><span class=k>for</span><span class=w> </span>the<span class=w> </span>current<span class=w> </span>ansible<span class=w> </span>run
<a id=__codelineno-3-52 name=__codelineno-3-52 href=#__codelineno-3-52></a>ansible.builtin.shell<span class=w> </span>:<span class=w> </span>shell<span class=w> </span>Execute<span class=w> </span>shell<span class=w> </span>commands<span class=w> </span>on<span class=w> </span>targets
<a id=__codelineno-3-53 name=__codelineno-3-53 href=#__codelineno-3-53></a>ansible.builtin.slurp<span class=w> </span>:<span class=w> </span>slurp<span class=w> </span>Slurps<span class=w> </span>a<span class=w> </span>file<span class=w> </span>from<span class=w> </span>remote<span class=w> </span>nodes
<a id=__codelineno-3-54 name=__codelineno-3-54 href=#__codelineno-3-54></a>ansible.builtin.stat<span class=w> </span>:<span class=w> </span>stat<span class=w> </span>Retrieve<span class=w> </span>file<span class=w> </span>or<span class=w> </span>file<span class=w> </span>system<span class=w> </span>status
<a id=__codelineno-3-55 name=__codelineno-3-55 href=#__codelineno-3-55></a>ansible.builtin.subversion<span class=w> </span>:<span class=w> </span>subversion<span class=w> </span>Deploys<span class=w> </span>a<span class=w> </span>subversion<span class=w> </span>repository
<a id=__codelineno-3-56 name=__codelineno-3-56 href=#__codelineno-3-56></a>ansible.builtin.systemd_service<span class=w> </span>:<span class=w> </span>systemd_service<span class=w> </span>Manage<span class=w> </span>systemd<span class=w> </span>units
<a id=__codelineno-3-57 name=__codelineno-3-57 href=#__codelineno-3-57></a>ansible.builtin.sysvinit<span class=w> </span>:<span class=w> </span>sysvinit<span class=w> </span>Manage<span class=w> </span>SysV<span class=w> </span>services.
<a id=__codelineno-3-58 name=__codelineno-3-58 href=#__codelineno-3-58></a>ansible.builtin.tempfile<span class=w> </span>:<span class=w> </span>tempfile<span class=w> </span>Creates<span class=w> </span>temporary<span class=w> </span>files<span class=w> </span>and<span class=w> </span>directories
<a id=__codelineno-3-59 name=__codelineno-3-59 href=#__codelineno-3-59></a>ansible.builtin.template<span class=w> </span>:<span class=w> </span>template<span class=w> </span>Template<span class=w> </span>a<span class=w> </span>file<span class=w> </span>out<span class=w> </span>to<span class=w> </span>a<span class=w> </span>target<span class=w> </span>host
<a id=__codelineno-3-60 name=__codelineno-3-60 href=#__codelineno-3-60></a>ansible.builtin.unarchive<span class=w> </span>:<span class=w> </span>unarchive<span class=w> </span>Unpacks<span class=w> </span>an<span class=w> </span>archive<span class=w> </span>after<span class=w> </span><span class=o>(</span>optionally<span class=o>)</span><span class=w> </span>copying<span class=w> </span>it<span class=w> </span>from<span class=w> </span>the<span class=w> </span><span class=nb>local</span><span class=w> </span>machine
<a id=__codelineno-3-61 name=__codelineno-3-61 href=#__codelineno-3-61></a>ansible.builtin.uri<span class=w> </span>:<span class=w> </span>uri<span class=w> </span>Interacts<span class=w> </span>with<span class=w> </span>webservices
<a id=__codelineno-3-62 name=__codelineno-3-62 href=#__codelineno-3-62></a>ansible.builtin.user<span class=w> </span>:<span class=w> </span>user<span class=w> </span>Manage<span class=w> </span>user<span class=w> </span>accounts
<a id=__codelineno-3-63 name=__codelineno-3-63 href=#__codelineno-3-63></a>ansible.builtin.validate_argument_spec<span class=w> </span>:<span class=w> </span>validate_argument_spec<span class=w> </span>Validate<span class=w> </span>role<span class=w> </span>argument<span class=w> </span>specs.
<a id=__codelineno-3-64 name=__codelineno-3-64 href=#__codelineno-3-64></a>ansible.builtin.wait_for<span class=w> </span>:<span class=w> </span>wait_for<span class=w> </span>Waits<span class=w> </span><span class=k>for</span><span class=w> </span>a<span class=w> </span>condition<span class=w> </span>before<span class=w> </span>continuing
<a id=__codelineno-3-65 name=__codelineno-3-65 href=#__codelineno-3-65></a>ansible.builtin.wait_for_connection<span class=w> </span>:<span class=w> </span>wait_for_connection<span class=w> </span>Waits<span class=w> </span><span class=k>until</span><span class=w> </span>remote<span class=w> </span>system<span class=w> </span>is<span class=w> </span>reachable/usable
<a id=__codelineno-3-66 name=__codelineno-3-66 href=#__codelineno-3-66></a>ansible.builtin.yum<span class=w> </span>:<span class=w> </span>yum<span class=w> </span>Manages<span class=w> </span>packages<span class=w> </span>with<span class=w> </span>the<span class=w> </span>I<span class=o>(</span>yum<span class=o>)</span><span class=w> </span>package<span class=w> </span>manager
<a id=__codelineno-3-67 name=__codelineno-3-67 href=#__codelineno-3-67></a>ansible.builtin.yum_repository<span class=w> </span>:<span class=w> </span>yum_repository<span class=w> </span>Add<span class=w> </span>or<span class=w> </span>remove<span class=w> </span>YUM<span class=w> </span>repositories
</code></pre></div> <p>1.Playbooks 和 Roles 中的任务定义：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ensure nginx is installed</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>ansible.builtin.yum</span><span class=p>:</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>  </span><span class=nt>become</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <p>2.模块调用：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>ansible.builtin.shell<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;echo hello&#39;</span>
</code></pre></div> <p>3.动态生成变量：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Get disk usage</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span><span class=nt>ansible.builtin.shell</span><span class=p>:</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=nt>cmd</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">df -h /</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">disk_usage</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>debug</span><span class=p>:</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=nt>msg</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Disk</span><span class=nv> </span><span class=s>usage:</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>disk_usage.stdout</span><span class=nv> </span><span class=s>}}&quot;</span>
</code></pre></div> <h2 id=运维常用模块示例>运维常用模块示例<a class=headerlink href=#运维常用模块示例 title="Permanent link">&para;</a></h2> <p>下面介绍运维工作中经常用到的几个模块，其他模块不再逐一介绍，建议大家参考官文档。</p> <ul> <li>local_action 模块</li> <li>ping 模块</li> <li>debug 模块</li> <li>copy 模块</li> <li>fetch 模块</li> <li>authorized_key 模块</li> <li>synchronize 模块</li> <li>template 模块</li> <li>file 模块</li> <li>user 模块</li> <li>yum 模块</li> <li>apt 模块</li> <li>package 模块</li> <li>apt_key 模块</li> <li>apt_repository 模块</li> <li>yum_repository 模块</li> <li>service 模块</li> <li>shell 模块</li> <li>command 模块</li> <li>git 模块</li> <li>set_fact 模块</li> <li>systemd 模块</li> <li>modprobe 模块</li> <li>setup 模块</li> <li>group 模块</li> <li>script 模块</li> <li>get_url 模块</li> <li>cron 模块</li> <li>lineinfile 模块</li> <li>replace 模块</li> </ul> <p>Ansible 命令行调用模块的语法格式如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>ansible<span class=w> </span>操作目标<span class=w> </span>-m<span class=w> </span>模块名<span class=w> </span>-a<span class=w> </span>模块参数
</code></pre></div> <h3 id=ping>ping<a class=headerlink href=#ping title="Permanent link">&para;</a></h3> <p>ping 模块，其可用于检测与被控端机器的连通性，命令如下：</p> <p>测试一个节点有没有配置好，执行检查：</p> <ul> <li>能不能 SSH 登陆</li> <li>python 版本是否满足需求</li> </ul> <blockquote> <p>没有参数</p> </blockquote> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>ping
</code></pre></div> <h3 id=debug>debug<a class=headerlink href=#debug title="Permanent link">&para;</a></h3> <p>打印调试信息，类似于 echo。支持变量替换</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>ansible<span class=w> </span>-m<span class=w> </span>debug<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;var=hostvars[inventory_hostname]&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=nn>---</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">k8s</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>      </span><span class=nt>debug</span><span class=p>:</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>        </span><span class=nt>msg</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>inventory_hostname</span><span class=nv> </span><span class=s>}}</span><span class=nv> </span><span class=s>has</span><span class=nv> </span><span class=s>gateway</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>ansible_default_ipv4.gateway</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>        </span><span class=c1># 也可以打印变量</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>        </span><span class=nt>var</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hostvars[inventory_hostname][&quot;ansible_default_ipv4&quot;][&quot;gateway&quot;]</span>
</code></pre></div> <h3 id=local_action>local_action<a class=headerlink href=#local_action title="Permanent link">&para;</a></h3> <p>当你想委托一个任务在本地机器上运行时，local_action 模块很有用。你可以用 Ansible 模块或者 shell 命令来使用它。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Run a local command</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Backup a file from the remote server to the local machine</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>      </span><span class=nt>copy</span><span class=p>:</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/file</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/backup</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=w>      </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">backup_result</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Log the backup result on the local machine</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=w>      </span><span class=nt>local_action</span><span class=p>:</span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=w>        </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">command</span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=w>        </span><span class=nt>args</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">echo &quot;Backup result</span><span class="p p-Indicator">:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>backup_result</span><span class=w> </span><span class="p p-Indicator">}}</span><span class=s>&quot;</span>
</code></pre></div> <p>参考文献</p> <p><a href=https://juejin.cn/post/7122350498732048397>https://juejin.cn/post/7122350498732048397</a></p> <h3 id=setup>setup<a class=headerlink href=#setup title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>setup 模块来收集主机的系统信息，这些 facts 信息可以直接以变量的形式使用，但是如果主机较多，会影响执行速度，可以使用 gather_facts: no 来禁止 Ansible 收集 facts 信息</p> <p><code>ansible-doc -s setup</code></p> <p>默认情况下，playbook 的第一个任务就是 Facts 信息，显示的结果如下:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>PLAY<span class=w> </span><span class=o>[</span><span class=m>192</span>.168.77.130<span class=o>]</span><span class=w> </span>******************************************
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>TASK<span class=w> </span><span class=o>[</span>Gathering<span class=w> </span>Facts<span class=o>]</span><span class=w> </span>****************************************************************
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>ok:<span class=w> </span><span class=o>[</span><span class=m>192</span>.168.77.130<span class=o>]</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>TASK<span class=w> </span><span class=o>[</span>test<span class=o>]</span><span class=w> </span>****************************************************
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>changed:<span class=w> </span><span class=o>[</span><span class=m>192</span>.168.77.130<span class=o>]</span>
</code></pre></div> <p>如果要关闭 playbook 的这一操作，就需要为 play 添加 gather_facts 关键字</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a># 关闭关闭自动采集Facts
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>- hosts: whatever
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>  gather_facts: no
</code></pre></div> <p>(2) 举例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># 查看已经安装的东西</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>ansible<span class=w> </span>all<span class=w>  </span>-m<span class=w> </span>setup
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=c1># 查看所有节点的ansible_python的版本</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>ansible<span class=w> </span>all<span class=w>  </span>-m<span class=w>  </span>setup<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;filter=ansible_python_version&#39;</span>
</code></pre></div> <h3 id=copy>copy<a class=headerlink href=#copy title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>Ansible 中的 copy 模块用于实现文件复制和批量下发文件，src 来定义本地源文件路径，使用 dest 定义被管理主机文件路径，使用 content 定义信息内容来生成目标文件</p> <p>该模块可实现 Ansible 主机向客户端传送文件的功能，文件的变化是通过 md5 值来判断的，大家需要记住应提前关闭客户端机器的 SELinux。</p> <p><code>ansible-doc -s copy</code></p> <p>(2) 举例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>src:<span class=w> </span><span class=c1># 源文件  指定拷贝文件的本地路径  (如果有/ 则拷贝目录内容,比拷贝目录本身)</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>dest:<span class=w> </span><span class=c1># 指定目标路径</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>mode:<span class=w> </span><span class=c1># 设置权限</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>  </span>backup:<span class=w> </span><span class=c1># 备份源文件</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=w>  </span>content:<span class=w> </span><span class=c1># 代替src  指定本机文件内容,生成目标主机文件</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># 进行复制dest=/tmp/test.txt&quot;</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>copy<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;content=&#39;test content\nxxx&#39; dest=/tmp/test.txt&quot;</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=c1># 进行查看</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>ansible<span class=w> </span>webserver<span class=w>  </span>-a<span class=w> </span><span class=s2>&quot;cat /tmp/test.txt&quot;</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>copy<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/home/test.sh dest=/tmp/ owner=root group=root mode=0755&quot;</span>
<a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>copy<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;src=/etc/fstab dest=/tmp/fstab.ansible owner=root mode=640&#39;</span>
<a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>
<a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=c1>#将“Hello Ansible Hi Ansible”写入管理主机的/tmp/test.ansible文件中</span>
<a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>copy<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;content=&quot;Hello Ansible Hi Ansible&quot; dest=/tmp/test.ansible&#39;</span>
<a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>
<a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=c1># 拷贝是设置权限，force强制覆盖，默认。 backup参考，拷贝覆盖前进行备份</span>
<a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>copy<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/usr/local/src/test.py dest=/tmp/owner=root group=root mode=0755 force=yes&quot;</span>
<a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>
<a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>copy<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/mine/ntp.conf dest=/etc/ntp.conf owner=root group=root mode=644 backup=yes force=yes&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">copy demo within a remote host</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=w>  </span><span class=nt>copy</span><span class=p>:</span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/srv/myfiles/foo.conf</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0644</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=w>    </span><span class=c1># 备份被替换的文件</span>
<a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=w>    </span><span class=nt>backup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a>
<a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">copy file from within a remote host</span>
<a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=w>  </span><span class=nt>copy</span><span class=p>:</span>
<a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/script.py</span>
<a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/home/user1/script.py</span>
<a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a><span class=w>    </span><span class=nt>remote_src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user1</span>
<a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">developers</span>
<a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0755</span>
</code></pre></div> <h3 id=fetch>fetch<a class=headerlink href=#fetch title="Permanent link">&para;</a></h3> <p>从远程主机获取文件到管理节点，但是不支持目录操作</p> <p>该模块的工作原理与 ansible.builtin.copy 类似，但方向相反。 它用于从远程计算机获取文件并将它们本地存储在按主机名组织的文件树中。 如果 dest 中已存在的文件与 src 不同，则它们将被覆盖。 Windows 目标也支持此模块。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>fetch<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/etc/yum.repos.d/epel.repo dest=/usr/local/src&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Store file into /tmp/fetched/host.example.com/tmp/somefile</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=w>  </span><span class=nt>ansible.builtin.fetch</span><span class=p>:</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/somefile</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/fetched</span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Specifying a path directly</span>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=w>  </span><span class=nt>ansible.builtin.fetch</span><span class=p>:</span>
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/somefile</span>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/prefix-{{ inventory_hostname }}</span>
<a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=w>    </span><span class=nt>flat</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a>
<a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Specifying a destination path</span>
<a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=w>  </span><span class=nt>ansible.builtin.fetch</span><span class=p>:</span>
<a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/uniquefile</span>
<a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/special/</span>
<a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a><span class=w>    </span><span class=nt>flat</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a>
<a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Storing in a path relative to the playbook</span>
<a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a><span class=w>  </span><span class=nt>ansible.builtin.fetch</span><span class=p>:</span>
<a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/uniquefile</span>
<a id=__codelineno-19-21 name=__codelineno-19-21 href=#__codelineno-19-21></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">special/prefix-{{ inventory_hostname }}</span>
<a id=__codelineno-19-22 name=__codelineno-19-22 href=#__codelineno-19-22></a><span class=w>    </span><span class=nt>flat</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <h3 id=authorized_key>authorized_key<a class=headerlink href=#authorized_key title="Permanent link">&para;</a></h3> <p>用来配置密钥实现免密登录:</p> <p>ansible 所在的主控机生成密钥后，如何把公钥上传到受控端？</p> <p>当然可以用 ssh-copy-id 命令逐台手动处理，如果受控端机器数量不多当然没问题，</p> <p>但如果机器数量较多，有几十几百台时，手动处理的效率就成为问题。</p> <p>authorized_key 模块就用来把公钥上传到各台服务器实现免密登录</p> <p>authorized_key 的使用例子:</p> <p>生成密钥:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>ssh-keygen<span class=w> </span>-t<span class=w> </span>rsa
</code></pre></div> <p>在<code>hosts</code>中增加一个段：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=o>[</span>ils<span class=o>]</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=m>121</span>.122.123.87:12888<span class=w> </span><span class=nv>ansible_ssh_user</span><span class=o>=</span>webop<span class=w> </span><span class=nv>ansible_ssh_pass</span><span class=o>=</span><span class=s2>&quot;weboppass&quot;</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=m>121</span>.122.123.88:12888<span class=w> </span><span class=nv>ansible_ssh_user</span><span class=o>=</span>webop<span class=w> </span><span class=nv>ansible_ssh_pass</span><span class=o>=</span><span class=s2>&quot;weboppass&quot;</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=m>121</span>.122.123.89:12888<span class=w> </span><span class=nv>ansible_ssh_user</span><span class=o>=</span>webop<span class=w> </span><span class=nv>ansible_ssh_pass</span><span class=o>=</span><span class=s2>&quot;weboppass&quot;</span>
</code></pre></div> <p>修改 ansible 的配置文件:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1># vi /etc/ansible/ansible.cfg</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=c1># 把这一行的注释去掉:</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=c1># 用来禁止ssh的指纹key字串检查</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=nv>host_key_checking</span><span class=w> </span><span class=o>=</span><span class=w> </span>False
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=o>[</span>root@centos8<span class=w> </span>~<span class=o>]</span><span class=c1># ansible ils -m authorized_key -a &quot;user=webop state=present key=&#39;{{ lookup(&#39;file&#39;, &#39;/home/liuhongdi/.ssh/id_rsa.pub&#39;) }}&#39;&quot;</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=c1># 121.122.123.87 | CHANGED =&gt; {</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=c1># 手动测试一下：看ssh到目标服务器是否还需要输入密码？</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=o>[</span>root@centos8<span class=w> </span>~<span class=o>]</span><span class=c1># ssh -p 12888 webop@121.122.123.87</span>
</code></pre></div> <p>playbook 示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=w>  </span><span class=nt>gather_facts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>  </span><span class=c1># 初始化rsync模块的ssh免登录key</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">add authorized_keys</span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>    </span><span class=nt>authorized_key</span><span class=p>:</span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>      </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>ansible_user_id</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=w>      </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>lookup(&#39;file&#39;,</span><span class=nv> </span><span class=s>&#39;/home/jenkins/.ssh/id_rsa.pub&#39;)</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=w>      </span><span class=nt>exclusive</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deliver authorized_keys</span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=w>    </span><span class=nt>authorized_key</span><span class=p>:</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=w>      </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=w>      </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>lookup(&#39;file&#39;,</span><span class=nv> </span><span class=s>&#39;/etc/ansible/roles/authorized_keys&#39;)</span><span class=nv> </span><span class=s>}}&quot;</span><span class=w> </span><span class=c1># 从本地authorized_keys文件读取公钥内容</span>
<a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a><span class=w>      </span><span class=nt>exclusive</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
</code></pre></div> <p>设置一个新的授权密钥：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">add a new authorise SSH key to the user install</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=w>  </span><span class=nt>authorized_key</span><span class=p>:</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=w>    </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">install</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=w>    </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>lookup(&#39;file&#39;,</span><span class=nv> </span><span class=s>&#39;/home/install/.ssh/id_rsa.pub&#39;)</span><span class=nv> </span><span class=s>}}&quot;</span>
</code></pre></div> <h3 id=synchronize>synchronize<a class=headerlink href=#synchronize title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>由于 synchronize 模块会调用 rsync 命令，因此首先要记得提前安装好 rsync 软件包，不然执行的时候会出现<code>"msg":"[Errno2]No such file or directory'"</code>这种报错信息。</p> <p><code>ansible-doc -s synchronize</code></p> <p>功能与优势: Synchronize 模块支持双向同步，可以推送（push）从控制节点到远程主机，或者拉取（pull）从远程主机到控制节点。 该模块具有高度的灵活性，允许用户指定源路径（src）和目标路径（dest），以满足不同的同步需求。 支持使用 delegate_to 参数进行间接同步，即通过一个中间主机来同步数据到另一台主机。</p> <p>同步当前机器上的目录到远程节点：</p> <p>(2)举例</p> <p>synchronize 模块用于将 Ansible 机器的指定目录推送(push)到客户机器的指定目录下，命令如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>ansible<span class=w> </span><span class=m>192</span>.168.1.206<span class=w> </span>-m<span class=w> </span>synchronize<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/usr/local/src/ dest=/usr/local/ src/delete=yes compress=yes</span>
</code></pre></div> <p>其中，delete=-yes 用来实现使两边的内容一样(即以 push 方式为主)，实现效果与<code>rsync-delete</code>一样， 如果是客户端不存在的文件或目录则增补，如果存在着不同的文件或目录则删除，以保证两边内容一致。</p> <p>compress=yes 用于开启压缩，默认为开启。</p> <p>另外，由于 synchronize 模块调用的是 rsync 命令，因此如果路径使用“/”来结尾，则只复制目录里的内容，如果没有使用“/”来结尾，则包含目录在内的整个内容全部都要复 制过去(源目标目录作为目的目录的一个子目录存在)。</p> <p>同步本地文件到远程主机</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a>ansible<span class=w> </span>&lt;inventory_group&gt;<span class=w> </span>-m<span class=w> </span>synchronize<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/path/to/local/file dest=/path/on/remote/file mode=push&quot;</span>
</code></pre></div> <p>同步远程文件到本地</p> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a>ansible<span class=w> </span>&lt;inventory_group&gt;<span class=w> </span>-m<span class=w> </span>synchronize<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=/path/on/remote/file dest=/path/to/local/file mode=pull&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=nn>---</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize files or directories</span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize directory from local to remote</span>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/directory</span>
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/directory</span>
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a><span class=w>        </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">push</span>
<a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a>
<a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize directory from remote to local</span>
<a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/directory</span>
<a id=__codelineno-29-14 name=__codelineno-29-14 href=#__codelineno-29-14></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/directory</span>
<a id=__codelineno-29-15 name=__codelineno-29-15 href=#__codelineno-29-15></a><span class=w>        </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pull</span>
</code></pre></div> <p>示例代码</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=w>    </span><span class=c1># 在 Playbook 中，可以定义同步任务，使用 synchronize 模块来实现文件或目录的推送（push）或拉取（pull）操作。默认是push</span>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize configuration file (push)</span>
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/config</span>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/config</span>
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a><span class=w>        </span><span class=c1># mode: push</span>
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a>
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronization using rsync protocol on delegate host (pull)</span>
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a><span class=w>      </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a><span class=w>        </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pull</span>
<a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rsync://somehost.com/path/</span>
<a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/some/absolute/path/</span>
<a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a><span class=w>      </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">delegate.host</span>
<a id=__codelineno-30-16 name=__codelineno-30-16 href=#__codelineno-30-16></a>
<a id=__codelineno-30-17 name=__codelineno-30-17 href=#__codelineno-30-17></a>
<a id=__codelineno-30-18 name=__codelineno-30-18 href=#__codelineno-30-18></a><span class=w>    </span><span class=c1># 设置同步操作的超时时间</span>
<a id=__codelineno-30-19 name=__codelineno-30-19 href=#__codelineno-30-19></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize with custom rsync timeout</span>
<a id=__codelineno-30-20 name=__codelineno-30-20 href=#__codelineno-30-20></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-30-21 name=__codelineno-30-21 href=#__codelineno-30-21></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/large/config/</span>
<a id=__codelineno-30-22 name=__codelineno-30-22 href=#__codelineno-30-22></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/config/</span>
<a id=__codelineno-30-23 name=__codelineno-30-23 href=#__codelineno-30-23></a><span class=w>        </span><span class=nt>rsync_opts</span><span class=p>:</span><span class=w> </span><span class=s>&quot;--timeout=300&quot;</span>
<a id=__codelineno-30-24 name=__codelineno-30-24 href=#__codelineno-30-24></a>
<a id=__codelineno-30-25 name=__codelineno-30-25 href=#__codelineno-30-25></a><span class=w>    </span><span class=c1># 启用压缩的配置文件同步</span>
<a id=__codelineno-30-26 name=__codelineno-30-26 href=#__codelineno-30-26></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize configuration files with compression</span>
<a id=__codelineno-30-27 name=__codelineno-30-27 href=#__codelineno-30-27></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-30-28 name=__codelineno-30-28 href=#__codelineno-30-28></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/config/</span>
<a id=__codelineno-30-29 name=__codelineno-30-29 href=#__codelineno-30-29></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/config/</span>
<a id=__codelineno-30-30 name=__codelineno-30-30 href=#__codelineno-30-30></a><span class=w>        </span><span class=nt>compress</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-30-31 name=__codelineno-30-31 href=#__codelineno-30-31></a>
<a id=__codelineno-30-32 name=__codelineno-30-32 href=#__codelineno-30-32></a><span class=w>    </span><span class=c1># 保持文件权限和所有权</span>
<a id=__codelineno-30-33 name=__codelineno-30-33 href=#__codelineno-30-33></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize configuration files with preserved permissions and ownership</span>
<a id=__codelineno-30-34 name=__codelineno-30-34 href=#__codelineno-30-34></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-30-35 name=__codelineno-30-35 href=#__codelineno-30-35></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/local/config.file</span>
<a id=__codelineno-30-36 name=__codelineno-30-36 href=#__codelineno-30-36></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/remote/config.file</span>
<a id=__codelineno-30-37 name=__codelineno-30-37 href=#__codelineno-30-37></a><span class=w>        </span><span class=nt>archive</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-30-38 name=__codelineno-30-38 href=#__codelineno-30-38></a>
<a id=__codelineno-30-39 name=__codelineno-30-39 href=#__codelineno-30-39></a><span class=w>    </span><span class=c1># 使用delegate_to在远程主机间同步</span>
<a id=__codelineno-30-40 name=__codelineno-30-40 href=#__codelineno-30-40></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">Synchronization using rsync protocol on delegate host (push)</span>
<a id=__codelineno-30-41 name=__codelineno-30-41 href=#__codelineno-30-41></a><span class=w>      </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-42 name=__codelineno-30-42 href=#__codelineno-30-42></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/some/absolute/path/</span>
<a id=__codelineno-30-43 name=__codelineno-30-43 href=#__codelineno-30-43></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rsync://somehost.com/path/</span>
<a id=__codelineno-30-44 name=__codelineno-30-44 href=#__codelineno-30-44></a><span class=w>      </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">delegate.host</span>
<a id=__codelineno-30-45 name=__codelineno-30-45 href=#__codelineno-30-45></a>
<a id=__codelineno-30-46 name=__codelineno-30-46 href=#__codelineno-30-46></a><span class=w>    </span><span class=c1># 同步两个路径，其中一个在本地控制节点上</span>
<a id=__codelineno-30-47 name=__codelineno-30-47 href=#__codelineno-30-47></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronization of two paths both on the control machine</span>
<a id=__codelineno-30-48 name=__codelineno-30-48 href=#__codelineno-30-48></a><span class=w>      </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-49 name=__codelineno-30-49 href=#__codelineno-30-49></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">some/relative/path</span>
<a id=__codelineno-30-50 name=__codelineno-30-50 href=#__codelineno-30-50></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/some/absolute/path</span>
<a id=__codelineno-30-51 name=__codelineno-30-51 href=#__codelineno-30-51></a><span class=w>      </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id=__codelineno-30-52 name=__codelineno-30-52 href=#__codelineno-30-52></a>
<a id=__codelineno-30-53 name=__codelineno-30-53 href=#__codelineno-30-53></a><span class=w>    </span><span class=c1># 初始化rsync模块的ssh免登录key</span>
<a id=__codelineno-30-54 name=__codelineno-30-54 href=#__codelineno-30-54></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">add authorized_keys</span>
<a id=__codelineno-30-55 name=__codelineno-30-55 href=#__codelineno-30-55></a><span class=w>      </span><span class=nt>authorized_key</span><span class=p>:</span>
<a id=__codelineno-30-56 name=__codelineno-30-56 href=#__codelineno-30-56></a><span class=w>          </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>ansible_user_id</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-30-57 name=__codelineno-30-57 href=#__codelineno-30-57></a><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>lookup(&#39;file&#39;,</span><span class=nv> </span><span class=s>&#39;/home/jenkins/.ssh/id_rsa.pub&#39;)</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-30-58 name=__codelineno-30-58 href=#__codelineno-30-58></a><span class=w>          </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-30-59 name=__codelineno-30-59 href=#__codelineno-30-59></a><span class=w>          </span><span class=nt>exclusive</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<a id=__codelineno-30-60 name=__codelineno-30-60 href=#__codelineno-30-60></a>
<a id=__codelineno-30-61 name=__codelineno-30-61 href=#__codelineno-30-61></a><span class=w>    </span><span class=c1># 使用rsync模块将Nginx配置文件同步到目标机器</span>
<a id=__codelineno-30-62 name=__codelineno-30-62 href=#__codelineno-30-62></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">check rsync_opts rsync dir</span>
<a id=__codelineno-30-63 name=__codelineno-30-63 href=#__codelineno-30-63></a><span class=w>      </span><span class=nt>synchronize</span><span class=p>:</span>
<a id=__codelineno-30-64 name=__codelineno-30-64 href=#__codelineno-30-64></a><span class=w>          </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>work</span><span class=nv> </span><span class=s>}}/&quot;</span>
<a id=__codelineno-30-65 name=__codelineno-30-65 href=#__codelineno-30-65></a><span class=w>          </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>confdir</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-30-66 name=__codelineno-30-66 href=#__codelineno-30-66></a><span class=w>          </span><span class=nt>delete</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-30-67 name=__codelineno-30-67 href=#__codelineno-30-67></a><span class=w>          </span><span class=nt>copy_links</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-30-68 name=__codelineno-30-68 href=#__codelineno-30-68></a><span class=w>          </span><span class=nt>private_key</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/home/jenkins/.ssh/id_rsa&quot;</span>
<a id=__codelineno-30-69 name=__codelineno-30-69 href=#__codelineno-30-69></a><span class=w>          </span><span class=nt>rsync_opts</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>rsync_opts</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-30-70 name=__codelineno-30-70 href=#__codelineno-30-70></a><span class=w>      </span><span class="w w-Error">  </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rsync_result</span>
<a id=__codelineno-30-71 name=__codelineno-30-71 href=#__codelineno-30-71></a>
<a id=__codelineno-30-72 name=__codelineno-30-72 href=#__codelineno-30-72></a><span class=w>    </span><span class=c1># 输出rsync的执行详情</span>
<a id=__codelineno-30-73 name=__codelineno-30-73 href=#__codelineno-30-73></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>debug</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">msg=&quot;{{ rsync_result.stdout_lines }}&quot;</span>
<a id=__codelineno-30-74 name=__codelineno-30-74 href=#__codelineno-30-74></a>
<a id=__codelineno-30-75 name=__codelineno-30-75 href=#__codelineno-30-75></a>
<a id=__codelineno-30-76 name=__codelineno-30-76 href=#__codelineno-30-76></a><span class=c1># 该特定命令被授予目标上的 su 权限</span>
<a id=__codelineno-30-77 name=__codelineno-30-77 href=#__codelineno-30-77></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize using an alternate rsync command</span>
<a id=__codelineno-30-78 name=__codelineno-30-78 href=#__codelineno-30-78></a><span class=w>  </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-79 name=__codelineno-30-79 href=#__codelineno-30-79></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">some/relative/path</span>
<a id=__codelineno-30-80 name=__codelineno-30-80 href=#__codelineno-30-80></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/some/absolute/path</span>
<a id=__codelineno-30-81 name=__codelineno-30-81 href=#__codelineno-30-81></a><span class=w>    </span><span class=nt>rsync_path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">su -c rsync</span>
<a id=__codelineno-30-82 name=__codelineno-30-82 href=#__codelineno-30-82></a>
<a id=__codelineno-30-83 name=__codelineno-30-83 href=#__codelineno-30-83></a><span class=c1># 源目录中的示例 .rsync-filter 文件</span>
<a id=__codelineno-30-84 name=__codelineno-30-84 href=#__codelineno-30-84></a><span class=c1># - var # 排除最后一部分为 &#39;var&#39; 的任何路径</span>
<a id=__codelineno-30-85 name=__codelineno-30-85 href=#__codelineno-30-85></a><span class=c1># - /var # 排除从源目录开始的任何以 &#39;var&#39; 开头的路径</span>
<a id=__codelineno-30-86 name=__codelineno-30-86 href=#__codelineno-30-86></a><span class=c1># + /var/conf # 包含 /var/conf，即使它之前已被排除</span>
<a id=__codelineno-30-87 name=__codelineno-30-87 href=#__codelineno-30-87></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Synchronize passing in extra rsync options</span>
<a id=__codelineno-30-88 name=__codelineno-30-88 href=#__codelineno-30-88></a><span class=w>  </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-89 name=__codelineno-30-89 href=#__codelineno-30-89></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/helloworld</span>
<a id=__codelineno-30-90 name=__codelineno-30-90 href=#__codelineno-30-90></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/www/helloworld</span>
<a id=__codelineno-30-91 name=__codelineno-30-91 href=#__codelineno-30-91></a><span class=w>    </span><span class=nt>rsync_opts</span><span class=p>:</span>
<a id=__codelineno-30-92 name=__codelineno-30-92 href=#__codelineno-30-92></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--no-motd&quot;</span>
<a id=__codelineno-30-93 name=__codelineno-30-93 href=#__codelineno-30-93></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;--exclude=.git&quot;</span>
<a id=__codelineno-30-94 name=__codelineno-30-94 href=#__codelineno-30-94></a>
<a id=__codelineno-30-95 name=__codelineno-30-95 href=#__codelineno-30-95></a><span class=c1># 硬链接文件（如果它们没有改变）</span>
<a id=__codelineno-30-96 name=__codelineno-30-96 href=#__codelineno-30-96></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Use hardlinks when synchronizing filesystems</span>
<a id=__codelineno-30-97 name=__codelineno-30-97 href=#__codelineno-30-97></a><span class=w>  </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-98 name=__codelineno-30-98 href=#__codelineno-30-98></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/path_a/foo.txt</span>
<a id=__codelineno-30-99 name=__codelineno-30-99 href=#__codelineno-30-99></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/path_b/foo.txt</span>
<a id=__codelineno-30-100 name=__codelineno-30-100 href=#__codelineno-30-100></a><span class=w>    </span><span class=nt>link_dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/path_a/</span>
<a id=__codelineno-30-101 name=__codelineno-30-101 href=#__codelineno-30-101></a>
<a id=__codelineno-30-102 name=__codelineno-30-102 href=#__codelineno-30-102></a><span class=c1># 指定要在远程主机和本地主机上使用的 rsync 二进制文件</span>
<a id=__codelineno-30-103 name=__codelineno-30-103 href=#__codelineno-30-103></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">groupofhosts</span>
<a id=__codelineno-30-104 name=__codelineno-30-104 href=#__codelineno-30-104></a><span class=w>  </span><span class=nt>vars</span><span class=p>:</span>
<a id=__codelineno-30-105 name=__codelineno-30-105 href=#__codelineno-30-105></a><span class=w>    </span><span class=nt>ansible_rsync_path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/gnu/bin/rsync</span>
<a id=__codelineno-30-106 name=__codelineno-30-106 href=#__codelineno-30-106></a>
<a id=__codelineno-30-107 name=__codelineno-30-107 href=#__codelineno-30-107></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-30-108 name=__codelineno-30-108 href=#__codelineno-30-108></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">copy /tmp/localpath/ to remote location /tmp/remotepath</span>
<a id=__codelineno-30-109 name=__codelineno-30-109 href=#__codelineno-30-109></a><span class=w>      </span><span class=nt>ansible.posix.synchronize</span><span class=p>:</span>
<a id=__codelineno-30-110 name=__codelineno-30-110 href=#__codelineno-30-110></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/localpath/</span>
<a id=__codelineno-30-111 name=__codelineno-30-111 href=#__codelineno-30-111></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/remotepath</span>
<a id=__codelineno-30-112 name=__codelineno-30-112 href=#__codelineno-30-112></a><span class=w>        </span><span class=nt>rsync_path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/gnu/bin/rsync</span>
<a id=__codelineno-30-113 name=__codelineno-30-113 href=#__codelineno-30-113></a>
<a id=__codelineno-30-114 name=__codelineno-30-114 href=#__codelineno-30-114></a>
<a id=__codelineno-30-115 name=__codelineno-30-115 href=#__codelineno-30-115></a><span class=c1># 定期同步任务</span>
<a id=__codelineno-30-116 name=__codelineno-30-116 href=#__codelineno-30-116></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-30-117 name=__codelineno-30-117 href=#__codelineno-30-117></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-30-118 name=__codelineno-30-118 href=#__codelineno-30-118></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Schedule periodic synchronization</span>
<a id=__codelineno-30-119 name=__codelineno-30-119 href=#__codelineno-30-119></a><span class=w>      </span><span class=nt>cron</span><span class=p>:</span>
<a id=__codelineno-30-120 name=__codelineno-30-120 href=#__codelineno-30-120></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Periodic config sync</span>
<a id=__codelineno-30-121 name=__codelineno-30-121 href=#__codelineno-30-121></a><span class=w>        </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ansible-playbook</span><span class=nv> </span><span class=s>sync.yml&quot;</span>
<a id=__codelineno-30-122 name=__codelineno-30-122 href=#__codelineno-30-122></a><span class=w>        </span><span class=nt>minute</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0&quot;</span>
<a id=__codelineno-30-123 name=__codelineno-30-123 href=#__codelineno-30-123></a><span class=w>        </span><span class=nt>hour</span><span class=p>:</span><span class=w> </span><span class=s>&quot;2&quot;</span>
</code></pre></div> <p>更多参考：</p> <ul> <li><a href=https://www.oryoy.com/news/ansible-pei-zhi-wen-jian-tong-bu.html>https://www.oryoy.com/news/ansible-pei-zhi-wen-jian-tong-bu.html</a></li> </ul> <h3 id=template>template<a class=headerlink href=#template title="Permanent link">&para;</a></h3> <p>从当前的机器上复制文件到远程节点上，并进行变量替换。变量使用 {{ }}包围。示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>template</span><span class=p>:</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">etc/ssh/sshd_config.j2</span>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssh/sshd_config.j2</span>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s>&quot;0600&quot;</span>
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=w>    </span><span class=c1># 校验拷贝的文件是否有效</span>
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=w>    </span><span class=nt>validate</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/sbin/sshd -t %s</span>
<a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a><span class=w>    </span><span class=nt>backup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <h3 id=file>file<a class=headerlink href=#file title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>Ansible 中使用 file 模块来设置文件属性，path 指定文件路径，sec 指定源文件路径，使用 name 或 dest 来替换创建文件的符号链接</p> <p><code>ansible-doc -s file</code></p> <p>(2)举例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=c1># 更改文件的用户及权限</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;dest=/tmp/a.txt mode=600 owner=user group=user&quot;</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=c1># 创建目录，类似mkdir -p</span>
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;dest=/tmp/test mode=755 owner=user group=user state=directory&quot;</span>
<a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a>
<a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a>
<a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=c1># 删除文件或者目录</span>
<a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;dest=/tmp/test state=absent&quot;</span>
<a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>
<a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a>
<a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a><span class=c1># 创建软连接，并设置所属用户和用户组</span>
<a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w>  </span><span class=s2>&quot;src=/file/to/link/to dest=/path/to/symlink owner=user group=user state=link&quot;</span>
<a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a>
<a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a>
<a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a><span class=c1># touch 一个文件并添加用户读写权限，用户组去除写执行权限，其他组减去读写执行权限</span>
<a id=__codelineno-32-18 name=__codelineno-32-18 href=#__codelineno-32-18></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w>  </span><span class=s2>&quot;path=/etc/foo.conf state=touch mode=&#39;u+rw,g-wx,o-rwx&#39;&quot;</span>
<a id=__codelineno-32-19 name=__codelineno-32-19 href=#__codelineno-32-19></a>
<a id=__codelineno-32-20 name=__codelineno-32-20 href=#__codelineno-32-20></a>
<a id=__codelineno-32-21 name=__codelineno-32-21 href=#__codelineno-32-21></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;path=/app/test.txt state=touch&#39;</span><span class=w>       </span><span class=c1>#创建文件</span>
<a id=__codelineno-32-22 name=__codelineno-32-22 href=#__codelineno-32-22></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;path=/data/testdir state=directory&quot;</span><span class=w>   </span><span class=c1>#创建目录</span>
<a id=__codelineno-32-23 name=__codelineno-32-23 href=#__codelineno-32-23></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;path=/root/test.sh owner=wang mode=755&quot;</span><span class=w>  </span><span class=c1>#设置权限755</span>
<a id=__codelineno-32-24 name=__codelineno-32-24 href=#__codelineno-32-24></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>file<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;src=/data/testfile dest=/data/testfile-link state=link&#39;</span><span class=w> </span><span class=c1>#创建软链接</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=c1># 修改文件模式</span>
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0644</span>
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s>&quot;u=rw,g=r,o=r&quot;</span>
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s>&quot;u+rw,g-wx,o-rwx&quot;</span>
<a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a>
<a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a><span class=c1># 创建软链接</span>
<a id=__codelineno-33-11 name=__codelineno-33-11 href=#__codelineno-33-11></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span>
<a id=__codelineno-33-12 name=__codelineno-33-12 href=#__codelineno-33-12></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/file/to/link/to</span>
<a id=__codelineno-33-13 name=__codelineno-33-13 href=#__codelineno-33-13></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/symlink</span>
<a id=__codelineno-33-14 name=__codelineno-33-14 href=#__codelineno-33-14></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-33-15 name=__codelineno-33-15 href=#__codelineno-33-15></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-33-16 name=__codelineno-33-16 href=#__codelineno-33-16></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">link</span>
<a id=__codelineno-33-17 name=__codelineno-33-17 href=#__codelineno-33-17></a>
<a id=__codelineno-33-18 name=__codelineno-33-18 href=#__codelineno-33-18></a><span class=c1># 创建新文件</span>
<a id=__codelineno-33-19 name=__codelineno-33-19 href=#__codelineno-33-19></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span>
<a id=__codelineno-33-20 name=__codelineno-33-20 href=#__codelineno-33-20></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
<a id=__codelineno-33-21 name=__codelineno-33-21 href=#__codelineno-33-21></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">touch</span>
<a id=__codelineno-33-22 name=__codelineno-33-22 href=#__codelineno-33-22></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=s>&quot;u=rw,g=r,o=r&quot;</span>
<a id=__codelineno-33-23 name=__codelineno-33-23 href=#__codelineno-33-23></a>
<a id=__codelineno-33-24 name=__codelineno-33-24 href=#__codelineno-33-24></a><span class=c1># 创建目录</span>
<a id=__codelineno-33-25 name=__codelineno-33-25 href=#__codelineno-33-25></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>file</span><span class=p>:</span>
<a id=__codelineno-33-26 name=__codelineno-33-26 href=#__codelineno-33-26></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/some_directory</span>
<a id=__codelineno-33-27 name=__codelineno-33-27 href=#__codelineno-33-27></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">directory</span>
<a id=__codelineno-33-28 name=__codelineno-33-28 href=#__codelineno-33-28></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0755</span>
<a id=__codelineno-33-29 name=__codelineno-33-29 href=#__codelineno-33-29></a>
<a id=__codelineno-33-30 name=__codelineno-33-30 href=#__codelineno-33-30></a><span class=c1># 文件模块基本上是管理一切与文件和文件夹组织有关的工具，包括创建、删除、符号链接创建、权限和所有权。</span>
<a id=__codelineno-33-31 name=__codelineno-33-31 href=#__codelineno-33-31></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create a file with some specific acl</span>
<a id=__codelineno-33-32 name=__codelineno-33-32 href=#__codelineno-33-32></a><span class=w>  </span><span class=nt>file</span><span class=p>:</span>
<a id=__codelineno-33-33 name=__codelineno-33-33 href=#__codelineno-33-33></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/script.py</span>
<a id=__codelineno-33-34 name=__codelineno-33-34 href=#__codelineno-33-34></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">touch</span>
<a id=__codelineno-33-35 name=__codelineno-33-35 href=#__codelineno-33-35></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user1</span>
<a id=__codelineno-33-36 name=__codelineno-33-36 href=#__codelineno-33-36></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">developers</span>
<a id=__codelineno-33-37 name=__codelineno-33-37 href=#__codelineno-33-37></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0755</span>
<a id=__codelineno-33-38 name=__codelineno-33-38 href=#__codelineno-33-38></a>
<a id=__codelineno-33-39 name=__codelineno-33-39 href=#__codelineno-33-39></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">change acl of a file</span>
<a id=__codelineno-33-40 name=__codelineno-33-40 href=#__codelineno-33-40></a><span class=w>  </span><span class=nt>acl</span><span class=p>:</span>
<a id=__codelineno-33-41 name=__codelineno-33-41 href=#__codelineno-33-41></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/script.py</span>
<a id=__codelineno-33-42 name=__codelineno-33-42 href=#__codelineno-33-42></a><span class=w>    </span><span class=nt>entity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user2</span>
<a id=__codelineno-33-43 name=__codelineno-33-43 href=#__codelineno-33-43></a><span class=w>    </span><span class=nt>permission</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">w</span>
<a id=__codelineno-33-44 name=__codelineno-33-44 href=#__codelineno-33-44></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
</code></pre></div> <h3 id=user>user<a class=headerlink href=#user title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>Ansible 中的 user 模块用于创建新用户和更改、删除已存在的用户。其中 name 选项用来这么创建的用户名称。</p> <p>增、删、改 Linux 远程节点的用户账户，并为其设置账户的属性。示例：</p> <p>远程主机系统用户管理。</p> <p><code>ansible-doc -s user</code></p> <p>(2)示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=c1>#创建用户</span>
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>user<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=&quot;user1&quot;&#39;</span>
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>
<a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=c1>#该场景中我们可以掌握如下技能点。</span>
<a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a><span class=c1># 1）groups设定：groups=用户组1，用户组2……</span>
<a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=c1># 2）增量添加属组：append=yes</span>
<a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a><span class=c1># 3）表明属组状态为新建：state=present</span>
<a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a>
<a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a>ansible<span class=w> </span>db<span class=w> </span>-m<span class=w> </span>user<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=dba shell=/bin/bash groups=admins,dbagroup append=yes home=/home/dba/ state=present&quot;</span>
<a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a>
<a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a><span class=c1>#设置系统用户tom的密码为redhat123。</span>
<a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a>ansible<span class=w> </span>db<span class=w> </span>-m<span class=w> </span>user<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=tom shell=/bin/bash password=to46pW3GOukvA update_password=always&quot;</span>
<a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a>
<a id=__codelineno-34-14 name=__codelineno-34-14 href=#__codelineno-34-14></a><span class=c1>#删除用户</span>
<a id=__codelineno-34-15 name=__codelineno-34-15 href=#__codelineno-34-15></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>user<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=&quot;user1&quot; state=absent&#39;</span>
<a id=__codelineno-34-16 name=__codelineno-34-16 href=#__codelineno-34-16></a>ansible<span class=w> </span>db<span class=w> </span>-m<span class=w> </span>user<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=dba state=absent remove=yes&quot;</span>
<a id=__codelineno-34-17 name=__codelineno-34-17 href=#__codelineno-34-17></a>
<a id=__codelineno-34-18 name=__codelineno-34-18 href=#__codelineno-34-18></a>
<a id=__codelineno-34-19 name=__codelineno-34-19 href=#__codelineno-34-19></a>
<a id=__codelineno-34-20 name=__codelineno-34-20 href=#__codelineno-34-20></a><span class=c1>######## windows 用户管理 ###########</span>
<a id=__codelineno-34-21 name=__codelineno-34-21 href=#__codelineno-34-21></a>
<a id=__codelineno-34-22 name=__codelineno-34-22 href=#__codelineno-34-22></a><span class=c1>#新增用户stanley，密码为magedu@123，属组为Administrators。</span>
<a id=__codelineno-34-23 name=__codelineno-34-23 href=#__codelineno-34-23></a>ansible<span class=w> </span>windows<span class=w> </span>-m<span class=w> </span>win_user<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=stanley passwd=magedu@123 group=Administrators&quot;</span>
<a id=__codelineno-34-24 name=__codelineno-34-24 href=#__codelineno-34-24></a>
<a id=__codelineno-34-25 name=__codelineno-34-25 href=#__codelineno-34-25></a><span class=c1>######## 应用层用户管理 ####################</span>
<a id=__codelineno-34-26 name=__codelineno-34-26 href=#__codelineno-34-26></a>
<a id=__codelineno-34-27 name=__codelineno-34-27 href=#__codelineno-34-27></a><span class=c1>#新增MySQL用户stanley，设置登录密码为magedu@bj，对zabbix.*表有ALL权限</span>
<a id=__codelineno-34-28 name=__codelineno-34-28 href=#__codelineno-34-28></a>ansible<span class=w> </span>db<span class=w> </span>-m<span class=w> </span>mysql_user<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;login_host=localhost login_password=magedu login_user=root name=stanley password=magedu@bj priv=zabbix.*:ALL state=present&#39;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=c1># 创建账户</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>user</span><span class=p>:</span>
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">johnd</span>
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=w>    </span><span class=nt>comment</span><span class=p>:</span><span class=w> </span><span class=s>&quot;John</span><span class=nv> </span><span class=s>Doe&quot;</span>
<a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=w>    </span><span class=nt>uid</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1040</span>
<a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=c1># 删除账户</span>
<a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>user</span><span class=p>:</span>
<a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">johnd</span>
<a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
<a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a><span class=w>    </span><span class=nt>remove</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a>
<a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a><span class=c1># 修改属性</span>
<a id=__codelineno-35-14 name=__codelineno-35-14 href=#__codelineno-35-14></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>user</span><span class=p>:</span>
<a id=__codelineno-35-15 name=__codelineno-35-15 href=#__codelineno-35-15></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">jsmith</span>
<a id=__codelineno-35-16 name=__codelineno-35-16 href=#__codelineno-35-16></a><span class=w>    </span><span class=c1>#创建SSH 私钥</span>
<a id=__codelineno-35-17 name=__codelineno-35-17 href=#__codelineno-35-17></a><span class=w>    </span><span class=nt>generate_ssh_key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-35-18 name=__codelineno-35-18 href=#__codelineno-35-18></a><span class=w>    </span><span class=nt>ssh_key_bits</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2048</span>
<a id=__codelineno-35-19 name=__codelineno-35-19 href=#__codelineno-35-19></a><span class=w>    </span><span class=nt>ssh_key_file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.ssh/id_rsa</span>
<a id=__codelineno-35-20 name=__codelineno-35-20 href=#__codelineno-35-20></a>
<a id=__codelineno-35-21 name=__codelineno-35-21 href=#__codelineno-35-21></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>user</span><span class=p>:</span>
<a id=__codelineno-35-22 name=__codelineno-35-22 href=#__codelineno-35-22></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">james18</span>
<a id=__codelineno-35-23 name=__codelineno-35-23 href=#__codelineno-35-23></a><span class=w>    </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/zsh</span>
<a id=__codelineno-35-24 name=__codelineno-35-24 href=#__codelineno-35-24></a><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">developers</span>
<a id=__codelineno-35-25 name=__codelineno-35-25 href=#__codelineno-35-25></a><span class=w>    </span><span class=c1># 设置账户过期时间</span>
<a id=__codelineno-35-26 name=__codelineno-35-26 href=#__codelineno-35-26></a><span class=w>    </span><span class=nt>expires</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1422403387</span>
</code></pre></div> <h3 id=group>group<a class=headerlink href=#group title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>Ansible 中的 group 模块用于对用户组进行管理</p> <p><code>ansible-doc -s group</code></p> <p>（2）例子</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=c1># 创建mysql组，将mysql用户添加到mysql组中</span>
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>group<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=mysql gid=306 system=yes&#39;</span>
<a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>user<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=mysql uid=306 system=yes group=mysql&#39;</span>
<a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a>
<a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=c1># 创建一个组名为test gid为2018的组</span>
<a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>group<span class=w> </span>-a<span class=w> </span><span class=nv>gid</span><span class=o>=</span><span class=m>2018</span><span class=w> </span><span class=nv>name</span><span class=o>=</span><span class=s1>&#39;test&#39;</span>
<a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a>
<a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a><span class=c1># 查看创建的组</span>
<a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>shell<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;cat /etc/group|grep test&#39;</span>
</code></pre></div> <p>注意这里使用了 shell 模块，没有使用默认的 command 模块，</p> <p>ansible 的默认模块 command，它不会通过 shell 进行处理，所以像<code>$HOME</code>和像<code>“&lt;”，“&gt;”，“|”，“;”</code>和<code>“＆”</code>将不工作。</p> <h3 id=yum>yum<a class=headerlink href=#yum title="Permanent link">&para;</a></h3> <p>Ansible 中的 yum 模块负责在被管理的主机数安装与卸载软件包，前提是在每个节点配置自己的 YUM 仓库，name 指定要安装的软件包</p> <p>带上软件包的版本号，state 指定安装软件包的状态，present、latest 用来表示安装，absent 表示卸载</p> <p><code>ansible-doc -s yum</code></p> <p>(1) 功能</p> <p>用来管理 Redhat 系（RHEL，CentOS，Fedora 21-）的 Linux 上的安装包。示例：</p> <p>(2) 例子</p> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=c1># 安装zsh软件包</span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=zsh&#39;</span>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=c1># 卸载zsh软件包</span>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=zsh,state=absent&#39;</span>
<a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a>
<a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=curl state=latest&quot;</span>
<a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a>
<a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=c1>#Redis安装命令：</span>
<a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a>ansible<span class=w> </span>db-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=redis state=present&quot;</span>。
<a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a>
<a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=c1>#Redis安装检查：</span>
<a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a>ansible<span class=w> </span>db-m<span class=w> </span><span class=nb>command</span><span class=w> </span>-a<span class=w> </span><span class=s2>&quot;redis-cli--version&quot;</span>。
<a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a>
<a id=__codelineno-37-15 name=__codelineno-37-15 href=#__codelineno-37-15></a><span class=c1># 安装MariaDB-server</span>
<a id=__codelineno-37-16 name=__codelineno-37-16 href=#__codelineno-37-16></a>ansible<span class=w> </span>db<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=MariaDB-server state=present&quot;</span>
<a id=__codelineno-37-17 name=__codelineno-37-17 href=#__codelineno-37-17></a>
<a id=__codelineno-37-18 name=__codelineno-37-18 href=#__codelineno-37-18></a><span class=c1># #安装MySQL-python和python-setuptools依赖包。</span>
<a id=__codelineno-37-19 name=__codelineno-37-19 href=#__codelineno-37-19></a>ansible<span class=w> </span>app<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=MySQL-python state=present&quot;</span>
<a id=__codelineno-37-20 name=__codelineno-37-20 href=#__codelineno-37-20></a>ansible<span class=w> </span>app<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=python-setuptools state=present&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安装最新版本的包，已经安装则替换老版本</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">yum</span><span class="p p-Indicator">:</span>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
<a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a>
<a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安传个指定版本</span>
<a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">yum</span><span class="p p-Indicator">:</span>
<a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd-2.2.29-1.4.amzn1</span>
<a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a>
<a id=__codelineno-38-11 name=__codelineno-38-11 href=#__codelineno-38-11></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">删除软件包</span>
<a id=__codelineno-38-12 name=__codelineno-38-12 href=#__codelineno-38-12></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">yum</span><span class="p p-Indicator">:</span>
<a id=__codelineno-38-13 name=__codelineno-38-13 href=#__codelineno-38-13></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-38-14 name=__codelineno-38-14 href=#__codelineno-38-14></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
<a id=__codelineno-38-15 name=__codelineno-38-15 href=#__codelineno-38-15></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">从本地目录安装</span>
<a id=__codelineno-38-16 name=__codelineno-38-16 href=#__codelineno-38-16></a><span class=w>  </span><span class=nt>yum</span><span class=p>:</span>
<a id=__codelineno-38-17 name=__codelineno-38-17 href=#__codelineno-38-17></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/src/nginx-release-centos-6-0.el6.ngx.noarch.rpm</span>
<a id=__codelineno-38-18 name=__codelineno-38-18 href=#__codelineno-38-18></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
</code></pre></div> <h3 id=apt>apt<a class=headerlink href=#apt title="Permanent link">&para;</a></h3> <p>用来管理 Debain 系 Linux 上的软件包。示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=c1># 更新仓库缓存，并安装&quot;curl&quot;</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>apt<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=curl update_cache=yes&quot;</span>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=c1>## 安装</span>
<a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>apt<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;pkg=curl state=present&quot;</span>
<a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a>
<a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=c1># 安装最新得&quot;curl&quot;</span>
<a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>apt<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=curl state=latest&quot;</span>
<a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a>
<a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a><span class=c1>## 删除</span>
<a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>apt<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;pkg=curl state=absent&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">更新仓库缓存并安装软件包foo</span>
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=w>    </span><span class=nt>update_cache</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a>
<a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安装软件包但是不启动</span>
<a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">name=apache2 state=present</span>
<a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a><span class=w>  </span><span class=nt>environment</span><span class=p>:</span>
<a id=__codelineno-40-9 name=__codelineno-40-9 href=#__codelineno-40-9></a><span class=w>    </span><span class=nt>RUNLEVLEL</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id=__codelineno-40-10 name=__codelineno-40-10 href=#__codelineno-40-10></a><span class=w>    </span><span class=nt>http_proxy</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http://10.0.0.1:8088</span>
<a id=__codelineno-40-11 name=__codelineno-40-11 href=#__codelineno-40-11></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">移除软件包</span>
<a id=__codelineno-40-12 name=__codelineno-40-12 href=#__codelineno-40-12></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">name=foo state=absent</span>
<a id=__codelineno-40-13 name=__codelineno-40-13 href=#__codelineno-40-13></a>
<a id=__codelineno-40-14 name=__codelineno-40-14 href=#__codelineno-40-14></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安装指定版本的软件包</span>
<a id=__codelineno-40-15 name=__codelineno-40-15 href=#__codelineno-40-15></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-16 name=__codelineno-40-16 href=#__codelineno-40-16></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo=1.00</span>
<a id=__codelineno-40-17 name=__codelineno-40-17 href=#__codelineno-40-17></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-40-18 name=__codelineno-40-18 href=#__codelineno-40-18></a>
<a id=__codelineno-40-19 name=__codelineno-40-19 href=#__codelineno-40-19></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">更新所有软件包到最新版本</span>
<a id=__codelineno-40-20 name=__codelineno-40-20 href=#__codelineno-40-20></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-21 name=__codelineno-40-21 href=#__codelineno-40-21></a><span class=w>    </span><span class=nt>upgrade</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">dist</span>
<a id=__codelineno-40-22 name=__codelineno-40-22 href=#__codelineno-40-22></a>
<a id=__codelineno-40-23 name=__codelineno-40-23 href=#__codelineno-40-23></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">仅仅执行apt-get update</span>
<a id=__codelineno-40-24 name=__codelineno-40-24 href=#__codelineno-40-24></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-25 name=__codelineno-40-25 href=#__codelineno-40-25></a><span class=w>    </span><span class=nt>update_cache</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-40-26 name=__codelineno-40-26 href=#__codelineno-40-26></a>
<a id=__codelineno-40-27 name=__codelineno-40-27 href=#__codelineno-40-27></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安装Deb包</span>
<a id=__codelineno-40-28 name=__codelineno-40-28 href=#__codelineno-40-28></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-29 name=__codelineno-40-29 href=#__codelineno-40-29></a><span class=w>    </span><span class=nt>deb</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/mypackage.deb</span>
<a id=__codelineno-40-30 name=__codelineno-40-30 href=#__codelineno-40-30></a>
<a id=__codelineno-40-31 name=__codelineno-40-31 href=#__codelineno-40-31></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安装foo包的build依赖</span>
<a id=__codelineno-40-32 name=__codelineno-40-32 href=#__codelineno-40-32></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-33 name=__codelineno-40-33 href=#__codelineno-40-33></a><span class=w>    </span><span class=nt>pkg</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<a id=__codelineno-40-34 name=__codelineno-40-34 href=#__codelineno-40-34></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">build-dep</span>
<a id=__codelineno-40-35 name=__codelineno-40-35 href=#__codelineno-40-35></a>
<a id=__codelineno-40-36 name=__codelineno-40-36 href=#__codelineno-40-36></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">移除无用依赖包</span>
<a id=__codelineno-40-37 name=__codelineno-40-37 href=#__codelineno-40-37></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span>
<a id=__codelineno-40-38 name=__codelineno-40-38 href=#__codelineno-40-38></a><span class=w>    </span><span class=nt>autoremove</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-40-39 name=__codelineno-40-39 href=#__codelineno-40-39></a>
<a id=__codelineno-40-40 name=__codelineno-40-40 href=#__codelineno-40-40></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">安装多个软件包</span>
<a id=__codelineno-40-41 name=__codelineno-40-41 href=#__codelineno-40-41></a><span class=w>  </span><span class=nt>apt</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">name={{item}} state=installed</span>
<a id=__codelineno-40-42 name=__codelineno-40-42 href=#__codelineno-40-42></a><span class=w>  </span><span class=nt>with_items</span><span class=p>:</span>
<a id=__codelineno-40-43 name=__codelineno-40-43 href=#__codelineno-40-43></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kubelet</span>
<a id=__codelineno-40-44 name=__codelineno-40-44 href=#__codelineno-40-44></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">kubectl</span>
</code></pre></div> <h3 id=package>package<a class=headerlink href=#package title="Permanent link">&para;</a></h3> <p>通用的包管理器，使用底层的操作系统包管理器来安装、删除、升级软件包</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=c1># 确保软件包安装</span>
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install ntpdate</span>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=w>  </span><span class=nt>package</span><span class=p>:</span>
<a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ntpdate</span>
<a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a>
<a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=c1># 确保软件包移除</span>
<a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Remove the apache package</span>
<a id=__codelineno-41-9 name=__codelineno-41-9 href=#__codelineno-41-9></a><span class=w>  </span><span class=nt>package</span><span class=p>:</span>
<a id=__codelineno-41-10 name=__codelineno-41-10 href=#__codelineno-41-10></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>apache</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-41-11 name=__codelineno-41-11 href=#__codelineno-41-11></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
<a id=__codelineno-41-12 name=__codelineno-41-12 href=#__codelineno-41-12></a>
<a id=__codelineno-41-13 name=__codelineno-41-13 href=#__codelineno-41-13></a><span class=c1># 确保软件包是最新版本</span>
<a id=__codelineno-41-14 name=__codelineno-41-14 href=#__codelineno-41-14></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install the latest version of Apache and MariaDB</span>
<a id=__codelineno-41-15 name=__codelineno-41-15 href=#__codelineno-41-15></a><span class=w>  </span><span class=nt>package</span><span class=p>:</span>
<a id=__codelineno-41-16 name=__codelineno-41-16 href=#__codelineno-41-16></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span>
<a id=__codelineno-41-17 name=__codelineno-41-17 href=#__codelineno-41-17></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-41-18 name=__codelineno-41-18 href=#__codelineno-41-18></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mariadb-server</span>
<a id=__codelineno-41-19 name=__codelineno-41-19 href=#__codelineno-41-19></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
</code></pre></div> <h3 id=apt_key>apt_key<a class=headerlink href=#apt_key title="Permanent link">&para;</a></h3> <p>添加或者删除 APT key。示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">从Key服务器添加一个Key</span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=w>  </span><span class=nt>apt_key</span><span class=p>:</span>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=w>    </span><span class=nt>keyserver</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keyserver.ubuntu.com</span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=w>    </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">36A1D7869245C8950F966E92D8576A8BA88D21E9</span>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a>
<a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">从URL添加Key</span>
<a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=w>  </span><span class=nt>apt_key</span><span class=p>:</span>
<a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://ftp-master.debian.org/keys/archive-key-6.0.asc</span>
<a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
</code></pre></div> <h3 id=apt_repository>apt_repository<a class=headerlink href=#apt_repository title="Permanent link">&para;</a></h3> <p>管理 APT 仓库。示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Add an Apt signing key, will not download if present</span>
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=w>  </span><span class=c1># 添加指定的仓库到系统源列表</span>
<a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>apt_repository</span><span class=p>:</span>
<a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=w>      </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deb http://archive.canonical.com/ubuntu hardy partner</span>
<a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-43-6 name=__codelineno-43-6 href=#__codelineno-43-6></a>
<a id=__codelineno-43-7 name=__codelineno-43-7 href=#__codelineno-43-7></a><span class=w>  </span><span class=c1># 添加指定的仓库到系统源列表，存放在指定的文件中</span>
<a id=__codelineno-43-8 name=__codelineno-43-8 href=#__codelineno-43-8></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>apt_repository</span><span class=p>:</span>
<a id=__codelineno-43-9 name=__codelineno-43-9 href=#__codelineno-43-9></a><span class=w>      </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deb http://dl.google.com/linux/chrome/deb/ stable main</span>
<a id=__codelineno-43-10 name=__codelineno-43-10 href=#__codelineno-43-10></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-43-11 name=__codelineno-43-11 href=#__codelineno-43-11></a><span class=w>      </span><span class=nt>filename</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">google-chrome</span>
<a id=__codelineno-43-12 name=__codelineno-43-12 href=#__codelineno-43-12></a>
<a id=__codelineno-43-13 name=__codelineno-43-13 href=#__codelineno-43-13></a><span class=w>  </span><span class=c1># 移除指定的仓库</span>
<a id=__codelineno-43-14 name=__codelineno-43-14 href=#__codelineno-43-14></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>apt_repository</span><span class=p>:</span>
<a id=__codelineno-43-15 name=__codelineno-43-15 href=#__codelineno-43-15></a><span class=w>      </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deb http://archive.canonical.com/ubuntu hardy partner</span>
<a id=__codelineno-43-16 name=__codelineno-43-16 href=#__codelineno-43-16></a><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
<a id=__codelineno-43-17 name=__codelineno-43-17 href=#__codelineno-43-17></a>
<a id=__codelineno-43-18 name=__codelineno-43-18 href=#__codelineno-43-18></a><span class=w>  </span><span class=c1># 从PPA安装仓库</span>
<a id=__codelineno-43-19 name=__codelineno-43-19 href=#__codelineno-43-19></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>apt_repository</span><span class=p>:</span>
<a id=__codelineno-43-20 name=__codelineno-43-20 href=#__codelineno-43-20></a><span class=w>      </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ppa:nginx/stable</span>
</code></pre></div> <h3 id=yum_repository>yum_repository<a class=headerlink href=#yum_repository title="Permanent link">&para;</a></h3> <p>在基于 RPM 的 Linux 发行版中添加或删除 YUM 存储库。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=c1># 添加Nginx yum安装源</span>
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">add repo</span>
<a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=w>  </span><span class=nt>yum_repository</span><span class=p>:</span>
<a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">nginx repo</span>
<a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=w>    </span><span class=nt>baseurl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http://nginx.org/packages/centos/7/$basearch/</span>
<a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=w>    </span><span class=nt>gpgcheck</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a>
<a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Add repository</span>
<a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a><span class=w>  </span><span class=nt>yum_repository</span><span class=p>:</span>
<a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">epel</span>
<a id=__codelineno-44-13 name=__codelineno-44-13 href=#__codelineno-44-13></a><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">EPEL YUM repo</span>
<a id=__codelineno-44-14 name=__codelineno-44-14 href=#__codelineno-44-14></a><span class=w>    </span><span class=nt>baseurl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://download.fedoraproject.org/pub/epel/$releasever/$basearch/</span>
</code></pre></div> <h3 id=service>service<a class=headerlink href=#service title="Permanent link">&para;</a></h3> <p>(1) 功能 管理远程节点上的服务。示例：</p> <p><code>ansible-doc -s service</code></p> <p>在 Ansible 中使用 service 模块来控制管理服务器的运行状态，enable 表示是否开机自启动， 值为 true 或者 false，</p> <p>使用 name 来定义服务名称使用 state 指定服务状态，取值为 started、stoped、restarted</p> <p>(2) 示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=nginx state=stopped&quot;</span>
<a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=nginx state=restarted&quot;</span>
<a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=nginx state=reloaded&quot;</span>
<a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a>
<a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a><span class=c1>#安装httpd服务</span>
<a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>yum<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=httpd state=latest&quot;</span>
<a id=__codelineno-45-7 name=__codelineno-45-7 href=#__codelineno-45-7></a>
<a id=__codelineno-45-8 name=__codelineno-45-8 href=#__codelineno-45-8></a><span class=c1>#查看httpd服务的状态</span>
<a id=__codelineno-45-9 name=__codelineno-45-9 href=#__codelineno-45-9></a>ansible<span class=w> </span>dbservers<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;service httpd status&#39;</span>
<a id=__codelineno-45-10 name=__codelineno-45-10 href=#__codelineno-45-10></a><span class=c1>#查看http服务开机启动状态</span>
<a id=__codelineno-45-11 name=__codelineno-45-11 href=#__codelineno-45-11></a>ansible<span class=w> </span>dbservers<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;chkconfig httpd status&#39;</span>
<a id=__codelineno-45-12 name=__codelineno-45-12 href=#__codelineno-45-12></a>
<a id=__codelineno-45-13 name=__codelineno-45-13 href=#__codelineno-45-13></a><span class=c1>#设置httpd服务为开机自启动</span>
<a id=__codelineno-45-14 name=__codelineno-45-14 href=#__codelineno-45-14></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;enable=ture name=httpd state=started&#39;</span>
<a id=__codelineno-45-15 name=__codelineno-45-15 href=#__codelineno-45-15></a>
<a id=__codelineno-45-16 name=__codelineno-45-16 href=#__codelineno-45-16></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=nginx state=stopped&quot;</span>
<a id=__codelineno-45-17 name=__codelineno-45-17 href=#__codelineno-45-17></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=nginx state=restarted&quot;</span>
<a id=__codelineno-45-18 name=__codelineno-45-18 href=#__codelineno-45-18></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=nginx state=reloaded&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=c1># 开服务</span>
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">started</span>
<a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=c1># 关服务</span>
<a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stopped</span>
<a id=__codelineno-46-9 name=__codelineno-46-9 href=#__codelineno-46-9></a><span class=c1># 重起服务</span>
<a id=__codelineno-46-10 name=__codelineno-46-10 href=#__codelineno-46-10></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-46-11 name=__codelineno-46-11 href=#__codelineno-46-11></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-46-12 name=__codelineno-46-12 href=#__codelineno-46-12></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restarted</span>
<a id=__codelineno-46-13 name=__codelineno-46-13 href=#__codelineno-46-13></a><span class=c1># 重载服务</span>
<a id=__codelineno-46-14 name=__codelineno-46-14 href=#__codelineno-46-14></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-46-15 name=__codelineno-46-15 href=#__codelineno-46-15></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-46-16 name=__codelineno-46-16 href=#__codelineno-46-16></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">reloaded</span>
<a id=__codelineno-46-17 name=__codelineno-46-17 href=#__codelineno-46-17></a><span class=c1># 设置开机启动</span>
<a id=__codelineno-46-18 name=__codelineno-46-18 href=#__codelineno-46-18></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-46-19 name=__codelineno-46-19 href=#__codelineno-46-19></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-46-20 name=__codelineno-46-20 href=#__codelineno-46-20></a><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <h3 id=command>command<a class=headerlink href=#command title="Permanent link">&para;</a></h3> <p>重启服务器</p> <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a>ansible<span class=w> </span>servers<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;reboot&quot;</span>
</code></pre></div> <p>不指定-m 模块时，将使用 ansible 的默认模块 command，它不会通过 shell 进行处理，所以像$HOME 和像<code>“&lt;”，“&gt;”，“|”，“;”</code>和<code>“＆”</code>将不工作</p> <p>默认情况下，Ansible 使用 5 个并发进程。 如果你要扩大并发，使用-f 10 参数指定数量即可。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a>ansible<span class=w> </span>servers<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;reboot&quot;</span><span class=w> </span>-f<span class=w> </span><span class=m>10</span>
</code></pre></div> <p>默认情况下，Ansible 连接远端用户是当前用户，使用-u 参数可以修改</p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a>ansible<span class=w> </span>servers<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;reboot&quot;</span><span class=w> </span>-f<span class=w> </span><span class=m>10</span><span class=w> </span>-u<span class=w> </span>root
</code></pre></div> <p>如果运行用户没有权限执行，使用--become 可以提升权限,默认是 sudo 方式</p> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a>ansible<span class=w> </span>servers<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;reboot&quot;</span><span class=w> </span>-f<span class=w> </span><span class=m>10</span><span class=w> </span>-u<span class=w> </span>root<span class=w> </span>--become
<a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a>ansible<span class=w> </span>servers<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;reboot&quot;</span><span class=w> </span>-f<span class=w> </span><span class=m>10</span><span class=w> </span>-u<span class=w> </span><span class=nb>test</span><span class=w> </span>--become<span class=w> </span>--become-method<span class=w> </span>sudo<span class=w> </span>--become-user<span class=w> </span>root<span class=w> </span>--ask-become-pass
</code></pre></div> <ul> <li><code>--become-method</code> 指定提升方式</li> <li><code>--become-user</code> 指定提升用户</li> <li><code>--ask-become-pass</code> 告知提升密码</li> </ul> <p>我们将运行一个命令，然后收集其输出以供以后使用：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">run a simple command</span>
<a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a><span class=w>  </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cat ~/raw.txt</span>
<a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=w>  </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rawtxt</span>
<a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a>
<a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>debug</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">var=rawtxt.stdout</span>
</code></pre></div> <h3 id=shell>shell<a class=headerlink href=#shell title="Permanent link">&para;</a></h3> <p>通过/bin/sh 在远程节点上执行命令，支持$HOME 和”&lt;”, “&gt;”, “|”, “;” and “&amp;”。示例：</p> <p>(1) 功能</p> <p>command 模块作为 Ansible 的默认模块，可以运行被控端机器权限范围内的所有 shell 命令，前面已多次提到，这里不再重复。</p> <p>而 shell 模块用于执行被控端机器的 Shell 脚本文件，与另一个模块 raw 的功能类似，并且支持管道符。</p> <p><code>ansible-doc -s shell</code></p> <p>(2) 示例</p> <p>获取 web 组里得 eth0 接口信息</p> <div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>shell<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;ifconfig eth0|grep addr&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">test $home</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=w>  </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">echo &quot;Test&quot; &gt; ~/tmp/test</span>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=c1># 多行命令</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">k8s</span>
<a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Pull images</span>
<a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=w>      </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a><span class=w>        </span><span class=no>docker pull $IMAGE_REPO/kube-apiserver-amd64:v1.10.2</span>
<a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=w>        </span><span class=no>docker pull $IMAGE_REPO/kube-scheduler-amd64:v1.10.2</span>
<a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a><span class=w>      </span><span class=nt>args</span><span class=p>:</span>
<a id=__codelineno-53-12 name=__codelineno-53-12 href=#__codelineno-53-12></a><span class=w>        </span><span class=c1># 指定工作目录</span>
<a id=__codelineno-53-13 name=__codelineno-53-13 href=#__codelineno-53-13></a><span class=w>        </span><span class=nt>chdir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">somedir/</span>
<a id=__codelineno-53-14 name=__codelineno-53-14 href=#__codelineno-53-14></a><span class=w>        </span><span class=c1># 指定使用的脚本解析器</span>
<a id=__codelineno-53-15 name=__codelineno-53-15 href=#__codelineno-53-15></a><span class=w>        </span><span class=nt>executable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/bash</span>
<a id=__codelineno-53-16 name=__codelineno-53-16 href=#__codelineno-53-16></a>
<a id=__codelineno-53-17 name=__codelineno-53-17 href=#__codelineno-53-17></a><span class=w>    </span><span class=c1># 您可以使用 shell 运行其他可执行文件来执行内联操作</span>
<a id=__codelineno-53-18 name=__codelineno-53-18 href=#__codelineno-53-18></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Run expect to wait for a successful PXE boot via out-of-band CIMC</span>
<a id=__codelineno-53-19 name=__codelineno-53-19 href=#__codelineno-53-19></a><span class=w>      </span><span class=nt>ansible.builtin.shell</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-53-20 name=__codelineno-53-20 href=#__codelineno-53-20></a><span class=w>        </span><span class=no>set timeout 300</span>
<a id=__codelineno-53-21 name=__codelineno-53-21 href=#__codelineno-53-21></a><span class=w>        </span><span class=no>spawn ssh admin@{{ cimc_host }}</span>
<a id=__codelineno-53-22 name=__codelineno-53-22 href=#__codelineno-53-22></a>
<a id=__codelineno-53-23 name=__codelineno-53-23 href=#__codelineno-53-23></a><span class=w>        </span><span class=no>expect &quot;password:&quot;</span>
<a id=__codelineno-53-24 name=__codelineno-53-24 href=#__codelineno-53-24></a><span class=w>        </span><span class=no>send &quot;{{ cimc_password }}\n&quot;</span>
<a id=__codelineno-53-25 name=__codelineno-53-25 href=#__codelineno-53-25></a>
<a id=__codelineno-53-26 name=__codelineno-53-26 href=#__codelineno-53-26></a><span class=w>        </span><span class=no>expect &quot;\n{{ cimc_name }}&quot;</span>
<a id=__codelineno-53-27 name=__codelineno-53-27 href=#__codelineno-53-27></a><span class=w>        </span><span class=no>send &quot;connect host\n&quot;</span>
<a id=__codelineno-53-28 name=__codelineno-53-28 href=#__codelineno-53-28></a>
<a id=__codelineno-53-29 name=__codelineno-53-29 href=#__codelineno-53-29></a><span class=w>        </span><span class=no>expect &quot;pxeboot.n12&quot;</span>
<a id=__codelineno-53-30 name=__codelineno-53-30 href=#__codelineno-53-30></a><span class=w>        </span><span class=no>send &quot;\n&quot;</span>
<a id=__codelineno-53-31 name=__codelineno-53-31 href=#__codelineno-53-31></a>
<a id=__codelineno-53-32 name=__codelineno-53-32 href=#__codelineno-53-32></a><span class=w>        </span><span class=no>exit 0</span>
<a id=__codelineno-53-33 name=__codelineno-53-33 href=#__codelineno-53-33></a><span class=w>      </span><span class=nt>args</span><span class=p>:</span>
<a id=__codelineno-53-34 name=__codelineno-53-34 href=#__codelineno-53-34></a><span class=w>        </span><span class=nt>executable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/bin/expect</span>
<a id=__codelineno-53-35 name=__codelineno-53-35 href=#__codelineno-53-35></a><span class=w>      </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id=__codelineno-53-36 name=__codelineno-53-36 href=#__codelineno-53-36></a>
<a id=__codelineno-53-37 name=__codelineno-53-37 href=#__codelineno-53-37></a><span class=w>    </span><span class=c1># 它不仅允许您运行命令，还可以运行 shell 脚本，并允许您指定工作目录和要执行命令行的 bash 的位置。</span>
<a id=__codelineno-53-38 name=__codelineno-53-38 href=#__codelineno-53-38></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">run a simple shell script</span>
<a id=__codelineno-53-39 name=__codelineno-53-39 href=#__codelineno-53-39></a><span class=w>      </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./shell_script.sh &gt;&gt; ~/shell.txt</span>
<a id=__codelineno-53-40 name=__codelineno-53-40 href=#__codelineno-53-40></a><span class=w>      </span><span class=nt>args</span><span class=p>:</span>
<a id=__codelineno-53-41 name=__codelineno-53-41 href=#__codelineno-53-41></a><span class=w>        </span><span class=nt>chdir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/</span>
<a id=__codelineno-53-42 name=__codelineno-53-42 href=#__codelineno-53-42></a><span class=w>        </span><span class=nt>creates</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">~/shell.txt</span>
<a id=__codelineno-53-43 name=__codelineno-53-43 href=#__codelineno-53-43></a><span class=w>        </span><span class=nt>executable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/csh</span>
</code></pre></div> <h3 id=raw>raw<a class=headerlink href=#raw title="Permanent link">&para;</a></h3> <p>如果说远程主机没有 python 模块时，可以使用 raw 模块执行命令</p> <div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a>ansible<span class=w> </span>web<span class=w> </span>-m<span class=w> </span>raw<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;ifconfig eth0|grep addr&quot;</span>
</code></pre></div> <h3 id=git>git<a class=headerlink href=#git title="Permanent link">&para;</a></h3> <p>下载 Git 仓库的内容到指定位置：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>git<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;repo=git://foo.example.org/repo.git dest=/srv/myapp version=HEAD&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">clone Ansible from github</span>
<a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a><span class=w>  </span><span class=nt>git</span><span class=p>:</span>
<a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a><span class=w>    </span><span class=nt>repo</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/ansible/ansible.git</span>
<a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/ansible</span>
<a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a><span class=w>    </span><span class=nt>clone</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a><span class=w>    </span><span class=nt>update</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <h3 id=scritp>scritp<a class=headerlink href=#scritp title="Permanent link">&para;</a></h3> <p>(1) 功能 script 模块用于在远程被控端主机执行本地 Ansible 机器中的 Shell 脚本文件，相当于"scp+shell"的组合命令。</p> <p>(2) 示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=c1># 执行脚本</span>
<a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>script<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;/root/time.sh&#39;</span>
<a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a>
<a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>script<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;data/test.sh&#39;</span>
<a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a>
<a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>script<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;/root/print_hello.sh&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;使版本目录保持五个版本历史&quot;</span>
<a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chdir=/release/{{project}} keepfive.sh</span>
<a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a>
<a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;执行自由脚本&quot;</span>
<a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">chdir=/release/{{project}} free.sh</span>
<a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a><span class=w>  </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deploy</span>
<a id=__codelineno-58-7 name=__codelineno-58-7 href=#__codelineno-58-7></a>
<a id=__codelineno-58-8 name=__codelineno-58-8 href=#__codelineno-58-8></a><span class=c1># 该模块支持运行其他类型的脚本，例如 Python、Perl 或 Ruby。看一下以下示例 playbook</span>
<a id=__codelineno-58-9 name=__codelineno-58-9 href=#__codelineno-58-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">execute a script on a remote host</span>
<a id=__codelineno-58-10 name=__codelineno-58-10 href=#__codelineno-58-10></a><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./shell_script.py –some-argumets &quot;42&quot;</span>
<a id=__codelineno-58-11 name=__codelineno-58-11 href=#__codelineno-58-11></a><span class=w>  </span><span class=nt>args</span><span class=p>:</span>
<a id=__codelineno-58-12 name=__codelineno-58-12 href=#__codelineno-58-12></a><span class=w>    </span><span class=nt>creates</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">~/shell.txt</span>
<a id=__codelineno-58-13 name=__codelineno-58-13 href=#__codelineno-58-13></a><span class=w>    </span><span class=nt>executable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">python</span>
</code></pre></div> <h3 id=set_fact>set_fact<a class=headerlink href=#set_fact title="Permanent link">&para;</a></h3> <p>使用该模块，可以设置 per-host 的变量（事实）。</p> <p>这些变量可以被当前 ansible-playbook 调用的、后续的 play 使用</p> <p>如果设置 cacheable 为 yes，则记录在缓存中，允许后续 playbook 调用使用</p> <div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;设置多个变量，用空格分隔&quot;</span>
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a><span class=w>  </span><span class=nt>set_fact</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">one_fact=&quot;something&quot; other_fact=&quot;{{ local_var }}&quot;</span>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a>
<a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;另外一种多变量设置风格&quot;</span>
<a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a><span class=w>  </span><span class=nt>set_fact</span><span class=p>:</span>
<a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a><span class=w>    </span><span class=nt>one_fact</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">something</span>
<a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a><span class=w>    </span><span class=nt>other_fact</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>local_var</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>2</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a><span class=w>    </span><span class=nt>another_fact</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>some_registered_var.results</span><span class=nv> </span><span class=s>|</span><span class=nv> </span><span class=s>map(attribute=&#39;ansible_facts.some_fact&#39;)</span><span class=nv> </span><span class=s>|</span><span class=nv> </span><span class=s>list</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a>
<a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;允许缓存变量&quot;</span>
<a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a><span class=w>  </span><span class=nt>set_fact</span><span class=p>:</span>
<a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a><span class=w>    </span><span class=nt>one_fact</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">something</span>
<a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a><span class=w>    </span><span class=nt>other_fact</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>local_var</span><span class=nv> </span><span class=s>*</span><span class=nv> </span><span class=s>2</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a><span class=w>    </span><span class=nt>cacheable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <p>以下示例显示了如何使用 set_fact 来配置 MySQL 服务器，使其具有大约机器上可用总内存的一半的 InnoDB 缓冲区大小：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=nn>---</span>
<a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Configure MySQL</span>
<a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mysqlservers</span>
<a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">install MySql</span>
<a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a><span class=w>      </span><span class=nt>yum</span><span class=p>:</span>
<a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mysql-server</span>
<a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">installed</span>
<a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a>
<a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Calculate InnoDB buffer pool size</span>
<a id=__codelineno-60-11 name=__codelineno-60-11 href=#__codelineno-60-11></a><span class=w>      </span><span class=nt>set_fact</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">innodb_buffer_pool_size_mb=&quot;{{ansible_memtotal_mb/2}}&quot;</span>
<a id=__codelineno-60-12 name=__codelineno-60-12 href=#__codelineno-60-12></a>
<a id=__codelineno-60-13 name=__codelineno-60-13 href=#__codelineno-60-13></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Configure MySQL</span>
<a id=__codelineno-60-14 name=__codelineno-60-14 href=#__codelineno-60-14></a><span class=w>      </span><span class=nt>template</span><span class=p>:</span>
<a id=__codelineno-60-15 name=__codelineno-60-15 href=#__codelineno-60-15></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">templates/my.cnf.j2</span>
<a id=__codelineno-60-16 name=__codelineno-60-16 href=#__codelineno-60-16></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/my.cnf</span>
<a id=__codelineno-60-17 name=__codelineno-60-17 href=#__codelineno-60-17></a><span class=w>        </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-60-18 name=__codelineno-60-18 href=#__codelineno-60-18></a><span class=w>        </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-60-19 name=__codelineno-60-19 href=#__codelineno-60-19></a><span class=w>        </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0644</span>
<a id=__codelineno-60-20 name=__codelineno-60-20 href=#__codelineno-60-20></a><span class=w>      </span><span class=nt>notify</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restart mysql</span>
<a id=__codelineno-60-21 name=__codelineno-60-21 href=#__codelineno-60-21></a>
<a id=__codelineno-60-22 name=__codelineno-60-22 href=#__codelineno-60-22></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Start MySQL</span>
<a id=__codelineno-60-23 name=__codelineno-60-23 href=#__codelineno-60-23></a><span class=w>      </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-60-24 name=__codelineno-60-24 href=#__codelineno-60-24></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mysqld</span>
<a id=__codelineno-60-25 name=__codelineno-60-25 href=#__codelineno-60-25></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">started</span>
<a id=__codelineno-60-26 name=__codelineno-60-26 href=#__codelineno-60-26></a><span class=w>        </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-60-27 name=__codelineno-60-27 href=#__codelineno-60-27></a>
<a id=__codelineno-60-28 name=__codelineno-60-28 href=#__codelineno-60-28></a><span class=w>  </span><span class=nt>handlers</span><span class=p>:</span>
<a id=__codelineno-60-29 name=__codelineno-60-29 href=#__codelineno-60-29></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restart mysql</span>
<a id=__codelineno-60-30 name=__codelineno-60-30 href=#__codelineno-60-30></a><span class=w>      </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-60-31 name=__codelineno-60-31 href=#__codelineno-60-31></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mysqld</span>
<a id=__codelineno-60-32 name=__codelineno-60-32 href=#__codelineno-60-32></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restarted</span>
</code></pre></div> <p>然后模板只需要获取 <code>innodb_buffer_pool_size</code> 的值并将其放入配置中。</p> <p>这意味着我们可以在缓冲池应该是内存的五分之一或八分之一的地方重复使用相同的模板，并简单地更改那些主机的 playbook。在这种情况下，模板将看起来像以下代码片段：</p> <p><code>my.cnf.j2</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a># {{ ansible_managed }}
<a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a>[mysqld]
<a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a>datadir=/var/lib/mysql
<a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a>socket=/var/lib/mysql/mysql.sock
<a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a># Disabling symbolic-links is recommended to prevent assorted security risks
<a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a>symbolic-links=0
<a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a># Settings user and group are ignored when systemd is used.
<a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a># If we need to run mysqld under a different user or group,
<a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a># customize our systemd unit file for mysqld according to the
<a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a># instructions in http://fedoraproject.org/wiki/Systemd
<a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a>
<a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a># Configure the buffer pool
<a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a>innodb_buffer_pool_size = {{ innodb_buffer_pool_size_mb|default(128) }}M
<a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a>
<a id=__codelineno-61-15 name=__codelineno-61-15 href=#__codelineno-61-15></a>[mysqld_safe]
<a id=__codelineno-61-16 name=__codelineno-61-16 href=#__codelineno-61-16></a>log-error=/var/log/mysqld.log
<a id=__codelineno-61-17 name=__codelineno-61-17 href=#__codelineno-61-17></a>pid-file=/var/run/mysqld/mysqld.pid
</code></pre></div> <h3 id=get_url>get_url<a class=headerlink href=#get_url title="Permanent link">&para;</a></h3> <p>(1) 功能</p> <p>实现在远程主机下载指定 URL 到本地，支持 sha256sum 文件校验</p> <p>从 HTTP、HTTPS 或 FTP 下载文件到远程服务器。远程服务器必须能够直接访问远程资源。</p> <p>(2) 例子</p> <div class=highlight><pre><span></span><code><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=c1>#范例1：下载互联网的软件至本地</span>
<a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a><span class=o>[</span>root@manger<span class=w> </span>~<span class=o>]</span><span class=c1># ansible webservers -m get_url -a &quot;url=https://mirrors.aliyun.com/xx.rpm dest=/tmp&quot;</span>
<a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a>
<a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>
<a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a><span class=c1># 范例2：下载互联网文件并进行 md5 校验</span>
<a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=o>[</span>root@manger<span class=w> </span>~<span class=o>]</span><span class=c1># ansible webservers -m get_url -a &quot;url=http,https dest=/opt checksum=md5:76eb3af80ffd&quot;</span>
<a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a>
<a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a>
<a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>get_url<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;url=http://www.baidu.com dest=/tmp/index.html mode=0440 force=yes&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Download file with check (sha256)</span>
<a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a><span class=w>  </span><span class=nt>get_url</span><span class=p>:</span>
<a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http://example.com/path/file.conf</span>
<a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
<a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a><span class=w>    </span><span class=nt>checksum</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sha256:b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c</span>
<a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a>
<a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Download file with check (md5)</span>
<a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a><span class=w>  </span><span class=nt>get_url</span><span class=p>:</span>
<a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http://example.com/path/file.conf</span>
<a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
<a id=__codelineno-63-11 name=__codelineno-63-11 href=#__codelineno-63-11></a><span class=w>    </span><span class=nt>checksum</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">md5:66dffb5228a211e61d6d7ef4a86f5758</span>
<a id=__codelineno-63-12 name=__codelineno-63-12 href=#__codelineno-63-12></a>
<a id=__codelineno-63-13 name=__codelineno-63-13 href=#__codelineno-63-13></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Download file with checksum url (sha256)</span>
<a id=__codelineno-63-14 name=__codelineno-63-14 href=#__codelineno-63-14></a><span class=w>  </span><span class=nt>get_url</span><span class=p>:</span>
<a id=__codelineno-63-15 name=__codelineno-63-15 href=#__codelineno-63-15></a><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http://example.com/path/file.conf</span>
<a id=__codelineno-63-16 name=__codelineno-63-16 href=#__codelineno-63-16></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
<a id=__codelineno-63-17 name=__codelineno-63-17 href=#__codelineno-63-17></a><span class=w>    </span><span class=nt>checksum</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sha256:http://example.com/path/sha256sum.txt</span>
<a id=__codelineno-63-18 name=__codelineno-63-18 href=#__codelineno-63-18></a>
<a id=__codelineno-63-19 name=__codelineno-63-19 href=#__codelineno-63-19></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Download file from a file path</span>
<a id=__codelineno-63-20 name=__codelineno-63-20 href=#__codelineno-63-20></a><span class=w>  </span><span class=nt>get_url</span><span class=p>:</span>
<a id=__codelineno-63-21 name=__codelineno-63-21 href=#__codelineno-63-21></a><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">file:///tmp/afile.txt</span>
<a id=__codelineno-63-22 name=__codelineno-63-22 href=#__codelineno-63-22></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/tmp/afilecopy.txt</span>
<a id=__codelineno-63-23 name=__codelineno-63-23 href=#__codelineno-63-23></a>
<a id=__codelineno-63-24 name=__codelineno-63-24 href=#__codelineno-63-24></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">download an ansible archive to remote hosts</span>
<a id=__codelineno-63-25 name=__codelineno-63-25 href=#__codelineno-63-25></a><span class=w>  </span><span class=nt>get_url</span><span class=p>:</span>
<a id=__codelineno-63-26 name=__codelineno-63-26 href=#__codelineno-63-26></a><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/ansible/ansible/archive/v2.6.1.tar.gz</span>
<a id=__codelineno-63-27 name=__codelineno-63-27 href=#__codelineno-63-27></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/ansible_v2.6.1.tar.gz</span>
<a id=__codelineno-63-28 name=__codelineno-63-28 href=#__codelineno-63-28></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0777</span>
</code></pre></div> <h3 id=systemd>systemd<a class=headerlink href=#systemd title="Permanent link">&para;</a></h3> <p>功能：管理服务启动与停止，与 service 模块用法一致；</p> <div class=highlight><pre><span></span><code><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=c1># 范例1：启动 Httpd 服务</span>
<a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=httpd state=started&quot;</span>
<a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a>
<a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a><span class=c1># 范例2：重载 Httpd 服务</span>
<a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=httpd state=reloaded&quot;</span>
<a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a>
<a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a><span class=c1># 范例3：重启 Httpd 服务</span>
<a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=httpd state=restarted&quot;</span>
<a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a>
<a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a><span class=c1># 范例4：停止 Httpd 服务</span>
<a id=__codelineno-64-11 name=__codelineno-64-11 href=#__codelineno-64-11></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=httpd state=stopped&quot;</span>
<a id=__codelineno-64-12 name=__codelineno-64-12 href=#__codelineno-64-12></a>
<a id=__codelineno-64-13 name=__codelineno-64-13 href=#__codelineno-64-13></a><span class=c1>#范例5：启动 Httpd 服务，并加入开机自启</span>
<a id=__codelineno-64-14 name=__codelineno-64-14 href=#__codelineno-64-14></a><span class=w> </span>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>service<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=httpd state=started enabled=yes&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a><span class=c1># 确保服务启动</span>
<a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Make sure a service is running</span>
<a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a><span class=w>  </span><span class=nt>systemd</span><span class=p>:</span>
<a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">started</span>
<a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-65-6 name=__codelineno-65-6 href=#__codelineno-65-6></a>
<a id=__codelineno-65-7 name=__codelineno-65-7 href=#__codelineno-65-7></a><span class=c1># 确保服务停止</span>
<a id=__codelineno-65-8 name=__codelineno-65-8 href=#__codelineno-65-8></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Stop service cron on debian, if running</span>
<a id=__codelineno-65-9 name=__codelineno-65-9 href=#__codelineno-65-9></a><span class=w>  </span><span class=nt>systemd</span><span class=p>:</span>
<a id=__codelineno-65-10 name=__codelineno-65-10 href=#__codelineno-65-10></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cron</span>
<a id=__codelineno-65-11 name=__codelineno-65-11 href=#__codelineno-65-11></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stopped</span>
<a id=__codelineno-65-12 name=__codelineno-65-12 href=#__codelineno-65-12></a>
<a id=__codelineno-65-13 name=__codelineno-65-13 href=#__codelineno-65-13></a><span class=c1># 发起daemon-reload并重启服务</span>
<a id=__codelineno-65-14 name=__codelineno-65-14 href=#__codelineno-65-14></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Restart service cron on centos, in all cases, also issue daemon-reload to pick up config changes</span>
<a id=__codelineno-65-15 name=__codelineno-65-15 href=#__codelineno-65-15></a><span class=w>  </span><span class=nt>systemd</span><span class=p>:</span>
<a id=__codelineno-65-16 name=__codelineno-65-16 href=#__codelineno-65-16></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restarted</span>
<a id=__codelineno-65-17 name=__codelineno-65-17 href=#__codelineno-65-17></a><span class=w>    </span><span class=nt>daemon_reload</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-65-18 name=__codelineno-65-18 href=#__codelineno-65-18></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">crond</span>
<a id=__codelineno-65-19 name=__codelineno-65-19 href=#__codelineno-65-19></a>
<a id=__codelineno-65-20 name=__codelineno-65-20 href=#__codelineno-65-20></a><span class=c1># 重新载入服务</span>
<a id=__codelineno-65-21 name=__codelineno-65-21 href=#__codelineno-65-21></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Reload service httpd, in all cases</span>
<a id=__codelineno-65-22 name=__codelineno-65-22 href=#__codelineno-65-22></a><span class=w>  </span><span class=nt>systemd</span><span class=p>:</span>
<a id=__codelineno-65-23 name=__codelineno-65-23 href=#__codelineno-65-23></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-65-24 name=__codelineno-65-24 href=#__codelineno-65-24></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">reloaded</span>
<a id=__codelineno-65-25 name=__codelineno-65-25 href=#__codelineno-65-25></a>
<a id=__codelineno-65-26 name=__codelineno-65-26 href=#__codelineno-65-26></a><span class=c1># 启用服务</span>
<a id=__codelineno-65-27 name=__codelineno-65-27 href=#__codelineno-65-27></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Enable service httpd and ensure it is not masked</span>
<a id=__codelineno-65-28 name=__codelineno-65-28 href=#__codelineno-65-28></a><span class=w>  </span><span class=nt>systemd</span><span class=p>:</span>
<a id=__codelineno-65-29 name=__codelineno-65-29 href=#__codelineno-65-29></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">httpd</span>
<a id=__codelineno-65-30 name=__codelineno-65-30 href=#__codelineno-65-30></a><span class=w>    </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-65-31 name=__codelineno-65-31 href=#__codelineno-65-31></a><span class=w>    </span><span class=c1># 被mask的Systemd单元无法启动</span>
<a id=__codelineno-65-32 name=__codelineno-65-32 href=#__codelineno-65-32></a><span class=w>    </span><span class=nt>masked</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<a id=__codelineno-65-33 name=__codelineno-65-33 href=#__codelineno-65-33></a>
<a id=__codelineno-65-34 name=__codelineno-65-34 href=#__codelineno-65-34></a><span class=c1># 重新载入配置</span>
<a id=__codelineno-65-35 name=__codelineno-65-35 href=#__codelineno-65-35></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Just force systemd to reread configs (2.4 and above)</span>
<a id=__codelineno-65-36 name=__codelineno-65-36 href=#__codelineno-65-36></a><span class=w>  </span><span class=nt>systemd</span><span class=p>:</span>
<a id=__codelineno-65-37 name=__codelineno-65-37 href=#__codelineno-65-37></a><span class=w>    </span><span class=nt>daemon_reload</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <h3 id=modprobe>modprobe<a class=headerlink href=#modprobe title="Permanent link">&para;</a></h3> <p>加载或卸载内核模块：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ensure kernel modules</span>
<a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a><span class=w>  </span><span class=nt>modprobe</span><span class=p>:</span>
<a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>item</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a><span class=w>    </span><span class=c1># absent 表示卸载</span>
<a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a><span class=w>  </span><span class=nt>with_items</span><span class=p>:</span>
<a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;br_netfilter&quot;</span>
</code></pre></div> <h3 id=pypi>PyPI<a class=headerlink href=#pypi title="Permanent link">&para;</a></h3> <p>这是我们的第一个语言软件包管理器，可能是最著名的。它管理 Python 软件包和库。它具有各种选项，以满足与 Python 库相关的各种不同要求。 要运行此模块，我们需要确保 PyPI 已安装在远程主机上。</p> <p>以下示例 playbook 将显示其中一些：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">install a python library from the default repo</span>
<a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a><span class=w>  </span><span class=nt>pip</span><span class=p>:</span>
<a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">numpy</span>
<a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0.3</span>
<a id=__codelineno-67-5 name=__codelineno-67-5 href=#__codelineno-67-5></a>
<a id=__codelineno-67-6 name=__codelineno-67-6 href=#__codelineno-67-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">install a python library from a github</span>
<a id=__codelineno-67-7 name=__codelineno-67-7 href=#__codelineno-67-7></a><span class=w>  </span><span class=nt>pip</span><span class=p>:</span>
<a id=__codelineno-67-8 name=__codelineno-67-8 href=#__codelineno-67-8></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/jakubroztocil/httpie/archive/master.tar.gz</span>
</code></pre></div> <h3 id=cron>cron<a class=headerlink href=#cron title="Permanent link">&para;</a></h3> <p>(1)功能</p> <p>Ansible 中的 cron 模块用于定义任务计划，其中有两种状态，(state):present 表示添加(省略状态时默认使用),absent 表示移除。</p> <p><code>ansible-doc -s cron</code></p> <p>(2) 例子</p> <div class=highlight><pre><span></span><code><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=c1># cron模块，顾名思义就是创建计划任务，可以定义webserver组被控端机器每天凌晨1点过1分ntpdate自动对时，命令如下所示：</span>
<a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a>ansible<span class=w> </span>webserver<span class=w> </span>-m<span class=w> </span>cron<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;&quot;name=ntpdate time every day&quot; minute=&quot;1&quot; hour=&quot;1&quot; job=&quot;/sbin/ntpdate ntp.api.bz &gt;&gt; /dev/null&quot;&#39;</span>
<a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a>
<a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>cron<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;name=&#39;test a job&#39; user=root job=&#39;/bin/sh /server/scripts/test.sh&#39; minute=* hour=* day=* month=* weekday=*&quot;</span>
<a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a>
<a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a>
<a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a><span class=c1>#添加计划任务</span>
<a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>cron<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;minute=&quot;*/10&quot; job=&quot;/bin/echo hello&quot; name=&quot;test cron job&quot;&#39;</span>
<a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a><span class=m>192</span>.168.1.108<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>CHANGED</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=o>{</span>
<a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a><span class=w>    </span><span class=s2>&quot;changed&quot;</span>:<span class=w> </span>true,
<a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a><span class=w>    </span><span class=s2>&quot;envs&quot;</span>:<span class=w> </span><span class=o>[]</span>,
<a id=__codelineno-68-12 name=__codelineno-68-12 href=#__codelineno-68-12></a><span class=w>    </span><span class=s2>&quot;jobs&quot;</span>:<span class=w> </span><span class=o>[</span>
<a id=__codelineno-68-13 name=__codelineno-68-13 href=#__codelineno-68-13></a><span class=w>        </span><span class=s2>&quot;test cron job&quot;</span>
<a id=__codelineno-68-14 name=__codelineno-68-14 href=#__codelineno-68-14></a><span class=w>    </span><span class=o>]</span>
<a id=__codelineno-68-15 name=__codelineno-68-15 href=#__codelineno-68-15></a>
<a id=__codelineno-68-16 name=__codelineno-68-16 href=#__codelineno-68-16></a><span class=c1>#查看crontab计划任务</span>
<a id=__codelineno-68-17 name=__codelineno-68-17 href=#__codelineno-68-17></a>ansible<span class=w> </span>dbservers<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;crontab -l&#39;</span>
<a id=__codelineno-68-18 name=__codelineno-68-18 href=#__codelineno-68-18></a><span class=m>192</span>.168.1.108<span class=w> </span><span class=p>|</span><span class=w> </span>CHANGED<span class=w> </span><span class=p>|</span><span class=w> </span><span class=nv>rc</span><span class=o>=</span><span class=m>0</span><span class=w> </span>&gt;&gt;
<a id=__codelineno-68-19 name=__codelineno-68-19 href=#__codelineno-68-19></a><span class=c1>#Ansible: test cron job</span>
<a id=__codelineno-68-20 name=__codelineno-68-20 href=#__codelineno-68-20></a>*/10<span class=w> </span>*<span class=w> </span>*<span class=w> </span>*<span class=w> </span>*<span class=w> </span>/bin/echo<span class=w> </span>hello
<a id=__codelineno-68-21 name=__codelineno-68-21 href=#__codelineno-68-21></a>
<a id=__codelineno-68-22 name=__codelineno-68-22 href=#__codelineno-68-22></a><span class=c1>#移除计划任务</span>
<a id=__codelineno-68-23 name=__codelineno-68-23 href=#__codelineno-68-23></a>ansible<span class=w> </span>dbservers<span class=w> </span>-m<span class=w> </span>cron<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;minute=&quot;*/10&quot; job=&quot;/bin/echo hello&quot; name=&quot;test cron job&quot; state=absent&#39;</span>
</code></pre></div> <p>我们将创建一个 cron job，确保共享文件夹内容具有正确的权限：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">setup a cron job</span>
<a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a><span class=w>    </span><span class=nt>cron</span><span class=p>:</span>
<a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;shared</span><span class=nv> </span><span class=s>folder</span><span class=nv> </span><span class=s>permission</span><span class=nv> </span><span class=s>enforcer&quot;</span>
<a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a><span class=w>        </span><span class=nt>hour</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=w>        </span><span class=nt>minute</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=w>        </span><span class=nt>day</span><span class=p>:</span><span class=w> </span><span class=err>*</span>
<a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a><span class=w>        </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class=s>&quot;chmod</span><span class=nv> </span><span class=s>-R</span><span class=nv> </span><span class=s>777</span><span class=nv> </span><span class=s>/media/shared&quot;</span>
<a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
</code></pre></div> <h3 id=filesystem>filesystem<a class=headerlink href=#filesystem title="Permanent link">&para;</a></h3> <p>此模块在处理虚拟化基础设施时非常方便，但也可以用于裸金属设置。 在远程主机上必须已经存在一个磁盘，然后才能使用此模块进行管理。</p> <p>在虚拟环境中，Ansible 或其他管理工具允许您自动将磁盘添加到主机，然后使用此模块进行管理。</p> <p>以下是使用此模块格式化磁盘的 playbook 示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create a filesystem from a newly added disk</span>
<a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=w>  </span><span class=nt>filesystem</span><span class=p>:</span>
<a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=w>    </span><span class=nt>fstype</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ext4</span>
<a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=w>    </span><span class=nt>dev</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/dev/sdc1</span>
</code></pre></div> <h3 id=mount>mount<a class=headerlink href=#mount title="Permanent link">&para;</a></h3> <p>功能：管理被控端设备挂载；</p> <p>环境准备：将 ansible 作为 nfs 服务端， 172.16.1.7、172.16.1.8 作为 nfs 客户端挂载；</p> <div class=highlight><pre><span></span><code><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=c1># ansible localhost -m yum -a &#39;name=nfs-utils state=present&#39;</span>
<a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a><span class=c1># ansible localhost -m file -a &#39;path=/ops state=directory&#39;</span>
<a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=c1># ansible localhost -m copy -a &#39;content=&quot;/ops 172.16.1.0/24(rw,sync)&quot; dest=/etc/exports&#39;</span>
<a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=c1># ansible localhost -m service -a &quot;name=nfs state=restarted&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=c1># 范例1：挂载 nfs 至本地的 /opt 目录，并实现开机自动挂载</span>
<a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>mount<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=172.16.1.61:/ops path=/opt fstype=nfs opts=defaults state=mounted&quot;</span>
<a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a>
<a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a><span class=c1># 范例2：临时卸载 nfs 的挂载，但不清理 /etc/fstab</span>
<a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>mount<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=172.16.1.61:/ops path=/opt fstype=nfs opts=defaults state=unmounted&quot;</span>
<a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a>
<a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a><span class=c1># 范例3：永久卸载 nfs 挂载，同时清理 /etc/fstab</span>
<a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a>ansible<span class=w> </span>webservers<span class=w> </span>-m<span class=w> </span>mount<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;src=172.16.1.61:/ops path=/opt fstype=nfs opts=defaults state=absent&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=c1>#设备挂载模块</span>
<a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mount the recently added volume to the system</span>
<a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=w>  </span><span class=nt>mount</span><span class=p>:</span>
<a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/media/disk1</span>
<a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a><span class=w>    </span><span class=nt>fstype</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ext4</span>
<a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=w>    </span><span class=nt>boot</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mounted</span>
<a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/dev/sdc1</span>
<a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a>
<a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a><span class=c1># 删除一个分区</span>
<a id=__codelineno-73-11 name=__codelineno-73-11 href=#__codelineno-73-11></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">remove a no longer needed partition</span>
<a id=__codelineno-73-12 name=__codelineno-73-12 href=#__codelineno-73-12></a><span class=w>  </span><span class=nt>mount</span><span class=p>:</span>
<a id=__codelineno-73-13 name=__codelineno-73-13 href=#__codelineno-73-13></a><span class=w>    </span><span class=nt>device</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/dev/sdc</span>
<a id=__codelineno-73-14 name=__codelineno-73-14 href=#__codelineno-73-14></a><span class=w>    </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id=__codelineno-73-15 name=__codelineno-73-15 href=#__codelineno-73-15></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
</code></pre></div> <h3 id=hostname>hostname<a class=headerlink href=#hostname title="Permanent link">&para;</a></h3> <p>功能：管理被控端主机名称；</p> <div class=highlight><pre><span></span><code><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a><span class=c1># 范例：设置主机名称为 ansible-hostname</span>
<a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>hostname<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;name=ansible-hostname&#39;</span>
</code></pre></div> <h3 id=archive>archive<a class=headerlink href=#archive title="Permanent link">&para;</a></h3> <p>功能：打包与压缩；</p> <div class=highlight><pre><span></span><code><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=c1># 范例：将 /var/log 目录压缩为 tar 格式，并存储至 /opt 目录下；</span>
<a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>archive<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;path=/var/log dest=/opt/log.tar.gz format=gz&#39;</span>
</code></pre></div> <h3 id=unarchive>unarchive<a class=headerlink href=#unarchive title="Permanent link">&para;</a></h3> <p>功能：解包与解压缩</p> <div class=highlight><pre><span></span><code><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=c1># 范例1：解压控制端的包至被控端；</span>
<a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>unarchive<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;src=/root/php.zip dest=/tmp/&#39;</span>
<a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a>
<a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a><span class=c1># 范例2：解压被制端的包至被控端；</span>
<a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a>ansible<span class=w> </span>localhost<span class=w> </span>-m<span class=w> </span>unarchive<span class=w> </span>-a<span class=w> </span><span class=s1>&#39;src=/log.tar.gz dest=/tmp/ remote_src=yes&#39;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">extract an archive into remote hosts</span>
<a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a><span class=w>  </span><span class=nt>unarchive</span><span class=p>:</span>
<a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a><span class=w>    </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">~/archive.tar.gz</span>
<a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a><span class=w>    </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/</span>
<a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a><span class=w>    </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user1</span>
<a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=w>    </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">developers</span>
<a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a><span class=w>    </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0755</span>
</code></pre></div> <h3 id=lineinfile>lineinfile<a class=headerlink href=#lineinfile title="Permanent link">&para;</a></h3> <p>当需要在远程主机的文件中插入或修改特定文本行时，Ansible 中的 lineinfile 模块非常有用。它允许你按照指定的规则，确保文件中包含特定的行或者替换已有的行。</p> <p>该模块确保特定行位于文件中，或使用反向引用正则表达式替换现有行。</p> <p><code>lineinfile模块查找文件中的特定行并用预定义的正则表达式替换它</code></p> <p>当您只想更改文件中的一行时，这主要有用。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=c1># 开启 selinux， 替换以 SELINUX=开头的行，如果没有匹配到，则新增一条数据。</span>
<a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>lineinfile<span class=w>  </span>-a<span class=w> </span><span class=s2>&quot;dest=/etc/selinux/config regexp=^SELINUX= line=SELINUX=enforcing&quot;</span>
<a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a>
<a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a><span class=c1># 删除以SELINUX=开头的行</span>
<a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>lineinfile<span class=w>  </span>-a<span class=w> </span><span class=s2>&quot;dest=/tmp/config regexp=^SELINUX= state=absent&quot;</span>
<a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a>
<a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a><span class=c1># 如果文件中, line值不存在，则向文件中添加line的内容</span>
<a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>lineinfile<span class=w>  </span>-a<span class=w> </span><span class=s2>&quot;dest=/tmp/config  line=&#39;test&#39;&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=nn>---</span>
<a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Insert a line into /etc/hosts</span>
<a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-79-4 name=__codelineno-79-4 href=#__codelineno-79-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-79-5 name=__codelineno-79-5 href=#__codelineno-79-5></a><span class=w>    </span><span class=c1># 插入新行</span>
<a id=__codelineno-79-6 name=__codelineno-79-6 href=#__codelineno-79-6></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Add a new entry to /etc/hosts</span>
<a id=__codelineno-79-7 name=__codelineno-79-7 href=#__codelineno-79-7></a><span class=w>      </span><span class=nt>lineinfile</span><span class=p>:</span>
<a id=__codelineno-79-8 name=__codelineno-79-8 href=#__codelineno-79-8></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/hosts</span>
<a id=__codelineno-79-9 name=__codelineno-79-9 href=#__codelineno-79-9></a><span class=w>        </span><span class=nt>line</span><span class=p>:</span><span class=w> </span><span class=s>&quot;192.168.1.100</span><span class=nv>   </span><span class=s>host1.example.com</span><span class=nv> </span><span class=s>host1&quot;</span>
<a id=__codelineno-79-10 name=__codelineno-79-10 href=#__codelineno-79-10></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-79-11 name=__codelineno-79-11 href=#__codelineno-79-11></a><span class=w>    </span><span class=c1># 修改已有行</span>
<a id=__codelineno-79-12 name=__codelineno-79-12 href=#__codelineno-79-12></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ensure a specific option is set in /etc/ssh/sshd_config</span>
<a id=__codelineno-79-13 name=__codelineno-79-13 href=#__codelineno-79-13></a><span class=w>      </span><span class=nt>lineinfile</span><span class=p>:</span>
<a id=__codelineno-79-14 name=__codelineno-79-14 href=#__codelineno-79-14></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssh/sshd_config</span>
<a id=__codelineno-79-15 name=__codelineno-79-15 href=#__codelineno-79-15></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&quot;^PermitRootLogin&quot;</span>
<a id=__codelineno-79-16 name=__codelineno-79-16 href=#__codelineno-79-16></a><span class=w>        </span><span class=nt>line</span><span class=p>:</span><span class=w> </span><span class=s>&quot;PermitRootLogin</span><span class=nv> </span><span class=s>no&quot;</span>
<a id=__codelineno-79-17 name=__codelineno-79-17 href=#__codelineno-79-17></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-79-18 name=__codelineno-79-18 href=#__codelineno-79-18></a>
<a id=__codelineno-79-19 name=__codelineno-79-19 href=#__codelineno-79-19></a><span class=w>    </span><span class=c1># 注意：在 2.3 之前，使用选项 &#39;dest&#39;、&#39;destfile&#39; 或 &#39;name&#39; 代替 &#39;path&#39;</span>
<a id=__codelineno-79-20 name=__codelineno-79-20 href=#__codelineno-79-20></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ensure SELinux is set to enforcing mode</span>
<a id=__codelineno-79-21 name=__codelineno-79-21 href=#__codelineno-79-21></a><span class=w>      </span><span class=nt>ansible.builtin.lineinfile</span><span class=p>:</span>
<a id=__codelineno-79-22 name=__codelineno-79-22 href=#__codelineno-79-22></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/selinux/config</span>
<a id=__codelineno-79-23 name=__codelineno-79-23 href=#__codelineno-79-23></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&quot;^SELINUX=&quot;</span>
<a id=__codelineno-79-24 name=__codelineno-79-24 href=#__codelineno-79-24></a><span class=w>        </span><span class=nt>line</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SELINUX=enforcing</span>
<a id=__codelineno-79-25 name=__codelineno-79-25 href=#__codelineno-79-25></a>
<a id=__codelineno-79-26 name=__codelineno-79-26 href=#__codelineno-79-26></a><span class=w>    </span><span class=c1># lineinfile模块查找文件中的特定行并用预定义的正则表达式替换它</span>
<a id=__codelineno-79-27 name=__codelineno-79-27 href=#__codelineno-79-27></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">change a sudo user to no longer need password with config testing</span>
<a id=__codelineno-79-28 name=__codelineno-79-28 href=#__codelineno-79-28></a><span class=w>      </span><span class=nt>lineinfile</span><span class=p>:</span>
<a id=__codelineno-79-29 name=__codelineno-79-29 href=#__codelineno-79-29></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/sudoers</span>
<a id=__codelineno-79-30 name=__codelineno-79-30 href=#__codelineno-79-30></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&#39;^%sudo\s&#39;</span>
<a id=__codelineno-79-31 name=__codelineno-79-31 href=#__codelineno-79-31></a><span class=w>        </span><span class=nt>line</span><span class=p>:</span><span class=w> </span><span class=s>&quot;%sudo</span><span class=nv> </span><span class=s>ALL=(ALL)</span><span class=nv> </span><span class=s>NOPASSWD:</span><span class=nv> </span><span class=s>ALL&quot;</span>
<a id=__codelineno-79-32 name=__codelineno-79-32 href=#__codelineno-79-32></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-79-33 name=__codelineno-79-33 href=#__codelineno-79-33></a><span class=w>        </span><span class=nt>validate</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/usr/sbin/visudo</span><span class=nv> </span><span class=s>-cf</span><span class=nv> </span><span class=s>%s&quot;</span>
</code></pre></div> <h3 id=replace>replace<a class=headerlink href=#replace title="Permanent link">&para;</a></h3> <p>Ansible 中的 replace 模块用于在文件中查找指定的模式，并将其替换为指定的内容。这在需要对文件中的特定文本进行全局替换时非常有用</p> <p><code>replace模块替换文件中特定模式的所有实例</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=c1># 替换文件内容</span>
<a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w>  </span>replace<span class=w>  </span>-a<span class=w> </span><span class=s2>&quot;dest=/etc/selinux/config regexp=^SELINUX=disabled replace=SELINUX=enforcing&quot;</span>
<a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a>
<a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a>ansible<span class=w> </span>all<span class=w> </span>-m<span class=w> </span>replace<span class=w> </span>-a<span class=w> </span><span class=s2>&quot;path=/etc/fstab regexp=^(UUID.*) replace=&#39;#\1&#39;&quot;</span>
</code></pre></div> <p>简单替换示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=nn>---</span>
<a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Replace content in /etc/motd</span>
<a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Replace a line in /etc/motd</span>
<a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a><span class=w>      </span><span class=nt>replace</span><span class=p>:</span>
<a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/motd</span>
<a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&quot;OldTextToReplace&quot;</span>
<a id=__codelineno-81-9 name=__codelineno-81-9 href=#__codelineno-81-9></a><span class=w>        </span><span class=nt>replace</span><span class=p>:</span><span class=w> </span><span class=s>&quot;NewText&quot;</span>
<a id=__codelineno-81-10 name=__codelineno-81-10 href=#__codelineno-81-10></a>
<a id=__codelineno-81-11 name=__codelineno-81-11 href=#__codelineno-81-11></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Supports a validate command</span>
<a id=__codelineno-81-12 name=__codelineno-81-12 href=#__codelineno-81-12></a><span class=w>      </span><span class=nt>ansible.builtin.replace</span><span class=p>:</span>
<a id=__codelineno-81-13 name=__codelineno-81-13 href=#__codelineno-81-13></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/apache/ports</span>
<a id=__codelineno-81-14 name=__codelineno-81-14 href=#__codelineno-81-14></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&#39;^(NameVirtualHost|Listen)\s+80\s*$&#39;</span>
<a id=__codelineno-81-15 name=__codelineno-81-15 href=#__codelineno-81-15></a><span class=w>        </span><span class=nt>replace</span><span class=p>:</span><span class=w> </span><span class=s>&#39;\1</span><span class=nv> </span><span class=s>127.0.0.1:8080&#39;</span>
<a id=__codelineno-81-16 name=__codelineno-81-16 href=#__codelineno-81-16></a><span class=w>        </span><span class=nt>validate</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/usr/sbin/apache2ctl</span><span class=nv> </span><span class=s>-f</span><span class=nv> </span><span class=s>%s</span><span class=nv> </span><span class=s>-t&quot;</span>
<a id=__codelineno-81-17 name=__codelineno-81-17 href=#__codelineno-81-17></a>
<a id=__codelineno-81-18 name=__codelineno-81-18 href=#__codelineno-81-18></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Explicitly specifying positional matched groups in replacement</span>
<a id=__codelineno-81-19 name=__codelineno-81-19 href=#__codelineno-81-19></a><span class=w>      </span><span class=nt>ansible.builtin.replace</span><span class=p>:</span>
<a id=__codelineno-81-20 name=__codelineno-81-20 href=#__codelineno-81-20></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssh/sshd_config</span>
<a id=__codelineno-81-21 name=__codelineno-81-21 href=#__codelineno-81-21></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&#39;^(ListenAddress[</span><span class=nv> </span><span class=s>]+)[^\n]+$&#39;</span>
<a id=__codelineno-81-22 name=__codelineno-81-22 href=#__codelineno-81-22></a><span class=w>        </span><span class=nt>replace</span><span class=p>:</span><span class=w> </span><span class=s>&#39;\g&lt;1&gt;0.0.0.0&#39;</span>
<a id=__codelineno-81-23 name=__codelineno-81-23 href=#__codelineno-81-23></a>
<a id=__codelineno-81-24 name=__codelineno-81-24 href=#__codelineno-81-24></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">change all static ethernet config to use a higher mtu</span>
<a id=__codelineno-81-25 name=__codelineno-81-25 href=#__codelineno-81-25></a><span class=w>      </span><span class=nt>ansible.builtin.replace</span><span class=p>:</span>
<a id=__codelineno-81-26 name=__codelineno-81-26 href=#__codelineno-81-26></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/network/interfaces</span>
<a id=__codelineno-81-27 name=__codelineno-81-27 href=#__codelineno-81-27></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class=s>&quot;^mtu</span><span class=nv> </span><span class=s>1400$&quot;</span>
<a id=__codelineno-81-28 name=__codelineno-81-28 href=#__codelineno-81-28></a><span class=w>        </span><span class=nt>line</span><span class=p>:</span><span class=w> </span><span class=s>&quot;mtu</span><span class=nv> </span><span class=s>9000&quot;</span>
<a id=__codelineno-81-29 name=__codelineno-81-29 href=#__codelineno-81-29></a><span class=w>        </span><span class=nt>backup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-81-30 name=__codelineno-81-30 href=#__codelineno-81-30></a><span class=w>        </span><span class=nt>validate</span><span class=p>:</span><span class=w> </span><span class=s>&quot;systemd</span><span class=nv> </span><span class=s>reload</span><span class=nv> </span><span class=s>networking&quot;</span>
</code></pre></div> <p>多行替换示例</p> <div class=highlight><pre><span></span><code><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=nn>---</span>
<a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Replace multiple lines in a configuration file</span>
<a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Replace multiple lines in config file</span>
<a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a><span class=w>      </span><span class=nt>replace</span><span class=p>:</span>
<a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/myapp/config.ini</span>
<a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a><span class=w>        </span><span class=nt>regexp</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a><span class=w>          </span><span class=no>^option1\s*=\s*value1$</span>
<a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a><span class=w>          </span><span class=no>^option2\s*=\s*value2$</span>
<a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a><span class=w>        </span><span class=nt>replace</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a><span class=w>          </span><span class=no>option1 = new_value1</span>
<a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a><span class=w>          </span><span class=no>option2 = new_value2</span>
<a id=__codelineno-82-14 name=__codelineno-82-14 href=#__codelineno-82-14></a><span class=w>        </span><span class=nt>backup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre></div> <h3 id=blockinfile>blockinfile<a class=headerlink href=#blockinfile title="Permanent link">&para;</a></h3> <p>该模块将插入/更新/删除由可自定义标记线包围的多行文本块。</p> <p><code>blockinfile在文件中两个标记行之间插入、修改或删除一个或多个文本行。</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a><span class=c1># 在 Ansible 2.3 之前，使用选项“dest”或“name”而不是“path”</span>
<a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Insert/Update &quot;Match User&quot; configuration block in /etc/ssh/sshd_config</span>
<a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a><span class=w>  </span><span class=nt>blockinfile</span><span class=p>:</span>
<a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssh/sshd_config</span>
<a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a><span class=w>    </span><span class=nt>block</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a><span class=w>      </span><span class=no>Match User ansible-agent</span>
<a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a><span class=w>      </span><span class=no>PasswordAuthentication no</span>
<a id=__codelineno-83-8 name=__codelineno-83-8 href=#__codelineno-83-8></a>
<a id=__codelineno-83-9 name=__codelineno-83-9 href=#__codelineno-83-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Insert/Update eth0 configuration stanza in /etc/network/interfaces</span>
<a id=__codelineno-83-10 name=__codelineno-83-10 href=#__codelineno-83-10></a><span class=w>    </span><span class="l l-Scalar l-Scalar-Plain">(it might be better to copy files into /etc/network/interfaces.d/)</span>
<a id=__codelineno-83-11 name=__codelineno-83-11 href=#__codelineno-83-11></a><span class=w>  </span><span class=nt>blockinfile</span><span class=p>:</span>
<a id=__codelineno-83-12 name=__codelineno-83-12 href=#__codelineno-83-12></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/network/interfaces</span>
<a id=__codelineno-83-13 name=__codelineno-83-13 href=#__codelineno-83-13></a><span class=w>    </span><span class=nt>block</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-83-14 name=__codelineno-83-14 href=#__codelineno-83-14></a><span class=w>      </span><span class=no>iface eth0 inet static</span>
<a id=__codelineno-83-15 name=__codelineno-83-15 href=#__codelineno-83-15></a><span class=w>          </span><span class=no>address 192.0.2.23</span>
<a id=__codelineno-83-16 name=__codelineno-83-16 href=#__codelineno-83-16></a><span class=w>          </span><span class=no>netmask 255.255.255.0</span>
<a id=__codelineno-83-17 name=__codelineno-83-17 href=#__codelineno-83-17></a>
<a id=__codelineno-83-18 name=__codelineno-83-18 href=#__codelineno-83-18></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Insert/Update configuration using a local file and validate it</span>
<a id=__codelineno-83-19 name=__codelineno-83-19 href=#__codelineno-83-19></a><span class=w>  </span><span class=nt>blockinfile</span><span class=p>:</span>
<a id=__codelineno-83-20 name=__codelineno-83-20 href=#__codelineno-83-20></a><span class=w>    </span><span class=nt>block</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>lookup(&#39;file&#39;,</span><span class=nv> </span><span class=s>&#39;./local/sshd_config&#39;)</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-83-21 name=__codelineno-83-21 href=#__codelineno-83-21></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssh/sshd_config</span>
<a id=__codelineno-83-22 name=__codelineno-83-22 href=#__codelineno-83-22></a><span class=w>    </span><span class=nt>backup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-83-23 name=__codelineno-83-23 href=#__codelineno-83-23></a><span class=w>    </span><span class=nt>validate</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/usr/sbin/sshd -T -f %s</span>
<a id=__codelineno-83-24 name=__codelineno-83-24 href=#__codelineno-83-24></a>
<a id=__codelineno-83-25 name=__codelineno-83-25 href=#__codelineno-83-25></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Make the user a system user to hide it from login interface</span>
<a id=__codelineno-83-26 name=__codelineno-83-26 href=#__codelineno-83-26></a><span class=w>  </span><span class=nt>blockinfile</span><span class=p>:</span>
<a id=__codelineno-83-27 name=__codelineno-83-27 href=#__codelineno-83-27></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/lib/AccountsService/users/ansuser</span>
<a id=__codelineno-83-28 name=__codelineno-83-28 href=#__codelineno-83-28></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-83-29 name=__codelineno-83-29 href=#__codelineno-83-29></a><span class=w>    </span><span class=nt>create</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-83-30 name=__codelineno-83-30 href=#__codelineno-83-30></a><span class=w>    </span><span class=nt>block</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-83-31 name=__codelineno-83-31 href=#__codelineno-83-31></a><span class=w>      </span><span class=no>[User]</span>
<a id=__codelineno-83-32 name=__codelineno-83-32 href=#__codelineno-83-32></a><span class=w>      </span><span class=no>SystemAccount=true</span>
<a id=__codelineno-83-33 name=__codelineno-83-33 href=#__codelineno-83-33></a>
<a id=__codelineno-83-34 name=__codelineno-83-34 href=#__codelineno-83-34></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">change a static ethernet configuration</span>
<a id=__codelineno-83-35 name=__codelineno-83-35 href=#__codelineno-83-35></a><span class=w>  </span><span class=nt>blockinfile</span><span class=p>:</span>
<a id=__codelineno-83-36 name=__codelineno-83-36 href=#__codelineno-83-36></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/network/interfaces</span>
<a id=__codelineno-83-37 name=__codelineno-83-37 href=#__codelineno-83-37></a><span class=w>    </span><span class=nt>block</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-83-38 name=__codelineno-83-38 href=#__codelineno-83-38></a><span class=w>      </span><span class=no>iface eth1 inet dhcp</span>
<a id=__codelineno-83-39 name=__codelineno-83-39 href=#__codelineno-83-39></a><span class=w>            </span><span class=no>dns-nameserver 8.8.8.8</span>
<a id=__codelineno-83-40 name=__codelineno-83-40 href=#__codelineno-83-40></a><span class=w>            </span><span class=no>dns-nameserver 8.8.4.4</span>
<a id=__codelineno-83-41 name=__codelineno-83-41 href=#__codelineno-83-41></a><span class=w>            </span><span class=no>mtu 9000</span>
<a id=__codelineno-83-42 name=__codelineno-83-42 href=#__codelineno-83-42></a><span class=w>    </span><span class=nt>backup</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-83-43 name=__codelineno-83-43 href=#__codelineno-83-43></a><span class=w>    </span><span class=nt>validate</span><span class=p>:</span><span class=w> </span><span class=s>&quot;systemd</span><span class=nv> </span><span class=s>reload</span><span class=nv> </span><span class=s>networking&quot;</span>
<a id=__codelineno-83-44 name=__codelineno-83-44 href=#__codelineno-83-44></a>
<a id=__codelineno-83-45 name=__codelineno-83-45 href=#__codelineno-83-45></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Add mappings to /etc/hosts</span>
<a id=__codelineno-83-46 name=__codelineno-83-46 href=#__codelineno-83-46></a><span class=w>  </span><span class=nt>blockinfile</span><span class=p>:</span>
<a id=__codelineno-83-47 name=__codelineno-83-47 href=#__codelineno-83-47></a><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/hosts</span>
<a id=__codelineno-83-48 name=__codelineno-83-48 href=#__codelineno-83-48></a><span class=w>    </span><span class=nt>block</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-83-49 name=__codelineno-83-49 href=#__codelineno-83-49></a><span class=w>      </span><span class=no>{{ item.ip }} {{ item.name }}</span>
<a id=__codelineno-83-50 name=__codelineno-83-50 href=#__codelineno-83-50></a><span class=w>    </span><span class=nt>marker</span><span class=p>:</span><span class=w> </span><span class=s>&quot;#</span><span class=nv> </span><span class=s>{mark}</span><span class=nv> </span><span class=s>ANSIBLE</span><span class=nv> </span><span class=s>MANAGED</span><span class=nv> </span><span class=s>BLOCK</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>item.name</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-83-51 name=__codelineno-83-51 href=#__codelineno-83-51></a><span class=w>  </span><span class=nt>loop</span><span class=p>:</span>
<a id=__codelineno-83-52 name=__codelineno-83-52 href=#__codelineno-83-52></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt> name</span><span class=p>:</span><span class=w> </span><span class=nv>host1</span><span class="p p-Indicator">,</span><span class=nt> ip</span><span class=p>:</span><span class=w> </span><span class=nv>10.10.1.10</span><span class=w> </span><span class="p p-Indicator">}</span>
<a id=__codelineno-83-53 name=__codelineno-83-53 href=#__codelineno-83-53></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt> name</span><span class=p>:</span><span class=w> </span><span class=nv>host2</span><span class="p p-Indicator">,</span><span class=nt> ip</span><span class=p>:</span><span class=w> </span><span class=nv>10.10.1.11</span><span class=w> </span><span class="p p-Indicator">}</span>
<a id=__codelineno-83-54 name=__codelineno-83-54 href=#__codelineno-83-54></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt> name</span><span class=p>:</span><span class=w> </span><span class=nv>host3</span><span class="p p-Indicator">,</span><span class=nt> ip</span><span class=p>:</span><span class=w> </span><span class=nv>10.10.1.12</span><span class=w> </span><span class="p p-Indicator">}</span>
</code></pre></div> <h3 id=group_by>group_by<a class=headerlink href=#group_by title="Permanent link">&para;</a></h3> <p>除了在 play 中动态创建主机，我们还可以创建组。group_by 模块可以根据关于机器的事实创建组，包括我们使用之前解释的 add_fact 模块设置的事实。group_by 模块接受一个参数 key，它接受机器将被添加到的组的名称。通过将其与变量的使用结合起来，我们可以使模块根据其操作系统、虚拟化技术或我们可以访问的任何其他事实将服务器添加到组中。然后我们可以在任何后续 play 的目标部分或模板中使用此组。</p> <p>在实践中，这经常用于避免 Ansible 在执行时输出大量的“跳过”消息。我们可以创建一个组，用于应该发生操作的机器，而不是为每个需要跳过的任务添加 when 子句，然后使用一个单独的 play 来单独配置这些机器。</p> <p>以下是在不使用 when 子句的情况下在 Debian 和 RedHat 机器上安装 ssl 私钥的示例：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=nn>---</span>
<a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Catergorize hosts</span>
<a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Gather hosts by OS</span>
<a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a><span class=w>      </span><span class=nt>group_by</span><span class=p>:</span>
<a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a><span class=w>        </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class=s>&quot;os_{{</span><span class=nv> </span><span class=s>ansible_os_family</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a>
<a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install keys on RedHat</span>
<a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">os_RedHat</span>
<a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install SSL certificate</span>
<a id=__codelineno-84-13 name=__codelineno-84-13 href=#__codelineno-84-13></a><span class=w>      </span><span class=nt>copy</span><span class=p>:</span>
<a id=__codelineno-84-14 name=__codelineno-84-14 href=#__codelineno-84-14></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sslcert.pem</span>
<a id=__codelineno-84-15 name=__codelineno-84-15 href=#__codelineno-84-15></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/pki/tls/private/sslcert.pem</span>
<a id=__codelineno-84-16 name=__codelineno-84-16 href=#__codelineno-84-16></a>
<a id=__codelineno-84-17 name=__codelineno-84-17 href=#__codelineno-84-17></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install keys on Debian</span>
<a id=__codelineno-84-18 name=__codelineno-84-18 href=#__codelineno-84-18></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">os_Debian</span>
<a id=__codelineno-84-19 name=__codelineno-84-19 href=#__codelineno-84-19></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-84-20 name=__codelineno-84-20 href=#__codelineno-84-20></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install SSL certificate</span>
<a id=__codelineno-84-21 name=__codelineno-84-21 href=#__codelineno-84-21></a><span class=w>      </span><span class=nt>copy</span><span class=p>:</span>
<a id=__codelineno-84-22 name=__codelineno-84-22 href=#__codelineno-84-22></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sslcert.pem</span>
<a id=__codelineno-84-23 name=__codelineno-84-23 href=#__codelineno-84-23></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/ssl/private/sslcert.pem</span>
</code></pre></div> <h3 id=slurp>slurp<a class=headerlink href=#slurp title="Permanent link">&para;</a></h3> <p>slurp 模块从远程系统抓取文件，使用 base 64 对其进行编码，然后返回结果。我们可以利用 register 关键字将内容放入事实中。在使用 slurp 模块获取文件时，我们应该注意文件大小。该模块将整个文件加载到内存中，因此使用 slurp 处理大文件可能会消耗所有可用的 RAM 并导致系统崩溃。文件还需要从受控机器传输到控制器机器，对于大文件，这可能需要相当长的时间。</p> <p>将此模块与复制模块结合使用可以在两台机器之间复制文件。这在以下 playbook 中进行了演示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=nn>---</span>
<a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Fetch a SSH key from a machine</span>
<a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bastion01</span>
<a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Fetch key</span>
<a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=w>      </span><span class=nt>slurp</span><span class=p>:</span>
<a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=w>        </span><span class=nt>src</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/root/.ssh/id_rsa.pub</span>
<a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=w>      </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">sshkey</span>
<a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a>
<a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Copy the SSH key to all hosts</span>
<a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Make directory for key</span>
<a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a><span class=w>      </span><span class=nt>file</span><span class=p>:</span>
<a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">directory</span>
<a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a><span class=w>        </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/root/.ssh</span>
<a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a><span class=w>        </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a><span class=w>        </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a><span class=w>        </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0700</span>
<a id=__codelineno-85-20 name=__codelineno-85-20 href=#__codelineno-85-20></a>
<a id=__codelineno-85-21 name=__codelineno-85-21 href=#__codelineno-85-21></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install SSH key</span>
<a id=__codelineno-85-22 name=__codelineno-85-22 href=#__codelineno-85-22></a><span class=w>      </span><span class=nt>copy</span><span class=p>:</span>
<a id=__codelineno-85-23 name=__codelineno-85-23 href=#__codelineno-85-23></a><span class=w>        </span><span class=nt>contents</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>hostvars.bastion01.sshkey|b64decode</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-85-24 name=__codelineno-85-24 href=#__codelineno-85-24></a><span class=w>        </span><span class=nt>dest</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/root/.ssh/authorized_keys</span>
<a id=__codelineno-85-25 name=__codelineno-85-25 href=#__codelineno-85-25></a><span class=w>        </span><span class=nt>owner</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-85-26 name=__codelineno-85-26 href=#__codelineno-85-26></a><span class=w>        </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">root</span>
<a id=__codelineno-85-27 name=__codelineno-85-27 href=#__codelineno-85-27></a><span class=w>        </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0600</span>
</code></pre></div> <blockquote> <p>注意 请注意，由于 slurp 模块使用 base 64 对数据进行编码，因此我们必须使用名为 b64decode 的 jinja2 过滤器来在复制模块使用数据之前对数据进行解码。</p> </blockquote> <h2 id=docker-模块>Docker 模块<a class=headerlink href=#docker-模块 title="Permanent link">&para;</a></h2> <p>最近的 Ansible 版本引入了几个专门用于 Docker 容器管理的模块。要使用 Docker 的 Ansible 模块，管理主机应安装以下 Python 软件包：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a>pip<span class=w> </span>install<span class=w> </span><span class=s1>&#39;docker-py&gt;=1.7.0&#39;</span>
<a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a>
<a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a>pip<span class=w> </span>install<span class=w> </span><span class=s1>&#39;docker-compose&gt;=1.7.0&#39;</span>
</code></pre></div> <p>在处理 Docker 容器时，最好使用动态清单。</p> <p>Ansible 最近引入了一个新功能，可以在不使用 Dockerfile 的情况下构建容器。ansible-container 模块构建容器并通过 playbook 进行部署。</p> <h3 id=docker-容器管理模块>Docker 容器管理模块<a class=headerlink href=#docker-容器管理模块 title="Permanent link">&para;</a></h3> <p>该模块管理在本地计算机或其他主机上运行的 Docker 容器的生命周期。以下 playbook 显示了该模块的工作原理：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=nn>---</span>
<a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Docker Module running</span>
<a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">local</span>
<a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create a container</span>
<a id=__codelineno-87-6 name=__codelineno-87-6 href=#__codelineno-87-6></a><span class=w>      </span><span class=nt>docker_container</span><span class=p>:</span>
<a id=__codelineno-87-7 name=__codelineno-87-7 href=#__codelineno-87-7></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">debianlinux</span>
<a id=__codelineno-87-8 name=__codelineno-87-8 href=#__codelineno-87-8></a><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">debian:9</span>
<a id=__codelineno-87-9 name=__codelineno-87-9 href=#__codelineno-87-9></a><span class=w>        </span><span class=nt>pull</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-87-10 name=__codelineno-87-10 href=#__codelineno-87-10></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-87-11 name=__codelineno-87-11 href=#__codelineno-87-11></a>
<a id=__codelineno-87-12 name=__codelineno-87-12 href=#__codelineno-87-12></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">start a container</span>
<a id=__codelineno-87-13 name=__codelineno-87-13 href=#__codelineno-87-13></a><span class=w>      </span><span class=nt>docker_container</span><span class=p>:</span>
<a id=__codelineno-87-14 name=__codelineno-87-14 href=#__codelineno-87-14></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">debianlinux</span>
<a id=__codelineno-87-15 name=__codelineno-87-15 href=#__codelineno-87-15></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">started</span>
<a id=__codelineno-87-16 name=__codelineno-87-16 href=#__codelineno-87-16></a><span class=w>        </span><span class=nt>devices</span><span class=p>:</span>
<a id=__codelineno-87-17 name=__codelineno-87-17 href=#__codelineno-87-17></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;/dev/sda:/dev/xvda:rwm&quot;</span>
<a id=__codelineno-87-18 name=__codelineno-87-18 href=#__codelineno-87-18></a>
<a id=__codelineno-87-19 name=__codelineno-87-19 href=#__codelineno-87-19></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stop a container</span>
<a id=__codelineno-87-20 name=__codelineno-87-20 href=#__codelineno-87-20></a><span class=w>      </span><span class=nt>docker_container</span><span class=p>:</span>
<a id=__codelineno-87-21 name=__codelineno-87-21 href=#__codelineno-87-21></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">debianlinux</span>
<a id=__codelineno-87-22 name=__codelineno-87-22 href=#__codelineno-87-22></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stopped</span>
</code></pre></div> <h3 id=docker-镜像管理模块>Docker 镜像管理模块<a class=headerlink href=#docker-镜像管理模块 title="Permanent link">&para;</a></h3> <p>该模块对容器开发者非常有用。它有助于构建、加载、拉取和推送容器镜像到仓库或将容器存档为 tar 文件。以下 playbook 示例显示了可以使用该模块执行的一些可能任务：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pull a container image</span>
<a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a><span class=w>  </span><span class=nt>docker_image</span><span class=p>:</span>
<a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu:18.04</span>
<a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a><span class=w>    </span><span class=nt>pull</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a>
<a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">push a container image to docker hub</span>
<a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a><span class=w>  </span><span class=nt>docker_image</span><span class=p>:</span>
<a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">labimages/ubuntu</span>
<a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a><span class=w>    </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">labimages/ubuntu</span>
<a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lab18</span>
<a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a><span class=w>    </span><span class=nt>push</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a>
<a id=__codelineno-88-13 name=__codelineno-88-13 href=#__codelineno-88-13></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">remove a container image</span>
<a id=__codelineno-88-14 name=__codelineno-88-14 href=#__codelineno-88-14></a><span class=w>  </span><span class=nt>docker_image</span><span class=p>:</span>
<a id=__codelineno-88-15 name=__codelineno-88-15 href=#__codelineno-88-15></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">labimages/ubuntu</span>
<a id=__codelineno-88-16 name=__codelineno-88-16 href=#__codelineno-88-16></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">absent</span>
<a id=__codelineno-88-17 name=__codelineno-88-17 href=#__codelineno-88-17></a><span class=w>    </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lab16</span>
</code></pre></div> <h3 id=docker-登录模块>Docker 登录模块<a class=headerlink href=#docker-登录模块 title="Permanent link">&para;</a></h3> <p>该模块允许用户登录到 DockerHub 或私有仓库。以下 playbook 显示了如何实现这一点：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">login to DockerHub</span>
<a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a><span class=w>  </span><span class=nt>docker_login</span><span class=p>:</span>
<a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">labuser1</span>
<a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;xxx&quot;</span>
<a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">user1@lab.edu</span>
</code></pre></div> <h2 id=vmware-模块>VMware 模块<a class=headerlink href=#vmware-模块 title="Permanent link">&para;</a></h2> <p>Ansible 提供了一系列模块来实现 VMware 基础设施的自动化管理。</p> <p>我们需要安装 pyVmomi Python SDK：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a>pip<span class=w> </span>install<span class=w> </span>pyvmomi
</code></pre></div> <p>这些模块用于管理 VMware ESX、ESXi 和 vCenter 服务器。在本节中，我们将描述一些参与管理 VMware 基础设施的最有用的模块。</p> <p>需要一个清单文件来托管一些数据中心信息：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a>---
<a id=__codelineno-91-2 name=__codelineno-91-2 href=#__codelineno-91-2></a>[vms:vars]
<a id=__codelineno-91-3 name=__codelineno-91-3 href=#__codelineno-91-3></a>datacenter: &quot;vcenter.lab.edu&quot;
<a id=__codelineno-91-4 name=__codelineno-91-4 href=#__codelineno-91-4></a>vcenter_hostname: &quot;vcenter.lab.edu&quot;
<a id=__codelineno-91-5 name=__codelineno-91-5 href=#__codelineno-91-5></a>vcenter_username: &quot;admin&quot;
<a id=__codelineno-91-6 name=__codelineno-91-6 href=#__codelineno-91-6></a>vcenter_password: &quot;@xxxxxx&quot;
<a id=__codelineno-91-7 name=__codelineno-91-7 href=#__codelineno-91-7></a>
<a id=__codelineno-91-8 name=__codelineno-91-8 href=#__codelineno-91-8></a>[vms]
<a id=__codelineno-91-9 name=__codelineno-91-9 href=#__codelineno-91-9></a>vm0
<a id=__codelineno-91-10 name=__codelineno-91-10 href=#__codelineno-91-10></a>vm1
<a id=__codelineno-91-11 name=__codelineno-91-11 href=#__codelineno-91-11></a>vm2
<a id=__codelineno-91-12 name=__codelineno-91-12 href=#__codelineno-91-12></a>
<a id=__codelineno-91-13 name=__codelineno-91-13 href=#__codelineno-91-13></a>[esxi_hostname]
<a id=__codelineno-91-14 name=__codelineno-91-14 href=#__codelineno-91-14></a>esxihost1         esxihost1.lab.edu
<a id=__codelineno-91-15 name=__codelineno-91-15 href=#__codelineno-91-15></a>esxihost2         esxihost2.lab.edu
</code></pre></div> <h3 id=vmware-虚拟机管理模块>VMware 虚拟机管理模块<a class=headerlink href=#vmware-虚拟机管理模块 title="Permanent link">&para;</a></h3> <p><code>vmware_guest</code> 和 <code>vsphere_guest</code></p> <ul> <li>vsphere_guest 模块与 vmware_guest 执行相同的任务，但它是一个不太稳定的传统模块，不支持 vmare_guest 那么多的功能。</li> <li>vsphere_guest 该模块已被弃用，并将在 Ansible 2.9 中删除；建议您改用 vmware_guest 模块。</li> </ul> <p>这个模块允许创建、修改和删除虚拟机。它们还允许对指定的虚拟机进行状态和资源控制，包括电源状态修改和自定义。以下 playbook 示例展示了如何基于模板创建虚拟机：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a><span class=nn>---</span>
<a id=__codelineno-92-2 name=__codelineno-92-2 href=#__codelineno-92-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">VMware Module running</span>
<a id=__codelineno-92-3 name=__codelineno-92-3 href=#__codelineno-92-3></a><span class=w>  </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vms</span>
<a id=__codelineno-92-4 name=__codelineno-92-4 href=#__codelineno-92-4></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-92-5 name=__codelineno-92-5 href=#__codelineno-92-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create a new virtual machine from a template</span>
<a id=__codelineno-92-6 name=__codelineno-92-6 href=#__codelineno-92-6></a><span class=w>      </span><span class=nt>vmware_guest</span><span class=p>:</span>
<a id=__codelineno-92-7 name=__codelineno-92-7 href=#__codelineno-92-7></a><span class=w>        </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-92-8 name=__codelineno-92-8 href=#__codelineno-92-8></a><span class=w>        </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-92-9 name=__codelineno-92-9 href=#__codelineno-92-9></a><span class=w>        </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-92-10 name=__codelineno-92-10 href=#__codelineno-92-10></a><span class=w>        </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<a id=__codelineno-92-11 name=__codelineno-92-11 href=#__codelineno-92-11></a><span class=w>        </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/lab-folder</span>
<a id=__codelineno-92-12 name=__codelineno-92-12 href=#__codelineno-92-12></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>inventory_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-92-13 name=__codelineno-92-13 href=#__codelineno-92-13></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">poweredon</span>
<a id=__codelineno-92-14 name=__codelineno-92-14 href=#__codelineno-92-14></a><span class=w>        </span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">debian8_temp</span>
<a id=__codelineno-92-15 name=__codelineno-92-15 href=#__codelineno-92-15></a><span class=w>        </span><span class=nt>disk</span><span class=p>:</span>
<a id=__codelineno-92-16 name=__codelineno-92-16 href=#__codelineno-92-16></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>size_gb</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<a id=__codelineno-92-17 name=__codelineno-92-17 href=#__codelineno-92-17></a><span class=w>            </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">thin</span>
<a id=__codelineno-92-18 name=__codelineno-92-18 href=#__codelineno-92-18></a><span class=w>            </span><span class=nt>datastore</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">labdatastore1</span>
<a id=__codelineno-92-19 name=__codelineno-92-19 href=#__codelineno-92-19></a><span class=w>        </span><span class=nt>hardware</span><span class=p>:</span>
<a id=__codelineno-92-20 name=__codelineno-92-20 href=#__codelineno-92-20></a><span class=w>          </span><span class=nt>memory_mb</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1024</span>
<a id=__codelineno-92-21 name=__codelineno-92-21 href=#__codelineno-92-21></a><span class=w>          </span><span class=nt>num_cpus</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id=__codelineno-92-22 name=__codelineno-92-22 href=#__codelineno-92-22></a><span class=w>          </span><span class=nt>num_cpu_cores_per_socket</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id=__codelineno-92-23 name=__codelineno-92-23 href=#__codelineno-92-23></a><span class=w>          </span><span class=nt>scsi</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">paravirtual</span>
<a id=__codelineno-92-24 name=__codelineno-92-24 href=#__codelineno-92-24></a><span class=w>          </span><span class=nt>max_connections</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<a id=__codelineno-92-25 name=__codelineno-92-25 href=#__codelineno-92-25></a><span class=w>          </span><span class=nt>hotadd_cpu</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id=__codelineno-92-26 name=__codelineno-92-26 href=#__codelineno-92-26></a><span class=w>          </span><span class=nt>hotremove_cpu</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id=__codelineno-92-27 name=__codelineno-92-27 href=#__codelineno-92-27></a><span class=w>          </span><span class=nt>hotadd_memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id=__codelineno-92-28 name=__codelineno-92-28 href=#__codelineno-92-28></a><span class=w>          </span><span class=nt>hotremove_memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id=__codelineno-92-29 name=__codelineno-92-29 href=#__codelineno-92-29></a><span class=w>          </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">11</span>
<a id=__codelineno-92-30 name=__codelineno-92-30 href=#__codelineno-92-30></a><span class=w>        </span><span class=nt>cdrom</span><span class=p>:</span>
<a id=__codelineno-92-31 name=__codelineno-92-31 href=#__codelineno-92-31></a><span class=w>          </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">iso</span>
<a id=__codelineno-92-32 name=__codelineno-92-32 href=#__codelineno-92-32></a><span class=w>          </span><span class=nt>iso_path</span><span class=p>:</span><span class=w> </span><span class=s>&quot;[</span><span class=nv> </span><span class=s>labdatastore1]</span><span class=nv> </span><span class=s>/iso_folder/debian8.iso&quot;</span>
<a id=__codelineno-92-33 name=__codelineno-92-33 href=#__codelineno-92-33></a><span class=w>        </span><span class=nt>networks</span><span class=p>:</span>
<a id=__codelineno-92-34 name=__codelineno-92-34 href=#__codelineno-92-34></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Lab Network</span>
<a id=__codelineno-92-35 name=__codelineno-92-35 href=#__codelineno-92-35></a><span class=w>            </span><span class=nt>wait_for_ip_address</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-92-36 name=__codelineno-92-36 href=#__codelineno-92-36></a><span class=w>      </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <p>此模块允许您在 VMware 集群中启动和管理虚拟机；以下示例显示了如何使用模板启动 VM：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Create a VM from a template</span>
<a id=__codelineno-93-2 name=__codelineno-93-2 href=#__codelineno-93-2></a><span class=w>  </span><span class=nt>vmware_guest</span><span class=p>:</span>
<a id=__codelineno-93-3 name=__codelineno-93-3 href=#__codelineno-93-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_host</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-93-4 name=__codelineno-93-4 href=#__codelineno-93-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-93-5 name=__codelineno-93-5 href=#__codelineno-93-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-93-6 name=__codelineno-93-6 href=#__codelineno-93-6></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class=s>&quot;no&quot;</span>
<a id=__codelineno-93-7 name=__codelineno-93-7 href=#__codelineno-93-7></a><span class=w>    </span><span class=nt>datacenter</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-datacenter&quot;</span>
<a id=__codelineno-93-8 name=__codelineno-93-8 href=#__codelineno-93-8></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/vms&quot;</span>
<a id=__codelineno-93-9 name=__codelineno-93-9 href=#__codelineno-93-9></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yet_another_example_vm&quot;</span>
<a id=__codelineno-93-10 name=__codelineno-93-10 href=#__codelineno-93-10></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=s>&quot;poweredon&quot;</span>
<a id=__codelineno-93-11 name=__codelineno-93-11 href=#__codelineno-93-11></a><span class=w>    </span><span class=nt>template</span><span class=p>:</span><span class=w> </span><span class=s>&quot;centos7-x86_64-1804&quot;</span>
<a id=__codelineno-93-12 name=__codelineno-93-12 href=#__codelineno-93-12></a><span class=w>    </span><span class=nt>disk</span><span class=p>:</span>
<a id=__codelineno-93-13 name=__codelineno-93-13 href=#__codelineno-93-13></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>size_gb</span><span class=p>:</span><span class=w> </span><span class=s>&quot;40&quot;</span>
<a id=__codelineno-93-14 name=__codelineno-93-14 href=#__codelineno-93-14></a><span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=s>&quot;thin&quot;</span>
<a id=__codelineno-93-15 name=__codelineno-93-15 href=#__codelineno-93-15></a><span class=w>        </span><span class=nt>datastore</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my_datastore&quot;</span>
<a id=__codelineno-93-16 name=__codelineno-93-16 href=#__codelineno-93-16></a><span class=w>    </span><span class=nt>hardware</span><span class=p>:</span>
<a id=__codelineno-93-17 name=__codelineno-93-17 href=#__codelineno-93-17></a><span class=w>      </span><span class=nt>memory_mb</span><span class=p>:</span><span class=w> </span><span class=s>&quot;4048&quot;</span>
<a id=__codelineno-93-18 name=__codelineno-93-18 href=#__codelineno-93-18></a><span class=w>      </span><span class=nt>num_cpus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;4&quot;</span>
<a id=__codelineno-93-19 name=__codelineno-93-19 href=#__codelineno-93-19></a><span class=w>      </span><span class=nt>max_connections</span><span class=p>:</span><span class=w> </span><span class=s>&quot;3&quot;</span>
<a id=__codelineno-93-20 name=__codelineno-93-20 href=#__codelineno-93-20></a><span class=w>      </span><span class=nt>hotadd_cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;True&quot;</span>
<a id=__codelineno-93-21 name=__codelineno-93-21 href=#__codelineno-93-21></a><span class=w>      </span><span class=nt>hotremove_cpu</span><span class=p>:</span><span class=w> </span><span class=s>&quot;True&quot;</span>
<a id=__codelineno-93-22 name=__codelineno-93-22 href=#__codelineno-93-22></a><span class=w>      </span><span class=nt>hotadd_memory</span><span class=p>:</span><span class=w> </span><span class=s>&quot;True&quot;</span>
<a id=__codelineno-93-23 name=__codelineno-93-23 href=#__codelineno-93-23></a><span class=w>    </span><span class=nt>networks</span><span class=p>:</span>
<a id=__codelineno-93-24 name=__codelineno-93-24 href=#__codelineno-93-24></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;VM</span><span class=nv> </span><span class=s>Network&quot;</span>
<a id=__codelineno-93-25 name=__codelineno-93-25 href=#__codelineno-93-25></a><span class=w>        </span><span class=nt>ip</span><span class=p>:</span><span class=w> </span><span class=s>&quot;192.168.1.100&quot;</span>
<a id=__codelineno-93-26 name=__codelineno-93-26 href=#__codelineno-93-26></a><span class=w>        </span><span class=nt>netmask</span><span class=p>:</span><span class=w> </span><span class=s>&quot;255.255.255.0&quot;</span>
<a id=__codelineno-93-27 name=__codelineno-93-27 href=#__codelineno-93-27></a><span class=w>        </span><span class=nt>gateway</span><span class=p>:</span><span class=w> </span><span class=s>&quot;192.168.1.254&quot;</span>
<a id=__codelineno-93-28 name=__codelineno-93-28 href=#__codelineno-93-28></a><span class=w>        </span><span class=nt>dns_servers</span><span class=p>:</span>
<a id=__codelineno-93-29 name=__codelineno-93-29 href=#__codelineno-93-29></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;192.168.1.1&quot;</span>
<a id=__codelineno-93-30 name=__codelineno-93-30 href=#__codelineno-93-30></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;192.168.1.2&quot;</span>
<a id=__codelineno-93-31 name=__codelineno-93-31 href=#__codelineno-93-31></a><span class=w>    </span><span class=nt>wait_for_ip_address</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yes&quot;</span>
<a id=__codelineno-93-32 name=__codelineno-93-32 href=#__codelineno-93-32></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class=s>&quot;localhost&quot;</span>
<a id=__codelineno-93-33 name=__codelineno-93-33 href=#__codelineno-93-33></a><span class=w>  </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deploy</span>
</code></pre></div> <h3 id=vmware-虚拟机快照管理模块>VMware 虚拟机快照管理模块<a class=headerlink href=#vmware-虚拟机快照管理模块 title="Permanent link">&para;</a></h3> <p>此模块允许您管理 VM 快照；例如，以下创建了一个快照：</p> <ul> <li>创建了一个快照</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Create a snapshot</span>
<a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a><span class=w>  </span><span class=nt>vmware_guest_snapshot</span><span class=p>:</span>
<a id=__codelineno-94-3 name=__codelineno-94-3 href=#__codelineno-94-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_host</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-94-4 name=__codelineno-94-4 href=#__codelineno-94-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-94-5 name=__codelineno-94-5 href=#__codelineno-94-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-94-6 name=__codelineno-94-6 href=#__codelineno-94-6></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class=s>&quot;no&quot;</span>
<a id=__codelineno-94-7 name=__codelineno-94-7 href=#__codelineno-94-7></a><span class=w>    </span><span class=nt>datacenter</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-datacenter&quot;</span>
<a id=__codelineno-94-8 name=__codelineno-94-8 href=#__codelineno-94-8></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/vms&quot;</span>
<a id=__codelineno-94-9 name=__codelineno-94-9 href=#__codelineno-94-9></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yet_another_example_vm&quot;</span>
<a id=__codelineno-94-10 name=__codelineno-94-10 href=#__codelineno-94-10></a><span class=w>    </span><span class=nt>snapshot_name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;pre-patching&quot;</span>
<a id=__codelineno-94-11 name=__codelineno-94-11 href=#__codelineno-94-11></a><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s>&quot;snapshot</span><span class=nv> </span><span class=s>made</span><span class=nv> </span><span class=s>before</span><span class=nv> </span><span class=s>patching&quot;</span>
<a id=__codelineno-94-12 name=__codelineno-94-12 href=#__codelineno-94-12></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=s>&quot;present&quot;</span>
<a id=__codelineno-94-13 name=__codelineno-94-13 href=#__codelineno-94-13></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <ul> <li>恢复一个快照</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Revert to a snapshot</span>
<a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a><span class=w>  </span><span class=nt>vmware_guest_snapshot</span><span class=p>:</span>
<a id=__codelineno-95-3 name=__codelineno-95-3 href=#__codelineno-95-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_host</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-95-4 name=__codelineno-95-4 href=#__codelineno-95-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-95-5 name=__codelineno-95-5 href=#__codelineno-95-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-95-6 name=__codelineno-95-6 href=#__codelineno-95-6></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class=s>&quot;no&quot;</span>
<a id=__codelineno-95-7 name=__codelineno-95-7 href=#__codelineno-95-7></a><span class=w>    </span><span class=nt>datacenter</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-datacenter&quot;</span>
<a id=__codelineno-95-8 name=__codelineno-95-8 href=#__codelineno-95-8></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/vms&quot;</span>
<a id=__codelineno-95-9 name=__codelineno-95-9 href=#__codelineno-95-9></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yet_another_example_vm&quot;</span>
<a id=__codelineno-95-10 name=__codelineno-95-10 href=#__codelineno-95-10></a><span class=w>    </span><span class=nt>snapshot_name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;pre-patching&quot;</span>
<a id=__codelineno-95-11 name=__codelineno-95-11 href=#__codelineno-95-11></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=s>&quot;revert&quot;</span>
<a id=__codelineno-95-12 name=__codelineno-95-12 href=#__codelineno-95-12></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <p>这个 Ansible 模块实现了虚拟机的自动快照管理。以下 playbook 示例展示了如何在虚拟机上拍摄快照：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create a virtual machine snapshot</span>
<a id=__codelineno-96-2 name=__codelineno-96-2 href=#__codelineno-96-2></a><span class=w>  </span><span class=nt>vmware_guest_snapshot</span><span class=p>:</span>
<a id=__codelineno-96-3 name=__codelineno-96-3 href=#__codelineno-96-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-96-4 name=__codelineno-96-4 href=#__codelineno-96-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-96-5 name=__codelineno-96-5 href=#__codelineno-96-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-96-6 name=__codelineno-96-6 href=#__codelineno-96-6></a><span class=w>    </span><span class=nt>datacentre</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vcenter.lab.edu</span>
<a id=__codelineno-96-7 name=__codelineno-96-7 href=#__codelineno-96-7></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<a id=__codelineno-96-8 name=__codelineno-96-8 href=#__codelineno-96-8></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/lab-folder</span>
<a id=__codelineno-96-9 name=__codelineno-96-9 href=#__codelineno-96-9></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>inventory_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-96-10 name=__codelineno-96-10 href=#__codelineno-96-10></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">present</span>
<a id=__codelineno-96-11 name=__codelineno-96-11 href=#__codelineno-96-11></a><span class=w>    </span><span class=nt>snapshot_name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Post_Fixes</span>
<a id=__codelineno-96-12 name=__codelineno-96-12 href=#__codelineno-96-12></a><span class=w>    </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Fixes_done_on_vm</span>
<a id=__codelineno-96-13 name=__codelineno-96-13 href=#__codelineno-96-13></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <p>在处理 VMware 模块时，大小写敏感度非常重要，特别是在处理虚拟机快照时。在稍后调用快照时，请确保其名称完全相同。</p> <h3 id=vmware-虚拟机-shell-执行模块>VMware 虚拟机 shell 执行模块<a class=headerlink href=#vmware-虚拟机-shell-执行模块 title="Permanent link">&para;</a></h3> <p>以下模块允许用户通过使用 VMware 工具在虚拟机操作系统上运行命令：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">run a command on a running virtual machine</span>
<a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a><span class=w>  </span><span class=nt>vmware_guest_snapshot</span><span class=p>:</span>
<a id=__codelineno-97-3 name=__codelineno-97-3 href=#__codelineno-97-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-97-4 name=__codelineno-97-4 href=#__codelineno-97-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-97-5 name=__codelineno-97-5 href=#__codelineno-97-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-97-6 name=__codelineno-97-6 href=#__codelineno-97-6></a><span class=w>    </span><span class=nt>datacentre</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">vcenter.lab.edu</span>
<a id=__codelineno-97-7 name=__codelineno-97-7 href=#__codelineno-97-7></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
<a id=__codelineno-97-8 name=__codelineno-97-8 href=#__codelineno-97-8></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/lab-folder</span>
<a id=__codelineno-97-9 name=__codelineno-97-9 href=#__codelineno-97-9></a><span class=w>    </span><span class=nt>vm_id</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>inventory_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-97-10 name=__codelineno-97-10 href=#__codelineno-97-10></a><span class=w>    </span><span class=nt>vm_username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">setup</span>
<a id=__codelineno-97-11 name=__codelineno-97-11 href=#__codelineno-97-11></a><span class=w>    </span><span class=nt>vm_password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;@P@55w0rd&quot;</span>
<a id=__codelineno-97-12 name=__codelineno-97-12 href=#__codelineno-97-12></a><span class=w>    </span><span class=nt>vm_shell</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/bin/service</span>
<a id=__codelineno-97-13 name=__codelineno-97-13 href=#__codelineno-97-13></a><span class=w>    </span><span class=nt>vm_shell_args</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking restart</span>
<a id=__codelineno-97-14 name=__codelineno-97-14 href=#__codelineno-97-14></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <h3 id=vmware-主机电源状态控制模块>VMware 主机电源状态控制模块<a class=headerlink href=#vmware-主机电源状态控制模块 title="Permanent link">&para;</a></h3> <p>该模块管理 VMware 基础设备。ESX/ESXi 主机是计算资源存储的地方。该模块管理主机的电源状态。在维护、更新或修复后安排重启时，这可能非常方便。以下示例 playbook 显示了如何使用该模块：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restart ESXi host</span>
<a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a><span class=w>  </span><span class=nt>vmware_guest_snapshot</span><span class=p>:</span>
<a id=__codelineno-98-3 name=__codelineno-98-3 href=#__codelineno-98-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_hostname</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-98-4 name=__codelineno-98-4 href=#__codelineno-98-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-98-5 name=__codelineno-98-5 href=#__codelineno-98-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vcenter_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-98-6 name=__codelineno-98-6 href=#__codelineno-98-6></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<a id=__codelineno-98-7 name=__codelineno-98-7 href=#__codelineno-98-7></a><span class=w>    </span><span class=nt>esxi_hostname</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">esxihost1.lab.edu</span>
<a id=__codelineno-98-8 name=__codelineno-98-8 href=#__codelineno-98-8></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">reboot-host</span>
<a id=__codelineno-98-9 name=__codelineno-98-9 href=#__codelineno-98-9></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <p>vmware_guest_powerstate 模块</p> <p>这个模块很容易理解；它用于管理 VM 的电源状态。以下示例重新启动了一个 VM：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Powercycle a vm</span>
<a id=__codelineno-99-2 name=__codelineno-99-2 href=#__codelineno-99-2></a><span class=w>  </span><span class=nt>vmware_guest_powerstate</span><span class=p>:</span>
<a id=__codelineno-99-3 name=__codelineno-99-3 href=#__codelineno-99-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_host</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-99-4 name=__codelineno-99-4 href=#__codelineno-99-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-99-5 name=__codelineno-99-5 href=#__codelineno-99-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-99-6 name=__codelineno-99-6 href=#__codelineno-99-6></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class=s>&quot;no&quot;</span>
<a id=__codelineno-99-7 name=__codelineno-99-7 href=#__codelineno-99-7></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/vms&quot;</span>
<a id=__codelineno-99-8 name=__codelineno-99-8 href=#__codelineno-99-8></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yet_another_example_vm&quot;</span>
<a id=__codelineno-99-9 name=__codelineno-99-9 href=#__codelineno-99-9></a><span class=w>    </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=s>&quot;reboot-guest&quot;</span>
<a id=__codelineno-99-10 name=__codelineno-99-10 href=#__codelineno-99-10></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <h3 id=vmware_guest_facts-模块>vmware_guest_facts 模块<a class=headerlink href=#vmware_guest_facts-模块 title="Permanent link">&para;</a></h3> <p>此模块收集有关已创建的 VM 的信息：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Gather facts on the yet_another_example_vm vm</span>
<a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a><span class=w>  </span><span class=nt>vmware_guest_facts</span><span class=p>:</span>
<a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a><span class=w>    </span><span class=nt>hostname</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_host</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-100-4 name=__codelineno-100-4 href=#__codelineno-100-4></a><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_username</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-100-5 name=__codelineno-100-5 href=#__codelineno-100-5></a><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>vsphere_password</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-100-6 name=__codelineno-100-6 href=#__codelineno-100-6></a><span class=w>    </span><span class=nt>validate_certs</span><span class=p>:</span><span class=w> </span><span class=s>&quot;no&quot;</span>
<a id=__codelineno-100-7 name=__codelineno-100-7 href=#__codelineno-100-7></a><span class=w>    </span><span class=nt>datacenter</span><span class=p>:</span><span class=w> </span><span class=s>&quot;my-datacenter&quot;</span>
<a id=__codelineno-100-8 name=__codelineno-100-8 href=#__codelineno-100-8></a><span class=w>    </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/vms&quot;</span>
<a id=__codelineno-100-9 name=__codelineno-100-9 href=#__codelineno-100-9></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;yet_another_example_vm&quot;</span>
<a id=__codelineno-100-10 name=__codelineno-100-10 href=#__codelineno-100-10></a><span class=w>  </span><span class=nt>delegate_to</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id=__codelineno-100-11 name=__codelineno-100-11 href=#__codelineno-100-11></a><span class=w>  </span><span class=nt>register</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">facts</span>
</code></pre></div> <p>还有很多其他模块，具体参见官方文档：</p> <ul> <li> <p><a href=https://runebook.dev/zh/docs/ansible/-index->https://runebook.dev/zh/docs/ansible/-index-</a></p> </li> <li> <p><a href=https://docs.ansible.com/ansible/2.9/modules/ >https://docs.ansible.com/ansible/2.9/modules/</a></p> </li> <li> <p>Ansible 官方文档网站：docs.ansible.com/</p> </li> <li> <p>Ansible 模块索引：docs.ansible.com/ansible/latest/modules/list_of_all_modules.html</p> </li> <li> <p>Chocolatey 软件包库：chocolatey.org/packages</p> </li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">September 6, 2024 18:37:02</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">July 12, 2024 12:54:24</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/hujianli94/hujianli94.github.io/issues/new/?title=[Feedback]+5.%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97+-+/Ansible/5.%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97/" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../4.Inventory/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 4.Inventory"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> 4.Inventory </div> </div> </a> <a href=../6.playbook/ class="md-footer__link md-footer__link--next" aria-label="下一页: 6.playbook"> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> 6.playbook </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 hujainli94 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hujianli94 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com/blog_img/20220125122524.png target=_blank rel=noopener title=kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154m-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4m-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2M563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4m-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6m107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6"/></svg> </a> <a href="mailto:<1879324764@qq.com>" target=_blank rel=noopener title=发送邮件 class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "navigation.indexes", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../assets/javascripts/bundle.56dfad97.min.js></script> <script src=../../javascripts/extra.js></script> <script src=https://file.cdn.shafish.cn/blog/js/video.min.js></script> </body> </html>