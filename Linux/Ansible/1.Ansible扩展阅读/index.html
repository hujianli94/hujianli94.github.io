<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="stay hungry,stay foolish"><meta name=author content=hujainli94><link href=https://hujianli94.github.io/Linux/Ansible/1.Ansible%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/ rel=canonical><link href=../0.Ansible%E5%85%A5%E9%97%A8/ rel=prev><link href=../2.%E7%AE%A1%E7%90%86windows%E4%B8%BB%E6%9C%BA/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.1.6"><title>Ansible扩展阅读 - DevOps运维开发</title><link rel=stylesheet href=../../../assets/stylesheets/main.ded33207.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.a0c5b2b5.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/vssue.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video-js.min.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#ansible扩展阅读 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title=DevOps运维开发 class="md-header__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DevOps运维开发 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Ansible扩展阅读 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换至深色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换至深色模式 for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label=切换至浅色模式 type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title=切换至浅色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go%20Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-tabs__link> Golang </a> </li> <li class=md-tabs__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-tabs__link> Python-vs-Go </a> </li> <li class=md-tabs__item> <a href=../../system/0.Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD/ class="md-tabs__link md-tabs__link--active"> Linux </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=DevOps运维开发 class="md-nav__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> DevOps运维开发 </label> <div class=md-nav__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> 首页 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-nav__link> Kubernetes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> 1.安装篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 1.安装篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/1.Kubeadm%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> Kubeadm安装高可用集群 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/2.%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> 二进制安装高可用K8s集群 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> 2.基础篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 2.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Docker%E5%9F%BA%E7%A1%80/ class=md-nav__link> Docker基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Kubernetes%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=md-nav__link> Kubernetes的基础概念 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Kubernetes%E8%B0%83%E5%BA%A6%E5%9F%BA%E7%A1%80/ class=md-nav__link> Kubernetes调度基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Kubernetes%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83%E5%9F%BA%E7%A1%80/ class=md-nav__link> Kubernetes服务发布基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Kubernetes%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> Kubernetes配置管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> 3.进阶篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 3.进阶篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/8.Kubernetes%E5%AD%98%E5%82%A8%E5%85%A5%E9%97%A8/ class=md-nav__link> Kubernetes存储入门 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/9.Kubernetes%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6/ class=md-nav__link> Kubernetes高级调度 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> 4.高级篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 4.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/12.%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AD%98%E5%82%A8Rook/ class=md-nav__link> 云原生存储Rook </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/13.%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%B9%E5%99%A8%E5%8C%96/ class=md-nav__link> 中间件容器化 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> 5.运维篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> 5.运维篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/14.Kubernetes%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/ class=md-nav__link> Kubernetes日志收集 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/15.Kubernetes%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6/ class=md-nav__link> Kubernetes监控告警 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/16.%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83Ingress%E8%BF%9B%E9%98%B6/ class=md-nav__link> 服务发布Ingress进阶 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex=0> 6.DevOps篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> 6.DevOps篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/6.DevOps%E7%AF%87/17.DevOps%E5%AE%9E%E8%B7%B5/ class=md-nav__link> DevOps实践 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-nav__link> Docker工具集 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> 1.Docker基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 1.Docker基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85/ class=md-nav__link> 安装 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/2.Docker%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC/ class=md-nav__link> Docker相关脚本 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/3.docker-compose%E7%A4%BA%E4%BE%8B/ class=md-nav__link> docker-compose示例 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/4.Dockerfile%E7%BC%96%E5%86%99%E4%BC%98%E5%8C%96/ class=md-nav__link> Dockerfile编写优化 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/5.Python%E6%93%8D%E4%BD%9CDocker/ class=md-nav__link> Python操作Docker </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> 2.Devops <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2.Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/2.Devops/1.ConfCenter/ class=md-nav__link> ConfCenter </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.Devops/2.CoreDNS/ class=md-nav__link> Coredns </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.Devops/3.Harbor/ class=md-nav__link> Harbor </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Golang <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go%20Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-nav__link> Go Web开发实战 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> 1.Go基础入门 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 1.Go基础入门 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/1.%E5%AE%89%E8%A3%85Go/ class=md-nav__link> 安装Go </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/2.%E5%BC%80%E5%90%AFGo%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F/ class=md-nav__link> 开启Go的第一个程序 </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/3.Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E4%B8%8E%E4%BD%BF%E7%94%A8/ class=md-nav__link> Go基础语法与使用 </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/4.Go%20Module%E6%95%99%E7%A8%8B/ class=md-nav__link> Go Module教程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> 2.Go-Web开发基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 2.Go-Web开发基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/5.hello%20World%20Web/ class=md-nav__link> hello World Web </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/6.Web%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/ class=md-nav__link> Web程序运行原理简介 </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/7.net-http%E5%8C%85/ class=md-nav__link> net/http包 </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/8.html-template%E5%8C%85/ class=md-nav__link> html/template包 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> 3.接收和处理Go Web请求 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 3.接收和处理Go Web请求 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/3.%E6%8E%A5%E6%94%B6%E5%92%8C%E5%A4%84%E7%90%86Go%20Web%E8%AF%B7%E6%B1%82/9.%E7%AE%80%E5%8D%95Go%20Web%E6%9C%8D%E5%8A%A1%E5%99%A8/ class=md-nav__link> 简单Go Web服务器 </a> </li> <li class=md-nav__item> <a href=../../../Golang/3.%E6%8E%A5%E6%94%B6%E5%92%8C%E5%A4%84%E7%90%86Go%20Web%E8%AF%B7%E6%B1%82/10.%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82/ class=md-nav__link> 处理请求 </a> </li> <li class=md-nav__item> <a href=../../../Golang/3.%E6%8E%A5%E6%94%B6%E5%92%8C%E5%A4%84%E7%90%86Go%20Web%E8%AF%B7%E6%B1%82/11.%E4%BA%86%E8%A7%A3session%E5%92%8Ccookie/ class=md-nav__link> 了解session和cookie </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> 4.使用Go访问数据库 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> 4.使用Go访问数据库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/4.%E4%BD%BF%E7%94%A8Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/12.MySQL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/ class=md-nav__link> MySQL的安装与使用 </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.%E4%BD%BF%E7%94%A8Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/13.Redis%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/ class=md-nav__link> Redis的安装及使用 </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.%E4%BD%BF%E7%94%A8Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/14.MongoDB%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/ class=md-nav__link> MongoDB的安装及使用 </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.%E4%BD%BF%E7%94%A8Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/15.Go%E7%9A%84%E5%B8%B8%E8%A7%81ORM%E5%BA%93/ class=md-nav__link> Go的常见ORM库 </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.%E4%BD%BF%E7%94%A8Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/16.SQLite%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/ class=md-nav__link> SQLite的安装及使用 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> 5.Go高级网络编程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> 5.Go高级网络编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/17.Go%20Socket%E7%BC%96%E7%A8%8B/ class=md-nav__link> Go Socket编程 </a> </li> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.Go%20RPC%E7%BC%96%E7%A8%8B/ class=md-nav__link> Go RPC编程 </a> </li> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/19.%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=md-nav__link> 微服务 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> 6.Go文件处理 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> 6.Go文件处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/20.%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理目录与文件 </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/21.%E5%A4%84%E7%90%86XML%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理XML文件 </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/22.%E5%A4%84%E7%90%86JSON%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理JSON文件 </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/23.%E5%A4%84%E7%90%86CSV%E6%96%87%E4%BB%B6/ class=md-nav__link> 处理CSV文件 </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/24.%E5%A4%84%E7%90%86%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95/ class=md-nav__link> 处理日志记录 </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/25.%E5%A4%84%E7%90%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> 处理正则表达式 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> 7.Go并发编程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> 7.Go并发编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/26.%E5%B9%B6%E5%8F%91%E4%B8%8E%E5%B9%B6%E8%A1%8C/ class=md-nav__link> 并发与并行 </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/27.%E8%BF%9B%E7%A8%8B%20%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E7%A8%8B/ class=md-nav__link> 进程 线程和协程 </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/28.Go%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B%E7%AE%80%E4%BB%8B/ class=md-nav__link> Go并发模型简介 </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/29.gogoroutine%E5%92%8Cchannel%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> gogoroutine和channel实现并发 </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/30.sync%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> sync实现并发 </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/31.Go%E5%B9%B6%E5%8F%91%E7%9A%84Web%E5%BA%94%E7%94%A8/ class=md-nav__link> Go并发的Web应用 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-nav__link> Pythjon自动化运维 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> 1.基础篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 1.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/1.Python%E5%86%85%E7%BD%AE%E5%B0%8F%E5%B7%A5%E5%85%B7/ class=md-nav__link> Python内置小工具 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/2.Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%89%E8%A3%85/ class=md-nav__link> Python第三方库安装 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Python%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/ class=md-nav__link> Python工作环境管理 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/4.VSCode%E4%B8%ADPython%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/ class=md-nav__link> VSCode中Python环境配置 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/5.%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/ class=md-nav__link> 开发工具 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> 2.高级篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 2.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/2.%E9%AB%98%E7%BA%A7%E7%AF%87/1.%E6%89%93%E9%80%A0%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> 打造命令行工具 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Python-vs-Go <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python-vs-Go </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-nav__link> Python-vs-Go </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> 1.对比学习 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 1.对比学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/1.Hello-World/ class=md-nav__link> Hello-World </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/2.Print/ class=md-nav__link> Print </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/3.%E6%B3%A8%E9%87%8A/ class=md-nav__link> 注释 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/4.%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> 多行字符串 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/5.Lists/ class=md-nav__link> Lists </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/6.Map/ class=md-nav__link> Map </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/7.Booleans/ class=md-nav__link> Booleans </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/8.Forloop/ class=md-nav__link> Forloop </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/9.Range/ class=md-nav__link> Range </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/10.Switch/ class=md-nav__link> Switch </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/11.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0/ class=md-nav__link> 可变参数函数 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/12.%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97/ class=md-nav__link> 时间计算 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/13.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/ class=md-nav__link> 函数的闭包 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/14.%E9%80%80%E5%87%BA%E5%A4%84%E7%90%86/ class=md-nav__link> 退出处理 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/15.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/ class=md-nav__link> 异常捕获 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/16.%E5%8F%AF%E5%8F%98%E9%A1%B9/ class=md-nav__link> 可变项 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/17.%E7%B1%BB/ class=md-nav__link> 类 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/18.%E6%96%B9%E6%B3%95/ class=md-nav__link> 方法 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/19.%E5%B9%B6%E5%8F%91/ class=md-nav__link> 并发 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/20.Args/ class=md-nav__link> Args </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/21.%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%88%AB%E5%90%8D/ class=md-nav__link> 导入模块别名 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/22.%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96/ class=md-nav__link> 字符串格式化 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/23.%E5%8E%BB%E9%87%8D/ class=md-nav__link> 去重 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/24.%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%89%93%E5%8D%B0/ class=md-nav__link> 带颜色打印 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> 2.进阶 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 2.进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class=md-nav__link> 使用RPC </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/2.%E4%BD%BF%E7%94%A8MySQL/ class=md-nav__link> 使用MySQL </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/3.%E4%BD%BF%E7%94%A8Redis/ class=md-nav__link> 使用Redis </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/4.%E4%BD%BF%E7%94%A8MongoDB/ class=md-nav__link> 使用MongoDB </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=true> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> system <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> system </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../system/0.Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD/ class=md-nav__link> Linux操作系统镜像下载 </a> </li> <li class=md-nav__item> <a href=../../system/1.Linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ class=md-nav__link> Linux 系统安全加固最佳实践 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> serveices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> serveices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../serveices/0.ubuntu-desktop-vmware/ class=md-nav__link> ubuntu-desktop-vmware </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3 checked> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> Ansible <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=true> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../0.Ansible%E5%85%A5%E9%97%A8/ class=md-nav__link> Ansible入门 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Ansible扩展阅读 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Ansible扩展阅读 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1yaml-语法 class=md-nav__link> 1.YAML 语法 </a> <nav class=md-nav aria-label="1.YAML 语法"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#数组 class=md-nav__link> 数组 </a> </li> <li class=md-nav__item> <a href=#对象 class=md-nav__link> 对象 </a> </li> <li class=md-nav__item> <a href=#纯量 class=md-nav__link> 纯量 </a> <nav class=md-nav aria-label=纯量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#数值 class=md-nav__link> 数值 </a> </li> <li class=md-nav__item> <a href=#布尔值 class=md-nav__link> 布尔值 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#强制类型转换 class=md-nav__link> 强制类型转换 </a> </li> <li class=md-nav__item> <a href=#字符串 class=md-nav__link> 字符串 </a> </li> <li class=md-nav__item> <a href=#引用 class=md-nav__link> 引用 </a> </li> <li class=md-nav__item> <a href=#参考 class=md-nav__link> 参考 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2ansible-vault class=md-nav__link> 2.Ansible Vault </a> <nav class=md-nav aria-label="2.Ansible Vault"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#创建加密文件 class=md-nav__link> 创建加密文件 </a> </li> <li class=md-nav__item> <a href=#编辑加密文件 class=md-nav__link> 编辑加密文件 </a> </li> <li class=md-nav__item> <a href=#重新加密文件 class=md-nav__link> 重新加密文件 </a> </li> <li class=md-nav__item> <a href=#文件加密 class=md-nav__link> 文件加密 </a> </li> <li class=md-nav__item> <a href=#文件解密 class=md-nav__link> 文件解密 </a> </li> <li class=md-nav__item> <a href=#使用-encrypt_string-在yaml-中创建加密变量 class=md-nav__link> 使用 encrypt_string 在yaml 中创建加密变量 </a> </li> <li class=md-nav__item> <a href=#提供-vault-密码 class=md-nav__link> 提供 Vault 密码 </a> </li> <li class=md-nav__item> <a href=#vaults-标签 class=md-nav__link> Vaults 标签 </a> </li> <li class=md-nav__item> <a href=#多个-vault-密码 class=md-nav__link> 多个 Vault 密码 </a> </li> <li class=md-nav__item> <a href=#使用客户端脚本设置-vault-密码 class=md-nav__link> 使用客户端脚本设置 Vault 密码 </a> </li> <li class=md-nav__item> <a href=#加速加密速度 class=md-nav__link> 加速加密速度 </a> </li> <li class=md-nav__item> <a href=#vault-文件 class=md-nav__link> Vault 文件 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3ansible关键字 class=md-nav__link> 3.Ansible关键字 </a> <nav class=md-nav aria-label=3.Ansible关键字> <ul class=md-nav__list> <li class=md-nav__item> <a href=#play class=md-nav__link> Play </a> </li> <li class=md-nav__item> <a href=#role class=md-nav__link> Role </a> </li> <li class=md-nav__item> <a href=#block class=md-nav__link> Block </a> </li> <li class=md-nav__item> <a href=#task class=md-nav__link> Task </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4ansible-modules class=md-nav__link> 4.Ansible Modules </a> </li> <li class=md-nav__item> <a href=#5ansible配置 class=md-nav__link> 5.Ansible配置 </a> <nav class=md-nav aria-label=5.Ansible配置> <ul class=md-nav__list> <li class=md-nav__item> <a href=#配置文件 class=md-nav__link> 配置文件 </a> <nav class=md-nav aria-label=配置文件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#获取默认配置 class=md-nav__link> 获取默认配置 </a> </li> <li class=md-nav__item> <a href=#默认配置文件 class=md-nav__link> 默认配置文件 </a> </li> <li class=md-nav__item> <a href=#常用设置 class=md-nav__link> 常用设置 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ansible-config class=md-nav__link> ansible-config </a> </li> <li class=md-nav__item> <a href=#配置的优先级 class=md-nav__link> 配置的优先级 </a> </li> <li class=md-nav__item> <a href=#配置项 class=md-nav__link> 配置项 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../2.%E7%AE%A1%E7%90%86windows%E4%B8%BB%E6%9C%BA/ class=md-nav__link> 管理windows主机 </a> </li> <li class=md-nav__item> <a href=../3.Ansible%E8%BF%9B%E9%98%B6/ class=md-nav__link> Ansible进阶 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../shell/Shell%E7%AE%80%E4%BB%8B/ class=md-nav__link> Shell 教程概述 </a> </li> <li class=md-nav__item> <a href=../../shell/1.%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F/ class=md-nav__link> 1.第一个 Shell 程序 </a> </li> <li class=md-nav__item> <a href=../../shell/2.Shell%E5%8F%98%E9%87%8F/ class=md-nav__link> 2.Shell 变量 </a> </li> <li class=md-nav__item> <a href=../../shell/3.Shell%E5%8F%82%E6%95%B0/ class=md-nav__link> 3.Shell 参数 </a> </li> <li class=md-nav__item> <a href=../../shell/4.Shell%E6%95%B0%E7%BB%84/ class=md-nav__link> 4.Shell数组 </a> </li> <li class=md-nav__item> <a href=../../shell/5.Shell%E8%BF%90%E7%AE%97%E7%AC%A6/ class=md-nav__link> 5.Shell 运算符 </a> </li> <li class=md-nav__item> <a href=../../shell/6.Shell%20echo_printf%E5%91%BD%E4%BB%A4/ class=md-nav__link> 6.Shell echo/printf 命令 </a> </li> <li class=md-nav__item> <a href=../../shell/7.Shell%20test%E5%91%BD%E4%BB%A4/ class=md-nav__link> 7.Shell test 命令 </a> </li> <li class=md-nav__item> <a href=../../shell/8.Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> 8.Shell 流程控制 </a> </li> <li class=md-nav__item> <a href=../../shell/9.Shell%E5%87%BD%E6%95%B0/ class=md-nav__link> 8.Shell 函数 </a> </li> <li class=md-nav__item> <a href=../../shell/10.Shell%E8%BE%93%E5%85%A5_%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> 10.Shell输入/输出重定向 </a> </li> <li class=md-nav__item> <a href=../../shell/11.Shell%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> 11.Shell 正则表达式 </a> </li> <li class=md-nav__item> <a href=../../shell/12.Shell%20%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep/ class=md-nav__link> 12.Shell 三剑客之grep </a> </li> <li class=md-nav__item> <a href=../../shell/13.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed/ class=md-nav__link> 13.Shell三剑客之sed </a> </li> <li class=md-nav__item> <a href=../../shell/14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class=md-nav__link> 14.Shell三剑客之awk </a> </li> <li class=md-nav__item> <a href=../../shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> 15.Shell常用工具 </a> </li> <li class=md-nav__item> <a href=../../shell/16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class=md-nav__link> 16.Shell实战项目 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1yaml-语法 class=md-nav__link> 1.YAML 语法 </a> <nav class=md-nav aria-label="1.YAML 语法"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#数组 class=md-nav__link> 数组 </a> </li> <li class=md-nav__item> <a href=#对象 class=md-nav__link> 对象 </a> </li> <li class=md-nav__item> <a href=#纯量 class=md-nav__link> 纯量 </a> <nav class=md-nav aria-label=纯量> <ul class=md-nav__list> <li class=md-nav__item> <a href=#数值 class=md-nav__link> 数值 </a> </li> <li class=md-nav__item> <a href=#布尔值 class=md-nav__link> 布尔值 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#强制类型转换 class=md-nav__link> 强制类型转换 </a> </li> <li class=md-nav__item> <a href=#字符串 class=md-nav__link> 字符串 </a> </li> <li class=md-nav__item> <a href=#引用 class=md-nav__link> 引用 </a> </li> <li class=md-nav__item> <a href=#参考 class=md-nav__link> 参考 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2ansible-vault class=md-nav__link> 2.Ansible Vault </a> <nav class=md-nav aria-label="2.Ansible Vault"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#创建加密文件 class=md-nav__link> 创建加密文件 </a> </li> <li class=md-nav__item> <a href=#编辑加密文件 class=md-nav__link> 编辑加密文件 </a> </li> <li class=md-nav__item> <a href=#重新加密文件 class=md-nav__link> 重新加密文件 </a> </li> <li class=md-nav__item> <a href=#文件加密 class=md-nav__link> 文件加密 </a> </li> <li class=md-nav__item> <a href=#文件解密 class=md-nav__link> 文件解密 </a> </li> <li class=md-nav__item> <a href=#使用-encrypt_string-在yaml-中创建加密变量 class=md-nav__link> 使用 encrypt_string 在yaml 中创建加密变量 </a> </li> <li class=md-nav__item> <a href=#提供-vault-密码 class=md-nav__link> 提供 Vault 密码 </a> </li> <li class=md-nav__item> <a href=#vaults-标签 class=md-nav__link> Vaults 标签 </a> </li> <li class=md-nav__item> <a href=#多个-vault-密码 class=md-nav__link> 多个 Vault 密码 </a> </li> <li class=md-nav__item> <a href=#使用客户端脚本设置-vault-密码 class=md-nav__link> 使用客户端脚本设置 Vault 密码 </a> </li> <li class=md-nav__item> <a href=#加速加密速度 class=md-nav__link> 加速加密速度 </a> </li> <li class=md-nav__item> <a href=#vault-文件 class=md-nav__link> Vault 文件 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3ansible关键字 class=md-nav__link> 3.Ansible关键字 </a> <nav class=md-nav aria-label=3.Ansible关键字> <ul class=md-nav__list> <li class=md-nav__item> <a href=#play class=md-nav__link> Play </a> </li> <li class=md-nav__item> <a href=#role class=md-nav__link> Role </a> </li> <li class=md-nav__item> <a href=#block class=md-nav__link> Block </a> </li> <li class=md-nav__item> <a href=#task class=md-nav__link> Task </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4ansible-modules class=md-nav__link> 4.Ansible Modules </a> </li> <li class=md-nav__item> <a href=#5ansible配置 class=md-nav__link> 5.Ansible配置 </a> <nav class=md-nav aria-label=5.Ansible配置> <ul class=md-nav__list> <li class=md-nav__item> <a href=#配置文件 class=md-nav__link> 配置文件 </a> <nav class=md-nav aria-label=配置文件> <ul class=md-nav__list> <li class=md-nav__item> <a href=#获取默认配置 class=md-nav__link> 获取默认配置 </a> </li> <li class=md-nav__item> <a href=#默认配置文件 class=md-nav__link> 默认配置文件 </a> </li> <li class=md-nav__item> <a href=#常用设置 class=md-nav__link> 常用设置 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ansible-config class=md-nav__link> ansible-config </a> </li> <li class=md-nav__item> <a href=#配置的优先级 class=md-nav__link> 配置的优先级 </a> </li> <li class=md-nav__item> <a href=#配置项 class=md-nav__link> 配置项 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=ansible扩展阅读>Ansible扩展阅读<a class=headerlink href=#ansible扩展阅读 title="Permanent link">&para;</a></h1> <h2 id=1yaml-语法>1.YAML 语法<a class=headerlink href=#1yaml-语法 title="Permanent link">&para;</a></h2> <p>YAML 语言（发音 /ˈjæməl/ ）的设计目标，就是方便人类读写。它实质上是一种通用的数据串行化格式。</p> <p>它的基本语法规则如下。</p> <ul> <li>大小写敏感</li> <li>使用缩进表示层级关系</li> <li>缩进时不允许使用Tab键，只允许使用空格。</li> <li>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</li> <li> <p>yaml文件以"---"作为文档的开始，"..."作为文档的结束</p> </li> <li> <p># 表示注释，从这个字符一直到行尾，都会被解析器忽略。</p> </li> <li>相同缩进级别的行以“- ”（破折号和空格）开头的组成一个列表。</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nn>---</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=c1># A list of tasty fruits</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Apple</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Orange</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Strawberry</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Mango</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=nn>...</span>
</code></pre></div> <p>YAML 支持的数据结构有三种。</p> <ul> <li>数组：一组按次序排列的值，又称为序列（sequence） / 列表（list）</li> <li>对象：键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary）</li> <li>纯量（scalars）：单个的、不可再分的值</li> </ul> <h3 id=数组>数组<a class=headerlink href=#数组 title="Permanent link">&para;</a></h3> <p>相同缩进级别的行以“- ”（破折号和空格）开头的组成一个列表。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nn>---</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=nt>fruits</span><span class=p>:</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Apple</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Orange</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Strawberry</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Mango</span>
</code></pre></div> <h3 id=对象>对象<a class=headerlink href=#对象 title="Permanent link">&para;</a></h3> <p>对象的一组键值对，使用冒号结构表示(冒号后面要有个空格)。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Developer</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=c1># An employee record</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=nt>martin</span><span class=p>:</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Martin D&#39;vloper</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Developer</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=nt>skill</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Elite</span>
</code></pre></div> <p>更复杂的数据结构</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># Employee records</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class="p p-Indicator">-</span><span class=w>  </span><span class=nt>martin</span><span class=p>:</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Martin D&#39;vloper</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Developer</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=nt>skills</span><span class=p>:</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">python</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">perl</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pascal</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class="p p-Indicator">-</span><span class=w>  </span><span class=nt>tabitha</span><span class=p>:</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Tabitha Bitumen</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>    </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Developer</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>    </span><span class=nt>skills</span><span class=p>:</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lisp</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">fortran</span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">erlang</span>
</code></pre></div> <p>字典和列表也可以使用缩写的形式,即行内表示法</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=nn>---</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=nt>martin</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=nv>Martin D&#39;vloper</span><span class="p p-Indicator">,</span><span class=nt> job</span><span class=p>:</span><span class=w> </span><span class=nv>Developer</span><span class="p p-Indicator">,</span><span class=nt> skill</span><span class=p>:</span><span class=w> </span><span class=nv>Elite</span><span class="p p-Indicator">}</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=nt>fruits</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&#39;Apple&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;Orange&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;Strawberry&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;Mango&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div> <h3 id=纯量>纯量<a class=headerlink href=#纯量 title="Permanent link">&para;</a></h3> <h4 id=数值>数值<a class=headerlink href=#数值 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class="l l-Scalar l-Scalar-Plain">float:12.30</span>
</code></pre></div> <h4 id=布尔值>布尔值<a class=headerlink href=#布尔值 title="Permanent link">&para;</a></h4> <p>表示true的值</p> <p>true, True, TRUE, yes, Yes, YES, on, On, ON, y, Y</p> <p>表示false的值</p> <p>false, False, FALSE, no, No, NO, off, Off, OFF, n, N</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nt>create_key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=nt>needs_agent</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">no</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=nt>knows_oop</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=nt>likes_emacs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">TRUE</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=nt>uses_cvs</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div> <h3 id=强制类型转换>强制类型转换<a class=headerlink href=#强制类型转换 title="Permanent link">&para;</a></h3> <p>YAML 允许使用两个感叹号，强制转换数据类型。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=nt>e</span><span class=p>:</span><span class=w> </span><span class=kt>!!str</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">123</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=nt>f</span><span class=p>:</span><span class=w> </span><span class=kt>!!str</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div> <h3 id=字符串>字符串<a class=headerlink href=#字符串 title="Permanent link">&para;</a></h3> <p>字符串默认不使用引号表示。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=nt>str</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">这是一行字符串</span>
</code></pre></div> <p>如果字符串之中包含空格或特殊字符，需要放在引号之中。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=nt>s1</span><span class=p>:</span><span class=w> </span><span class=s>&#39;内容\n字符串&#39;</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=nt>s2</span><span class=p>:</span><span class=w> </span><span class=s>&quot;内容\n字符串&quot;</span>
</code></pre></div> <blockquote> <p>单引号和双引号都可以使用，双引号不会对特殊字符转义。</p> </blockquote> <p>Ansible对变量使用<code>{{var}}</code>,需要使用双引号包裹</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=nt>foo</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>variable</span><span class=nv> </span><span class=s>}}&quot;</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=nt>foo</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>variable</span><span class=nv> </span><span class=s>}}/additional/string/literal&quot;</span>
</code></pre></div> <p>单引号之中如果还有单引号，必须连续使用两个单引号转义。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=nt>str</span><span class=p>:</span><span class=w> </span><span class=s>&#39;labor</span><span class=se>&#39;&#39;</span><span class=s>s</span><span class=nv> </span><span class=s>day&#39;</span><span class=w> </span>
</code></pre></div> <p>字符串可以写成多行，从第二行开始，必须有一个单空格缩进。换行符会被转为空格。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=nt>str</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">这是一段</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">多行</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">字符串</span>
</code></pre></div> <p>多行字符串可以使用<code>|</code>保留换行符，也可以使用<code>&gt;</code>折叠换行。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=nt>this</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>  </span><span class=no>Foo</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span><span class=no>Bar</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=nt>that</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">&gt;</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=w>  </span><span class=no>Foo</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=w>  </span><span class=no>Bar</span>
</code></pre></div> <p><code>+</code>表示保留文字块末尾的换行，<code>-</code>表示删除字符串末尾的换行。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=nt>s1</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>  </span><span class=no>Foo</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=nt>s2</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|+</span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>  </span><span class=no>Foo</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=nt>s3</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|-</span>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=w>  </span><span class=no>Foo</span>
</code></pre></div> <p>字符串之中可以插入 HTML 标记。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=w>  </span><span class=no>&lt;p style=&quot;color: red&quot;&gt;</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>  </span><span class=no>段落</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>  </span><span class=no>&lt;/p&gt;</span>
</code></pre></div> <h3 id=引用>引用<a class=headerlink href=#引用 title="Permanent link">&para;</a></h3> <p>锚点<code>&amp;</code>和别名<code>*</code>，可以用来引用，以便于数据可以重复利用，从而精简声明</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=nt>defaults</span><span class=p>:</span><span class=w> </span><span class=nl>&amp;defaults</span><span class=w>   </span><span class=c1># 锚点</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=nt>development</span><span class=p>:</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myapp_development</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=w>  </span><span class=nt>&lt;&lt;</span><span class=p>:</span><span class=w> </span><span class=nv>*defaults</span><span class=w>    </span><span class=c1># 引用</span>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=nt>test</span><span class=p>:</span>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myapp_test</span>
<a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=w>  </span><span class=nt>&lt;&lt;</span><span class=p>:</span><span class=w> </span><span class=nv>*defaults</span>
</code></pre></div> <blockquote> <p>&amp;用来建立锚点（defaults），&lt;&lt;表示合并到当前数据，*用来引用锚点。 </p> </blockquote> <p>等同于下面的代码。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=nt>defaults</span><span class=p>:</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=nt>development</span><span class=p>:</span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myapp_development</span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
<a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a>
<a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=nt>test</span><span class=p>:</span>
<a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myapp_test</span>
<a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=w>  </span><span class=nt>adapter</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class="l l-Scalar l-Scalar-Plain">localhost</span>
</code></pre></div> <p>下面是另一个例子。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nl>&amp;showell</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Steve</span><span class=w> </span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Clark</span><span class=w> </span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Brian</span><span class=w> </span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Oren</span><span class=w> </span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nv>*showell</span><span class=w> </span>
</code></pre></div> <p>等同于</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Steve</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Clark</span><span class=w> </span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Brian</span><span class=w> </span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Oren</span><span class=w> </span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Steve</span>
</code></pre></div> <h3 id=参考>参考<a class=headerlink href=#参考 title="Permanent link">&para;</a></h3> <p>Playbooks 采用YMAL 语法结构，基本的YMAL 语法请参考</p> <p><a href=http://docs.ansible.com/YAMLSyntax.html>http://docs.ansible.com/YAMLSyntax.html</a></p> <p>python利用pyyaml模块进行解析yaml语言</p> <p><a href=http://pyyaml.org/wiki/PyYAMLDocumentation>http://pyyaml.org/wiki/PyYAMLDocumentation</a></p> <p>yaml格式在线检查</p> <p><a href=http://yaml-online-parser.appspot.com/ >http://yaml-online-parser.appspot.com/</a></p> <h2 id=2ansible-vault>2.Ansible Vault<a class=headerlink href=#2ansible-vault title="Permanent link">&para;</a></h2> <p>Ansible Vault是Ansible的一项功能，它允许你将密码或密钥等敏感数据保存在加密的文件中，而不是明文保存在剧本或角色中。然后可以将这些库文件分发或放置在源代码控制中。</p> <h3 id=创建加密文件>创建加密文件<a class=headerlink href=#创建加密文件 title="Permanent link">&para;</a></h3> <p>创建新的加密文件，可使用以下命令</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1># ansible-vault create foo.yml</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>New<span class=w> </span>Vault<span class=w> </span>password:<span class=w> </span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>Confirm<span class=w> </span>New<span class=w> </span>Vault<span class=w> </span>password:<span class=w> </span>
</code></pre></div> <blockquote> <p>在输入加密密码后，在编辑界面输入加密内容保存即可加密</p> </blockquote> <p>查看加密后的文件</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1># cat foo.yml </span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=nv>$ANSIBLE_VAULT</span><span class=p>;</span><span class=m>1</span>.1<span class=p>;</span>AES256
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=m>66623733393134373761386161313462613530313331393464363366623063653261306631616333</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>3635363533623230633432343131633430663039363536340a383535623264363334656161333632
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=m>37346635636331613732313132653830636234643230616661383630373863643233626265373034</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>6665623561643337370a623336636362316330663862373833363263386563636261613765386635
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=m>3434</span>
</code></pre></div> <blockquote> <p>默认的加密方式是 AES</p> </blockquote> <p>创建拥有id的加密文件</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>ansible-vault<span class=w> </span>create<span class=w> </span>--vault-id<span class=w> </span>password1@prompt<span class=w> </span>foo.yml
</code></pre></div> <blockquote> <p><code>--vault-id label@source</code> label为标签， source为密码的获取方式</p> </blockquote> <h3 id=编辑加密文件>编辑加密文件<a class=headerlink href=#编辑加密文件 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a>ansible-vault<span class=w> </span>edit<span class=w> </span>foo.yml
</code></pre></div> <blockquote> <p>此命令将文件解密为一个临时文件，并允许您编辑该文件，完成后将其保存并删除临时文件</p> </blockquote> <p>编辑拥有id的加密文件</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a>ansible-vault<span class=w> </span>edit<span class=w> </span>--vault-id<span class=w> </span>pass2@vault2<span class=w> </span>foo.yml
</code></pre></div> <h3 id=重新加密文件>重新加密文件<a class=headerlink href=#重新加密文件 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>ansible-vault<span class=w> </span>rekey<span class=w> </span>foo.yml<span class=w> </span>bar.yml<span class=w> </span>baz.yml
</code></pre></div> <blockquote> <p>该命令可以同时对多个数据文件进行密钥重设，并要求输入原始密码和新密码。</p> </blockquote> <p>重新加密拥有id的加密文件</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>ansible-vault<span class=w> </span>rekey<span class=w> </span>--vault-id<span class=w> </span>preprod2@ppold<span class=w> </span>--new-vault-id<span class=w> </span>preprod2@prompt<span class=w> </span>foo.yml<span class=w> </span>bar.yml<span class=w> </span>baz.yml
</code></pre></div> <h3 id=文件加密>文件加密<a class=headerlink href=#文件加密 title="Permanent link">&para;</a></h3> <p>对hosts文件进行加密</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=c1>#  ansible-vault encrypt /etc/ansible/hosts</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>New<span class=w> </span>Vault<span class=w> </span>password:<span class=w> </span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>Confirm<span class=w> </span>New<span class=w> </span>Vault<span class=w>  </span>password:<span class=w> </span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a>Encryption<span class=w> </span>successful
</code></pre></div> <p>使用id加密文件</p> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a>ansible-vault<span class=w> </span>encrypt<span class=w> </span>--vault-id<span class=w> </span>project@prompt<span class=w> </span>foo.yml<span class=w> </span>bar.yml<span class=w> </span>baz.yml
</code></pre></div> <h3 id=文件解密>文件解密<a class=headerlink href=#文件解密 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a>ansible-vault<span class=w> </span>decrypt<span class=w> </span>foo.yml<span class=w> </span>bar.yml<span class=w> </span>baz.yml
</code></pre></div> <h3 id=使用-encrypt_string-在yaml-中创建加密变量>使用 <code>encrypt_string</code> 在<code>yaml</code> 中创建加密变量<a class=headerlink href=#使用-encrypt_string-在yaml-中创建加密变量 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=c1># echo 123 &gt; a_password_file </span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=c1># ansible-vault encrypt_string --vault-password-file a_password_file &#39;foobar&#39; --name &#39;the_secret&#39;</span>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a>the_secret:<span class=w> </span>!vault<span class=w> </span><span class=p>|</span>
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=w>          </span><span class=nv>$ANSIBLE_VAULT</span><span class=p>;</span><span class=m>1</span>.1<span class=p>;</span>AES256
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=w>          </span><span class=m>33366336396662373333323664653438366364316136333234346533326665326130316261363564</span>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a><span class=w>          </span>6462616561333938393133303461376265336538313637380a326331373537363566656230313237
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a><span class=w>          </span><span class=m>66306131616133316339666337653131306564393633643037653461363133373234376264373738</span>
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a><span class=w>          </span>3437303466366436300a336136383033323230303764633862383731326464633536343164353034
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a><span class=w>          </span><span class=m>3532</span>
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a>Encryption<span class=w> </span>successful
</code></pre></div> <p>输出的字符串可使用在playbook中</p> <p>使用<code>vault-id</code> </p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=c1># ansible-vault encrypt_string --vault-id dev@a_password_file &#39;foooodev&#39; --name &#39;the_dev_secret&#39;</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>the_dev_secret:<span class=w> </span>!vault<span class=w> </span><span class=p>|</span>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=w>          </span><span class=nv>$ANSIBLE_VAULT</span><span class=p>;</span><span class=m>1</span>.2<span class=p>;</span>AES256<span class=p>;</span>dev
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=w>          </span><span class=m>35313739373461366564323863386435363738616130313833653432363337326339343834303638</span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=w>          </span>6531303333373330316666653536373733303334333332330a393938643935643134623064343133
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a><span class=w>          </span><span class=m>35396538326465323431656430633835613066343561386663613034366134393739643934663865</span>
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=w>          </span>6133326634643164660a346634366433613662336566376134346361373166356563663536313935
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=w>          </span><span class=m>6361</span>
<a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a>Encryption<span class=w> </span>successful
</code></pre></div> <p>从stdin读取字符串并将其命名为<code>db_password</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=nb>echo</span><span class=w> </span>-n<span class=w> </span><span class=s1>&#39;letmein&#39;</span><span class=w> </span><span class=p>|</span><span class=w> </span>ansible-vault<span class=w> </span>encrypt_string<span class=w> </span>--vault-id<span class=w> </span>dev@a_password_file<span class=w> </span>--stdin-name<span class=w> </span><span class=s1>&#39;db_password&#39;</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>Reading<span class=w> </span>plaintext<span class=w> </span>input<span class=w> </span>from<span class=w> </span>stdin.<span class=w> </span><span class=o>(</span>ctrl-d<span class=w> </span>to<span class=w> </span>end<span class=w> </span>input<span class=o>)</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>db_password:<span class=w> </span>!vault<span class=w> </span><span class=p>|</span>
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=w>          </span><span class=nv>$ANSIBLE_VAULT</span><span class=p>;</span><span class=m>1</span>.2<span class=p>;</span>AES256<span class=p>;</span>dev
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=w>          </span><span class=m>65656661383162623438313763613462616361626237623630323839366130613530323437313036</span>
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=w>          </span>3635636261303662363832376635663466623662356666640a653432336437633436376236323634
<a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a><span class=w>          </span><span class=m>33373632666533653062323431396164396263623565616131333766343561353561636430373338</span>
<a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=w>          </span>3637393832656164640a643463366165376461663032373439663536363538386232643230393638
<a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=w>          </span><span class=m>6365</span>
<a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a>Encryption<span class=w> </span>successful
</code></pre></div> <p>在yaml中使用</p> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=nt>notsecret</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">myvalue</span>
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=nt>db_password</span><span class=p>:</span><span class=w> </span><span class=kt>!vault</span><span class=w> </span><span class="p p-Indicator">|</span>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=w>          </span><span class=no>$ANSIBLE_VAULT;1.2;AES256;dev</span>
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=w>          </span><span class=no>65656661383162623438313763613462616361626237623630323839366130613530323437313036</span>
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=w>          </span><span class=no>3635636261303662363832376635663466623662356666640a653432336437633436376236323634</span>
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=w>          </span><span class=no>33373632666533653062323431396164396263623565616131333766343561353561636430373338</span>
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=w>          </span><span class=no>3637393832656164640a643463366165376461663032373439663536363538386232643230393638</span>
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=w>          </span><span class=no>6365</span>
</code></pre></div> <h3 id=提供-vault-密码>提供 <code>Vault</code> 密码<a class=headerlink href=#提供-vault-密码 title="Permanent link">&para;</a></h3> <p>当使用加密数据时，应该使用<code>--ask-vault-pass</code>或<code>--vault-password</code>选项。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=c1># 定义密码文件</span>
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a><span class=nb>echo</span><span class=w> </span><span class=m>123456</span><span class=w> </span>&gt;<span class=w> </span>/path/to/my/vault-password-file<span class=w> </span>site.yml
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>
<a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=c1># 指定密码</span>
<a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a>ansible-playbook<span class=w> </span>--vault-password-file<span class=w> </span>/path/to/my/vault-password-file<span class=w> </span>site.yml
</code></pre></div> <p>交互式输入密码</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a>ansible-playbook<span class=w> </span>--ask-vault-pass<span class=w> </span>site.yml
</code></pre></div> <p>执行脚本获取密码</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a>ansible-playbook<span class=w> </span>--vault-password-file<span class=w> </span>my-vault-password.py
</code></pre></div> <p>也可以指定环境变量</p> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=nv>DEFAULT_VAULT_PASSWORD_FILE</span><span class=o>=</span>/path/to/my/vault-password-file<span class=w> </span>ansible-playbook<span class=w> </span>--ask-vault-pass<span class=w> </span>site.yml
</code></pre></div> <h3 id=vaults-标签>Vaults 标签<a class=headerlink href=#vaults-标签 title="Permanent link">&para;</a></h3> <p>默认情况下，<code>vault-id</code>标签只是一个提示，任何用密码加密的值都会被解密。配置选项的默认保险库ID匹配可以设置为要求保险库ID与加密值时使用的保险库ID匹配。这可以减少使用不同密码加密不同值时的错误。</p> <p><code>DEFAULT_VAULT_ID_MATCH</code> 环境变量可以设置需要指定的<code>vault-id</code>标签</p> <p>为<code>vault-id</code> 标签<code>dev</code>使用密码文件</p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>dev-password<span class=w> </span>site.yml
</code></pre></div> <p>为<code>vault-id</code> 标签 <code>dev</code>使用交互输入密码</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>dev@prompt<span class=w> </span>site.yml
</code></pre></div> <p>为<code>vault-id</code> 标签 <code>dev</code>使用脚本输入密码</p> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>dev@my-vault-password.py
</code></pre></div> <p><code>DEFAULT_VAULT_IDENTITY_LIST</code> 环境变量可以设置需要指定的<code>vault-id</code>和密码源，而不必指定<code>--vault-id</code>选项</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>dev-password<span class=w> </span>site.yml
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>@prompt<span class=w> </span>site.yml
<a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a>
<a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>my-vault-password.py
</code></pre></div> <h3 id=多个-vault-密码>多个 Vault 密码<a class=headerlink href=#多个-vault-密码 title="Permanent link">&para;</a></h3> <p>Ansible 2.4 之后的额版本，可以多次指定<code>vault-id</code>选项来设置多个密码</p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>dev@dev-password<span class=w> </span>--vault-id<span class=w> </span>prod@prompt<span class=w> </span>site.yml
</code></pre></div> <p>在上述情况下，首先尝试<code>dev</code>密码，然后是prod密码， Ansible不知道哪个金库ID是用来加密的东西。</p> <h3 id=使用客户端脚本设置-vault-密码>使用客户端脚本设置 Vault 密码<a class=headerlink href=#使用客户端脚本设置-vault-密码 title="Permanent link">&para;</a></h3> <p>客户端脚本是一个以<code>--client</code>结尾的可执行脚本。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a>ansible-playbook<span class=w> </span>--vault-id<span class=w> </span>dev@contrib/vault/vault-keyring-client.py
</code></pre></div> <p>脚本内容</p> <div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=n>ANSIBLE_METADATA</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;status&#39;</span><span class=p>:</span> <span class=p>[</span><span class=s1>&#39;preview&#39;</span><span class=p>],</span>
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>                    <span class=s1>&#39;supported_by&#39;</span><span class=p>:</span> <span class=s1>&#39;community&#39;</span><span class=p>,</span>
<a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a>                    <span class=s1>&#39;version&#39;</span><span class=p>:</span> <span class=s1>&#39;1.0&#39;</span><span class=p>}</span>
<a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>
<a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=kn>import</span> <span class=nn>argparse</span>
<a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=kn>import</span> <span class=nn>sys</span>
<a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=kn>import</span> <span class=nn>getpass</span>
<a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=kn>import</span> <span class=nn>keyring</span>
<a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a>
<a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a><span class=kn>from</span> <span class=nn>ansible.config.manager</span> <span class=kn>import</span> <span class=n>ConfigManager</span>
<a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a>
<a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=n>KEYNAME_UNKNOWN_RC</span> <span class=o>=</span> <span class=mi>2</span>
<a id=__codelineno-44-13 name=__codelineno-44-13 href=#__codelineno-44-13></a>
<a id=__codelineno-44-14 name=__codelineno-44-14 href=#__codelineno-44-14></a>
<a id=__codelineno-44-15 name=__codelineno-44-15 href=#__codelineno-44-15></a><span class=k>def</span> <span class=nf>build_arg_parser</span><span class=p>():</span>
<a id=__codelineno-44-16 name=__codelineno-44-16 href=#__codelineno-44-16></a>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=s1>&#39;Get a vault password from user keyring&#39;</span><span class=p>)</span>
<a id=__codelineno-44-17 name=__codelineno-44-17 href=#__codelineno-44-17></a>
<a id=__codelineno-44-18 name=__codelineno-44-18 href=#__codelineno-44-18></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;--vault-id&#39;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s1>&#39;store&#39;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-44-19 name=__codelineno-44-19 href=#__codelineno-44-19></a>                        <span class=n>dest</span><span class=o>=</span><span class=s1>&#39;vault_id&#39;</span><span class=p>,</span>
<a id=__codelineno-44-20 name=__codelineno-44-20 href=#__codelineno-44-20></a>                        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;name of the vault secret to get from keyring&#39;</span><span class=p>)</span>
<a id=__codelineno-44-21 name=__codelineno-44-21 href=#__codelineno-44-21></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;--username&#39;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s1>&#39;store&#39;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-44-22 name=__codelineno-44-22 href=#__codelineno-44-22></a>                        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;the username whose keyring is queried&#39;</span><span class=p>)</span>
<a id=__codelineno-44-23 name=__codelineno-44-23 href=#__codelineno-44-23></a>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span><span class=s1>&#39;--set&#39;</span><span class=p>,</span> <span class=n>action</span><span class=o>=</span><span class=s1>&#39;store_true&#39;</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-44-24 name=__codelineno-44-24 href=#__codelineno-44-24></a>                        <span class=n>dest</span><span class=o>=</span><span class=s1>&#39;set_password&#39;</span><span class=p>,</span>
<a id=__codelineno-44-25 name=__codelineno-44-25 href=#__codelineno-44-25></a>                        <span class=n>help</span><span class=o>=</span><span class=s1>&#39;set the password instead of getting it&#39;</span><span class=p>)</span>
<a id=__codelineno-44-26 name=__codelineno-44-26 href=#__codelineno-44-26></a>    <span class=k>return</span> <span class=n>parser</span>
<a id=__codelineno-44-27 name=__codelineno-44-27 href=#__codelineno-44-27></a>
<a id=__codelineno-44-28 name=__codelineno-44-28 href=#__codelineno-44-28></a>
<a id=__codelineno-44-29 name=__codelineno-44-29 href=#__codelineno-44-29></a><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
<a id=__codelineno-44-30 name=__codelineno-44-30 href=#__codelineno-44-30></a>    <span class=n>config_manager</span> <span class=o>=</span> <span class=n>ConfigManager</span><span class=p>()</span>
<a id=__codelineno-44-31 name=__codelineno-44-31 href=#__codelineno-44-31></a>    <span class=n>username</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s1>&#39;vault.username&#39;</span><span class=p>)</span>
<a id=__codelineno-44-32 name=__codelineno-44-32 href=#__codelineno-44-32></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>username</span><span class=p>:</span>
<a id=__codelineno-44-33 name=__codelineno-44-33 href=#__codelineno-44-33></a>        <span class=n>username</span> <span class=o>=</span> <span class=n>getpass</span><span class=o>.</span><span class=n>getuser</span><span class=p>()</span>
<a id=__codelineno-44-34 name=__codelineno-44-34 href=#__codelineno-44-34></a>
<a id=__codelineno-44-35 name=__codelineno-44-35 href=#__codelineno-44-35></a>    <span class=n>keyname</span> <span class=o>=</span> <span class=n>config_manager</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>get_setting</span><span class=p>(</span><span class=s1>&#39;vault.keyname&#39;</span><span class=p>)</span>
<a id=__codelineno-44-36 name=__codelineno-44-36 href=#__codelineno-44-36></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>keyname</span><span class=p>:</span>
<a id=__codelineno-44-37 name=__codelineno-44-37 href=#__codelineno-44-37></a>        <span class=n>keyname</span> <span class=o>=</span> <span class=s1>&#39;ansible&#39;</span>
<a id=__codelineno-44-38 name=__codelineno-44-38 href=#__codelineno-44-38></a>
<a id=__codelineno-44-39 name=__codelineno-44-39 href=#__codelineno-44-39></a>    <span class=n>arg_parser</span> <span class=o>=</span> <span class=n>build_arg_parser</span><span class=p>()</span>
<a id=__codelineno-44-40 name=__codelineno-44-40 href=#__codelineno-44-40></a>    <span class=n>args</span> <span class=o>=</span> <span class=n>arg_parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
<a id=__codelineno-44-41 name=__codelineno-44-41 href=#__codelineno-44-41></a>
<a id=__codelineno-44-42 name=__codelineno-44-42 href=#__codelineno-44-42></a>    <span class=n>username</span> <span class=o>=</span> <span class=n>args</span><span class=o>.</span><span class=n>username</span> <span class=ow>or</span> <span class=n>username</span>
<a id=__codelineno-44-43 name=__codelineno-44-43 href=#__codelineno-44-43></a>    <span class=n>keyname</span> <span class=o>=</span> <span class=n>args</span><span class=o>.</span><span class=n>vault_id</span> <span class=ow>or</span> <span class=n>keyname</span>
<a id=__codelineno-44-44 name=__codelineno-44-44 href=#__codelineno-44-44></a>
<a id=__codelineno-44-45 name=__codelineno-44-45 href=#__codelineno-44-45></a>    <span class=c1># print(&#39;username: %s keyname: %s&#39; % (username, keyname))</span>
<a id=__codelineno-44-46 name=__codelineno-44-46 href=#__codelineno-44-46></a>
<a id=__codelineno-44-47 name=__codelineno-44-47 href=#__codelineno-44-47></a>    <span class=k>if</span> <span class=n>args</span><span class=o>.</span><span class=n>set_password</span><span class=p>:</span>
<a id=__codelineno-44-48 name=__codelineno-44-48 href=#__codelineno-44-48></a>        <span class=n>intro</span> <span class=o>=</span> <span class=s1>&#39;Storing password in &quot;</span><span class=si>{}</span><span class=s1>&quot; user keyring using key name: </span><span class=si>{}</span><span class=se>\n</span><span class=s1>&#39;</span>
<a id=__codelineno-44-49 name=__codelineno-44-49 href=#__codelineno-44-49></a>        <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>intro</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>keyname</span><span class=p>))</span>
<a id=__codelineno-44-50 name=__codelineno-44-50 href=#__codelineno-44-50></a>        <span class=n>password</span> <span class=o>=</span> <span class=n>getpass</span><span class=o>.</span><span class=n>getpass</span><span class=p>()</span>
<a id=__codelineno-44-51 name=__codelineno-44-51 href=#__codelineno-44-51></a>        <span class=n>confirm</span> <span class=o>=</span> <span class=n>getpass</span><span class=o>.</span><span class=n>getpass</span><span class=p>(</span><span class=s1>&#39;Confirm password: &#39;</span><span class=p>)</span>
<a id=__codelineno-44-52 name=__codelineno-44-52 href=#__codelineno-44-52></a>        <span class=k>if</span> <span class=n>password</span> <span class=o>==</span> <span class=n>confirm</span><span class=p>:</span>
<a id=__codelineno-44-53 name=__codelineno-44-53 href=#__codelineno-44-53></a>            <span class=n>keyring</span><span class=o>.</span><span class=n>set_password</span><span class=p>(</span><span class=n>keyname</span><span class=p>,</span> <span class=n>username</span><span class=p>,</span> <span class=n>password</span><span class=p>)</span>
<a id=__codelineno-44-54 name=__codelineno-44-54 href=#__codelineno-44-54></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-44-55 name=__codelineno-44-55 href=#__codelineno-44-55></a>            <span class=n>sys</span><span class=o>.</span><span class=n>stderr</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;Passwords do not match</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
<a id=__codelineno-44-56 name=__codelineno-44-56 href=#__codelineno-44-56></a>            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-44-57 name=__codelineno-44-57 href=#__codelineno-44-57></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-44-58 name=__codelineno-44-58 href=#__codelineno-44-58></a>        <span class=n>secret</span> <span class=o>=</span> <span class=n>keyring</span><span class=o>.</span><span class=n>get_password</span><span class=p>(</span><span class=n>keyname</span><span class=p>,</span> <span class=n>username</span><span class=p>)</span>
<a id=__codelineno-44-59 name=__codelineno-44-59 href=#__codelineno-44-59></a>        <span class=k>if</span> <span class=n>secret</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-44-60 name=__codelineno-44-60 href=#__codelineno-44-60></a>            <span class=n>sys</span><span class=o>.</span><span class=n>stderr</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;vault-keyring-client could not find key=&quot;</span><span class=si>%s</span><span class=s1>&quot; for user=&quot;</span><span class=si>%s</span><span class=s1>&quot; via backend=&quot;</span><span class=si>%s</span><span class=s1>&quot;</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span>
<a id=__codelineno-44-61 name=__codelineno-44-61 href=#__codelineno-44-61></a>                             <span class=p>(</span><span class=n>keyname</span><span class=p>,</span> <span class=n>username</span><span class=p>,</span> <span class=n>keyring</span><span class=o>.</span><span class=n>get_keyring</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
<a id=__codelineno-44-62 name=__codelineno-44-62 href=#__codelineno-44-62></a>            <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=n>KEYNAME_UNKNOWN_RC</span><span class=p>)</span>
<a id=__codelineno-44-63 name=__codelineno-44-63 href=#__codelineno-44-63></a>
<a id=__codelineno-44-64 name=__codelineno-44-64 href=#__codelineno-44-64></a>        <span class=c1># print(&#39;secret: %s&#39; % secret)</span>
<a id=__codelineno-44-65 name=__codelineno-44-65 href=#__codelineno-44-65></a>        <span class=n>sys</span><span class=o>.</span><span class=n>stdout</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s1>&#39;</span><span class=si>%s</span><span class=se>\n</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>secret</span><span class=p>)</span>
<a id=__codelineno-44-66 name=__codelineno-44-66 href=#__codelineno-44-66></a>
<a id=__codelineno-44-67 name=__codelineno-44-67 href=#__codelineno-44-67></a>    <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-44-68 name=__codelineno-44-68 href=#__codelineno-44-68></a>
<a id=__codelineno-44-69 name=__codelineno-44-69 href=#__codelineno-44-69></a>
<a id=__codelineno-44-70 name=__codelineno-44-70 href=#__codelineno-44-70></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
<a id=__codelineno-44-71 name=__codelineno-44-71 href=#__codelineno-44-71></a>    <span class=n>main</span><span class=p>()</span>
</code></pre></div> <h3 id=加速加密速度>加速加密速度<a class=headerlink href=#加速加密速度 title="Permanent link">&para;</a></h3> <p>如果你有许多文件需要加密，可以使用<code>cryptography</code>来进行加快加密速度</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a>pip<span class=w> </span>install<span class=w> </span>cryptography
</code></pre></div> <h3 id=vault-文件>Vault 文件<a class=headerlink href=#vault-文件 title="Permanent link">&para;</a></h3> <p>Vault 加密文件是UTF-8编码的txt文件。</p> <p>文件格式包括一个换行结束的头文件。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a><span class=nv>$ANSIBLE_VAULT</span><span class=p>;</span><span class=m>1</span>.1<span class=p>;</span>AES256
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a>
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a><span class=c1># or</span>
<a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a>
<a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a><span class=nv>$ANSIBLE_VAULT</span><span class=p>;</span><span class=m>1</span>.2<span class=p>;</span>AES256<span class=p>;</span>vault-id-label
</code></pre></div> <p>标题包含 <code>vault_id</code>、vault版本、vault加密方式和vault-id标签，用分号分隔</p> <h2 id=3ansible关键字>3.Ansible关键字<a class=headerlink href=#3ansible关键字 title="Permanent link">&para;</a></h2> <blockquote> <p>ansible 2.9</p> </blockquote> <p>这些是常见剧本对象上可用的关键字。</p> <h3 id=play>Play<a class=headerlink href=#play title="Permanent link">&para;</a></h3> <blockquote> <p>在 play 下可用的关键字</p> </blockquote> <table> <thead> <tr> <th>key</th> <th>desc</th> </tr> </thead> <tbody> <tr> <td>any_errors_fatal</td> <td>有任务错误时，立即停止</td> </tr> <tr> <td>become</td> <td>是否提权</td> </tr> <tr> <td>become_exe</td> <td></td> </tr> <tr> <td>become_flags</td> <td>提权命令的参数</td> </tr> <tr> <td>become_method</td> <td>提权得方式</td> </tr> <tr> <td>become_user</td> <td>提权的用户</td> </tr> <tr> <td>check_mode</td> <td>当为 True 时，只检查，不做修改</td> </tr> <tr> <td>collections</td> <td></td> </tr> <tr> <td>connection</td> <td>连接方式</td> </tr> <tr> <td>debugger</td> <td>开启 debugger 模式</td> </tr> <tr> <td>diff</td> <td>对比更改的文件</td> </tr> <tr> <td>environment</td> <td>定义远端系统的环境变量</td> </tr> <tr> <td>fact_path</td> <td>指定存储 fact 的目录</td> </tr> <tr> <td>force_handlers</td> <td>任务失败后，是否依然执行 handlers 中的任务</td> </tr> <tr> <td>gather_facts</td> <td>是否获取远端系统得 facts</td> </tr> <tr> <td>gather_subset</td> <td>获取 facts 得哪些键值</td> </tr> <tr> <td>gather_timeout</td> <td>获取 facts 的超时时间</td> </tr> <tr> <td>handlers</td> <td>定义 task 执行完成以后需要调用的任务</td> </tr> <tr> <td>hosts</td> <td>指定运行得主机</td> </tr> <tr> <td>ignore_errors</td> <td>布尔值，是否忽略错误</td> </tr> <tr> <td>ignore_unreachable</td> <td>布尔值，可以忽略无法访问的主机并继续</td> </tr> <tr> <td>max_fail_percentage</td> <td>单位百分比。最大的错误主机数，超过则立即停止 ansbile</td> </tr> <tr> <td>module_defaults</td> <td>指定模块的默认参数值。</td> </tr> <tr> <td>name</td> <td>定义名称</td> </tr> <tr> <td>no_log</td> <td>不记录日志</td> </tr> <tr> <td>order</td> <td>执行主机的顺序</td> </tr> <tr> <td>port</td> <td>定义 ssh 的连接端口</td> </tr> <tr> <td>post_tasks</td> <td>执行任务后要执行的任务</td> </tr> <tr> <td>pre_tasks</td> <td>执行任务前要执行的任务</td> </tr> <tr> <td>remote_user</td> <td>远程登陆的用户</td> </tr> <tr> <td>roles</td> <td>定义角色</td> </tr> <tr> <td>run_once</td> <td>任务只运行一次</td> </tr> <tr> <td>serial</td> <td>任务每次执行的主机数</td> </tr> <tr> <td>strategy</td> <td>play 运行策略</td> </tr> <tr> <td>tags</td> <td>标记标签</td> </tr> <tr> <td>tasks</td> <td>定义任务</td> </tr> <tr> <td>throttle</td> <td>限制并发任务在 tasks，blocks 和 playbook 级别上运行的数量。不能高于 serial 和 forks 数</td> </tr> <tr> <td>vars</td> <td>定义变量</td> </tr> <tr> <td>vars_files</td> <td>包含变量文件</td> </tr> <tr> <td>vars_prompt</td> <td>要求用户输入内容</td> </tr> </tbody> </table> <h3 id=role>Role<a class=headerlink href=#role title="Permanent link">&para;</a></h3> <blockquote> <p>在 role 下可用的关键字</p> </blockquote> <table> <thead> <tr> <th>key</th> <th>desc</th> </tr> </thead> <tbody> <tr> <td>any_errors_fatal</td> <td>有任务错误时，立即停止</td> </tr> <tr> <td>become</td> <td>是否提权</td> </tr> <tr> <td>become_exe</td> <td></td> </tr> <tr> <td>become_flags</td> <td>提权命令的参数</td> </tr> <tr> <td>become_method</td> <td>提权的方式</td> </tr> <tr> <td>become_user</td> <td>提权的用户</td> </tr> <tr> <td>check_mode</td> <td>当为 True 时，只检查，不做修改</td> </tr> <tr> <td>collections</td> <td></td> </tr> <tr> <td>connection</td> <td>连接方式</td> </tr> <tr> <td>debugger</td> <td>开启 debugger 模式</td> </tr> <tr> <td>delegate_facts</td> <td>委托 facts</td> </tr> <tr> <td>delegate_to</td> <td>任务委派</td> </tr> <tr> <td>diff</td> <td>对比更改的文件</td> </tr> <tr> <td>environment</td> <td>定义远端系统的环境变量</td> </tr> <tr> <td>ignore_errors</td> <td>是否忽略错误</td> </tr> <tr> <td>ignore_unreachable</td> <td>布尔值，可以忽略无法访问的主机并继续</td> </tr> <tr> <td>module_defaults</td> <td>指定模块的默认参数值。</td> </tr> <tr> <td>name</td> <td>定义任务得名称</td> </tr> <tr> <td>no_log</td> <td>不记录日志</td> </tr> <tr> <td>port</td> <td>定义 ssh 的连接端口</td> </tr> <tr> <td>remote_user</td> <td>远端系统的执行用户</td> </tr> <tr> <td>run_once</td> <td>只运行一次</td> </tr> <tr> <td>tags</td> <td>标记标签</td> </tr> <tr> <td>throttle</td> <td>限制并发任务在 tasks，blocks 和 playbook 级别上运行的数量。不能高于 serial 和 forks 数</td> </tr> <tr> <td>vars</td> <td>定义变量</td> </tr> <tr> <td>when</td> <td>条件表达式结果为 True 则执行 block</td> </tr> </tbody> </table> <h3 id=block>Block<a class=headerlink href=#block title="Permanent link">&para;</a></h3> <blockquote> <p>在 block 下可用的关键字</p> </blockquote> <table> <thead> <tr> <th>key</th> <th>desc</th> </tr> </thead> <tbody> <tr> <td>always</td> <td>Block 中执行的任务列表，无论是否存在错误都会执行。</td> </tr> <tr> <td>any_errors_fatal</td> <td>有错误时立即中断 ansbile</td> </tr> <tr> <td>become</td> <td>是否提权</td> </tr> <tr> <td>become_exe</td> <td></td> </tr> <tr> <td>become_flags</td> <td>提权命令的参数</td> </tr> <tr> <td>become_method</td> <td>提权的方式</td> </tr> <tr> <td>become_user</td> <td>提权的用户</td> </tr> <tr> <td>block</td> <td>分组里的任务列表</td> </tr> <tr> <td>check_mode</td> <td>当为 True 时，只检查，不做修改</td> </tr> <tr> <td>collections</td> <td></td> </tr> <tr> <td>connection</td> <td>连接方式</td> </tr> <tr> <td>debugger</td> <td>开启 debugger 模式</td> </tr> <tr> <td>delegate_facts</td> <td>布尔值，将 facts 应用于委派的主机。</td> </tr> <tr> <td>delegate_to</td> <td>任务委派</td> </tr> <tr> <td>diff</td> <td>对比更改的文件</td> </tr> <tr> <td>environment</td> <td>定义远端系统的环境变量</td> </tr> <tr> <td>ignore_errors</td> <td>是否忽略错误</td> </tr> <tr> <td>ignore_unreachable</td> <td>布尔值，可以忽略无法访问的主机并继续</td> </tr> <tr> <td>module_defaults</td> <td>指定模块的默认参数值。</td> </tr> <tr> <td>name</td> <td>定义 block 名称</td> </tr> <tr> <td>no_log</td> <td>不记录日志</td> </tr> <tr> <td>port</td> <td>定义 ssh 的连接端口</td> </tr> <tr> <td>remote_user</td> <td>远端系统的执行用户</td> </tr> <tr> <td>rescue</td> <td>block 中的任务在执行中，如果有任何错误，将执行 rescue 中的任务。</td> </tr> <tr> <td>run_once</td> <td>只运行一次</td> </tr> <tr> <td>tags</td> <td>标记标签</td> </tr> <tr> <td>throttle</td> <td>限制并发任务在 tasks，blocks 和 playbook 级别上运行的数量。不能高于 serial 和 forks 数</td> </tr> <tr> <td>vars</td> <td>定义变量</td> </tr> <tr> <td>when</td> <td>条件表达式结果为 True 则执行 block</td> </tr> </tbody> </table> <h3 id=task>Task<a class=headerlink href=#task title="Permanent link">&para;</a></h3> <blockquote> <p>在 task 下可用的关键字</p> </blockquote> <table> <thead> <tr> <th>key</th> <th>desc</th> </tr> </thead> <tbody> <tr> <td>action</td> <td>执行动作</td> </tr> <tr> <td>any_errors_fatal</td> <td>为 True 时，只要任务有错误，就立即停止 ansible</td> </tr> <tr> <td>args</td> <td>定义任务得参数</td> </tr> <tr> <td>async</td> <td>是否异步执行任务</td> </tr> <tr> <td>become</td> <td>是否提权</td> </tr> <tr> <td>become_exe</td> <td></td> </tr> <tr> <td>become_flags</td> <td>提权命令的参数</td> </tr> <tr> <td>become_method</td> <td>提权的方式</td> </tr> <tr> <td>become_user</td> <td>提权的用户</td> </tr> <tr> <td>changed_when</td> <td>条件表达式为 True 时，使任务状态为 changed</td> </tr> <tr> <td>check_mode</td> <td>为 True 时，只检查运行状态，在远端不做任何修改</td> </tr> <tr> <td>collections</td> <td></td> </tr> <tr> <td>connection</td> <td>连接方式</td> </tr> <tr> <td>debugger</td> <td>开启 debugger 模式</td> </tr> <tr> <td>delay</td> <td>等待多少秒，才执行任务</td> </tr> <tr> <td>delegate_facts</td> <td>布尔值，将 facts 应用于委派的主机。</td> </tr> <tr> <td>delegate_to</td> <td>任务委派</td> </tr> <tr> <td>diff</td> <td>对比更改的文件</td> </tr> <tr> <td>environment</td> <td>定义远端的环境变量</td> </tr> <tr> <td>failed_when</td> <td>条件表达式为 True 时，使任务为失败状态</td> </tr> <tr> <td>ignore_errors</td> <td>是否忽略错误</td> </tr> <tr> <td>ignore_unreachable</td> <td>布尔值，可以忽略无法访问的主机并继续</td> </tr> <tr> <td>local_action</td> <td>本地执行</td> </tr> <tr> <td>loop</td> <td>循环</td> </tr> <tr> <td>loop_control</td> <td>改变循环的变量项</td> </tr> <tr> <td>module_defaults</td> <td>指定模块的默认参数值。</td> </tr> <tr> <td>name</td> <td>定义名称</td> </tr> <tr> <td>no_log</td> <td>不记录日志</td> </tr> <tr> <td>notify</td> <td>用于任务执行完，执行 handlers 里的任务</td> </tr> <tr> <td>poll</td> <td>轮询时间</td> </tr> <tr> <td>port</td> <td>定义 ssh 的连接端口</td> </tr> <tr> <td>register</td> <td>注册变量</td> </tr> <tr> <td>remote_user</td> <td>远端系统的执行用户</td> </tr> <tr> <td>retries</td> <td>重试次数</td> </tr> <tr> <td>run_once</td> <td>只运行一次</td> </tr> <tr> <td>tags</td> <td>标记为标签</td> </tr> <tr> <td>throttle</td> <td>限制并发任务在 tasks，blocks 和 playbook 级别上运行的数量。不能高于 serial 和 forks 数</td> </tr> <tr> <td>until</td> <td>直到为真时，才继续执行任务</td> </tr> <tr> <td>vars</td> <td>定义变量</td> </tr> <tr> <td>when</td> <td>条件表达式，结果为 True 则执行 task</td> </tr> <tr> <td>with_<lookup_plugin></td> <td>循环插件</td> </tr> </tbody> </table> <h2 id=4ansible-modules>4.Ansible Modules<a class=headerlink href=#4ansible-modules title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> <p>参考文献：<a href=https://ansible.leops.cn/basic/Reference/Module/ >https://ansible.leops.cn/basic/Reference/Module/</a></p> </div> <h2 id=5ansible配置>5.Ansible配置<a class=headerlink href=#5ansible配置 title="Permanent link">&para;</a></h2> <p><strong>Ansible</strong> 支持几个源来配置它的行为，包括一个名为<code>ansible.cfg</code>的ini文件、环境变量、命令行选项、playbook关键字和变量。</p> <h3 id=配置文件>配置文件<a class=headerlink href=#配置文件 title="Permanent link">&para;</a></h3> <p><strong>Ansible</strong> 配置文件可以存放在不同的位置，但只有一个可用。在下列列表中，ansible从上往下依次检查，检查到哪个可用就用哪个。</p> <ul> <li><code>ANSIBLE_CONFIG</code> 环境变量，可以定义配置文件的位置</li> <li><code>./ansible.cfg</code> 存在于当前工作目录</li> <li><code>~/.ansible.cfg</code> 存在与当前用户家目录</li> <li><code>/etc/ansible/ansible.cfg</code></li> </ul> <h4 id=获取默认配置>获取默认配置<a class=headerlink href=#获取默认配置 title="Permanent link">&para;</a></h4> <p>使用源码或者pip方式安装时，需要另行定义配置文件，可以在ansible仓库中获取最新的配置文件</p> <p><a href=https://raw.github.com/ansible/ansible/devel/examples/ansible.cfg>https://raw.github.com/ansible/ansible/devel/examples/ansible.cfg</a></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>配置文件是INI格式的一种变体。当注释开始行时，散列符号（#）和分号（;）都被允许作为注释标记。</p> </div> <h4 id=默认配置文件>默认配置文件<a class=headerlink href=#默认配置文件 title="Permanent link">&para;</a></h4> <blockquote> <p>下列是centos7系统上的ansible 2.9.6版本配置</p> </blockquote> <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=c1># config file for ansible -- https://ansible.com/</span>
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a><span class=c1># ===============================================</span>
<a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a>
<a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=c1># nearly all parameters can be overridden in ansible-playbook</span>
<a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=c1># or with command line flags. ansible will read ANSIBLE_CONFIG,</span>
<a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a><span class=c1># ansible.cfg in the current working directory, .ansible.cfg in</span>
<a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a><span class=c1># the home directory or /etc/ansible/ansible.cfg, whichever it</span>
<a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=c1># finds first</span>
<a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a>
<a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=k>[defaults]</span>
<a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a>
<a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a><span class=c1># some basic default values...</span>
<a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a>
<a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a><span class=c1>#inventory      = /etc/ansible/hosts</span>
<a id=__codelineno-47-15 name=__codelineno-47-15 href=#__codelineno-47-15></a><span class=c1>#library        = /usr/share/my_modules/</span>
<a id=__codelineno-47-16 name=__codelineno-47-16 href=#__codelineno-47-16></a><span class=c1>#module_utils   = /usr/share/my_module_utils/</span>
<a id=__codelineno-47-17 name=__codelineno-47-17 href=#__codelineno-47-17></a><span class=c1>#remote_tmp     = ~/.ansible/tmp</span>
<a id=__codelineno-47-18 name=__codelineno-47-18 href=#__codelineno-47-18></a><span class=c1>#local_tmp      = ~/.ansible/tmp</span>
<a id=__codelineno-47-19 name=__codelineno-47-19 href=#__codelineno-47-19></a><span class=c1>#plugin_filters_cfg = /etc/ansible/plugin_filters.yml</span>
<a id=__codelineno-47-20 name=__codelineno-47-20 href=#__codelineno-47-20></a><span class=c1>#forks          = 5</span>
<a id=__codelineno-47-21 name=__codelineno-47-21 href=#__codelineno-47-21></a><span class=c1>#poll_interval  = 15</span>
<a id=__codelineno-47-22 name=__codelineno-47-22 href=#__codelineno-47-22></a><span class=c1>#sudo_user      = root</span>
<a id=__codelineno-47-23 name=__codelineno-47-23 href=#__codelineno-47-23></a><span class=c1>#ask_sudo_pass = True</span>
<a id=__codelineno-47-24 name=__codelineno-47-24 href=#__codelineno-47-24></a><span class=c1>#ask_pass      = True</span>
<a id=__codelineno-47-25 name=__codelineno-47-25 href=#__codelineno-47-25></a><span class=c1>#transport      = smart</span>
<a id=__codelineno-47-26 name=__codelineno-47-26 href=#__codelineno-47-26></a><span class=c1>#remote_port    = 22</span>
<a id=__codelineno-47-27 name=__codelineno-47-27 href=#__codelineno-47-27></a><span class=c1>#module_lang    = C</span>
<a id=__codelineno-47-28 name=__codelineno-47-28 href=#__codelineno-47-28></a><span class=c1>#module_set_locale = False</span>
<a id=__codelineno-47-29 name=__codelineno-47-29 href=#__codelineno-47-29></a>
<a id=__codelineno-47-30 name=__codelineno-47-30 href=#__codelineno-47-30></a><span class=c1># plays will gather facts by default, which contain information about</span>
<a id=__codelineno-47-31 name=__codelineno-47-31 href=#__codelineno-47-31></a><span class=c1># the remote system.</span>
<a id=__codelineno-47-32 name=__codelineno-47-32 href=#__codelineno-47-32></a><span class=c1>#</span>
<a id=__codelineno-47-33 name=__codelineno-47-33 href=#__codelineno-47-33></a><span class=c1># smart - gather by default, but don&#39;t regather if already gathered</span>
<a id=__codelineno-47-34 name=__codelineno-47-34 href=#__codelineno-47-34></a><span class=c1># implicit - gather by default, turn off with gather_facts: False</span>
<a id=__codelineno-47-35 name=__codelineno-47-35 href=#__codelineno-47-35></a><span class=c1># explicit - do not gather by default, must say gather_facts: True</span>
<a id=__codelineno-47-36 name=__codelineno-47-36 href=#__codelineno-47-36></a><span class=c1>#gathering = implicit</span>
<a id=__codelineno-47-37 name=__codelineno-47-37 href=#__codelineno-47-37></a>
<a id=__codelineno-47-38 name=__codelineno-47-38 href=#__codelineno-47-38></a><span class=c1># This only affects the gathering done by a play&#39;s gather_facts directive,</span>
<a id=__codelineno-47-39 name=__codelineno-47-39 href=#__codelineno-47-39></a><span class=c1># by default gathering retrieves all facts subsets</span>
<a id=__codelineno-47-40 name=__codelineno-47-40 href=#__codelineno-47-40></a><span class=c1># all - gather all subsets</span>
<a id=__codelineno-47-41 name=__codelineno-47-41 href=#__codelineno-47-41></a><span class=c1># network - gather min and network facts</span>
<a id=__codelineno-47-42 name=__codelineno-47-42 href=#__codelineno-47-42></a><span class=c1># hardware - gather hardware facts (longest facts to retrieve)</span>
<a id=__codelineno-47-43 name=__codelineno-47-43 href=#__codelineno-47-43></a><span class=c1># virtual - gather min and virtual facts</span>
<a id=__codelineno-47-44 name=__codelineno-47-44 href=#__codelineno-47-44></a><span class=c1># facter - import facts from facter</span>
<a id=__codelineno-47-45 name=__codelineno-47-45 href=#__codelineno-47-45></a><span class=c1># ohai - import facts from ohai</span>
<a id=__codelineno-47-46 name=__codelineno-47-46 href=#__codelineno-47-46></a><span class=c1># You can combine them using comma (ex: network,virtual)</span>
<a id=__codelineno-47-47 name=__codelineno-47-47 href=#__codelineno-47-47></a><span class=c1># You can negate them using ! (ex: !hardware,!facter,!ohai)</span>
<a id=__codelineno-47-48 name=__codelineno-47-48 href=#__codelineno-47-48></a><span class=c1># A minimal set of facts is always gathered.</span>
<a id=__codelineno-47-49 name=__codelineno-47-49 href=#__codelineno-47-49></a><span class=c1>#gather_subset = all</span>
<a id=__codelineno-47-50 name=__codelineno-47-50 href=#__codelineno-47-50></a>
<a id=__codelineno-47-51 name=__codelineno-47-51 href=#__codelineno-47-51></a><span class=c1># some hardware related facts are collected</span>
<a id=__codelineno-47-52 name=__codelineno-47-52 href=#__codelineno-47-52></a><span class=c1># with a maximum timeout of 10 seconds. This</span>
<a id=__codelineno-47-53 name=__codelineno-47-53 href=#__codelineno-47-53></a><span class=c1># option lets you increase or decrease that</span>
<a id=__codelineno-47-54 name=__codelineno-47-54 href=#__codelineno-47-54></a><span class=c1># timeout to something more suitable for the</span>
<a id=__codelineno-47-55 name=__codelineno-47-55 href=#__codelineno-47-55></a><span class=c1># environment.</span>
<a id=__codelineno-47-56 name=__codelineno-47-56 href=#__codelineno-47-56></a><span class=c1># gather_timeout = 10</span>
<a id=__codelineno-47-57 name=__codelineno-47-57 href=#__codelineno-47-57></a>
<a id=__codelineno-47-58 name=__codelineno-47-58 href=#__codelineno-47-58></a><span class=c1># Ansible facts are available inside the ansible_facts.* dictionary</span>
<a id=__codelineno-47-59 name=__codelineno-47-59 href=#__codelineno-47-59></a><span class=c1># namespace. This setting maintains the behaviour which was the default prior</span>
<a id=__codelineno-47-60 name=__codelineno-47-60 href=#__codelineno-47-60></a><span class=c1># to 2.5, duplicating these variables into the main namespace, each with a</span>
<a id=__codelineno-47-61 name=__codelineno-47-61 href=#__codelineno-47-61></a><span class=c1># prefix of &#39;ansible_&#39;.</span>
<a id=__codelineno-47-62 name=__codelineno-47-62 href=#__codelineno-47-62></a><span class=c1># This variable is set to True by default for backwards compatibility. It</span>
<a id=__codelineno-47-63 name=__codelineno-47-63 href=#__codelineno-47-63></a><span class=c1># will be changed to a default of &#39;False&#39; in a future release.</span>
<a id=__codelineno-47-64 name=__codelineno-47-64 href=#__codelineno-47-64></a><span class=c1># ansible_facts.</span>
<a id=__codelineno-47-65 name=__codelineno-47-65 href=#__codelineno-47-65></a><span class=c1># inject_facts_as_vars = True</span>
<a id=__codelineno-47-66 name=__codelineno-47-66 href=#__codelineno-47-66></a>
<a id=__codelineno-47-67 name=__codelineno-47-67 href=#__codelineno-47-67></a><span class=c1># additional paths to search for roles in, colon separated</span>
<a id=__codelineno-47-68 name=__codelineno-47-68 href=#__codelineno-47-68></a><span class=c1>#roles_path    = /etc/ansible/roles</span>
<a id=__codelineno-47-69 name=__codelineno-47-69 href=#__codelineno-47-69></a>
<a id=__codelineno-47-70 name=__codelineno-47-70 href=#__codelineno-47-70></a><span class=c1># uncomment this to disable SSH key host checking</span>
<a id=__codelineno-47-71 name=__codelineno-47-71 href=#__codelineno-47-71></a><span class=c1>#host_key_checking = False</span>
<a id=__codelineno-47-72 name=__codelineno-47-72 href=#__codelineno-47-72></a>
<a id=__codelineno-47-73 name=__codelineno-47-73 href=#__codelineno-47-73></a><span class=c1># change the default callback, you can only have one &#39;stdout&#39; type  enabled at a time.</span>
<a id=__codelineno-47-74 name=__codelineno-47-74 href=#__codelineno-47-74></a><span class=c1>#stdout_callback = skippy</span>
<a id=__codelineno-47-75 name=__codelineno-47-75 href=#__codelineno-47-75></a>
<a id=__codelineno-47-76 name=__codelineno-47-76 href=#__codelineno-47-76></a>
<a id=__codelineno-47-77 name=__codelineno-47-77 href=#__codelineno-47-77></a><span class=c1>## Ansible ships with some plugins that require whitelisting,</span>
<a id=__codelineno-47-78 name=__codelineno-47-78 href=#__codelineno-47-78></a><span class=c1>## this is done to avoid running all of a type by default.</span>
<a id=__codelineno-47-79 name=__codelineno-47-79 href=#__codelineno-47-79></a><span class=c1>## These setting lists those that you want enabled for your system.</span>
<a id=__codelineno-47-80 name=__codelineno-47-80 href=#__codelineno-47-80></a><span class=c1>## Custom plugins should not need this unless plugin author specifies it.</span>
<a id=__codelineno-47-81 name=__codelineno-47-81 href=#__codelineno-47-81></a>
<a id=__codelineno-47-82 name=__codelineno-47-82 href=#__codelineno-47-82></a><span class=c1># enable callback plugins, they can output to stdout but cannot be &#39;stdout&#39; type.</span>
<a id=__codelineno-47-83 name=__codelineno-47-83 href=#__codelineno-47-83></a><span class=c1>#callback_whitelist = timer, mail</span>
<a id=__codelineno-47-84 name=__codelineno-47-84 href=#__codelineno-47-84></a>
<a id=__codelineno-47-85 name=__codelineno-47-85 href=#__codelineno-47-85></a><span class=c1># Determine whether includes in tasks and handlers are &quot;static&quot; by</span>
<a id=__codelineno-47-86 name=__codelineno-47-86 href=#__codelineno-47-86></a><span class=c1># default. As of 2.0, includes are dynamic by default. Setting these</span>
<a id=__codelineno-47-87 name=__codelineno-47-87 href=#__codelineno-47-87></a><span class=c1># values to True will make includes behave more like they did in the</span>
<a id=__codelineno-47-88 name=__codelineno-47-88 href=#__codelineno-47-88></a><span class=c1># 1.x versions.</span>
<a id=__codelineno-47-89 name=__codelineno-47-89 href=#__codelineno-47-89></a><span class=c1>#task_includes_static = False</span>
<a id=__codelineno-47-90 name=__codelineno-47-90 href=#__codelineno-47-90></a><span class=c1>#handler_includes_static = False</span>
<a id=__codelineno-47-91 name=__codelineno-47-91 href=#__codelineno-47-91></a>
<a id=__codelineno-47-92 name=__codelineno-47-92 href=#__codelineno-47-92></a><span class=c1># Controls if a missing handler for a notification event is an error or a warning</span>
<a id=__codelineno-47-93 name=__codelineno-47-93 href=#__codelineno-47-93></a><span class=c1>#error_on_missing_handler = True</span>
<a id=__codelineno-47-94 name=__codelineno-47-94 href=#__codelineno-47-94></a>
<a id=__codelineno-47-95 name=__codelineno-47-95 href=#__codelineno-47-95></a><span class=c1># change this for alternative sudo implementations</span>
<a id=__codelineno-47-96 name=__codelineno-47-96 href=#__codelineno-47-96></a><span class=c1>#sudo_exe = sudo</span>
<a id=__codelineno-47-97 name=__codelineno-47-97 href=#__codelineno-47-97></a>
<a id=__codelineno-47-98 name=__codelineno-47-98 href=#__codelineno-47-98></a><span class=c1># What flags to pass to sudo</span>
<a id=__codelineno-47-99 name=__codelineno-47-99 href=#__codelineno-47-99></a><span class=c1># WARNING: leaving out the defaults might create unexpected behaviours</span>
<a id=__codelineno-47-100 name=__codelineno-47-100 href=#__codelineno-47-100></a><span class=c1>#sudo_flags = -H -S -n</span>
<a id=__codelineno-47-101 name=__codelineno-47-101 href=#__codelineno-47-101></a>
<a id=__codelineno-47-102 name=__codelineno-47-102 href=#__codelineno-47-102></a><span class=c1># SSH timeout</span>
<a id=__codelineno-47-103 name=__codelineno-47-103 href=#__codelineno-47-103></a><span class=c1>#timeout = 10</span>
<a id=__codelineno-47-104 name=__codelineno-47-104 href=#__codelineno-47-104></a>
<a id=__codelineno-47-105 name=__codelineno-47-105 href=#__codelineno-47-105></a><span class=c1># default user to use for playbooks if user is not specified</span>
<a id=__codelineno-47-106 name=__codelineno-47-106 href=#__codelineno-47-106></a><span class=c1># (/usr/bin/ansible will use current user as default)</span>
<a id=__codelineno-47-107 name=__codelineno-47-107 href=#__codelineno-47-107></a><span class=c1>#remote_user = root</span>
<a id=__codelineno-47-108 name=__codelineno-47-108 href=#__codelineno-47-108></a>
<a id=__codelineno-47-109 name=__codelineno-47-109 href=#__codelineno-47-109></a><span class=c1># logging is off by default unless this path is defined</span>
<a id=__codelineno-47-110 name=__codelineno-47-110 href=#__codelineno-47-110></a><span class=c1># if so defined, consider logrotate</span>
<a id=__codelineno-47-111 name=__codelineno-47-111 href=#__codelineno-47-111></a><span class=c1>#log_path = /var/log/ansible.log</span>
<a id=__codelineno-47-112 name=__codelineno-47-112 href=#__codelineno-47-112></a>
<a id=__codelineno-47-113 name=__codelineno-47-113 href=#__codelineno-47-113></a><span class=c1># default module name for /usr/bin/ansible</span>
<a id=__codelineno-47-114 name=__codelineno-47-114 href=#__codelineno-47-114></a><span class=c1>#module_name = command</span>
<a id=__codelineno-47-115 name=__codelineno-47-115 href=#__codelineno-47-115></a>
<a id=__codelineno-47-116 name=__codelineno-47-116 href=#__codelineno-47-116></a><span class=c1># use this shell for commands executed under sudo</span>
<a id=__codelineno-47-117 name=__codelineno-47-117 href=#__codelineno-47-117></a><span class=c1># you may need to change this to bin/bash in rare instances</span>
<a id=__codelineno-47-118 name=__codelineno-47-118 href=#__codelineno-47-118></a><span class=c1># if sudo is constrained</span>
<a id=__codelineno-47-119 name=__codelineno-47-119 href=#__codelineno-47-119></a><span class=c1>#executable = /bin/sh</span>
<a id=__codelineno-47-120 name=__codelineno-47-120 href=#__codelineno-47-120></a>
<a id=__codelineno-47-121 name=__codelineno-47-121 href=#__codelineno-47-121></a><span class=c1># if inventory variables overlap, does the higher precedence one win</span>
<a id=__codelineno-47-122 name=__codelineno-47-122 href=#__codelineno-47-122></a><span class=c1># or are hash values merged together?  The default is &#39;replace&#39; but</span>
<a id=__codelineno-47-123 name=__codelineno-47-123 href=#__codelineno-47-123></a><span class=c1># this can also be set to &#39;merge&#39;.</span>
<a id=__codelineno-47-124 name=__codelineno-47-124 href=#__codelineno-47-124></a><span class=c1>#hash_behaviour = replace</span>
<a id=__codelineno-47-125 name=__codelineno-47-125 href=#__codelineno-47-125></a>
<a id=__codelineno-47-126 name=__codelineno-47-126 href=#__codelineno-47-126></a><span class=c1># by default, variables from roles will be visible in the global variable</span>
<a id=__codelineno-47-127 name=__codelineno-47-127 href=#__codelineno-47-127></a><span class=c1># scope. To prevent this, the following option can be enabled, and only</span>
<a id=__codelineno-47-128 name=__codelineno-47-128 href=#__codelineno-47-128></a><span class=c1># tasks and handlers within the role will see the variables there</span>
<a id=__codelineno-47-129 name=__codelineno-47-129 href=#__codelineno-47-129></a><span class=c1>#private_role_vars = yes</span>
<a id=__codelineno-47-130 name=__codelineno-47-130 href=#__codelineno-47-130></a>
<a id=__codelineno-47-131 name=__codelineno-47-131 href=#__codelineno-47-131></a><span class=c1># list any Jinja2 extensions to enable here:</span>
<a id=__codelineno-47-132 name=__codelineno-47-132 href=#__codelineno-47-132></a><span class=c1>#jinja2_extensions = jinja2.ext.do,jinja2.ext.i18n</span>
<a id=__codelineno-47-133 name=__codelineno-47-133 href=#__codelineno-47-133></a>
<a id=__codelineno-47-134 name=__codelineno-47-134 href=#__codelineno-47-134></a><span class=c1># if set, always use this private key file for authentication, same as</span>
<a id=__codelineno-47-135 name=__codelineno-47-135 href=#__codelineno-47-135></a><span class=c1># if passing --private-key to ansible or ansible-playbook</span>
<a id=__codelineno-47-136 name=__codelineno-47-136 href=#__codelineno-47-136></a><span class=c1>#private_key_file = /path/to/file</span>
<a id=__codelineno-47-137 name=__codelineno-47-137 href=#__codelineno-47-137></a>
<a id=__codelineno-47-138 name=__codelineno-47-138 href=#__codelineno-47-138></a><span class=c1># If set, configures the path to the Vault password file as an alternative to</span>
<a id=__codelineno-47-139 name=__codelineno-47-139 href=#__codelineno-47-139></a><span class=c1># specifying --vault-password-file on the command line.</span>
<a id=__codelineno-47-140 name=__codelineno-47-140 href=#__codelineno-47-140></a><span class=c1>#vault_password_file = /path/to/vault_password_file</span>
<a id=__codelineno-47-141 name=__codelineno-47-141 href=#__codelineno-47-141></a>
<a id=__codelineno-47-142 name=__codelineno-47-142 href=#__codelineno-47-142></a><span class=c1># format of string {{ ansible_managed }} available within Jinja2</span>
<a id=__codelineno-47-143 name=__codelineno-47-143 href=#__codelineno-47-143></a><span class=c1># templates indicates to users editing templates files will be replaced.</span>
<a id=__codelineno-47-144 name=__codelineno-47-144 href=#__codelineno-47-144></a><span class=c1># replacing {file}, {host} and {uid} and strftime codes with proper values.</span>
<a id=__codelineno-47-145 name=__codelineno-47-145 href=#__codelineno-47-145></a><span class=c1>#ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}</span>
<a id=__codelineno-47-146 name=__codelineno-47-146 href=#__codelineno-47-146></a><span class=c1># {file}, {host}, {uid}, and the timestamp can all interfere with idempotence</span>
<a id=__codelineno-47-147 name=__codelineno-47-147 href=#__codelineno-47-147></a><span class=c1># in some situations so the default is a static string:</span>
<a id=__codelineno-47-148 name=__codelineno-47-148 href=#__codelineno-47-148></a><span class=c1>#ansible_managed = Ansible managed</span>
<a id=__codelineno-47-149 name=__codelineno-47-149 href=#__codelineno-47-149></a>
<a id=__codelineno-47-150 name=__codelineno-47-150 href=#__codelineno-47-150></a><span class=c1># by default, ansible-playbook will display &quot;Skipping [host]&quot; if it determines a task</span>
<a id=__codelineno-47-151 name=__codelineno-47-151 href=#__codelineno-47-151></a><span class=c1># should not be run on a host.  Set this to &quot;False&quot; if you don&#39;t want to see these &quot;Skipping&quot;</span>
<a id=__codelineno-47-152 name=__codelineno-47-152 href=#__codelineno-47-152></a><span class=c1># messages. NOTE: the task header will still be shown regardless of whether or not the</span>
<a id=__codelineno-47-153 name=__codelineno-47-153 href=#__codelineno-47-153></a><span class=c1># task is skipped.</span>
<a id=__codelineno-47-154 name=__codelineno-47-154 href=#__codelineno-47-154></a><span class=c1>#display_skipped_hosts = True</span>
<a id=__codelineno-47-155 name=__codelineno-47-155 href=#__codelineno-47-155></a>
<a id=__codelineno-47-156 name=__codelineno-47-156 href=#__codelineno-47-156></a><span class=c1># by default, if a task in a playbook does not include a name: field then</span>
<a id=__codelineno-47-157 name=__codelineno-47-157 href=#__codelineno-47-157></a><span class=c1># ansible-playbook will construct a header that includes the task&#39;s action but</span>
<a id=__codelineno-47-158 name=__codelineno-47-158 href=#__codelineno-47-158></a><span class=c1># not the task&#39;s args.  This is a security feature because ansible cannot know</span>
<a id=__codelineno-47-159 name=__codelineno-47-159 href=#__codelineno-47-159></a><span class=c1># if the *module* considers an argument to be no_log at the time that the</span>
<a id=__codelineno-47-160 name=__codelineno-47-160 href=#__codelineno-47-160></a><span class=c1># header is printed.  If your environment doesn&#39;t have a problem securing</span>
<a id=__codelineno-47-161 name=__codelineno-47-161 href=#__codelineno-47-161></a><span class=c1># stdout from ansible-playbook (or you have manually specified no_log in your</span>
<a id=__codelineno-47-162 name=__codelineno-47-162 href=#__codelineno-47-162></a><span class=c1># playbook on all of the tasks where you have secret information) then you can</span>
<a id=__codelineno-47-163 name=__codelineno-47-163 href=#__codelineno-47-163></a><span class=c1># safely set this to True to get more informative messages.</span>
<a id=__codelineno-47-164 name=__codelineno-47-164 href=#__codelineno-47-164></a><span class=c1>#display_args_to_stdout = False</span>
<a id=__codelineno-47-165 name=__codelineno-47-165 href=#__codelineno-47-165></a>
<a id=__codelineno-47-166 name=__codelineno-47-166 href=#__codelineno-47-166></a><span class=c1># by default (as of 1.3), Ansible will raise errors when attempting to dereference</span>
<a id=__codelineno-47-167 name=__codelineno-47-167 href=#__codelineno-47-167></a><span class=c1># Jinja2 variables that are not set in templates or action lines. Uncomment this line</span>
<a id=__codelineno-47-168 name=__codelineno-47-168 href=#__codelineno-47-168></a><span class=c1># to revert the behavior to pre-1.3.</span>
<a id=__codelineno-47-169 name=__codelineno-47-169 href=#__codelineno-47-169></a><span class=c1>#error_on_undefined_vars = False</span>
<a id=__codelineno-47-170 name=__codelineno-47-170 href=#__codelineno-47-170></a>
<a id=__codelineno-47-171 name=__codelineno-47-171 href=#__codelineno-47-171></a><span class=c1># by default (as of 1.6), Ansible may display warnings based on the configuration of the</span>
<a id=__codelineno-47-172 name=__codelineno-47-172 href=#__codelineno-47-172></a><span class=c1># system running ansible itself. This may include warnings about 3rd party packages or</span>
<a id=__codelineno-47-173 name=__codelineno-47-173 href=#__codelineno-47-173></a><span class=c1># other conditions that should be resolved if possible.</span>
<a id=__codelineno-47-174 name=__codelineno-47-174 href=#__codelineno-47-174></a><span class=c1># to disable these warnings, set the following value to False:</span>
<a id=__codelineno-47-175 name=__codelineno-47-175 href=#__codelineno-47-175></a><span class=c1>#system_warnings = True</span>
<a id=__codelineno-47-176 name=__codelineno-47-176 href=#__codelineno-47-176></a>
<a id=__codelineno-47-177 name=__codelineno-47-177 href=#__codelineno-47-177></a><span class=c1># by default (as of 1.4), Ansible may display deprecation warnings for language</span>
<a id=__codelineno-47-178 name=__codelineno-47-178 href=#__codelineno-47-178></a><span class=c1># features that should no longer be used and will be removed in future versions.</span>
<a id=__codelineno-47-179 name=__codelineno-47-179 href=#__codelineno-47-179></a><span class=c1># to disable these warnings, set the following value to False:</span>
<a id=__codelineno-47-180 name=__codelineno-47-180 href=#__codelineno-47-180></a><span class=c1>#deprecation_warnings = True</span>
<a id=__codelineno-47-181 name=__codelineno-47-181 href=#__codelineno-47-181></a>
<a id=__codelineno-47-182 name=__codelineno-47-182 href=#__codelineno-47-182></a><span class=c1># (as of 1.8), Ansible can optionally warn when usage of the shell and</span>
<a id=__codelineno-47-183 name=__codelineno-47-183 href=#__codelineno-47-183></a><span class=c1># command module appear to be simplified by using a default Ansible module</span>
<a id=__codelineno-47-184 name=__codelineno-47-184 href=#__codelineno-47-184></a><span class=c1># instead.  These warnings can be silenced by adjusting the following</span>
<a id=__codelineno-47-185 name=__codelineno-47-185 href=#__codelineno-47-185></a><span class=c1># setting or adding warn=yes or warn=no to the end of the command line</span>
<a id=__codelineno-47-186 name=__codelineno-47-186 href=#__codelineno-47-186></a><span class=c1># parameter string.  This will for example suggest using the git module</span>
<a id=__codelineno-47-187 name=__codelineno-47-187 href=#__codelineno-47-187></a><span class=c1># instead of shelling out to the git command.</span>
<a id=__codelineno-47-188 name=__codelineno-47-188 href=#__codelineno-47-188></a><span class=c1># command_warnings = False</span>
<a id=__codelineno-47-189 name=__codelineno-47-189 href=#__codelineno-47-189></a>
<a id=__codelineno-47-190 name=__codelineno-47-190 href=#__codelineno-47-190></a>
<a id=__codelineno-47-191 name=__codelineno-47-191 href=#__codelineno-47-191></a><span class=c1># set plugin path directories here, separate with colons</span>
<a id=__codelineno-47-192 name=__codelineno-47-192 href=#__codelineno-47-192></a><span class=c1>#action_plugins     = /usr/share/ansible/plugins/action</span>
<a id=__codelineno-47-193 name=__codelineno-47-193 href=#__codelineno-47-193></a><span class=c1>#become_plugins     = /usr/share/ansible/plugins/become</span>
<a id=__codelineno-47-194 name=__codelineno-47-194 href=#__codelineno-47-194></a><span class=c1>#cache_plugins      = /usr/share/ansible/plugins/cache</span>
<a id=__codelineno-47-195 name=__codelineno-47-195 href=#__codelineno-47-195></a><span class=c1>#callback_plugins   = /usr/share/ansible/plugins/callback</span>
<a id=__codelineno-47-196 name=__codelineno-47-196 href=#__codelineno-47-196></a><span class=c1>#connection_plugins = /usr/share/ansible/plugins/connection</span>
<a id=__codelineno-47-197 name=__codelineno-47-197 href=#__codelineno-47-197></a><span class=c1>#lookup_plugins     = /usr/share/ansible/plugins/lookup</span>
<a id=__codelineno-47-198 name=__codelineno-47-198 href=#__codelineno-47-198></a><span class=c1>#inventory_plugins  = /usr/share/ansible/plugins/inventory</span>
<a id=__codelineno-47-199 name=__codelineno-47-199 href=#__codelineno-47-199></a><span class=c1>#vars_plugins       = /usr/share/ansible/plugins/vars</span>
<a id=__codelineno-47-200 name=__codelineno-47-200 href=#__codelineno-47-200></a><span class=c1>#filter_plugins     = /usr/share/ansible/plugins/filter</span>
<a id=__codelineno-47-201 name=__codelineno-47-201 href=#__codelineno-47-201></a><span class=c1>#test_plugins       = /usr/share/ansible/plugins/test</span>
<a id=__codelineno-47-202 name=__codelineno-47-202 href=#__codelineno-47-202></a><span class=c1>#terminal_plugins   = /usr/share/ansible/plugins/terminal</span>
<a id=__codelineno-47-203 name=__codelineno-47-203 href=#__codelineno-47-203></a><span class=c1>#strategy_plugins   = /usr/share/ansible/plugins/strategy</span>
<a id=__codelineno-47-204 name=__codelineno-47-204 href=#__codelineno-47-204></a>
<a id=__codelineno-47-205 name=__codelineno-47-205 href=#__codelineno-47-205></a>
<a id=__codelineno-47-206 name=__codelineno-47-206 href=#__codelineno-47-206></a><span class=c1># by default, ansible will use the &#39;linear&#39; strategy but you may want to try</span>
<a id=__codelineno-47-207 name=__codelineno-47-207 href=#__codelineno-47-207></a><span class=c1># another one</span>
<a id=__codelineno-47-208 name=__codelineno-47-208 href=#__codelineno-47-208></a><span class=c1>#strategy = free</span>
<a id=__codelineno-47-209 name=__codelineno-47-209 href=#__codelineno-47-209></a>
<a id=__codelineno-47-210 name=__codelineno-47-210 href=#__codelineno-47-210></a><span class=c1># by default callbacks are not loaded for /bin/ansible, enable this if you</span>
<a id=__codelineno-47-211 name=__codelineno-47-211 href=#__codelineno-47-211></a><span class=c1># want, for example, a notification or logging callback to also apply to</span>
<a id=__codelineno-47-212 name=__codelineno-47-212 href=#__codelineno-47-212></a><span class=c1># /bin/ansible runs</span>
<a id=__codelineno-47-213 name=__codelineno-47-213 href=#__codelineno-47-213></a><span class=c1>#bin_ansible_callbacks = False</span>
<a id=__codelineno-47-214 name=__codelineno-47-214 href=#__codelineno-47-214></a>
<a id=__codelineno-47-215 name=__codelineno-47-215 href=#__codelineno-47-215></a>
<a id=__codelineno-47-216 name=__codelineno-47-216 href=#__codelineno-47-216></a><span class=c1># don&#39;t like cows?  that&#39;s unfortunate.</span>
<a id=__codelineno-47-217 name=__codelineno-47-217 href=#__codelineno-47-217></a><span class=c1># set to 1 if you don&#39;t want cowsay support or export ANSIBLE_NOCOWS=1</span>
<a id=__codelineno-47-218 name=__codelineno-47-218 href=#__codelineno-47-218></a><span class=c1>#nocows = 1</span>
<a id=__codelineno-47-219 name=__codelineno-47-219 href=#__codelineno-47-219></a>
<a id=__codelineno-47-220 name=__codelineno-47-220 href=#__codelineno-47-220></a><span class=c1># set which cowsay stencil you&#39;d like to use by default. When set to &#39;random&#39;,</span>
<a id=__codelineno-47-221 name=__codelineno-47-221 href=#__codelineno-47-221></a><span class=c1># a random stencil will be selected for each task. The selection will be filtered</span>
<a id=__codelineno-47-222 name=__codelineno-47-222 href=#__codelineno-47-222></a><span class=c1># against the `cow_whitelist` option below.</span>
<a id=__codelineno-47-223 name=__codelineno-47-223 href=#__codelineno-47-223></a><span class=c1>#cow_selection = default</span>
<a id=__codelineno-47-224 name=__codelineno-47-224 href=#__codelineno-47-224></a><span class=c1>#cow_selection = random</span>
<a id=__codelineno-47-225 name=__codelineno-47-225 href=#__codelineno-47-225></a>
<a id=__codelineno-47-226 name=__codelineno-47-226 href=#__codelineno-47-226></a><span class=c1># when using the &#39;random&#39; option for cowsay, stencils will be restricted to this list.</span>
<a id=__codelineno-47-227 name=__codelineno-47-227 href=#__codelineno-47-227></a><span class=c1># it should be formatted as a comma-separated list with no spaces between names.</span>
<a id=__codelineno-47-228 name=__codelineno-47-228 href=#__codelineno-47-228></a><span class=c1># NOTE: line continuations here are for formatting purposes only, as the INI parser</span>
<a id=__codelineno-47-229 name=__codelineno-47-229 href=#__codelineno-47-229></a><span class=c1>#       in python does not support them.</span>
<a id=__codelineno-47-230 name=__codelineno-47-230 href=#__codelineno-47-230></a><span class=c1>#cow_whitelist=bud-frogs,bunny,cheese,daemon,default,dragon,elephant-in-snake,elephant,eyes,\</span>
<a id=__codelineno-47-231 name=__codelineno-47-231 href=#__codelineno-47-231></a><span class=c1>#              hellokitty,kitty,luke-koala,meow,milk,moofasa,moose,ren,sheep,small,stegosaurus,\</span>
<a id=__codelineno-47-232 name=__codelineno-47-232 href=#__codelineno-47-232></a><span class=c1>#              stimpy,supermilker,three-eyes,turkey,turtle,tux,udder,vader-koala,vader,www</span>
<a id=__codelineno-47-233 name=__codelineno-47-233 href=#__codelineno-47-233></a>
<a id=__codelineno-47-234 name=__codelineno-47-234 href=#__codelineno-47-234></a><span class=c1># don&#39;t like colors either?</span>
<a id=__codelineno-47-235 name=__codelineno-47-235 href=#__codelineno-47-235></a><span class=c1># set to 1 if you don&#39;t want colors, or export ANSIBLE_NOCOLOR=1</span>
<a id=__codelineno-47-236 name=__codelineno-47-236 href=#__codelineno-47-236></a><span class=c1>#nocolor = 1</span>
<a id=__codelineno-47-237 name=__codelineno-47-237 href=#__codelineno-47-237></a>
<a id=__codelineno-47-238 name=__codelineno-47-238 href=#__codelineno-47-238></a><span class=c1># if set to a persistent type (not &#39;memory&#39;, for example &#39;redis&#39;) fact values</span>
<a id=__codelineno-47-239 name=__codelineno-47-239 href=#__codelineno-47-239></a><span class=c1># from previous runs in Ansible will be stored.  This may be useful when</span>
<a id=__codelineno-47-240 name=__codelineno-47-240 href=#__codelineno-47-240></a><span class=c1># wanting to use, for example, IP information from one group of servers</span>
<a id=__codelineno-47-241 name=__codelineno-47-241 href=#__codelineno-47-241></a><span class=c1># without having to talk to them in the same playbook run to get their</span>
<a id=__codelineno-47-242 name=__codelineno-47-242 href=#__codelineno-47-242></a><span class=c1># current IP information.</span>
<a id=__codelineno-47-243 name=__codelineno-47-243 href=#__codelineno-47-243></a><span class=c1>#fact_caching = memory</span>
<a id=__codelineno-47-244 name=__codelineno-47-244 href=#__codelineno-47-244></a>
<a id=__codelineno-47-245 name=__codelineno-47-245 href=#__codelineno-47-245></a><span class=c1>#This option tells Ansible where to cache facts. The value is plugin dependent.</span>
<a id=__codelineno-47-246 name=__codelineno-47-246 href=#__codelineno-47-246></a><span class=c1>#For the jsonfile plugin, it should be a path to a local directory.</span>
<a id=__codelineno-47-247 name=__codelineno-47-247 href=#__codelineno-47-247></a><span class=c1>#For the redis plugin, the value is a host:port:database triplet: fact_caching_connection = localhost:6379:0</span>
<a id=__codelineno-47-248 name=__codelineno-47-248 href=#__codelineno-47-248></a>
<a id=__codelineno-47-249 name=__codelineno-47-249 href=#__codelineno-47-249></a><span class=c1>#fact_caching_connection=/tmp</span>
<a id=__codelineno-47-250 name=__codelineno-47-250 href=#__codelineno-47-250></a>
<a id=__codelineno-47-251 name=__codelineno-47-251 href=#__codelineno-47-251></a>
<a id=__codelineno-47-252 name=__codelineno-47-252 href=#__codelineno-47-252></a>
<a id=__codelineno-47-253 name=__codelineno-47-253 href=#__codelineno-47-253></a><span class=c1># retry files</span>
<a id=__codelineno-47-254 name=__codelineno-47-254 href=#__codelineno-47-254></a><span class=c1># When a playbook fails a .retry file can be created that will be placed in ~/</span>
<a id=__codelineno-47-255 name=__codelineno-47-255 href=#__codelineno-47-255></a><span class=c1># You can enable this feature by setting retry_files_enabled to True</span>
<a id=__codelineno-47-256 name=__codelineno-47-256 href=#__codelineno-47-256></a><span class=c1># and you can change the location of the files by setting retry_files_save_path</span>
<a id=__codelineno-47-257 name=__codelineno-47-257 href=#__codelineno-47-257></a>
<a id=__codelineno-47-258 name=__codelineno-47-258 href=#__codelineno-47-258></a><span class=c1>#retry_files_enabled = False</span>
<a id=__codelineno-47-259 name=__codelineno-47-259 href=#__codelineno-47-259></a><span class=c1>#retry_files_save_path = ~/.ansible-retry</span>
<a id=__codelineno-47-260 name=__codelineno-47-260 href=#__codelineno-47-260></a>
<a id=__codelineno-47-261 name=__codelineno-47-261 href=#__codelineno-47-261></a><span class=c1># squash actions</span>
<a id=__codelineno-47-262 name=__codelineno-47-262 href=#__codelineno-47-262></a><span class=c1># Ansible can optimise actions that call modules with list parameters</span>
<a id=__codelineno-47-263 name=__codelineno-47-263 href=#__codelineno-47-263></a><span class=c1># when looping. Instead of calling the module once per with_ item, the</span>
<a id=__codelineno-47-264 name=__codelineno-47-264 href=#__codelineno-47-264></a><span class=c1># module is called once with all items at once. Currently this only works</span>
<a id=__codelineno-47-265 name=__codelineno-47-265 href=#__codelineno-47-265></a><span class=c1># under limited circumstances, and only with parameters named &#39;name&#39;.</span>
<a id=__codelineno-47-266 name=__codelineno-47-266 href=#__codelineno-47-266></a><span class=c1>#squash_actions = apk,apt,dnf,homebrew,pacman,pkgng,yum,zypper</span>
<a id=__codelineno-47-267 name=__codelineno-47-267 href=#__codelineno-47-267></a>
<a id=__codelineno-47-268 name=__codelineno-47-268 href=#__codelineno-47-268></a><span class=c1># prevents logging of task data, off by default</span>
<a id=__codelineno-47-269 name=__codelineno-47-269 href=#__codelineno-47-269></a><span class=c1>#no_log = False</span>
<a id=__codelineno-47-270 name=__codelineno-47-270 href=#__codelineno-47-270></a>
<a id=__codelineno-47-271 name=__codelineno-47-271 href=#__codelineno-47-271></a><span class=c1># prevents logging of tasks, but only on the targets, data is still logged on the master/controller</span>
<a id=__codelineno-47-272 name=__codelineno-47-272 href=#__codelineno-47-272></a><span class=c1>#no_target_syslog = False</span>
<a id=__codelineno-47-273 name=__codelineno-47-273 href=#__codelineno-47-273></a>
<a id=__codelineno-47-274 name=__codelineno-47-274 href=#__codelineno-47-274></a><span class=c1># controls whether Ansible will raise an error or warning if a task has no</span>
<a id=__codelineno-47-275 name=__codelineno-47-275 href=#__codelineno-47-275></a><span class=c1># choice but to create world readable temporary files to execute a module on</span>
<a id=__codelineno-47-276 name=__codelineno-47-276 href=#__codelineno-47-276></a><span class=c1># the remote machine.  This option is False by default for security.  Users may</span>
<a id=__codelineno-47-277 name=__codelineno-47-277 href=#__codelineno-47-277></a><span class=c1># turn this on to have behaviour more like Ansible prior to 2.1.x.  See</span>
<a id=__codelineno-47-278 name=__codelineno-47-278 href=#__codelineno-47-278></a><span class=c1># https://docs.ansible.com/ansible/become.html#becoming-an-unprivileged-user</span>
<a id=__codelineno-47-279 name=__codelineno-47-279 href=#__codelineno-47-279></a><span class=c1># for more secure ways to fix this than enabling this option.</span>
<a id=__codelineno-47-280 name=__codelineno-47-280 href=#__codelineno-47-280></a><span class=c1>#allow_world_readable_tmpfiles = False</span>
<a id=__codelineno-47-281 name=__codelineno-47-281 href=#__codelineno-47-281></a>
<a id=__codelineno-47-282 name=__codelineno-47-282 href=#__codelineno-47-282></a><span class=c1># controls the compression level of variables sent to</span>
<a id=__codelineno-47-283 name=__codelineno-47-283 href=#__codelineno-47-283></a><span class=c1># worker processes. At the default of 0, no compression</span>
<a id=__codelineno-47-284 name=__codelineno-47-284 href=#__codelineno-47-284></a><span class=c1># is used. This value must be an integer from 0 to 9.</span>
<a id=__codelineno-47-285 name=__codelineno-47-285 href=#__codelineno-47-285></a><span class=c1>#var_compression_level = 9</span>
<a id=__codelineno-47-286 name=__codelineno-47-286 href=#__codelineno-47-286></a>
<a id=__codelineno-47-287 name=__codelineno-47-287 href=#__codelineno-47-287></a><span class=c1># controls what compression method is used for new-style ansible modules when</span>
<a id=__codelineno-47-288 name=__codelineno-47-288 href=#__codelineno-47-288></a><span class=c1># they are sent to the remote system.  The compression types depend on having</span>
<a id=__codelineno-47-289 name=__codelineno-47-289 href=#__codelineno-47-289></a><span class=c1># support compiled into both the controller&#39;s python and the client&#39;s python.</span>
<a id=__codelineno-47-290 name=__codelineno-47-290 href=#__codelineno-47-290></a><span class=c1># The names should match with the python Zipfile compression types:</span>
<a id=__codelineno-47-291 name=__codelineno-47-291 href=#__codelineno-47-291></a><span class=c1># * ZIP_STORED (no compression. available everywhere)</span>
<a id=__codelineno-47-292 name=__codelineno-47-292 href=#__codelineno-47-292></a><span class=c1># * ZIP_DEFLATED (uses zlib, the default)</span>
<a id=__codelineno-47-293 name=__codelineno-47-293 href=#__codelineno-47-293></a><span class=c1># These values may be set per host via the ansible_module_compression inventory</span>
<a id=__codelineno-47-294 name=__codelineno-47-294 href=#__codelineno-47-294></a><span class=c1># variable</span>
<a id=__codelineno-47-295 name=__codelineno-47-295 href=#__codelineno-47-295></a><span class=c1>#module_compression = &#39;ZIP_DEFLATED&#39;</span>
<a id=__codelineno-47-296 name=__codelineno-47-296 href=#__codelineno-47-296></a>
<a id=__codelineno-47-297 name=__codelineno-47-297 href=#__codelineno-47-297></a><span class=c1># This controls the cutoff point (in bytes) on --diff for files</span>
<a id=__codelineno-47-298 name=__codelineno-47-298 href=#__codelineno-47-298></a><span class=c1># set to 0 for unlimited (RAM may suffer!).</span>
<a id=__codelineno-47-299 name=__codelineno-47-299 href=#__codelineno-47-299></a><span class=c1>#max_diff_size = 1048576</span>
<a id=__codelineno-47-300 name=__codelineno-47-300 href=#__codelineno-47-300></a>
<a id=__codelineno-47-301 name=__codelineno-47-301 href=#__codelineno-47-301></a><span class=c1># This controls how ansible handles multiple --tags and --skip-tags arguments</span>
<a id=__codelineno-47-302 name=__codelineno-47-302 href=#__codelineno-47-302></a><span class=c1># on the CLI.  If this is True then multiple arguments are merged together.  If</span>
<a id=__codelineno-47-303 name=__codelineno-47-303 href=#__codelineno-47-303></a><span class=c1># it is False, then the last specified argument is used and the others are ignored.</span>
<a id=__codelineno-47-304 name=__codelineno-47-304 href=#__codelineno-47-304></a><span class=c1># This option will be removed in 2.8.</span>
<a id=__codelineno-47-305 name=__codelineno-47-305 href=#__codelineno-47-305></a><span class=c1>#merge_multiple_cli_flags = True</span>
<a id=__codelineno-47-306 name=__codelineno-47-306 href=#__codelineno-47-306></a>
<a id=__codelineno-47-307 name=__codelineno-47-307 href=#__codelineno-47-307></a><span class=c1># Controls showing custom stats at the end, off by default</span>
<a id=__codelineno-47-308 name=__codelineno-47-308 href=#__codelineno-47-308></a><span class=c1>#show_custom_stats = True</span>
<a id=__codelineno-47-309 name=__codelineno-47-309 href=#__codelineno-47-309></a>
<a id=__codelineno-47-310 name=__codelineno-47-310 href=#__codelineno-47-310></a><span class=c1># Controls which files to ignore when using a directory as inventory with</span>
<a id=__codelineno-47-311 name=__codelineno-47-311 href=#__codelineno-47-311></a><span class=c1># possibly multiple sources (both static and dynamic)</span>
<a id=__codelineno-47-312 name=__codelineno-47-312 href=#__codelineno-47-312></a><span class=c1>#inventory_ignore_extensions = ~, .orig, .bak, .ini, .cfg, .retry, .pyc, .pyo</span>
<a id=__codelineno-47-313 name=__codelineno-47-313 href=#__codelineno-47-313></a>
<a id=__codelineno-47-314 name=__codelineno-47-314 href=#__codelineno-47-314></a><span class=c1># This family of modules use an alternative execution path optimized for network appliances</span>
<a id=__codelineno-47-315 name=__codelineno-47-315 href=#__codelineno-47-315></a><span class=c1># only update this setting if you know how this works, otherwise it can break module execution</span>
<a id=__codelineno-47-316 name=__codelineno-47-316 href=#__codelineno-47-316></a><span class=c1>#network_group_modules=eos, nxos, ios, iosxr, junos, vyos</span>
<a id=__codelineno-47-317 name=__codelineno-47-317 href=#__codelineno-47-317></a>
<a id=__codelineno-47-318 name=__codelineno-47-318 href=#__codelineno-47-318></a><span class=c1># When enabled, this option allows lookups (via variables like {{lookup(&#39;foo&#39;)}} or when used as</span>
<a id=__codelineno-47-319 name=__codelineno-47-319 href=#__codelineno-47-319></a><span class=c1># a loop with `with_foo`) to return data that is not marked &quot;unsafe&quot;. This means the data may contain</span>
<a id=__codelineno-47-320 name=__codelineno-47-320 href=#__codelineno-47-320></a><span class=c1># jinja2 templating language which will be run through the templating engine.</span>
<a id=__codelineno-47-321 name=__codelineno-47-321 href=#__codelineno-47-321></a><span class=c1># ENABLING THIS COULD BE A SECURITY RISK</span>
<a id=__codelineno-47-322 name=__codelineno-47-322 href=#__codelineno-47-322></a><span class=c1>#allow_unsafe_lookups = False</span>
<a id=__codelineno-47-323 name=__codelineno-47-323 href=#__codelineno-47-323></a>
<a id=__codelineno-47-324 name=__codelineno-47-324 href=#__codelineno-47-324></a><span class=c1># set default errors for all plays</span>
<a id=__codelineno-47-325 name=__codelineno-47-325 href=#__codelineno-47-325></a><span class=c1>#any_errors_fatal = False</span>
<a id=__codelineno-47-326 name=__codelineno-47-326 href=#__codelineno-47-326></a>
<a id=__codelineno-47-327 name=__codelineno-47-327 href=#__codelineno-47-327></a><span class=k>[inventory]</span>
<a id=__codelineno-47-328 name=__codelineno-47-328 href=#__codelineno-47-328></a><span class=c1># enable inventory plugins, default: &#39;host_list&#39;, &#39;script&#39;, &#39;auto&#39;, &#39;yaml&#39;, &#39;ini&#39;, &#39;toml&#39;</span>
<a id=__codelineno-47-329 name=__codelineno-47-329 href=#__codelineno-47-329></a><span class=c1>#enable_plugins = host_list, virtualbox, yaml, constructed</span>
<a id=__codelineno-47-330 name=__codelineno-47-330 href=#__codelineno-47-330></a>
<a id=__codelineno-47-331 name=__codelineno-47-331 href=#__codelineno-47-331></a><span class=c1># ignore these extensions when parsing a directory as inventory source</span>
<a id=__codelineno-47-332 name=__codelineno-47-332 href=#__codelineno-47-332></a><span class=c1>#ignore_extensions = .pyc, .pyo, .swp, .bak, ~, .rpm, .md, .txt, ~, .orig, .ini, .cfg, .retry</span>
<a id=__codelineno-47-333 name=__codelineno-47-333 href=#__codelineno-47-333></a>
<a id=__codelineno-47-334 name=__codelineno-47-334 href=#__codelineno-47-334></a><span class=c1># ignore files matching these patterns when parsing a directory as inventory source</span>
<a id=__codelineno-47-335 name=__codelineno-47-335 href=#__codelineno-47-335></a><span class=c1>#ignore_patterns=</span>
<a id=__codelineno-47-336 name=__codelineno-47-336 href=#__codelineno-47-336></a>
<a id=__codelineno-47-337 name=__codelineno-47-337 href=#__codelineno-47-337></a><span class=c1># If &#39;true&#39; unparsed inventory sources become fatal errors, they are warnings otherwise.</span>
<a id=__codelineno-47-338 name=__codelineno-47-338 href=#__codelineno-47-338></a><span class=c1>#unparsed_is_failed=False</span>
<a id=__codelineno-47-339 name=__codelineno-47-339 href=#__codelineno-47-339></a>
<a id=__codelineno-47-340 name=__codelineno-47-340 href=#__codelineno-47-340></a><span class=k>[privilege_escalation]</span>
<a id=__codelineno-47-341 name=__codelineno-47-341 href=#__codelineno-47-341></a><span class=c1>#become=True</span>
<a id=__codelineno-47-342 name=__codelineno-47-342 href=#__codelineno-47-342></a><span class=c1>#become_method=sudo</span>
<a id=__codelineno-47-343 name=__codelineno-47-343 href=#__codelineno-47-343></a><span class=c1>#become_user=root</span>
<a id=__codelineno-47-344 name=__codelineno-47-344 href=#__codelineno-47-344></a><span class=c1>#become_ask_pass=False</span>
<a id=__codelineno-47-345 name=__codelineno-47-345 href=#__codelineno-47-345></a>
<a id=__codelineno-47-346 name=__codelineno-47-346 href=#__codelineno-47-346></a><span class=k>[paramiko_connection]</span>
<a id=__codelineno-47-347 name=__codelineno-47-347 href=#__codelineno-47-347></a>
<a id=__codelineno-47-348 name=__codelineno-47-348 href=#__codelineno-47-348></a><span class=c1># uncomment this line to cause the paramiko connection plugin to not record new host</span>
<a id=__codelineno-47-349 name=__codelineno-47-349 href=#__codelineno-47-349></a><span class=c1># keys encountered.  Increases performance on new host additions.  Setting works independently of the</span>
<a id=__codelineno-47-350 name=__codelineno-47-350 href=#__codelineno-47-350></a><span class=c1># host key checking setting above.</span>
<a id=__codelineno-47-351 name=__codelineno-47-351 href=#__codelineno-47-351></a><span class=c1>#record_host_keys=False</span>
<a id=__codelineno-47-352 name=__codelineno-47-352 href=#__codelineno-47-352></a>
<a id=__codelineno-47-353 name=__codelineno-47-353 href=#__codelineno-47-353></a><span class=c1># by default, Ansible requests a pseudo-terminal for commands executed under sudo. Uncomment this</span>
<a id=__codelineno-47-354 name=__codelineno-47-354 href=#__codelineno-47-354></a><span class=c1># line to disable this behaviour.</span>
<a id=__codelineno-47-355 name=__codelineno-47-355 href=#__codelineno-47-355></a><span class=c1>#pty=False</span>
<a id=__codelineno-47-356 name=__codelineno-47-356 href=#__codelineno-47-356></a>
<a id=__codelineno-47-357 name=__codelineno-47-357 href=#__codelineno-47-357></a><span class=c1># paramiko will default to looking for SSH keys initially when trying to</span>
<a id=__codelineno-47-358 name=__codelineno-47-358 href=#__codelineno-47-358></a><span class=c1># authenticate to remote devices.  This is a problem for some network devices</span>
<a id=__codelineno-47-359 name=__codelineno-47-359 href=#__codelineno-47-359></a><span class=c1># that close the connection after a key failure.  Uncomment this line to</span>
<a id=__codelineno-47-360 name=__codelineno-47-360 href=#__codelineno-47-360></a><span class=c1># disable the Paramiko look for keys function</span>
<a id=__codelineno-47-361 name=__codelineno-47-361 href=#__codelineno-47-361></a><span class=c1>#look_for_keys = False</span>
<a id=__codelineno-47-362 name=__codelineno-47-362 href=#__codelineno-47-362></a>
<a id=__codelineno-47-363 name=__codelineno-47-363 href=#__codelineno-47-363></a><span class=c1># When using persistent connections with Paramiko, the connection runs in a</span>
<a id=__codelineno-47-364 name=__codelineno-47-364 href=#__codelineno-47-364></a><span class=c1># background process.  If the host doesn&#39;t already have a valid SSH key, by</span>
<a id=__codelineno-47-365 name=__codelineno-47-365 href=#__codelineno-47-365></a><span class=c1># default Ansible will prompt to add the host key.  This will cause connections</span>
<a id=__codelineno-47-366 name=__codelineno-47-366 href=#__codelineno-47-366></a><span class=c1># running in background processes to fail.  Uncomment this line to have</span>
<a id=__codelineno-47-367 name=__codelineno-47-367 href=#__codelineno-47-367></a><span class=c1># Paramiko automatically add host keys.</span>
<a id=__codelineno-47-368 name=__codelineno-47-368 href=#__codelineno-47-368></a><span class=c1>#host_key_auto_add = True</span>
<a id=__codelineno-47-369 name=__codelineno-47-369 href=#__codelineno-47-369></a>
<a id=__codelineno-47-370 name=__codelineno-47-370 href=#__codelineno-47-370></a><span class=k>[ssh_connection]</span>
<a id=__codelineno-47-371 name=__codelineno-47-371 href=#__codelineno-47-371></a>
<a id=__codelineno-47-372 name=__codelineno-47-372 href=#__codelineno-47-372></a><span class=c1># ssh arguments to use</span>
<a id=__codelineno-47-373 name=__codelineno-47-373 href=#__codelineno-47-373></a><span class=c1># Leaving off ControlPersist will result in poor performance, so use</span>
<a id=__codelineno-47-374 name=__codelineno-47-374 href=#__codelineno-47-374></a><span class=c1># paramiko on older platforms rather than removing it, -C controls compression use</span>
<a id=__codelineno-47-375 name=__codelineno-47-375 href=#__codelineno-47-375></a><span class=c1>#ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s</span>
<a id=__codelineno-47-376 name=__codelineno-47-376 href=#__codelineno-47-376></a>
<a id=__codelineno-47-377 name=__codelineno-47-377 href=#__codelineno-47-377></a><span class=c1># The base directory for the ControlPath sockets.</span>
<a id=__codelineno-47-378 name=__codelineno-47-378 href=#__codelineno-47-378></a><span class=c1># This is the &quot;%(directory)s&quot; in the control_path option</span>
<a id=__codelineno-47-379 name=__codelineno-47-379 href=#__codelineno-47-379></a><span class=c1>#</span>
<a id=__codelineno-47-380 name=__codelineno-47-380 href=#__codelineno-47-380></a><span class=c1># Example:</span>
<a id=__codelineno-47-381 name=__codelineno-47-381 href=#__codelineno-47-381></a><span class=c1># control_path_dir = /tmp/.ansible/cp</span>
<a id=__codelineno-47-382 name=__codelineno-47-382 href=#__codelineno-47-382></a><span class=c1>#control_path_dir = ~/.ansible/cp</span>
<a id=__codelineno-47-383 name=__codelineno-47-383 href=#__codelineno-47-383></a>
<a id=__codelineno-47-384 name=__codelineno-47-384 href=#__codelineno-47-384></a><span class=c1># The path to use for the ControlPath sockets. This defaults to a hashed string of the hostname,</span>
<a id=__codelineno-47-385 name=__codelineno-47-385 href=#__codelineno-47-385></a><span class=c1># port and username (empty string in the config). The hash mitigates a common problem users</span>
<a id=__codelineno-47-386 name=__codelineno-47-386 href=#__codelineno-47-386></a><span class=c1># found with long hostnames and the conventional %(directory)s/ansible-ssh-%%h-%%p-%%r format.</span>
<a id=__codelineno-47-387 name=__codelineno-47-387 href=#__codelineno-47-387></a><span class=c1># In those cases, a &quot;too long for Unix domain socket&quot; ssh error would occur.</span>
<a id=__codelineno-47-388 name=__codelineno-47-388 href=#__codelineno-47-388></a><span class=c1>#</span>
<a id=__codelineno-47-389 name=__codelineno-47-389 href=#__codelineno-47-389></a><span class=c1># Example:</span>
<a id=__codelineno-47-390 name=__codelineno-47-390 href=#__codelineno-47-390></a><span class=c1># control_path = %(directory)s/%%h-%%r</span>
<a id=__codelineno-47-391 name=__codelineno-47-391 href=#__codelineno-47-391></a><span class=c1>#control_path =</span>
<a id=__codelineno-47-392 name=__codelineno-47-392 href=#__codelineno-47-392></a>
<a id=__codelineno-47-393 name=__codelineno-47-393 href=#__codelineno-47-393></a><span class=c1># Enabling pipelining reduces the number of SSH operations required to</span>
<a id=__codelineno-47-394 name=__codelineno-47-394 href=#__codelineno-47-394></a><span class=c1># execute a module on the remote server. This can result in a significant</span>
<a id=__codelineno-47-395 name=__codelineno-47-395 href=#__codelineno-47-395></a><span class=c1># performance improvement when enabled, however when using &quot;sudo:&quot; you must</span>
<a id=__codelineno-47-396 name=__codelineno-47-396 href=#__codelineno-47-396></a><span class=c1># first disable &#39;requiretty&#39; in /etc/sudoers</span>
<a id=__codelineno-47-397 name=__codelineno-47-397 href=#__codelineno-47-397></a><span class=c1>#</span>
<a id=__codelineno-47-398 name=__codelineno-47-398 href=#__codelineno-47-398></a><span class=c1># By default, this option is disabled to preserve compatibility with</span>
<a id=__codelineno-47-399 name=__codelineno-47-399 href=#__codelineno-47-399></a><span class=c1># sudoers configurations that have requiretty (the default on many distros).</span>
<a id=__codelineno-47-400 name=__codelineno-47-400 href=#__codelineno-47-400></a><span class=c1>#</span>
<a id=__codelineno-47-401 name=__codelineno-47-401 href=#__codelineno-47-401></a><span class=c1>#pipelining = False</span>
<a id=__codelineno-47-402 name=__codelineno-47-402 href=#__codelineno-47-402></a>
<a id=__codelineno-47-403 name=__codelineno-47-403 href=#__codelineno-47-403></a><span class=c1># Control the mechanism for transferring files (old)</span>
<a id=__codelineno-47-404 name=__codelineno-47-404 href=#__codelineno-47-404></a><span class=c1>#   * smart = try sftp and then try scp [default]</span>
<a id=__codelineno-47-405 name=__codelineno-47-405 href=#__codelineno-47-405></a><span class=c1>#   * True = use scp only</span>
<a id=__codelineno-47-406 name=__codelineno-47-406 href=#__codelineno-47-406></a><span class=c1>#   * False = use sftp only</span>
<a id=__codelineno-47-407 name=__codelineno-47-407 href=#__codelineno-47-407></a><span class=c1>#scp_if_ssh = smart</span>
<a id=__codelineno-47-408 name=__codelineno-47-408 href=#__codelineno-47-408></a>
<a id=__codelineno-47-409 name=__codelineno-47-409 href=#__codelineno-47-409></a><span class=c1># Control the mechanism for transferring files (new)</span>
<a id=__codelineno-47-410 name=__codelineno-47-410 href=#__codelineno-47-410></a><span class=c1># If set, this will override the scp_if_ssh option</span>
<a id=__codelineno-47-411 name=__codelineno-47-411 href=#__codelineno-47-411></a><span class=c1>#   * sftp  = use sftp to transfer files</span>
<a id=__codelineno-47-412 name=__codelineno-47-412 href=#__codelineno-47-412></a><span class=c1>#   * scp   = use scp to transfer files</span>
<a id=__codelineno-47-413 name=__codelineno-47-413 href=#__codelineno-47-413></a><span class=c1>#   * piped = use &#39;dd&#39; over SSH to transfer files</span>
<a id=__codelineno-47-414 name=__codelineno-47-414 href=#__codelineno-47-414></a><span class=c1>#   * smart = try sftp, scp, and piped, in that order [default]</span>
<a id=__codelineno-47-415 name=__codelineno-47-415 href=#__codelineno-47-415></a><span class=c1>#transfer_method = smart</span>
<a id=__codelineno-47-416 name=__codelineno-47-416 href=#__codelineno-47-416></a>
<a id=__codelineno-47-417 name=__codelineno-47-417 href=#__codelineno-47-417></a><span class=c1># if False, sftp will not use batch mode to transfer files. This may cause some</span>
<a id=__codelineno-47-418 name=__codelineno-47-418 href=#__codelineno-47-418></a><span class=c1># types of file transfer failures impossible to catch however, and should</span>
<a id=__codelineno-47-419 name=__codelineno-47-419 href=#__codelineno-47-419></a><span class=c1># only be disabled if your sftp version has problems with batch mode</span>
<a id=__codelineno-47-420 name=__codelineno-47-420 href=#__codelineno-47-420></a><span class=c1>#sftp_batch_mode = False</span>
<a id=__codelineno-47-421 name=__codelineno-47-421 href=#__codelineno-47-421></a>
<a id=__codelineno-47-422 name=__codelineno-47-422 href=#__codelineno-47-422></a><span class=c1># The -tt argument is passed to ssh when pipelining is not enabled because sudo </span>
<a id=__codelineno-47-423 name=__codelineno-47-423 href=#__codelineno-47-423></a><span class=c1># requires a tty by default. </span>
<a id=__codelineno-47-424 name=__codelineno-47-424 href=#__codelineno-47-424></a><span class=c1>#usetty = True</span>
<a id=__codelineno-47-425 name=__codelineno-47-425 href=#__codelineno-47-425></a>
<a id=__codelineno-47-426 name=__codelineno-47-426 href=#__codelineno-47-426></a><span class=c1># Number of times to retry an SSH connection to a host, in case of UNREACHABLE.</span>
<a id=__codelineno-47-427 name=__codelineno-47-427 href=#__codelineno-47-427></a><span class=c1># For each retry attempt, there is an exponential backoff,</span>
<a id=__codelineno-47-428 name=__codelineno-47-428 href=#__codelineno-47-428></a><span class=c1># so after the first attempt there is 1s wait, then 2s, 4s etc. up to 30s (max).</span>
<a id=__codelineno-47-429 name=__codelineno-47-429 href=#__codelineno-47-429></a><span class=c1>#retries = 3</span>
<a id=__codelineno-47-430 name=__codelineno-47-430 href=#__codelineno-47-430></a>
<a id=__codelineno-47-431 name=__codelineno-47-431 href=#__codelineno-47-431></a><span class=k>[persistent_connection]</span>
<a id=__codelineno-47-432 name=__codelineno-47-432 href=#__codelineno-47-432></a>
<a id=__codelineno-47-433 name=__codelineno-47-433 href=#__codelineno-47-433></a><span class=c1># Configures the persistent connection timeout value in seconds.  This value is</span>
<a id=__codelineno-47-434 name=__codelineno-47-434 href=#__codelineno-47-434></a><span class=c1># how long the persistent connection will remain idle before it is destroyed.</span>
<a id=__codelineno-47-435 name=__codelineno-47-435 href=#__codelineno-47-435></a><span class=c1># If the connection doesn&#39;t receive a request before the timeout value</span>
<a id=__codelineno-47-436 name=__codelineno-47-436 href=#__codelineno-47-436></a><span class=c1># expires, the connection is shutdown. The default value is 30 seconds.</span>
<a id=__codelineno-47-437 name=__codelineno-47-437 href=#__codelineno-47-437></a><span class=c1>#connect_timeout = 30</span>
<a id=__codelineno-47-438 name=__codelineno-47-438 href=#__codelineno-47-438></a>
<a id=__codelineno-47-439 name=__codelineno-47-439 href=#__codelineno-47-439></a><span class=c1># The command timeout value defines the amount of time to wait for a command</span>
<a id=__codelineno-47-440 name=__codelineno-47-440 href=#__codelineno-47-440></a><span class=c1># or RPC call before timing out. The value for the command timeout must</span>
<a id=__codelineno-47-441 name=__codelineno-47-441 href=#__codelineno-47-441></a><span class=c1># be less than the value of the persistent connection idle timeout (connect_timeout)</span>
<a id=__codelineno-47-442 name=__codelineno-47-442 href=#__codelineno-47-442></a><span class=c1># The default value is 30 second.</span>
<a id=__codelineno-47-443 name=__codelineno-47-443 href=#__codelineno-47-443></a><span class=c1>#command_timeout = 30</span>
<a id=__codelineno-47-444 name=__codelineno-47-444 href=#__codelineno-47-444></a>
<a id=__codelineno-47-445 name=__codelineno-47-445 href=#__codelineno-47-445></a><span class=k>[accelerate]</span>
<a id=__codelineno-47-446 name=__codelineno-47-446 href=#__codelineno-47-446></a><span class=c1>#accelerate_port = 5099</span>
<a id=__codelineno-47-447 name=__codelineno-47-447 href=#__codelineno-47-447></a><span class=c1>#accelerate_timeout = 30</span>
<a id=__codelineno-47-448 name=__codelineno-47-448 href=#__codelineno-47-448></a><span class=c1>#accelerate_connect_timeout = 5.0</span>
<a id=__codelineno-47-449 name=__codelineno-47-449 href=#__codelineno-47-449></a>
<a id=__codelineno-47-450 name=__codelineno-47-450 href=#__codelineno-47-450></a><span class=c1># The daemon timeout is measured in minutes. This time is measured</span>
<a id=__codelineno-47-451 name=__codelineno-47-451 href=#__codelineno-47-451></a><span class=c1># from the last activity to the accelerate daemon.</span>
<a id=__codelineno-47-452 name=__codelineno-47-452 href=#__codelineno-47-452></a><span class=c1>#accelerate_daemon_timeout = 30</span>
<a id=__codelineno-47-453 name=__codelineno-47-453 href=#__codelineno-47-453></a>
<a id=__codelineno-47-454 name=__codelineno-47-454 href=#__codelineno-47-454></a><span class=c1># If set to yes, accelerate_multi_key will allow multiple</span>
<a id=__codelineno-47-455 name=__codelineno-47-455 href=#__codelineno-47-455></a><span class=c1># private keys to be uploaded to it, though each user must</span>
<a id=__codelineno-47-456 name=__codelineno-47-456 href=#__codelineno-47-456></a><span class=c1># have access to the system via SSH to add a new key. The default</span>
<a id=__codelineno-47-457 name=__codelineno-47-457 href=#__codelineno-47-457></a><span class=c1># is &quot;no&quot;.</span>
<a id=__codelineno-47-458 name=__codelineno-47-458 href=#__codelineno-47-458></a><span class=c1>#accelerate_multi_key = yes</span>
<a id=__codelineno-47-459 name=__codelineno-47-459 href=#__codelineno-47-459></a>
<a id=__codelineno-47-460 name=__codelineno-47-460 href=#__codelineno-47-460></a><span class=k>[selinux]</span>
<a id=__codelineno-47-461 name=__codelineno-47-461 href=#__codelineno-47-461></a><span class=c1># file systems that require special treatment when dealing with security context</span>
<a id=__codelineno-47-462 name=__codelineno-47-462 href=#__codelineno-47-462></a><span class=c1># the default behaviour that copies the existing context or uses the user default</span>
<a id=__codelineno-47-463 name=__codelineno-47-463 href=#__codelineno-47-463></a><span class=c1># needs to be changed to use the file system dependent context.</span>
<a id=__codelineno-47-464 name=__codelineno-47-464 href=#__codelineno-47-464></a><span class=c1>#special_context_filesystems=nfs,vboxsf,fuse,ramfs,9p,vfat</span>
<a id=__codelineno-47-465 name=__codelineno-47-465 href=#__codelineno-47-465></a>
<a id=__codelineno-47-466 name=__codelineno-47-466 href=#__codelineno-47-466></a><span class=c1># Set this to yes to allow libvirt_lxc connections to work without SELinux.</span>
<a id=__codelineno-47-467 name=__codelineno-47-467 href=#__codelineno-47-467></a><span class=c1>#libvirt_lxc_noseclabel = yes</span>
<a id=__codelineno-47-468 name=__codelineno-47-468 href=#__codelineno-47-468></a>
<a id=__codelineno-47-469 name=__codelineno-47-469 href=#__codelineno-47-469></a><span class=k>[colors]</span>
<a id=__codelineno-47-470 name=__codelineno-47-470 href=#__codelineno-47-470></a><span class=c1>#highlight = white</span>
<a id=__codelineno-47-471 name=__codelineno-47-471 href=#__codelineno-47-471></a><span class=c1>#verbose = blue</span>
<a id=__codelineno-47-472 name=__codelineno-47-472 href=#__codelineno-47-472></a><span class=c1>#warn = bright purple</span>
<a id=__codelineno-47-473 name=__codelineno-47-473 href=#__codelineno-47-473></a><span class=c1>#error = red</span>
<a id=__codelineno-47-474 name=__codelineno-47-474 href=#__codelineno-47-474></a><span class=c1>#debug = dark gray</span>
<a id=__codelineno-47-475 name=__codelineno-47-475 href=#__codelineno-47-475></a><span class=c1>#deprecate = purple</span>
<a id=__codelineno-47-476 name=__codelineno-47-476 href=#__codelineno-47-476></a><span class=c1>#skip = cyan</span>
<a id=__codelineno-47-477 name=__codelineno-47-477 href=#__codelineno-47-477></a><span class=c1>#unreachable = red</span>
<a id=__codelineno-47-478 name=__codelineno-47-478 href=#__codelineno-47-478></a><span class=c1>#ok = green</span>
<a id=__codelineno-47-479 name=__codelineno-47-479 href=#__codelineno-47-479></a><span class=c1>#changed = yellow</span>
<a id=__codelineno-47-480 name=__codelineno-47-480 href=#__codelineno-47-480></a><span class=c1>#diff_add = green</span>
<a id=__codelineno-47-481 name=__codelineno-47-481 href=#__codelineno-47-481></a><span class=c1>#diff_remove = red</span>
<a id=__codelineno-47-482 name=__codelineno-47-482 href=#__codelineno-47-482></a><span class=c1>#diff_lines = cyan</span>
<a id=__codelineno-47-483 name=__codelineno-47-483 href=#__codelineno-47-483></a>
<a id=__codelineno-47-484 name=__codelineno-47-484 href=#__codelineno-47-484></a>
<a id=__codelineno-47-485 name=__codelineno-47-485 href=#__codelineno-47-485></a><span class=k>[diff]</span>
<a id=__codelineno-47-486 name=__codelineno-47-486 href=#__codelineno-47-486></a><span class=c1># Always print diff when running ( same as always running with -D/--diff )</span>
<a id=__codelineno-47-487 name=__codelineno-47-487 href=#__codelineno-47-487></a><span class=c1># always = no</span>
<a id=__codelineno-47-488 name=__codelineno-47-488 href=#__codelineno-47-488></a>
<a id=__codelineno-47-489 name=__codelineno-47-489 href=#__codelineno-47-489></a><span class=c1># Set how many context lines to show in diff</span>
<a id=__codelineno-47-490 name=__codelineno-47-490 href=#__codelineno-47-490></a><span class=c1># context = 3</span>
</code></pre></div> <h4 id=常用设置>常用设置<a class=headerlink href=#常用设置 title="Permanent link">&para;</a></h4> <p>下列列出了常用的一些设置，可用作参考。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=k>[defaults]</span>
<a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a><span class=c1># Set the log_path</span>
<a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=na>log_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>~/ansible.log</span>
<a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>
<a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=c1># Additional default options for Ansible</span>
<a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a><span class=na>forks</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>20</span>
<a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=na>host_key_checking</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>False</span>
<a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=na>retry_files_enabled</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>False</span>
<a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=na>retry_files_save_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>~/ansible-installer-retries</span>
<a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a><span class=na>nocows</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>True</span>
<a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=na>remote_user</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>root</span>
<a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=na>roles_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>roles/</span>
<a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=na>gathering</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>smart</span>
<a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a><span class=na>fact_caching</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>jsonfile</span>
<a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a><span class=na>fact_caching_connection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$HOME/ansible/facts</span>
<a id=__codelineno-48-16 name=__codelineno-48-16 href=#__codelineno-48-16></a><span class=na>fact_caching_timeout</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>600</span>
<a id=__codelineno-48-17 name=__codelineno-48-17 href=#__codelineno-48-17></a><span class=na>callback_whitelist</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>profile_tasks</span>
<a id=__codelineno-48-18 name=__codelineno-48-18 href=#__codelineno-48-18></a><span class=na>inventory_ignore_extensions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>secrets.py, .pyc, .cfg, .crt, .ini</span>
<a id=__codelineno-48-19 name=__codelineno-48-19 href=#__codelineno-48-19></a><span class=c1># work around privilege escalation timeouts in ansible:</span>
<a id=__codelineno-48-20 name=__codelineno-48-20 href=#__codelineno-48-20></a><span class=na>timeout</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>30</span>
<a id=__codelineno-48-21 name=__codelineno-48-21 href=#__codelineno-48-21></a><span class=na>host_key_checking</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>False</span>
<a id=__codelineno-48-22 name=__codelineno-48-22 href=#__codelineno-48-22></a>
<a id=__codelineno-48-23 name=__codelineno-48-23 href=#__codelineno-48-23></a><span class=c1># Uncomment to use the provided example inventory</span>
<a id=__codelineno-48-24 name=__codelineno-48-24 href=#__codelineno-48-24></a><span class=c1>#inventory = inventory/hosts.example</span>
<a id=__codelineno-48-25 name=__codelineno-48-25 href=#__codelineno-48-25></a>
<a id=__codelineno-48-26 name=__codelineno-48-26 href=#__codelineno-48-26></a><span class=na>ansible_managed</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>Ansible managed: {file} modified by {uid} on {host}</span>
<a id=__codelineno-48-27 name=__codelineno-48-27 href=#__codelineno-48-27></a>
<a id=__codelineno-48-28 name=__codelineno-48-28 href=#__codelineno-48-28></a><span class=k>[inventory]</span>
<a id=__codelineno-48-29 name=__codelineno-48-29 href=#__codelineno-48-29></a><span class=c1># fail more helpfully when the inventory file does not parse (Ansible 2.4+)</span>
<a id=__codelineno-48-30 name=__codelineno-48-30 href=#__codelineno-48-30></a><span class=na>unparsed_is_failed</span><span class=o>=</span><span class=s>true</span>
<a id=__codelineno-48-31 name=__codelineno-48-31 href=#__codelineno-48-31></a>
<a id=__codelineno-48-32 name=__codelineno-48-32 href=#__codelineno-48-32></a><span class=c1># Additional ssh options for OpenShift Ansible</span>
<a id=__codelineno-48-33 name=__codelineno-48-33 href=#__codelineno-48-33></a><span class=k>[ssh_connection]</span>
<a id=__codelineno-48-34 name=__codelineno-48-34 href=#__codelineno-48-34></a><span class=na>retries</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>15</span>
<a id=__codelineno-48-35 name=__codelineno-48-35 href=#__codelineno-48-35></a><span class=na>pipelining</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>True</span>
<a id=__codelineno-48-36 name=__codelineno-48-36 href=#__codelineno-48-36></a><span class=na>ssh_args</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>-o ControlMaster=auto -o ControlPersist=600s</span>
<a id=__codelineno-48-37 name=__codelineno-48-37 href=#__codelineno-48-37></a><span class=na>timeout</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>10</span>
<a id=__codelineno-48-38 name=__codelineno-48-38 href=#__codelineno-48-38></a><span class=c1># shorten the ControlPath which is often too long; when it is,</span>
<a id=__codelineno-48-39 name=__codelineno-48-39 href=#__codelineno-48-39></a><span class=c1># ssh connection reuse silently fails, making everything slower.</span>
<a id=__codelineno-48-40 name=__codelineno-48-40 href=#__codelineno-48-40></a><span class=na>control_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>%(directory)s/%%h-%%r</span>
</code></pre></div> <h3 id=ansible-config>ansible-config<a class=headerlink href=#ansible-config title="Permanent link">&para;</a></h3> <p>使用 <code>ansible-config</code> 程序可以查看所有可用的配置设置、以及它们的默认值、还有它们的当前值来自何处。 </p> <p><strong>查看当前配置文件</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a>ansible-config<span class=w> </span>view
</code></pre></div> <p><strong>查看当前配置</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a>ansible-config<span class=w> </span>dump
</code></pre></div> <p><strong>查看配置项说明</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a>ansible-config<span class=w> </span>list
</code></pre></div> <h3 id=配置的优先级>配置的优先级<a class=headerlink href=#配置的优先级 title="Permanent link">&para;</a></h3> <p><strong>Ansible</strong> 提供了四种资源来控制它的行为。按照从最低(最容易被覆盖)到最高(覆盖所有其他)的优先级顺序，这些类别是 </p> <ul> <li> <p>Configuration settings 配置文件设置</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><strong>Ansible</strong> 配置文件拥有最低的优先级，但文件可以存放在不同的位置，其中只有一个可用。在下列列表中，ansible从上往下依次检查，检查到哪个可用就用哪个。</p> <ul> <li><code>ANSIBLE_CONFIG</code> 环境变量，可以定义配置文件的位置</li> <li><code>./ansible.cfg</code> 存在于当前工作目录</li> <li><code>~/.ansible.cfg</code> 存在与当前用户家目录</li> <li><code>/etc/ansible/ansible.cfg</code></li> </ul> </div> </li> <li> <p>Command-line options 命令行选项</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>命令行选项将覆盖任何配置文件的设置 <div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a><span class=c1># 指定多个-u时，后面的覆盖前面</span>
<a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a><span class="l l-Scalar l-Scalar-Plain">ansible -u mike -m ping myhost -u carol</span>
<a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class="l l-Scalar l-Scalar-Plain"># 可以指定多个-i选项</span>
<a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class="l l-Scalar l-Scalar-Plain">ansible -i /path/inventory1 -i /path/inventory2 -m ping all</span>
</code></pre></div></p> </div> <ul> <li>Playbook keywords playbook关键字</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>playbook关键字 将覆盖命令行选项和配置文件中的设置 在playbook关键字中，优先级与playbook本身一起变动;越具体的设置越能战胜越笼统的设置，如 <code>tasks &gt; blocks/includes/imports/roles &gt; play</code> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a><span class=w>  </span><span class=nt>connection</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ssh</span>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">This task uses ssh.</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a><span class=w>      </span><span class=nt>ping</span><span class=p>:</span>
<a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">This task uses paramiko.</span>
<a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=w>      </span><span class=nt>connection</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">paramiko</span>
<a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=w>      </span><span class=nt>ping</span><span class=p>:</span>
</code></pre></div></p> </div> <ul> <li>Variables 变量</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>变量将覆盖playbook关键字、命令行选项和配置文件中设置 在playbook中使用<code>vars</code> 设置变量，其中变量优先级也是遵守具体优先的策略。 <div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>hosts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cloud</span>
<a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a><span class=w>  </span><span class=nt>gather_facts</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a><span class=w>  </span><span class=nt>become</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">yes</span>
<a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a><span class=w>  </span><span class=nt>vars</span><span class=p>:</span>
<a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a><span class=w>    </span><span class=nt>ansible_become_user</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
<a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a><span class=w>  </span><span class=nt>tasks</span><span class=p>:</span>
<a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">This task uses admin as the become user.</span>
<a id=__codelineno-54-8 name=__codelineno-54-8 href=#__codelineno-54-8></a><span class=w>      </span><span class=nt>dnf</span><span class=p>:</span>
<a id=__codelineno-54-9 name=__codelineno-54-9 href=#__codelineno-54-9></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">some-service</span>
<a id=__codelineno-54-10 name=__codelineno-54-10 href=#__codelineno-54-10></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
<a id=__codelineno-54-11 name=__codelineno-54-11 href=#__codelineno-54-11></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>block</span><span class=p>:</span>
<a id=__codelineno-54-12 name=__codelineno-54-12 href=#__codelineno-54-12></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">This task uses service-admin as the become user.</span>
<a id=__codelineno-54-13 name=__codelineno-54-13 href=#__codelineno-54-13></a><span class=w>          </span><span class=c1># a task to configure the new service</span>
<a id=__codelineno-54-14 name=__codelineno-54-14 href=#__codelineno-54-14></a><span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">This task also uses service-admin as the become user, defined in the block.</span>
<a id=__codelineno-54-15 name=__codelineno-54-15 href=#__codelineno-54-15></a><span class=w>          </span><span class=c1># second task to configure the service</span>
<a id=__codelineno-54-16 name=__codelineno-54-16 href=#__codelineno-54-16></a><span class=w>      </span><span class=nt>vars</span><span class=p>:</span>
<a id=__codelineno-54-17 name=__codelineno-54-17 href=#__codelineno-54-17></a><span class=w>        </span><span class=nt>ansible_become_user</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">service-admin</span>
<a id=__codelineno-54-18 name=__codelineno-54-18 href=#__codelineno-54-18></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">This task (outside of the block) uses admin as the become user again.</span>
<a id=__codelineno-54-19 name=__codelineno-54-19 href=#__codelineno-54-19></a><span class=w>      </span><span class=nt>service</span><span class=p>:</span>
<a id=__codelineno-54-20 name=__codelineno-54-20 href=#__codelineno-54-20></a><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">some-service</span>
<a id=__codelineno-54-21 name=__codelineno-54-21 href=#__codelineno-54-21></a><span class=w>        </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">restarted</span>
</code></pre></div> 在命令行工具中使用 <code>-e</code> 指定变量时，将覆盖playbook中的变量 <div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a>ansible<span class=w> </span>-u<span class=w> </span>carol<span class=w> </span>-e<span class=w> </span><span class=s1>&#39;ansible_user=brian&#39;</span><span class=w> </span>-a<span class=w> </span>whoami<span class=w> </span>all
</code></pre></div></p> </div> </li> </ul> <h3 id=配置项>配置项<a class=headerlink href=#配置项 title="Permanent link">&para;</a></h3> <p>列出<code>ansible</code>目前版本（<code>2.9.6</code>）可用的选项配置</p> <table> <thead> <tr> <th>环境变量</th> <th align=left>Ini key</th> <th>Ini section</th> <th>类型</th> <th>默认值</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>ANSIBLE_ACTION_WARNINGS</td> <td align=left>action_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>输出任务的警告信息</td> </tr> <tr> <td>ANSIBLE_AGNOSTIC_BECOME_PROMPT</td> <td align=left>agnostic_become_prompt</td> <td>privilege_escalation</td> <td>boolean</td> <td>True</td> <td>输出权限提升提示</td> </tr> <tr> <td></td> <td align=left>allow_world_readable_tmpfiles</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否在目标服务器上创建临时目录时显示警告而不是失败。</td> </tr> <tr> <td>ANSIBLE_CONNECTION_PATH</td> <td align=left>ansible_connection_path</td> <td>persistent_connection</td> <td>path</td> <td>None</td> <td>指定在何处查找ansibl-connection脚本，为空时，将在当前目录查找</td> </tr> <tr> <td>ANSIBLE_COW_PATH</td> <td align=left>cowpath</td> <td>defaults</td> <td>string</td> <td>None</td> <td>指定一个自定义cowsay路径</td> </tr> <tr> <td>ANSIBLE_COW_SELECTION</td> <td align=left>cow_selection</td> <td>defaults</td> <td></td> <td>defaults</td> <td>选择一个特定的cowsay模板</td> </tr> <tr> <td>ANSIBLE_COW_WHITELIST</td> <td align=left>cow_whitelist</td> <td>defaults</td> <td>list</td> <td>[‘bud-frogs<code>, ‘bunny</code>, ‘cheese<code>, ‘daemon</code>, ‘default<code>, ‘dragon</code>, ‘elephant-in-snake<code>, ‘elephant</code>, ‘eyes<code>, ‘hellokitty</code>, ‘kitty<code>, ‘luke-koala</code>, ‘meow<code>, ‘milk</code>, ‘moofasa<code>, ‘moose</code>, ‘ren<code>, ‘sheep</code>, ‘small<code>, ‘stegosaurus</code>, ‘stimpy<code>, ‘supermilker</code>, ‘three-eyes<code>, ‘turkey</code>, ‘turtle<code>, ‘tux</code>, ‘udder<code>, ‘vader-koala</code>, ‘vader<code>, ‘www</code>]</td> <td>Cowsay模板白名单</td> </tr> <tr> <td>ANSIBLE_FORCE_COLOR</td> <td align=left>force_color</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>强制输出颜色</td> </tr> <tr> <td>ANSIBLE_NOCOLOR</td> <td align=left>nocolor</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否允许着色显示信息。</td> </tr> <tr> <td>ANSIBLE_NOCOWS</td> <td align=left>nocows</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>如果你已经安装了cowsay，但是想避免使用<code>cows</code>，请使用这个。</td> </tr> <tr> <td>ANSIBLE_PIPELINING</td> <td align=left>pipelining</td> <td>connection</td> <td>boolean</td> <td>False</td> <td>连接管道</td> </tr> <tr> <td>ANSIBLE_SSH_PIPELINING</td> <td align=left>pipelining</td> <td>ssh_connection</td> <td>boolean</td> <td>False</td> <td>启用管道模式， 启用后可以提高性能。</td> </tr> <tr> <td>ANSIBLE_SSH_ARGS</td> <td align=left>ssh_args</td> <td>ssh_connection</td> <td></td> <td>-C -o ControlMaster=auto -o ControlPersist=60s</td> <td>ssh参数</td> </tr> <tr> <td>ANSIBLE_CONNECTION_PATH</td> <td align=left>ansible_connection_path</td> <td>persistent_connection</td> <td>path</td> <td>None</td> <td>指定在何处查找ansibl-connection脚本，为空时，将在当前目录查找</td> </tr> <tr> <td>ANSIBLE_SSH_CONTROL_PATH_DIR</td> <td align=left>control_path_dir</td> <td>ssh_connection</td> <td></td> <td>~/.ansible/cp</td> <td>ssh控制路径的目录</td> </tr> <tr> <td>ANSIBLE_SSH_CONTROL_PATH</td> <td align=left>control_path</td> <td>ssh_connection</td> <td></td> <td>None</td> <td>这是保存ssh的ControlPath套接字的位置，它使用ssh的变量替换。</td> </tr> <tr> <td>ANSIBLE_SSH_EXECUTABLE</td> <td align=left>ssh_executable</td> <td>ssh_connection</td> <td></td> <td>ssh</td> <td>定义了ssh二进制文件的位置</td> </tr> <tr> <td>ANSIBLE_SSH_RETRIES</td> <td align=left>retries</td> <td>ssh_connection</td> <td>integer</td> <td>0</td> <td>ssh尝试建立连接的次数</td> </tr> <tr> <td>ANSIBLE_ANY_ERRORS_FATAL</td> <td align=left>any_errors_fatal</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>为True，则任务失败将被视为致命错误，会立即停止执行</td> </tr> <tr> <td>ANSIBLE_BECOME_ALLOW_SAME_USER</td> <td align=left>become_allow_same_user</td> <td>privilege_escalation</td> <td>boolean</td> <td>False</td> <td>当连接用户和become用户一致时，是否跳过become</td> </tr> <tr> <td>ANSIBLE_BECOME_PLUGINS</td> <td align=left>become_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/become:/usr/share/ansible/plugins/become</td> <td>become 插件路径</td> </tr> <tr> <td>ANSIBLE_INVENTORY</td> <td align=left>inventory</td> <td>defaults</td> <td>pathlist</td> <td>/etc/ansible/hosts</td> <td>逗号分隔的主机文件列表</td> </tr> <tr> <td>ANSIBLE_LIBRARY</td> <td align=left>library</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/modules:/usr/share/ansible/plugins/modules</td> <td>冒号分隔的模块路径</td> </tr> <tr> <td>ANSIBLE_MODULE_UTILS</td> <td align=left>module_utils</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/module_utils:/usr/share/ansible/plugins/module_utils</td> <td>用于存放模块共享的文件</td> </tr> <tr> <td></td> <td align=left>remote_tmp</td> <td>defaults</td> <td>tmppath</td> <td>~/.ansible/tmp</td> <td>节点的临时目录</td> </tr> <tr> <td>ANSIBLE_LOCAL_TEMP</td> <td align=left>local_tmp</td> <td>defaults</td> <td>tmppath</td> <td>~/.ansible/tmp</td> <td>控制端的临时目录</td> </tr> <tr> <td></td> <td align=left>plugin_filters_cfg</td> <td>defaults</td> <td></td> <td>/etc/ansible/plugin_filters.yml</td> <td>插件过滤器文件</td> </tr> <tr> <td>ANSIBLE_FORKS</td> <td align=left>forks</td> <td>defaults</td> <td>integer</td> <td>5</td> <td>在目标主机上执行任务的最大数。</td> </tr> <tr> <td>ANSIBLE_POLL_INTERVAL</td> <td align=left>poll_interval</td> <td>defaults</td> <td>integer</td> <td>15</td> <td>指定异步任务的轮询间隔时间</td> </tr> <tr> <td>ANSIBLE_SUDO_USER</td> <td align=left>sudo_user</td> <td>defaults</td> <td></td> <td>None</td> <td>sudo的用户，将在2.8废弃</td> </tr> <tr> <td>ANSIBLE_ASK_SUDO_PASS</td> <td align=left>ask_sudo_pass</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否提示输入sudo用户的密码，将在2.8废弃</td> </tr> <tr> <td>ANSIBLE_ASK_PASS</td> <td align=left>ask_pass</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否提示输入ssh连接密码，使用ssh秘钥链接不需要打开此项。</td> </tr> <tr> <td>ANSIBLE_TRANSPORT</td> <td align=left>transport</td> <td>defaults</td> <td></td> <td>smart</td> <td>默认连接插件</td> </tr> <tr> <td>ANSIBLE_REMOTE_PORT</td> <td align=left>remote_port</td> <td>defaults</td> <td>integer</td> <td>None</td> <td>用于远程连接的端口，为空时，将用插件默认值</td> </tr> <tr> <td>ANSIBLE_MODULE_LANG</td> <td align=left>module_lang</td> <td>defaults</td> <td></td> <td>{{ CONTROLLER_LANG }}</td> <td>在目标上执行时用于模块的语言区域设置。 如果为空，它会尝试将其自身设置为控制器上的LANG环境变量。仅在module_set_locale为ture的时候。</td> </tr> <tr> <td>ANSIBLE_MODULE_SET_LOCALE</td> <td align=left>module_set_locale</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>控制在目标上执行时是否为模块设置语言环境。</td> </tr> <tr> <td>ANSIBLE_GATHERING</td> <td align=left>gathering</td> <td>defaults</td> <td></td> <td>implicit</td> <td>是否收集fact信息</td> </tr> <tr> <td>ANSIBLE_GATHER_SUBSET</td> <td align=left>gather_subset</td> <td>defaults</td> <td></td> <td>all</td> <td>设置收集fact的分组模块</td> </tr> <tr> <td>ANSIBLE_GATHER_TIMEOUT</td> <td align=left>gather_timeout</td> <td>defaults</td> <td>integer</td> <td>10</td> <td>设置超时值，以秒为单位。</td> </tr> <tr> <td>ANSIBLE_ROLES_PATH</td> <td align=left>roles_path</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles</td> <td>搜索roles的路径</td> </tr> <tr> <td>ANSIBLE_HOST_KEY_CHECKING</td> <td align=left>host_key_checking</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>连接主机时是否进行主机密钥检查</td> </tr> <tr> <td>ANSIBLE_STDOUT_CALLBACK</td> <td align=left>stdout_callback</td> <td>defaults</td> <td></td> <td>defaults</td> <td>设置ansible显示输出的callback，只能设置一个。</td> </tr> <tr> <td>ANSIBLE_CALLBACK_WHITELIST</td> <td align=left>callback_whitelist</td> <td>defaults</td> <td>list</td> <td>[]</td> <td>callback的白名单列表，只有在这个列表中，ansible才会使用。</td> </tr> <tr> <td>ANSIBLE_TASK_INCLUDES_STATIC</td> <td align=left>task_includes_static</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否将include设置为静态包含。2.8废弃</td> </tr> <tr> <td>ANSIBLE_HANDLER_INCLUDES_STATIC</td> <td align=left>handler_includes_static</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否将include设置为静态包含。2.8废弃</td> </tr> <tr> <td>ANSIBLE_ERROR_ON_MISSING_HANDLER</td> <td align=left>error_on_missing_handler</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否在handler程序缺少或错误的时候，提示警告而不是错误。</td> </tr> <tr> <td>ANSIBLE_SUDO_EXE</td> <td align=left>sudo_exe</td> <td>defaults</td> <td></td> <td>sudo</td> <td>指定一个“sudo”可执行文件，2.8废弃</td> </tr> <tr> <td>ANSIBLE_SUDO_FLAGS</td> <td align=left>sudo_flags</td> <td>defaults</td> <td></td> <td>-H -S -n</td> <td>指定sudo的参数，2.8废弃</td> </tr> <tr> <td>ANSIBLE_TIMEOUT</td> <td align=left>Timeout</td> <td>defaults</td> <td>integer</td> <td>10</td> <td>连接插件使用的默认超时时间。</td> </tr> <tr> <td>ANSIBLE_REMOTE_USER</td> <td align=left>remote_user</td> <td>defaults</td> <td></td> <td>None</td> <td>设置目标的登录用户，如果为空，则为运行ansible的用户</td> </tr> <tr> <td>ANSIBLE_LOG_PATH</td> <td align=left>log_path</td> <td>defaults</td> <td></td> <td>None</td> <td>在控制器上的日志文件路径，用于记录ansible运行的日志。</td> </tr> <tr> <td></td> <td align=left>module_name</td> <td>defaults</td> <td></td> <td>command</td> <td>AdHoc命令一起使用，没有指定-m模块的就用这个默认值</td> </tr> <tr> <td>ANSIBLE_EXECUTABLE</td> <td align=left>executable</td> <td>defaults</td> <td></td> <td>/bin/sh</td> <td>在节点上，ansible执行的shell解释器。</td> </tr> <tr> <td>ANSIBLE_HASH_BEHAVIOUR</td> <td align=left>hash_behaviour</td> <td>defaults</td> <td>string</td> <td>replace</td> <td>控制Ansible中的变量合并方式。</td> </tr> <tr> <td>ANSIBLE_PRIVATE_ROLE_VARS</td> <td align=left>private_role_vars</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>使角色变量无法从其他角色访问。</td> </tr> <tr> <td>ANSIBLE_JINJA2_EXTENSIONS</td> <td align=left>jinja2_extensions</td> <td>defaults</td> <td></td> <td>[]</td> <td>启用额外的Jinja2扩展列表</td> </tr> <tr> <td>ANSIBLE_PRIVATE_KEY_FILE</td> <td align=left>private_key_file</td> <td>defaults</td> <td></td> <td>None</td> <td>连接证书或密码，-private-key的默认值</td> </tr> <tr> <td>ANSIBLE_VAULT_PASSWORD_FILE</td> <td align=left>vault_password_file</td> <td>defaults</td> <td>path</td> <td>None</td> <td>要使用的vault密码文件。 等同于-vault-password-file或-vault-id</td> </tr> <tr> <td></td> <td align=left>ansible_managed</td> <td>defaults</td> <td></td> <td>Ansible managed</td> <td>在模板ansible_managed的值</td> </tr> <tr> <td>DISPLAY_SKIPPED_HOSTS</td> <td align=left>display_skipped_hosts</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>在默认callback插件中是否显示跳过的主机信息。</td> </tr> <tr> <td>ANSIBLE_DISPLAY_ARGS_TO_STDOUT</td> <td align=left>display_args_to_stdout</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否在callback中显示任务的参数信息</td> </tr> <tr> <td>ANSIBLE_ERROR_ON_UNDEFINED_VARS</td> <td align=left>error_on_undefined_vars</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>模板中出现错误或未定义的变量，是否提示错误信息。</td> </tr> <tr> <td>ANSIBLE_SYSTEM_WARNINGS</td> <td align=left>system_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否显示系统警告信息。</td> </tr> <tr> <td>ANSIBLE_DEPRECATION_WARNINGS</td> <td align=left>deprecation_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否显示模块被弃用的警告信息。</td> </tr> <tr> <td>ANSIBLE_COMMAND_WARNINGS</td> <td align=left>command_warnings</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>是否显示，在shell和command模块中使用与ansible模块类似的警告信息。</td> </tr> <tr> <td>ANSIBLE_ACTION_PLUGINS</td> <td align=left>action_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/action:/usr/share/ansible/plugins/action</td> <td>action插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGINS</td> <td align=left>cache_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/cache:/usr/share/ansible/plugins/cache</td> <td>cache插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_CALLBACK_PLUGINS</td> <td align=left>callback_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/callback:/usr/share/ansible/plugins/callback</td> <td>callback插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_CONNECTION_PLUGINS</td> <td align=left>connection_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/connection:/usr/share/ansible/plugins/connection</td> <td>connection插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_LOOKUP_PLUGINS</td> <td align=left>lookup_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/lookup:/usr/share/ansible/plugins/lookup</td> <td>lookup插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_INVENTORY_PLUGINS</td> <td align=left>inventory_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/inventory:/usr/share/ansible/plugins/inventory</td> <td>inventory插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_VARS_PLUGINS</td> <td align=left>vars_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/vars:/usr/share/ansible/plugins/vars</td> <td>vars插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_FILTER_PLUGINS</td> <td align=left>filter_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/filter:/usr/share/ansible/plugins/filter</td> <td>filter插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_TEST_PLUGINS</td> <td align=left>test_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/test:/usr/share/ansible/plugins/test</td> <td>test插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_TERMINAL_PLUGINS</td> <td align=left>terminal_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/terminal:/usr/share/ansible/plugins/terminal</td> <td>terminal插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_STRATEGY_PLUGINS</td> <td align=left>strategy_plugins</td> <td>defaults</td> <td>pathspec</td> <td>~/.ansible/plugins/strategy:/usr/share/ansible/plugins/strategy</td> <td>strategy插件的搜索路径</td> </tr> <tr> <td>ANSIBLE_STRATEGY</td> <td align=left>strategy</td> <td>defaults</td> <td></td> <td>linear</td> <td>默认策略</td> </tr> <tr> <td>ANSIBLE_LOAD_CALLBACK_PLUGINS</td> <td align=left>bin_ansible_callbacks</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>控制运行ansible时，是否加载callback插件</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN</td> <td align=left>fact_caching</td> <td>defaults</td> <td></td> <td>memory</td> <td>选择使用哪个缓存插件为fact存储所用</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN_CONNECTION</td> <td align=left>fact_caching_connection</td> <td>defaults</td> <td></td> <td>none</td> <td>定义缓存插件的连接</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN_PREFIX</td> <td align=left>fact_caching_prefix</td> <td>defaults</td> <td></td> <td>ansible_facts</td> <td>缓存插件文件/表的前缀</td> </tr> <tr> <td>ANSIBLE_CACHE_PLUGIN_TIMEOUT</td> <td align=left>fact_caching_timeout</td> <td>defaults</td> <td>integer</td> <td>86400</td> <td>缓存插件数据的过期超时时间</td> </tr> <tr> <td>ANSIBLE_RETRY_FILES_ENABLED</td> <td align=left>retry_files_enabled</td> <td>defaults</td> <td>boolean</td> <td>True</td> <td>控制着一个失败的Ansible剧本应该创建一个.retry文件。</td> </tr> <tr> <td>ANSIBLE_RETRY_FILES_SAVE_PATH</td> <td align=left>retry_files_save_path</td> <td>defaults</td> <td>path</td> <td>none</td> <td>保存.retry文件的路径。</td> </tr> <tr> <td>ANSIBLE_SQUASH_ACTIONS</td> <td align=left>squash_actions</td> <td>defaults</td> <td>list</td> <td>apk, apt, dnf, homebrew, openbsd_pkg, pacman, pkgng, yum, zypper</td> <td>在使用with_循环时，Ansible可以优化调用支持列表参数的模块的操作。使参数组合为一个列表传递给模块。</td> </tr> <tr> <td>ANSIBLE_NO_LOG</td> <td align=left>no_log</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>控制Ansible的显示和记录任务信息日志。</td> </tr> <tr> <td>ANSIBLE_NO_TARGET_SYSLOG</td> <td align=left>no_target_syslog</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>执行任务时，Ansible日志是否显示在目标系统日志。</td> </tr> <tr> <td></td> <td align=left>module_compression</td> <td>defaults</td> <td></td> <td>ZIP_DEFLATED</td> <td>将Python模块传输到目标时使用的压缩方案。</td> </tr> <tr> <td>ANSIBLE_MAX_DIFF_SIZE</td> <td align=left>max_diff_size</td> <td>defaults</td> <td>int</td> <td>104448</td> <td>要显示差异文件的最大文件大小</td> </tr> <tr> <td>ANSIBLE_SHOW_CUSTOM_STATS</td> <td align=left>show_custom_stats</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>是否通过set_stats插件设置的自定义统计信息添加到默认输出</td> </tr> <tr> <td>ANSIBLE_INVENTORY_IGNORE</td> <td align=left>inventory_ignore_extensions</td> <td>defaults</td> <td></td> <td>{{(BLACKLIST_EXTS + ( ‘~<code>, ‘.orig</code>, ‘.ini<code>, ‘.cfg</code>, ‘.retry`))}}</td> <td>将目录用作库存源时忽略的扩展名列表</td> </tr> <tr> <td></td> <td align=left>allow_unsafe_lookups</td> <td>defaults</td> <td>boolean</td> <td>False</td> <td>为True时，此选项允许查找插件（无论在变量中用作{{lookup（'foo'）}}还是作为with_foo的循环）返回未标记为'unsafe'的数据。</td> </tr> <tr> <td>ANSIBLE_INVENTORY_ENABLED</td> <td align=left>enable_plugins</td> <td>inventory</td> <td></td> <td>[‘host_list<code>, ‘script</code>, ‘yaml<code>, ‘ini</code>, ‘auto`]</td> <td>启用的库存插件列表，也决定了它们的使用顺序。</td> </tr> <tr> <td>ANSIBLE_INVENTORY_IGNORE</td> <td align=left>ignore_extensions</td> <td>inventory</td> <td></td> <td>{{(BLACKLIST_EXTS + ( ‘~<code>, ‘.orig</code>, ‘.ini<code>, ‘.cfg</code>, ‘.retry`))}}</td> <td>将目录用作库存源时忽略的扩展名列表</td> </tr> <tr> <td>ANSIBLE_INVENTORY_IGNORE_REGEX</td> <td align=left>ignore_patterns</td> <td>inventory</td> <td>list</td> <td>[]</td> <td>将目录用作库存源时要忽略的模式列表</td> </tr> <tr> <td>ANSIBLE_INVENTORY_UNPARSED_FAILED</td> <td align=left>unparsed_is_failed</td> <td>inventory</td> <td>boolean</td> <td>False</td> <td>为true时，未分类的主机会提示致命错误。</td> </tr> <tr> <td>ANSIBLE_BECOME</td> <td align=left>become</td> <td>privilege_escalation</td> <td>boolean</td> <td>False</td> <td>是否开启特权升级</td> </tr> <tr> <td>ANSIBLE_BECOME_METHOD</td> <td align=left>become_method</td> <td>privilege_escalation</td> <td></td> <td>sudo</td> <td>特权升级的方式</td> </tr> <tr> <td>ANSIBLE_BECOME_USER</td> <td align=left>become_user</td> <td>privilege_escalation</td> <td></td> <td>root</td> <td>特权升级的用户</td> </tr> <tr> <td>ANSIBLE_BECOME_ASK_PASS</td> <td align=left>become_ask_pass</td> <td>privilege_escalation</td> <td>boolean</td> <td>False</td> <td>输入特权升级的密码</td> </tr> <tr> <td>ANSIBLE_BECOME_FLAGS</td> <td align=left>become_flags</td> <td>privilege_escalation</td> <td></td> <td></td> <td>传递给特权升级可执行文件的参数。</td> </tr> <tr> <td>ANSIBLE_BECOME_EXE</td> <td align=left>become_exe</td> <td>privilege_escalation</td> <td></td> <td>None</td> <td>可执行文件</td> </tr> <tr> <td>ANSIBLE_PARAMIKO_LOOK_FOR_KEYS</td> <td align=left>look_for_keys</td> <td>paramiko_connection</td> <td>boolean</td> <td>True</td> <td>paramiko在尝试向远程设备进行身份验证时默认查找SSH密钥。</td> </tr> <tr> <td>ANSIBLE_PARAMIKO_HOST_KEY_AUTO_ADD</td> <td align=left>host_key_auto_add</td> <td>paramiko_connection</td> <td>boolean</td> <td>False</td> <td>默认情况下，Ansible将提示添加主机密钥。 这将导致在后台进程中运行的连接失败。为true时，Paramiko自动添加主机密钥。</td> </tr> <tr> <td>ANSIBLE_SCP_IF_SSH</td> <td align=left>scp_if_ssh</td> <td>ssh_connection</td> <td></td> <td>smart</td> <td>通过ssh传输文件时使用的首选方法，使用smart时，先尝试sftp，在尝试scp。</td> </tr> <tr> <td>ANSIBLE_SSH_TRANSFER_METHOD</td> <td align=left>transfer_method</td> <td>ssh_connection</td> <td></td> <td>None</td> <td>通过ssh传输文件时使用的首选方法，如果配置了，会覆盖scp_if_ssh</td> </tr> <tr> <td>ANSIBLE_SFTP_BATCH_MODE</td> <td align=left>sftp_batch_mode</td> <td>ssh_connection</td> <td>boolean</td> <td>True</td> <td>如果为False，sftp将不使用批处理模式传输文件。</td> </tr> <tr> <td>ANSIBLE_PERSISTENT_CONNECT_TIMEOUT</td> <td align=left>connect_timeout</td> <td>persistent_connection</td> <td>integer</td> <td>30</td> <td>控制连接保持空闲状态的时间。</td> </tr> <tr> <td>ANSIBLE_PERSISTENT_CONNECT_RETRY_TIMEOUT</td> <td align=left>connect_retry_timeout</td> <td>persistent_connection</td> <td>integer</td> <td>15</td> <td>控制连接重试超时时间</td> </tr> <tr> <td>ANSIBLE_PERSISTENT_CONNECT_TIMEOUT</td> <td align=left>command_timeout</td> <td>persistent_connection</td> <td>integer</td> <td>30</td> <td>控制连接超时时间</td> </tr> <tr> <td>ANSIBLE_SELINUX_SPECIAL_FS</td> <td align=left>special_context_filesystems</td> <td>selinux</td> <td>list</td> <td>fuse, nfs, vboxsf, ramfs, 9p, vfat</td> <td>在处理安全上下文时需要特殊处理的文件系统</td> </tr> <tr> <td>LIBVIRT_LXC_NOSECLABEL</td> <td align=left>libvirt_lxc_noseclabel</td> <td>selinux</td> <td>boolean</td> <td>False</td> <td>通过将-noseclabel传递给virsh，允许libvirt_lxc连接在没有SELinux的情况下工作。</td> </tr> <tr> <td>ANSIBLE_COLOR_HIGHLIGHT</td> <td align=left>highlight</td> <td>colors</td> <td></td> <td>white</td> <td>定义用于突出显示的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_VERBOSE</td> <td align=left>verbose</td> <td>colors</td> <td></td> <td>blue</td> <td>定义发出详细消息时要使用的颜色。 即那些用'-v'表示的。</td> </tr> <tr> <td>ANSIBLE_COLOR_WARN</td> <td align=left>warn</td> <td>colors</td> <td></td> <td>bright purple</td> <td>定义发出警告消息时要使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_ERROR</td> <td align=left>error</td> <td>colors</td> <td></td> <td>red</td> <td>定义发出错误消息时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DEBUG</td> <td align=left>debug</td> <td>colors</td> <td></td> <td>dark gray</td> <td>定义发出调试消息时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DEPRECATE</td> <td align=left>deprecate</td> <td>colors</td> <td></td> <td>purple</td> <td>定义发出弃用消息时要使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_UNREACHABLE</td> <td align=left>unreachable</td> <td>colors</td> <td></td> <td>bright red</td> <td>定义在“无法到达”状态下使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_CHANGED</td> <td align=left>changed</td> <td>colors</td> <td></td> <td>yellow</td> <td>定义在“更改”任务状态上使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DIFF_ADD</td> <td align=left>diff_add</td> <td>colors</td> <td></td> <td>green</td> <td>定义在差异中显示添加行时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DIFF_REMOVE</td> <td align=left>diff_remove</td> <td>colors</td> <td></td> <td>red</td> <td>定义在差异中显示已删除行时使用的颜色</td> </tr> <tr> <td>ANSIBLE_COLOR_DIFF_LINES</td> <td align=left>diff_lines</td> <td>colors</td> <td></td> <td>cyan</td> <td>定义显示差异时使用的颜色</td> </tr> <tr> <td>ANSIBLE_DIFF_ALWAYS</td> <td align=left>always</td> <td>diff</td> <td>boolean</td> <td>False</td> <td>是否显示模块在处于“更改”状态时显示差异，相当于--diff。</td> </tr> <tr> <td>ANSIBLE_DIFF_CONTEXT</td> <td align=left>context</td> <td>diff</td> <td>integer</td> <td>3</td> <td>在显示文件之间的差异时显示多少行上下文。</td> </tr> <tr> <td>ANSIBLE_YAML_FILENAME_EXT</td> <td align=left>yaml_valid_extensions</td> <td>defaults</td> <td>List</td> <td>[<code>.yml</code>, <code>.yaml</code>, <code>.json</code>]</td> <td>yaml文件的扩展名</td> </tr> </tbody> </table> <p>详细见<a href=https://docs.ansible.com/ansible/latest/reference_appendices/config.html>官网</a></p> <hr> <div class=md-source-file> <small> 最后更新: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">April 10, 2023 10:21:42</span> <br> 创建日期: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">April 10, 2023 10:21:42</span> </small> </div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/hujianli94/hujianli94.github.io/issues/new/?title=[Feedback]+Ansible%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB+-+/Linux/Ansible/1.Ansible%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../0.Ansible%E5%85%A5%E9%97%A8/ class="md-footer__link md-footer__link--prev" aria-label="上一页: Ansible入门" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> Ansible入门 </div> </div> </a> <a href=../2.%E7%AE%A1%E7%90%86windows%E4%B8%BB%E6%9C%BA/ class="md-footer__link md-footer__link--next" aria-label="下一页: 管理windows主机" rel=next> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> 管理windows主机 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 hujainli94 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hujianli94 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com/blog_img/20220125122524.png target=_blank rel=noopener title=kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href="mailto:<1879324764@qq.com>" target=_blank rel=noopener title=发送邮件 class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "navigation.indexes", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.51198bba.min.js></script> <script src=../../../javascripts/extra.js></script> <script src=https://file.cdn.shafish.cn/blog/js/video.min.js></script> </body> </html>