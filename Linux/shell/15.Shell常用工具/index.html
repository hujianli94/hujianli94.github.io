<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="stay hungry,stay foolish"><meta name=author content=hujainli94><link href=https://hujianli94.github.io/Linux/shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ rel=canonical><link href=../14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ rel=prev><link href=../16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.1.6"><title>15.Shell常用工具 - DevOps运维开发手记</title><link rel=stylesheet href=../../../assets/stylesheets/main.ded33207.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.a0c5b2b5.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/vssue.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video-js.min.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#15shell常用工具 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title=DevOps运维开发手记 class="md-header__button md-logo" aria-label=DevOps运维开发手记 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DevOps运维开发手记 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 15.Shell常用工具 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换至深色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换至深色模式 for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label=切换至浅色模式 type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title=切换至浅色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-tabs__link> Python-vs-Go </a> </li> <li class=md-tabs__item> <a href=../../system/Linux%E5%86%85%E6%A0%B8%E5%BC%95%E5%AF%BC%E8%AF%A6%E8%A7%A3/ class="md-tabs__link md-tabs__link--active"> Linux </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=DevOps运维开发手记 class="md-nav__button md-logo" aria-label=DevOps运维开发手记 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> DevOps运维开发手记 </label> <div class=md-nav__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> 首页 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Kubernetes <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-nav__link> Kubernetes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> 1.安装篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 1.安装篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/1.Kubeadm%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> Kubeadm安装高可用集群 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/2.%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> 二进制安装高可用K8s集群 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> 2.基础篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 2.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Docker%E5%9F%BA%E7%A1%80/ class=md-nav__link> Docker基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Kubernetes%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=md-nav__link> Kubernetes的基础概念 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Kubernetes%E8%B0%83%E5%BA%A6%E5%9F%BA%E7%A1%80/ class=md-nav__link> Kubernetes调度基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Kubernetes%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83%E5%9F%BA%E7%A1%80/ class=md-nav__link> Kubernetes服务发布基础 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Kubernetes%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> Kubernetes配置管理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> 3.进阶篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 3.进阶篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/8.Kubernetes%E5%AD%98%E5%82%A8%E5%85%A5%E9%97%A8/ class=md-nav__link> Kubernetes存储入门 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/9.Kubernetes%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6/ class=md-nav__link> Kubernetes高级调度 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> 4.高级篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 4.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/12.%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AD%98%E5%82%A8Rook/ class=md-nav__link> 云原生存储Rook </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/13.%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%B9%E5%99%A8%E5%8C%96/ class=md-nav__link> 中间件容器化 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> 5.运维篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> 5.运维篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/14.Kubernetes%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/ class=md-nav__link> Kubernetes日志收集 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/15.Kubernetes%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6/ class=md-nav__link> Kubernetes监控告警 </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/16.%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83Ingress%E8%BF%9B%E9%98%B6/ class=md-nav__link> 服务发布Ingress进阶 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex=0> 6.DevOps篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> 6.DevOps篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/6.DevOps%E7%AF%87/17.DevOps%E5%AE%9E%E8%B7%B5/ class=md-nav__link> DevOps实践 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Docker <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-nav__link> Docker工具集 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> 1.Docker基础 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 1.Docker基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85/ class=md-nav__link> 安装 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/2.Docker%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC/ class=md-nav__link> Docker相关脚本 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/3.docker-compose%E7%A4%BA%E4%BE%8B/ class=md-nav__link> docker-compose示例 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/4.Dockerfile%E7%BC%96%E5%86%99%E4%BC%98%E5%8C%96/ class=md-nav__link> Dockerfile编写优化 </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.Docker%E5%9F%BA%E7%A1%80/5.Python%E6%93%8D%E4%BD%9CDocker/ class=md-nav__link> Python操作Docker </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> 2.Devops <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2.Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/2.Devops/1.ConfCenter/ class=md-nav__link> ConfCenter </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.Devops/2.CoreDNS/ class=md-nav__link> Coredns </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.Devops/3.Harbor/ class=md-nav__link> Harbor </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-nav__link> Pythjon自动化运维 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> 1.基础篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 1.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/1.Python%E5%86%85%E7%BD%AE%E5%B0%8F%E5%B7%A5%E5%85%B7/ class=md-nav__link> Python内置小工具 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/2.Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%89%E8%A3%85/ class=md-nav__link> Python第三方库安装 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Python%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/ class=md-nav__link> Python工作环境管理 </a> </li> <li class=md-nav__item> <a href=../../../Python/1.%E5%9F%BA%E7%A1%80%E7%AF%87/4.VSCode%E4%B8%ADPython%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/ class=md-nav__link> VSCode中Python环境配置 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> 2.高级篇 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 2.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/2.%E9%AB%98%E7%BA%A7%E7%AF%87/1.%E6%89%93%E9%80%A0%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> 打造命令行工具 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Python-vs-Go <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Python-vs-Go </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> 0.学习线路 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-nav__link> Python-vs-Go </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> 1.对比学习 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 1.对比学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/1.Hello-World/ class=md-nav__link> Hello-World </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/2.Print/ class=md-nav__link> Print </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/3.%E6%B3%A8%E9%87%8A/ class=md-nav__link> 注释 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/4.%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> 多行字符串 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/5.Lists/ class=md-nav__link> Lists </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/6.Map/ class=md-nav__link> Map </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/7.Booleans/ class=md-nav__link> Booleans </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/8.Forloop/ class=md-nav__link> Forloop </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/9.Range/ class=md-nav__link> Range </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/10.Switch/ class=md-nav__link> Switch </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/11.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0/ class=md-nav__link> 可变参数函数 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/12.%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97/ class=md-nav__link> 时间计算 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/13.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/ class=md-nav__link> 函数的闭包 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/14.%E9%80%80%E5%87%BA%E5%A4%84%E7%90%86/ class=md-nav__link> 退出处理 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/15.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/ class=md-nav__link> 异常捕获 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/16.%E5%8F%AF%E5%8F%98%E9%A1%B9/ class=md-nav__link> 可变项 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/17.%E7%B1%BB/ class=md-nav__link> 类 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/18.%E6%96%B9%E6%B3%95/ class=md-nav__link> 方法 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/19.%E5%B9%B6%E5%8F%91/ class=md-nav__link> 并发 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/20.Args/ class=md-nav__link> Args </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/21.%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%88%AB%E5%90%8D/ class=md-nav__link> 导入模块别名 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/22.%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96/ class=md-nav__link> 字符串格式化 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/23.%E5%8E%BB%E9%87%8D/ class=md-nav__link> 去重 </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/24.%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%89%93%E5%8D%B0/ class=md-nav__link> 带颜色打印 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> 2.进阶 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 2.进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class=md-nav__link> 使用RPC </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/2.%E4%BD%BF%E7%94%A8MySQL/ class=md-nav__link> 使用MySQL </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/3.%E4%BD%BF%E7%94%A8Redis/ class=md-nav__link> 使用Redis </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/4.%E4%BD%BF%E7%94%A8MongoDB/ class=md-nav__link> 使用MongoDB </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> system <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> system </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../system/Linux%E5%86%85%E6%A0%B8%E5%BC%95%E5%AF%BC%E8%AF%A6%E8%A7%A3/ class=md-nav__link> Linux内核引导详解 </a> </li> <li class=md-nav__item> <a href=../../system/Linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ class=md-nav__link> Linux 系统安全加固最佳实践 </a> </li> <li class=md-nav__item> <a href=../../system/virtio%E8%AF%A6%E8%A7%A3/ class=md-nav__link> Virtio 详解 </a> </li> <li class=md-nav__item> <a href=../../system/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%8B%E6%B5%8B/ class=md-nav__link> 数据库压测 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> serveices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> serveices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../serveices/1.Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD/ class=md-nav__link> Linux操作系统镜像下载 </a> </li> <li class=md-nav__item> <a href=../../serveices/2.ubuntu-desktop-vmware/ class=md-nav__link> ubuntu-desktop-vmware </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> Ansible <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Ansible/0.Ansible%E5%85%A5%E9%97%A8/ class=md-nav__link> Ansible入门 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4 checked> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> Shell <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=true> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Shell%E7%AE%80%E4%BB%8B/ class=md-nav__link> Shell 教程概述 </a> </li> <li class=md-nav__item> <a href=../1.%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F/ class=md-nav__link> 1.第一个 Shell 程序 </a> </li> <li class=md-nav__item> <a href=../2.Shell%E5%8F%98%E9%87%8F/ class=md-nav__link> 2.Shell 变量 </a> </li> <li class=md-nav__item> <a href=../3.Shell%E5%8F%82%E6%95%B0/ class=md-nav__link> 3.Shell 参数 </a> </li> <li class=md-nav__item> <a href=../4.Shell%E6%95%B0%E7%BB%84/ class=md-nav__link> 4.Shell数组 </a> </li> <li class=md-nav__item> <a href=../5.Shell%E8%BF%90%E7%AE%97%E7%AC%A6/ class=md-nav__link> 5.Shell 运算符 </a> </li> <li class=md-nav__item> <a href=../6.Shell%20echo_printf%E5%91%BD%E4%BB%A4/ class=md-nav__link> 6.Shell echo/printf 命令 </a> </li> <li class=md-nav__item> <a href=../7.Shell%20test%E5%91%BD%E4%BB%A4/ class=md-nav__link> 7.Shell test 命令 </a> </li> <li class=md-nav__item> <a href=../8.Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> 8.Shell 流程控制 </a> </li> <li class=md-nav__item> <a href=../9.Shell%E5%87%BD%E6%95%B0/ class=md-nav__link> 8.Shell 函数 </a> </li> <li class=md-nav__item> <a href=../10.Shell%E8%BE%93%E5%85%A5_%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> 10.Shell输入/输出重定向 </a> </li> <li class=md-nav__item> <a href=../11.Shell%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> 11.Shell 正则表达式 </a> </li> <li class=md-nav__item> <a href=../12.Shell%20%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep/ class=md-nav__link> 12.Shell 三剑客之grep </a> </li> <li class=md-nav__item> <a href=../13.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed/ class=md-nav__link> 13.Shell三剑客之sed </a> </li> <li class=md-nav__item> <a href=../14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class=md-nav__link> 14.Shell三剑客之awk </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 15.Shell常用工具 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> 15.Shell常用工具 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-sort class=md-nav__link> 1. sort </a> </li> <li class=md-nav__item> <a href=#2-uniq class=md-nav__link> 2. uniq </a> </li> <li class=md-nav__item> <a href=#3-find class=md-nav__link> 3. find </a> </li> <li class=md-nav__item> <a href=#4-date class=md-nav__link> 4. date </a> </li> <li class=md-nav__item> <a href=#5-xargs class=md-nav__link> 5. xargs </a> </li> <li class=md-nav__item> <a href=#6-实例 class=md-nav__link> 6. 实例 </a> <nav class=md-nav aria-label="6. 实例"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-需求 class=md-nav__link> 6.1 需求 </a> </li> <li class=md-nav__item> <a href=#62-思路 class=md-nav__link> 6.2 思路 </a> </li> <li class=md-nav__item> <a href=#63-实现 class=md-nav__link> 6.3 实现 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-小结 class=md-nav__link> 7. 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class=md-nav__link> 16.Shell实战项目 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#1-sort class=md-nav__link> 1. sort </a> </li> <li class=md-nav__item> <a href=#2-uniq class=md-nav__link> 2. uniq </a> </li> <li class=md-nav__item> <a href=#3-find class=md-nav__link> 3. find </a> </li> <li class=md-nav__item> <a href=#4-date class=md-nav__link> 4. date </a> </li> <li class=md-nav__item> <a href=#5-xargs class=md-nav__link> 5. xargs </a> </li> <li class=md-nav__item> <a href=#6-实例 class=md-nav__link> 6. 实例 </a> <nav class=md-nav aria-label="6. 实例"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#61-需求 class=md-nav__link> 6.1 需求 </a> </li> <li class=md-nav__item> <a href=#62-思路 class=md-nav__link> 6.2 思路 </a> </li> <li class=md-nav__item> <a href=#63-实现 class=md-nav__link> 6.3 实现 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-小结 class=md-nav__link> 7. 小结 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=15shell常用工具>15.Shell常用工具<a class=headerlink href=#15shell常用工具 title="Permanent link">&para;</a></h1> <p>Linux中有很多非常实用的工具或命令，灵活运用这些工具，可以帮助我们在Shell编程中化繁为简，如虎添翼。可能一个工具或命令就能让原本负责的问题快速解决，本章节我们来一起丰富我们的工具库，日常可以多积累总结，帮助我们更好的编写Shell。</p> <h2 id=1-sort>1. sort<a class=headerlink href=#1-sort title="Permanent link">&para;</a></h2> <p><strong>简介</strong>：顾名思义，就是用来排序的工具，在我们日常工作中对于重复列的多行输出，如果想要对内容按照特定规则排序，此时就用到了sort工具。</p> <p><strong>原理</strong>：sort 将文件的每一行作为一个单位，相互比较，比较原则默认情况是从首字符向后，依次按 ASCII 码值进行比较， 后将他们按升序输出。</p> <p><strong>语法</strong>：<code>sort [OPTION]... [FILE]…</code></p> <p><strong>选项说明</strong>：</p> <ul> <li>-t：指定以什么作为列分割</li> <li>-k：用来制定利用那列进行排序，通常<code>-t</code>于<code>-k</code>配合使用</li> <li>-r：将文本文件降序输出</li> <li>-n：以数组来进行生序排序</li> <li>-f：忽略大小写字母</li> <li>-u：取消重复的行</li> </ul> <p>在此我们不全部展开起所有选项，只根据日常经验结合实际案例列举最常用的选项进行说明。</p> <p><strong>实例</strong>：</p> <ul> <li>对/etc/passwd中以uid从大到小排序</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=mi>10</span><span class=o>-</span><span class=mi>234</span><span class=o>-</span><span class=mi>1</span><span class=o>-</span><span class=mi>235</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>sort</span><span class=w> </span><span class=o>-</span><span class=n>t</span><span class=p>:</span><span class=w> </span><span class=o>-</span><span class=n>k3</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=o>-</span><span class=n>r</span><span class=w> </span><span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>passwd</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>saslauth</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>499</span><span class=p>:</span><span class=mi>76</span><span class=p>:</span><span class=n>Saslauthd</span><span class=w> </span><span class=k>user</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>empty</span><span class=o>/</span><span class=n>saslauth</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=n>gitlab</span><span class=o>-</span><span class=n>www</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>498</span><span class=p>:</span><span class=mi>497</span><span class=p>::</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>opt</span><span class=o>/</span><span class=n>gitlab</span><span class=o>/</span><span class=n>nginx</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=k>false</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>git</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>497</span><span class=p>:</span><span class=mi>496</span><span class=p>::</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>opt</span><span class=o>/</span><span class=n>gitlab</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>sh</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>gitlab</span><span class=o>-</span><span class=n>redis</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>496</span><span class=p>:</span><span class=mi>495</span><span class=p>::</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>opt</span><span class=o>/</span><span class=n>gitlab</span><span class=o>/</span><span class=n>redis</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=k>false</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>gitlab</span><span class=o>-</span><span class=n>psql</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>495</span><span class=p>:</span><span class=mi>494</span><span class=p>::</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>opt</span><span class=o>/</span><span class=n>gitlab</span><span class=o>/</span><span class=n>postgresql</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>sh</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>gitlab</span><span class=o>-</span><span class=n>prometheus</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>494</span><span class=p>:</span><span class=mi>493</span><span class=p>::</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>opt</span><span class=o>/</span><span class=n>gitlab</span><span class=o>/</span><span class=n>prometheus</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>sh</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=n>mongod</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>493</span><span class=p>:</span><span class=mi>492</span><span class=p>:</span><span class=n>mongod</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>lib</span><span class=o>/</span><span class=n>mongo</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=k>false</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=n>nobody</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>99</span><span class=p>:</span><span class=mi>99</span><span class=p>:</span><span class=n>Nobody</span><span class=p>:</span><span class=o>/</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=k>postfix</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>89</span><span class=p>:</span><span class=mi>89</span><span class=p>::</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>spool</span><span class=o>/</span><span class=k>postfix</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=n>dbus</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>81</span><span class=p>:</span><span class=mi>81</span><span class=p>:</span><span class=k>System</span><span class=w> </span><span class=n>message</span><span class=w> </span><span class=n>bus</span><span class=p>:</span><span class=o>/</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=n>sshd</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>74</span><span class=p>:</span><span class=mi>74</span><span class=p>:</span><span class=n>Privilege</span><span class=o>-</span><span class=n>separated</span><span class=w> </span><span class=n>SSH</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>empty</span><span class=o>/</span><span class=n>sshd</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=n>vcsa</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>69</span><span class=p>:</span><span class=mi>69</span><span class=p>:</span><span class=n>virtual</span><span class=w> </span><span class=n>console</span><span class=w> </span><span class=n>memory</span><span class=w> </span><span class=k>owner</span><span class=p>:</span><span class=o>/</span><span class=n>dev</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=n>apache</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>48</span><span class=p>:</span><span class=mi>48</span><span class=p>:</span><span class=n>Apache</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>www</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=n>ftp</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>14</span><span class=p>:</span><span class=mi>50</span><span class=p>:</span><span class=n>FTP</span><span class=w> </span><span class=k>User</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>ftp</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=n>gopher</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>13</span><span class=p>:</span><span class=mi>30</span><span class=p>:</span><span class=n>gopher</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>gopher</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=n>games</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>12</span><span class=p>:</span><span class=mi>100</span><span class=p>:</span><span class=n>games</span><span class=p>:</span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>games</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=k>operator</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>11</span><span class=p>:</span><span class=mi>0</span><span class=p>:</span><span class=k>operator</span><span class=p>:</span><span class=o>/</span><span class=n>root</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=n>uucp</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>10</span><span class=p>:</span><span class=mi>14</span><span class=p>:</span><span class=n>uucp</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>spool</span><span class=o>/</span><span class=n>uucp</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a><span class=n>mail</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>8</span><span class=p>:</span><span class=mi>12</span><span class=p>:</span><span class=n>mail</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>spool</span><span class=o>/</span><span class=n>mail</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=n>halt</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>7</span><span class=p>:</span><span class=mi>0</span><span class=p>:</span><span class=n>halt</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>halt</span>
<a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=n>shutdown</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>6</span><span class=p>:</span><span class=mi>0</span><span class=p>:</span><span class=n>shutdown</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>shutdown</span>
<a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=n>sync</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>5</span><span class=p>:</span><span class=mi>0</span><span class=p>:</span><span class=n>sync</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>sync</span>
<a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=n>lp</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>4</span><span class=p>:</span><span class=mi>7</span><span class=p>:</span><span class=n>lp</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>spool</span><span class=o>/</span><span class=n>lpd</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=n>adm</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>3</span><span class=p>:</span><span class=mi>4</span><span class=p>:</span><span class=n>adm</span><span class=p>:</span><span class=o>/</span><span class=n>var</span><span class=o>/</span><span class=n>adm</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a><span class=n>daemon</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>2</span><span class=p>:</span><span class=mi>2</span><span class=p>:</span><span class=n>daemon</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=n>bin</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>1</span><span class=p>:</span><span class=mi>1</span><span class=p>:</span><span class=n>bin</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=p>:</span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=n>root</span><span class=p>:</span><span class=n>x</span><span class=p>:</span><span class=mi>0</span><span class=p>:</span><span class=mi>0</span><span class=p>:</span><span class=n>root</span><span class=p>:</span><span class=o>/</span><span class=n>root</span><span class=p>:</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>bash</span>
</code></pre></div> <p>通过上例可以看到，利用<code>-t</code>选项指定/etc/passwd文件中，以<code>:</code>作为列进行分割，指定uid的列为<code>k3</code>，-n以数字进行排序，<code>-r</code>为倒序排序输出。</p> <h2 id=2-uniq>2. uniq<a class=headerlink href=#2-uniq title="Permanent link">&para;</a></h2> <p><strong>简介</strong>：对于一些重复输出的行进行去重。</p> <p><strong>语法</strong>：<code>uniq [OPTION]... [INPUT [OUTPUT]]</code></p> <p><strong>选项说明</strong>：</p> <ul> <li> <p>-c： 打印出现的次数，只能统计相邻的。</p> </li> <li> <p>-d： 只打印重复行。</p> </li> <li> <p>-u： 只打印不重复行。</p> </li> <li> <p>-D： 只打印重复行，并且把所有重复行打印出来。</p> </li> </ul> <p><strong>实例</strong>：</p> <ul> <li>对/etc/passwd中以<code>:</code>，对最后一列求出现的次数</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>awk</span><span class=w> </span><span class=o>-</span><span class=n>F</span><span class=ss>&quot;:&quot;</span><span class=w> </span><span class=s1>&#39;{print $NF}&#39;</span><span class=w> </span><span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>passwd</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>bash</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>sync</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>shutdown</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>halt</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>awk</span><span class=w> </span><span class=o>-</span><span class=n>F</span><span class=ss>&quot;:&quot;</span><span class=w> </span><span class=s1>&#39;{print $NF}&#39;</span><span class=w> </span><span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>passwd</span><span class=w> </span><span class=o>|</span><span class=n>sort</span><span class=w> </span><span class=o>|</span><span class=n>uniq</span><span class=w> </span><span class=o>-</span><span class=k>c</span><span class=w> </span><span class=o>|</span><span class=n>sort</span><span class=w> </span><span class=o>-</span><span class=n>nr</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=w>     </span><span class=mi>22</span><span class=w> </span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>shutdown</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>/</span><span class=n>sbin</span><span class=o>/</span><span class=n>halt</span>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>sync</span>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>nologin</span>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=w>      </span><span class=mi>1</span><span class=w> </span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>bash</span>
</code></pre></div> <p>先利用awk打印出最后一列内容，之后利用sort 来进行排序，将相同的字符规在一起输出，最后对相同的行进行去重，得出每种不同类型shell出现的次数，最后对数学从大到小排序。</p> <h2 id=3-find>3. find<a class=headerlink href=#3-find title="Permanent link">&para;</a></h2> <p><strong>简介</strong>：顾名思义，就是用来在系统中查找文件的工具，可以指定一个基础起始目录，根据不同的选项查找不同的文件。</p> <p><strong>语法</strong>：<code>find path -option [ -print ] [ -exec -ok command ] {} \;</code></p> <p><strong>原理</strong>：find 根据option在指定的系统路径中查找文件，如果查找到与对应的exec命令，则执行对应的command。</p> <p>-print： find 命令将匹配的文件输出到标准输出； -exec： find 命令对匹配的文件执行该参数所给出的 shell 命令。相应命令的形式为 'command' {} \;，注意 {} 和 \；之间的空格； -ok： 和 - exec 的作用相同，只不过以一种更为安全的模式来执行该参数所给出的 shell 命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行；</p> <p><strong>选项说明</strong>：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>name</span><span class=w>   </span><span class=n>filename</span><span class=w>               </span><span class=o>#</span><span class=err>查找名为</span><span class=w> </span><span class=n>filename</span><span class=w> </span><span class=err>的文件</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>perm</span><span class=w>                          </span><span class=o>#</span><span class=err>按执行权限来查找</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=k>user</span><span class=w>    </span><span class=n>username</span><span class=w>              </span><span class=o>#</span><span class=err>按文件属主来查找</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=k>group</span><span class=w> </span><span class=n>groupname</span><span class=w>               </span><span class=o>#</span><span class=err>按组来查找</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>mtime</span><span class=w>   </span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=n>n</span><span class=w>                 </span><span class=o>#</span><span class=err>按文件更改时间来查找文件，</span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=err>指</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=err>天以内，</span><span class=o>+</span><span class=n>n</span><span class=w> </span><span class=err>指</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=err>天以前</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>atime</span><span class=w>    </span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=n>n</span><span class=w>                </span><span class=o>#</span><span class=err>按文件访问时间来查</span><span class=w> </span><span class=n>GIN</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=n>px</span><span class=err>&quot;</span><span class=o>&gt;</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>ctime</span><span class=w>    </span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=n>n</span><span class=w>                </span><span class=o>#</span><span class=err>按文件创建时间来查找文件，</span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=err>指</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=err>天以内，</span><span class=o>+</span><span class=n>n</span><span class=w> </span><span class=err>指</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=err>天以前</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=k>type</span><span class=w>    </span><span class=n>b</span><span class=o>/</span><span class=n>d</span><span class=o>/</span><span class=k>c</span><span class=o>/</span><span class=n>p</span><span class=o>/</span><span class=n>l</span><span class=o>/</span><span class=n>f</span><span class=w>           </span><span class=o>#</span><span class=err>查是块设备、目录、字符设备、管道、符号链接、普通文件</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=k>size</span><span class=w>      </span><span class=n>n</span><span class=w> </span><span class=p>[</span><span class=k>c</span><span class=p>]</span><span class=w>               </span><span class=o>#</span><span class=err>查长度为</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=err>块</span><span class=w> </span><span class=p>[</span><span class=err>或</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=err>字节</span><span class=p>]</span><span class=w> </span><span class=err>的文件</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>depth</span><span class=w>                         </span><span class=o>#</span><span class=err>使查找在进入子目录前先行查找完本目录</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=o>-</span><span class=w> </span><span class=o>-</span><span class=n>prune</span><span class=w>　　                      </span><span class=o>#</span><span class=err>通常和</span><span class=w> </span><span class=o>-</span><span class=n>path</span><span class=w> </span><span class=err>一起使用，用于将特定目录排除在搜索条件之外。过滤条件写在其他条件前面。</span>
</code></pre></div> <p>在此我们对命令支持的选项全部展开详解，根据日常经验结合实际案例列举最常用的选项进行说明：</p> <p><strong>实例</strong>:</p> <ul> <li>在当前目录寻找文件名称以<code>.txt</code>结尾的文件并打印出来</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>find</span><span class=w>   </span><span class=o>~</span><span class=w>   </span><span class=o>-</span><span class=n>name</span><span class=w>   </span><span class=ss>&quot;*.txt&quot;</span><span class=w>   </span><span class=o>-</span><span class=n>print</span><span class=w> </span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>advanced</span><span class=o>-</span><span class=mi>2</span><span class=p>.</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=o>/</span><span class=n>scripts</span><span class=o>/</span><span class=n>os</span><span class=o>/</span><span class=n>requirements</span><span class=p>.</span><span class=n>txt</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>advanced</span><span class=o>-</span><span class=mi>2</span><span class=p>.</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>/</span><span class=n>roles</span><span class=o>/</span><span class=n>storages</span><span class=o>/</span><span class=n>NFS</span><span class=o>-</span><span class=n>Server</span><span class=o>/</span><span class=n>files</span><span class=o>/</span><span class=n>nfs</span><span class=o>-</span><span class=n>server</span><span class=o>-</span><span class=n>provisioner</span><span class=o>/</span><span class=n>templates</span><span class=o>/</span><span class=n>NOTES</span><span class=p>.</span><span class=n>txt</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>advanced</span><span class=o>-</span><span class=mi>2</span><span class=p>.</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>/</span><span class=n>roles</span><span class=o>/</span><span class=n>ks</span><span class=o>-</span><span class=n>devops</span><span class=o>/</span><span class=n>jenkins</span><span class=o>/</span><span class=n>files</span><span class=o>/</span><span class=n>jenkins</span><span class=o>/</span><span class=n>jenkins</span><span class=o>-</span><span class=k>update</span><span class=o>-</span><span class=n>center</span><span class=o>/</span><span class=n>templates</span><span class=o>/</span><span class=n>NOTES</span><span class=p>.</span><span class=n>txt</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>advanced</span><span class=o>-</span><span class=mi>2</span><span class=p>.</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>/</span><span class=n>roles</span><span class=o>/</span><span class=n>ks</span><span class=o>-</span><span class=n>devops</span><span class=o>/</span><span class=n>harbor</span><span class=o>/</span><span class=n>files</span><span class=o>/</span><span class=n>harbor</span><span class=o>/</span><span class=n>harbor</span><span class=o>/</span><span class=n>templates</span><span class=o>/</span><span class=n>NOTES</span><span class=p>.</span><span class=n>txt</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>advanced</span><span class=o>-</span><span class=mi>2</span><span class=p>.</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>/</span><span class=n>roles</span><span class=o>/</span><span class=n>metrics</span><span class=o>-</span><span class=n>server</span><span class=o>/</span><span class=n>files</span><span class=o>/</span><span class=n>metrics</span><span class=o>-</span><span class=n>server</span><span class=o>/</span><span class=n>templates</span><span class=o>/</span><span class=n>NOTES</span><span class=p>.</span><span class=n>txt</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>advanced</span><span class=o>-</span><span class=mi>2</span><span class=p>.</span><span class=mi>0</span><span class=p>.</span><span class=mi>2</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>/</span><span class=n>roles</span><span class=o>/</span><span class=n>openpitrix</span><span class=o>/</span><span class=n>files</span><span class=o>/</span><span class=n>openpitrix</span><span class=o>/</span><span class=n>kubernetes</span><span class=o>/</span><span class=n>password</span><span class=p>.</span><span class=n>txt</span>
</code></pre></div> <ul> <li>查找/usr/bin目录下大于10M的文件</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>find</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=w> </span><span class=o>-</span><span class=k>size</span><span class=w> </span><span class=o>+</span><span class=mi>10000</span><span class=n>k</span><span class=w> </span><span class=o>-</span><span class=k>exec</span><span class=w> </span><span class=n>ls</span><span class=w> </span><span class=o>-</span><span class=n>ld</span><span class=w> </span><span class=err>{}</span><span class=w> </span><span class=err>\</span><span class=p>;</span><span class=w> </span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>13606800</span><span class=w> </span><span class=n>Jul</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2018</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>ceph</span><span class=o>-</span><span class=n>dencoder</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>15863688</span><span class=w> </span><span class=n>Jul</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2018</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>ceph</span><span class=o>-</span><span class=n>objectstore</span><span class=o>-</span><span class=n>tool</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>15589080</span><span class=w> </span><span class=n>Jul</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2018</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>ceph</span><span class=o>-</span><span class=n>osd</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>33073928</span><span class=w> </span><span class=n>Feb</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2019</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>docker</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>38088856</span><span class=w> </span><span class=n>Feb</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2019</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>docker</span><span class=o>-</span><span class=n>containerd</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>68608416</span><span class=w> </span><span class=n>Feb</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2019</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>dockerd</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>20895160</span><span class=w> </span><span class=n>Feb</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2019</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>docker</span><span class=o>-</span><span class=n>containerd</span><span class=o>-</span><span class=n>ctr</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=o>-</span><span class=n>rwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>10785264</span><span class=w> </span><span class=n>Jul</span><span class=w> </span><span class=mi>10</span><span class=w>  </span><span class=mi>2018</span><span class=w> </span><span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>ceph</span><span class=o>-</span><span class=n>mon</span>
</code></pre></div> <ul> <li>查找当前目录下权限为777的文件</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>find</span><span class=w> </span><span class=p>.</span><span class=w> </span><span class=o>-</span><span class=n>perm</span><span class=w> </span><span class=mi>777</span><span class=w> </span><span class=o>-</span><span class=n>print</span><span class=w>   </span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=p>.</span><span class=o>/</span><span class=p>.</span><span class=n>helm</span><span class=o>/</span><span class=n>repository</span><span class=o>/</span><span class=k>cache</span><span class=o>/</span><span class=k>local</span><span class=o>-</span><span class=k>index</span><span class=p>.</span><span class=n>yaml</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=p>.</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>v2</span><span class=p>.</span><span class=mi>1</span><span class=p>.</span><span class=mi>0</span><span class=o>/</span><span class=n>k8s</span><span class=o>/</span><span class=n>extra_playbooks</span><span class=o>/</span><span class=n>inventory</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=p>.</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>v2</span><span class=p>.</span><span class=mi>1</span><span class=p>.</span><span class=mi>0</span><span class=o>/</span><span class=n>k8s</span><span class=o>/</span><span class=n>extra_playbooks</span><span class=o>/</span><span class=n>roles</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=p>.</span><span class=o>/</span><span class=n>kubesphere</span><span class=o>-</span><span class=k>all</span><span class=o>-</span><span class=n>v2</span><span class=p>.</span><span class=mi>1</span><span class=p>.</span><span class=mi>0</span><span class=o>/</span><span class=n>k8s</span><span class=o>/</span><span class=n>contrib</span><span class=o>/</span><span class=n>terraform</span><span class=o>/</span><span class=n>openstack</span><span class=o>/</span><span class=n>hosts</span>
</code></pre></div> <h2 id=4-date>4. date<a class=headerlink href=#4-date title="Permanent link">&para;</a></h2> <p>在我们编写Shell的时候经常遇到需要记录日志的情况，在记录日志的时候需要打上时间戳，以便后期查看那个时间节点运行执行的操作，此时就需要用到date命令</p> <p><strong>简介</strong>：date 可以用来显示或设定系统的日期与时间。</p> <p><strong>选项</strong>：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=o>-</span><span class=n>d</span><span class=o>&lt;</span><span class=err>字符串</span><span class=o>&gt;</span><span class=err>：显示字符串所指的日期与时间。字符串前后必须加上双引号；</span><span class=w> </span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=o>-</span><span class=n>s</span><span class=o>&lt;</span><span class=err>字符串</span><span class=o>&gt;</span><span class=err>：根据字符串来设置日期与时间。字符串前后必须加上双引号；</span><span class=w> </span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=o>-</span><span class=n>u</span><span class=err>：显示</span><span class=n>GMT</span><span class=err>；</span><span class=w> </span>
</code></pre></div> <p>时间格式：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=o>%</span><span class=n>Y</span><span class=w> </span><span class=c1>-- 年份</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=o>%</span><span class=n>m</span><span class=w> </span><span class=c1>-- 月份</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=o>%</span><span class=n>d</span><span class=w> </span><span class=c1>-- 当月第几天</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=o>%</span><span class=n>t</span><span class=w> </span><span class=c1>-- Tab 跳格</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=o>%</span><span class=n>H</span><span class=w> </span><span class=c1>-- 小时，24 小时格式 (0~23)</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=o>%</span><span class=n>I</span><span class=w> </span><span class=c1>-- 小时，12 小时格式 (0~12)</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=o>%</span><span class=n>M</span><span class=w> </span><span class=c1>-- 分钟 (00~59)</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=o>%</span><span class=n>S</span><span class=w> </span><span class=c1>-- 秒 (00~59)</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=o>%</span><span class=n>j</span><span class=w> </span><span class=c1>-- 今年中的第几天</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=o>%</span><span class=n>Z</span><span class=w> </span><span class=c1>-- 以字符串形式输出当前时区</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=o>%</span><span class=n>z</span><span class=w> </span><span class=c1>-- 以数字形式输出当前时区</span>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=o>%</span><span class=n>F</span><span class=w> </span><span class=c1>--  文件时间格式 same as % Y-% m-% d</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=o>%</span><span class=n>T</span><span class=w> </span><span class=c1>-- 24 小时制时间表示 (hh:mm:ss)</span>
</code></pre></div> <ul> <li>实例</li> </ul> <p>计算一个命令执行所需要的耗时</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=ch>#!/bin/bash </span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=nv>start</span><span class=o>=</span><span class=k>$(</span>date<span class=w> </span>+%s<span class=k>)</span><span class=w> </span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;</span><span class=k>$(</span>date<span class=w> </span>+%F<span class=s2>&quot; &quot;</span>%T<span class=k>)</span><span class=s2> 开始执行命令&quot;</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>sleep<span class=w> </span><span class=m>5</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;</span><span class=k>$(</span>date<span class=w> </span>+%F<span class=s2>&quot; &quot;</span>%T<span class=k>)</span><span class=s2> 执行命令完成&quot;</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=nv>end</span><span class=o>=</span><span class=k>$(</span>date<span class=w> </span>+%s<span class=k>)</span><span class=w> </span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=nv>difference</span><span class=o>=</span><span class=k>$((</span><span class=w> </span>end<span class=w> </span><span class=o>-</span><span class=w> </span>start<span class=w> </span><span class=k>))</span><span class=w> </span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;执行命令总耗时:</span><span class=nv>$difference</span><span class=s2> seconds.&quot;</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=o>[</span>root@master<span class=w> </span>~<span class=o>]</span><span class=c1># bash time.sh </span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=m>2020</span>-04-19<span class=w> </span><span class=m>10</span>:19:58<span class=w> </span>开始执行命令
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=m>2020</span>-04-19<span class=w> </span><span class=m>10</span>:20:03<span class=w> </span>执行命令完成
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>执行命令总耗时:5<span class=w> </span>seconds.
</code></pre></div> <h2 id=5-xargs>5. xargs<a class=headerlink href=#5-xargs title="Permanent link">&para;</a></h2> <p><strong>简介</strong>：xargs 全称是 transform arguments，意为转换参数，它将标准输入转换为命令行参数。因为 linux 命令行中经常要使用到管道符连接不同的命令，但是有些命令不支持标准输入，此时就需要使用 xargs 将标准输入转换为参数，</p> <p><strong>语法</strong>：<code>stdin_input | xargs [option] cmd</code></p> <p><strong>原理</strong>：xargs 一般是通过管道符接受标准输入并将其转换为命令行参数传递给 cmd。</p> <p><strong>实例</strong>：</p> <ul> <li>将标准输入转换成命令行参数</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>seq</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=mi>6</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=mi>1</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=mi>2</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=mi>3</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=mi>4</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=mi>5</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=mi>6</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=n>master</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>seq</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=mi>6</span><span class=w> </span><span class=o>|</span><span class=n>xargs</span><span class=w> </span><span class=o>-</span><span class=n>n</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=mi>1</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=mi>3</span><span class=w> </span><span class=mi>4</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=mi>5</span><span class=w> </span><span class=mi>6</span>
</code></pre></div> <ul> <li> <p>删除日志文件 <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>ls<span class=w> </span>*.log<span class=w> </span><span class=p>|</span>xargs<span class=w> </span>rm<span class=w> </span>-rf<span class=w> </span><span class=o>{}</span>
</code></pre></div></p> </li> <li> <p>查找/home/data下权限为644的文件修改权限为600 <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>find<span class=w> </span>/home/data<span class=w> </span>-perm<span class=w> </span><span class=m>644</span><span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>chmod<span class=w> </span><span class=m>600</span><span class=w> </span>
</code></pre></div></p> </li> <li> <p>查找jpg文件并打包 <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>find<span class=w> </span>/<span class=w> </span>-name<span class=w> </span>*.jpg<span class=w> </span>-type<span class=w> </span>f<span class=w> </span>-print<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>tar<span class=w> </span>-cvzf<span class=w> </span>images.tar.gz
</code></pre></div></p> </li> <li> <p>使用 -n 进行多行输出 <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>cat<span class=w> </span>test.txt<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-n3
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>a<span class=w> </span>b<span class=w> </span>c
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>d<span class=w> </span>e<span class=w> </span>f
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>g<span class=w> </span>h<span class=w> </span>i
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>j<span class=w> </span>k<span class=w> </span>l
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>m<span class=w> </span>n<span class=w> </span>o
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>p<span class=w> </span>q<span class=w> </span>r
<a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a>s<span class=w> </span>t<span class=w> </span>u
<a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>v<span class=w> </span>w<span class=w> </span>x
<a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a>y<span class=w> </span>z
</code></pre></div></p> </li> <li> <p>使用 -d 分割输入</p> </li> </ul> <p>-d 选项 可以自定义一个定界符： <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;nameXnameXnameXname&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-dX
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>name<span class=w> </span>name<span class=w> </span>name<span class=w> </span>name
</code></pre></div></p> <p>结合 -n 选项 使用： <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;nameXnameXnameXname&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-dX<span class=w> </span>-n2
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>name<span class=w> </span>name
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>name<span class=w> </span>name
</code></pre></div></p> <p>复制所有图片文件到 /data/images 目录下： <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>ls<span class=w> </span>*.jpg<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-n1<span class=w> </span>-I<span class=w> </span>cp<span class=w> </span><span class=o>{}</span><span class=w> </span>/data/images
</code></pre></div></p> <div class="admonition tip"> <p class=admonition-title>结合 find 命令使用</p> </div> <p><strong>xargs 结合 find 使用</strong></p> <p>用 rm 删除太多的文件时候，可能得到一个错误信息：<code>/bin/rm Argument list too long.</code> 用 xargs 去避免这个问题：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>find<span class=w> </span>.<span class=w> </span>-type<span class=w> </span>f<span class=w> </span>-name<span class=w> </span><span class=s2>&quot;*.log&quot;</span><span class=w> </span>-print0<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-0<span class=w> </span>rm<span class=w> </span>-f
</code></pre></div> <p>xargs -0 将 \0 作为定界符。</p> <p>统计一个源代码目录中所有 php 文件的行数： <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>find<span class=w> </span>.<span class=w> </span>-type<span class=w> </span>f<span class=w> </span>-name<span class=w> </span><span class=s2>&quot;*.php&quot;</span><span class=w> </span>-print0<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-0<span class=w> </span>wc<span class=w> </span>-l
</code></pre></div></p> <p>使用 -p 选项确认执行的命令</p> <p>-p 选项会在执行每一个命令时弹出确认，当你需要非常准确的确认每一次操作时可以使用 -p 参数， 比如，查找当前目录下 .log 文件，每一次删除都需要确认：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>find<span class=w> </span>.<span class=w> </span>-maxdepth<span class=w> </span><span class=m>1</span><span class=w> </span>-name<span class=w> </span><span class=s2>&quot;*.log&quot;</span><span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-p<span class=w> </span>-I<span class=o>{}</span><span class=w> </span>rm<span class=w> </span><span class=o>{}</span>
</code></pre></div> <p>执行多个命令</p> <p>使用 -I 选项可以让 xargs 执行多个命令 <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>cat<span class=w> </span>foo.txt
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>one
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>two
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>three
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>cat<span class=w> </span>foo.txt<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>-I<span class=w> </span>%<span class=w> </span>sh<span class=w> </span>-c<span class=w> </span><span class=s1>&#39;echo %; mkdir %&#39;</span>
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>one
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>two
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>three
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>
<a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>ls
<a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a>one<span class=w> </span>two<span class=w> </span>three
</code></pre></div></p> <p><strong>xargs 其他应用</strong></p> <p>假如你有一个文件包含了很多你希望下载的 URL，你能够使用 xargs 下载所有链接：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a>cat<span class=w> </span>url-list.txt<span class=w> </span><span class=p>|</span><span class=w> </span>xargs<span class=w> </span>wget<span class=w> </span>-c
</code></pre></div> <h2 id=6-实例>6. 实例<a class=headerlink href=#6-实例 title="Permanent link">&para;</a></h2> <h3 id=61-需求>6.1 需求<a class=headerlink href=#61-需求 title="Permanent link">&para;</a></h3> <p>我们经常在Linux系统操作操作文件，俗话说常在河边走，哪有不湿鞋，一不小心删除重要文件是非常危险的。我们可以利用Shell脚本来制作一个类似于Windows下的回收站，配合定时任务，定期清理这个回收站中的内容，从而达到缓冲及规避危险操作。</p> <h3 id=62-思路>6.2 思路<a class=headerlink href=#62-思路 title="Permanent link">&para;</a></h3> <ul> <li>通过 alias rm 来将删除的文件，移动文件到一个回收站目录;</li> <li>定期的在系统磁盘允许可控的使用率情况下，对回收站目录下的文件进行删除。</li> </ul> <h3 id=63-实现>6.3 实现<a class=headerlink href=#63-实现 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=ch>#!/bin/bash</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=c1># function:自定义rm命令，每天晚上定时清理</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=c1># 指定变量</span>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=nv>CMD_SCRIPTS</span><span class=o>=</span><span class=nv>$HOME</span>/.rm_scripts.sh
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=nv>TRASH_DIR</span><span class=o>=</span><span class=nv>$HOME</span>/.TRASH_DIR
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=nv>CRON_FILE</span><span class=o>=</span>/var/spool/cron/root
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=nv>BASHRC</span><span class=o>=</span><span class=nv>$HOME</span>/.bashrc
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=o>[</span><span class=w> </span>!<span class=w> </span>-d<span class=w> </span><span class=si>${</span><span class=nv>TRASH_DIR</span><span class=si>}</span><span class=w> </span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>mkdir<span class=w> </span>-p<span class=w> </span><span class=si>${</span><span class=nv>TRASH_DIR</span><span class=si>}</span>
<a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>cat<span class=w> </span>&gt;<span class=w> </span><span class=nv>$CMD_SCRIPTS</span><span class=w> </span><span class=s>&lt;&lt;EOF</span>
<a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a><span class=s>PARA_CNT=\$#</span>
<a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a><span class=s>TRASH_DIR=$TRASH_DIR</span>
<a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a>
<a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a><span class=s>for i in \$*; do</span>
<a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a><span class=s>     DATE=\$(date +%F%T)</span>
<a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a><span class=s>     fileName=\$(basename \$i)</span>
<a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a><span class=s>     mv \$i \$TRASH_DIR/\$fileName.\$DATE</span>
<a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a><span class=s>done</span>
<a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a><span class=s>EOF</span>
<a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a>
<a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a>sed<span class=w> </span>-i<span class=w> </span><span class=s2>&quot;s@</span><span class=k>$(</span>grep<span class=w> </span><span class=s1>&#39;alias rm=&#39;</span><span class=w> </span><span class=nv>$BASHRC</span><span class=k>)</span><span class=s2>@alias rm=&#39;bash </span><span class=si>${</span><span class=nv>CMD_SCRIPTS</span><span class=si>}</span><span class=s2>&#39;@g&quot;</span><span class=w> </span><span class=nv>$BASHRC</span>
<a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a><span class=nb>source</span><span class=w> </span><span class=nv>$HOME</span>/.bashrc
<a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a>
<a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a><span class=c1># 制作定时清理任务</span>
<a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;0 0 * * * rm -rf </span><span class=nv>$TRASH_DIR</span><span class=s2>/*&quot;</span><span class=w> </span>&gt;&gt;<span class=w> </span><span class=nv>$CRON_FILE</span>
<a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;删除目录:</span><span class=nv>$TRASH_DIR</span><span class=s2>&quot;</span>
<a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;删除脚本:</span><span class=nv>$CMD_SCRIPTS</span><span class=s2>&quot;</span>
<a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;请执行:source </span><span class=nv>$BASHRC</span><span class=s2> 来加载文件或退出当前shell重新登录&quot;</span>
</code></pre></div> <p>对防治误删除脚本进行系统测试。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=mi>10</span><span class=o>-</span><span class=mi>234</span><span class=o>-</span><span class=mi>1</span><span class=o>-</span><span class=mi>235</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>bash</span><span class=w> </span><span class=n>custom_rm</span><span class=p>.</span><span class=n>sh</span><span class=w> </span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=err>删除目录</span><span class=p>:</span><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=p>.</span><span class=n>TRASH_DIR</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=err>删除脚本</span><span class=p>:</span><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=p>.</span><span class=n>rm_scripts</span><span class=p>.</span><span class=n>sh</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=err>请执行</span><span class=p>:</span><span class=k>source</span><span class=w> </span><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=p>.</span><span class=n>bashrc</span><span class=w> </span><span class=err>来加载文件或退出当前</span><span class=n>shell重新登录</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=mi>10</span><span class=o>-</span><span class=mi>234</span><span class=o>-</span><span class=mi>1</span><span class=o>-</span><span class=mi>235</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>rm</span><span class=w> </span><span class=n>testdir</span><span class=o>/</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=mi>10</span><span class=o>-</span><span class=mi>234</span><span class=o>-</span><span class=mi>1</span><span class=o>-</span><span class=mi>235</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>rm</span><span class=w> </span><span class=n>wget</span><span class=o>-</span><span class=n>log</span><span class=w> </span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=mi>10</span><span class=o>-</span><span class=mi>234</span><span class=o>-</span><span class=mi>1</span><span class=o>-</span><span class=mi>235</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>ls</span><span class=w> </span><span class=o>-</span><span class=n>la</span><span class=w> </span><span class=p>.</span><span class=n>TRASH_DIR</span><span class=o>/</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=n>total</span><span class=w> </span><span class=mi>16</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=n>drwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w>  </span><span class=mi>3</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>4096</span><span class=w> </span><span class=n>Apr</span><span class=w> </span><span class=mi>18</span><span class=w> </span><span class=mi>20</span><span class=p>:</span><span class=mi>11</span><span class=w> </span><span class=p>.</span>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=n>dr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=c1>---. 13 root root 4096 Apr 18 20:11 ..</span>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=n>drwxr</span><span class=o>-</span><span class=n>xr</span><span class=o>-</span><span class=n>x</span><span class=p>.</span><span class=w>  </span><span class=mi>2</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=n>root</span><span class=w> </span><span class=mi>4096</span><span class=w> </span><span class=n>Apr</span><span class=w> </span><span class=mi>18</span><span class=w> </span><span class=mi>20</span><span class=p>:</span><span class=mi>10</span><span class=w> </span><span class=n>testdir</span><span class=p>.</span><span class=mi>2020</span><span class=o>-</span><span class=mi>04</span><span class=o>-</span><span class=mi>1820</span><span class=p>:</span><span class=mi>11</span><span class=p>:</span><span class=mi>37</span>
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=o>-</span><span class=n>rw</span><span class=o>-</span><span class=n>r</span><span class=c1>--r--.  1 root root    0 Jan  9 21:59 wget-log.2020-04-1820:11:40</span>
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=o>#</span><span class=w> </span><span class=err>查看定时任务</span>
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=p>[</span><span class=n>root</span><span class=o>@</span><span class=mi>10</span><span class=o>-</span><span class=mi>234</span><span class=o>-</span><span class=mi>1</span><span class=o>-</span><span class=mi>235</span><span class=w> </span><span class=o>~</span><span class=p>]</span><span class=o>#</span><span class=w> </span><span class=n>crontab</span><span class=w> </span><span class=o>-</span><span class=n>l</span>
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=mi>0</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>rm</span><span class=w> </span><span class=o>-</span><span class=n>rf</span><span class=w> </span><span class=o>/</span><span class=n>root</span><span class=o>/</span><span class=p>.</span><span class=n>TRASH_DIR</span><span class=cm>/*</span>
</code></pre></div> <h2 id=7-小结>7. 小结<a class=headerlink href=#7-小结 title="Permanent link">&para;</a></h2> <p>Shell编程就是利用工具加数据结构流程控制实现一组操作，所以掌握更多常用的工具或命令非常利于我们编写Shell脚本，平时可以多尝试利用各种命令或工具，并在Shell中熟练运用它们，勤练并反思总结，归纳整理，日积月累就会形成自己强大的工具库。</p> <hr> <div class=md-source-file> <small> 最后更新: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">March 24, 2023 22:38:55</span> <br> 创建日期: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">March 23, 2023 18:59:28</span> </small> </div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/hujianli94/hujianli94.github.io/issues/new/?title=[Feedback]+15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7+-+/Linux/shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 14.Shell三剑客之awk" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> 14.Shell三剑客之awk </div> </div> </a> <a href=../16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class="md-footer__link md-footer__link--next" aria-label="下一页: 16.Shell实战项目" rel=next> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> 16.Shell实战项目 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 hujainli94 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hujianli94 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com/blog_img/20220125122524.png target=_blank rel=noopener title=kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href="mailto:<1879324764@qq.com>" target=_blank rel=noopener title=发送邮件 class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "navigation.indexes", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.51198bba.min.js></script> <script src=../../../javascripts/extra.js></script> <script src=https://file.cdn.shafish.cn/blog/js/video.min.js></script> </body> </html>