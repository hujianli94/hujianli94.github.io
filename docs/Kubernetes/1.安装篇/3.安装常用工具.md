# 安装常用工具


Kubernetes 命令行工具 kubectl， 让你可以对 Kubernetes 集群运行命令。 你可以使用 kubectl 来部署应用、监测和管理集群资源以及查看日志。

有关更多信息，包括 kubectl 操作的完整列表，请参见 kubectl[参考文件]((https://kubernetes.io/zh-cn/docs/reference/kubectl/))。

kubectl 可安装在各种 Linux 平台、 macOS 和 Windows 上。 在下面找到你喜欢的操作系统。



[在 Linux 上安装 kubectl](https://kubernetes.io/zh-cn/docs/tasks/tools/install-kubectl-linux/)


[在 macOS 上安装 kubectl](https://kubernetes.io/zh-cn/docs/tasks/tools/install-kubectl-macos/)


[在 Windows 上安装 kubectl](https://kubernetes.io/zh-cn/docs/tasks/tools/install-kubectl-windows/)


## 1.安装kubectl


```sh
# kubectl 
$ curl -SL https://dl.k8s.io/release/v1.22.5/bin/linux/amd64/kubectl -o /usr/bin/kubectl
$ chmod 755  /usr/bin/kubectl

$ kubectl get nodes
NAME             STATUS   ROLES    AGE    VERSION
192.168.240.10   Ready    <none>   42m    v1.22.5
192.168.240.11   Ready    <none>   42m    v1.22.5
....

# kubectl补全
$ source <(kubectl completion bash)
$ echo "source <(kubectl completion bash)" >> ~/.bashrc

# 快捷键
cat >> ~/.bashrc <<EOF
alias k=kubectl
complete -o default -F __start_kubectl k
EOF

```


## 2.安装helm

```sh
# helm
$ wget -c https://repo.huaweicloud.com/helm/v3.8.0/helm-v3.8.0-linux-386.tar.gz
$ tar -zxvf helm-v3.8.0-linux-386.tar.gz
$ cp linux-386/helm /usr/local/bin/
$ chmod a+x  /usr/local/bin/helm
$ chmod 600 ~/.kube/config
$ helm list -A
NAME    NAMESPACE       REVISION        UPDATED STATUS  CHART   APP VERSION

# helm补全
$ helm completion bash > /etc/bash_completion.d/helm

$ echo "helm completion bash > /etc/bash_completion.d/helm" >>  ~/.bashrc

```

## 3.Kubectx Kubens and fzf

通常情况下，可能会拥有多套集群，开发/测试/生产，本地或云集群。可以使用 Kubectx 和 Kubens 快速地在不同的集群和 namespace 直接切换。


除此之外， fzf 提供了交互的方式来切换上下文，因此不必记住任何集群或 namespace。


```sh
# Install kubectx, kubens, fzf
brew install kubectx fzf
# Switch between namespaces
kubens
```


安装 kubectx 和 kubens 的依赖项：

```sh
# 下载 kubectx 和 kubens 脚本文件
git clone https://github.com/ahmetb/kubectx.git ~/.kubectx
sudo ln -s ~/.kubectx/kubectx /usr/local/bin/kubectx
sudo ln -s ~/.kubectx/kubens /usr/local/bin/kubens


# 配置 bash 自动完成
echo 'source <(kubectl completion bash)' >> ~/.bashrc
echo 'source ~/.kubectx/completion/kubectx.bash' >> ~/.bashrc
echo 'source ~/.kubectx/completion/kubens.bash' >> ~/.bashrc
source ~/.bashrc
```
至此，kubectx 和 kubens 已成功安装。


要安装 fzf，请按照以下步骤操作：

```sh

# 1.下载和安装 fzf
git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install


# 2.配置 bash 自动完成：
echo '[ -f ~/.fzf.bash ] && source ~/.fzf.bash' >> ~/.bashrc
source ~/.bashrc
```

现在，fzf 已成功安装。

请记住，在安装之前，请确保您的系统已经安装了 git 和 curl。




## 4. kubectl-neat

项目地址：kubectl-neat(opens new window)

项目说明：一款在执行 kubectl 通过 -o 导出 yaml 时剔除无用信息的工具


https://github.com/itaysk/kubectl-neat

直接下载二进制文件到/usr/local/bin下即可。

```sh

$ wget "https://github.com/itaysk/kubectl-neat/releases/download/v2.0.3/kubectl-neat_linux_amd64.tar.gz" \
$ tar zxvf kubectl-neat_linux_amd64.tar.gz
$ mv kubectl-neat /usr/local/bin/
```


或者如下方式安装,需要安装Go开发环境

```sh
$ git clone https://github.com/itaysk/kubectl-neat.git
$ cd kubectl-neat
$ go build .
$ mv kubectl-neat /usr/local/bin/
```