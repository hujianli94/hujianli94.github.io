# 7.Python自动化管理


## 7.1 使用SSH访问远程服务器

SSH(Secure Shell)是一种由IETF的网络工作小组制定、创建在应用层和传输层基础上的安全协议，为计算机上的Shell提供安全的传输和使用环境。


### 7.1.1 SSH 协议

在互联网早期，通信都是明文的，如rsh、FTP、POP和Telnet。

一旦通信报文被截获内容就泄漏无疑。

1995年，芬兰学者Tatu Ylonen设计了SSH协议，将登录信息全部加密，成为互联网安全的一个基本解决方案。

这个方案迅速在全世界获得推广，目前已经成为Linux系统的标准配置。


SSH只是一种协议，存在多种实现，既有商业实现，也有开源实现。目前，在Liux下广泛使用的是OpenSSH,它是一款应用广泛的开源软件。

即将介绍的paramiko是SSH协议的一种Python实现。


S$H除了提供安全的传输和登录以外，还可以进行批量命令执行，使用非常方便。

正是由于SSH简单好用的特点，常见的Ansible工具,都依赖SSH进行远程服务器的管理。


使用SSH的好处非常明显，既充分利用了现成的机制，又省去了在远程服务器安装代理（Agent)程序。因此，诸多自动化工具都依赖于SSH。




### 7.1.2 OpenSSH实现

OpenSSH客户端是一个名为ssh可执行程序，ssh命令连接远程服务器，示例如下
```sh
ssh username@remote_host
```

非22端口号

```sh
ssh username@remote_host -p port
```


不进入交互式的shell

```sh
ssh username@remote_host 'COMMANDS'
```
