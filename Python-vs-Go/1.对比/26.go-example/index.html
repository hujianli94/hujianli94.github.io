<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="stay hungry,stay foolish #magic___^_^___line"><meta name=author content=hujainli94><link href=https://hujianli94.github.io/Python-vs-Go/1.%E5%AF%B9%E6%AF%94/26.go-example/ rel=canonical><link href=../25.python-example/ rel=prev><link href=../../2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.32"><title>Go By Example - DevOps运维开发</title><link rel=stylesheet href=../../../assets/stylesheets/main.3cba04c6.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/vssue.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video-js.min.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","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"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","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",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=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",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#go-by-example class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title=DevOps运维开发 class="md-header__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DevOps运维开发 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Go By Example </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换至深色模式 type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title=切换至深色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label=切换至浅色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换至浅色模式 for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../../k8s/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.k8s/ class=md-tabs__link> k8s </a> </li> <li class=md-tabs__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-tabs__link> Golang </a> </li> <li class=md-tabs__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../../Openstack/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.OpenStack/ class=md-tabs__link> Openstack </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-tabs__link> Python-vs-Go </a> </li> <li class=md-tabs__item> <a href=../../../Git/1.Git%E5%9F%BA%E7%A1%80/ class=md-tabs__link> Git </a> </li> <li class=md-tabs__item> <a href=../../../Ansible/1.Ansible%E7%AE%80%E4%BB%8B/ class=md-tabs__link> Ansible </a> </li> <li class=md-tabs__item> <a href=../../../Shell/Shell%E7%AE%80%E4%BB%8B/ class=md-tabs__link> Shell </a> </li> <li class=md-tabs__item> <a href=../../../Linux/KVM/1.kvm%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../middleware/db/1.postgres/ class=md-tabs__link> middleware </a> </li> <li class=md-tabs__item> <a href=../../../Other/tools/1.PicGo%E5%9B%BE%E5%BA%8A/ class=md-tabs__link> Other </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=DevOps运维开发 class="md-nav__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> DevOps运维开发 </label> <div class=md-nav__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> k8s </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> k8s </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.k8s/ class=md-nav__link> <span class=md-ellipsis> Kubernetes从入门到实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> 1.容器的发展史 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 1.容器的发展史 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/1.%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2/1.1%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E7%9A%84%E5%8F%91%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 1.1开发过程的发展 </span> </a> </li> <li class=md-nav__item> <a href=../../../k8s/1.%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2/1.2%E5%BA%94%E7%94%A8%E6%9E%B6%E6%9E%84%E7%9A%84%E5%8F%91%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 1.2应用架构的发展 </span> </a> </li> <li class=md-nav__item> <a href=../../../k8s/1.%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2/1.3%E9%83%A8%E7%BD%B2%E6%89%93%E5%8C%85%E7%9A%84%E5%8F%91%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 1.3部署打包的发展 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> 2.Kubernetes的核心概念 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 2.Kubernetes的核心概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/2.Kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/2.1Kubernetes%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%9E%B6%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 2.1Kubernetes的设计架构 </span> </a> </li> <li class=md-nav__item> <a href=../../../k8s/2.Kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/2.2Kubernetes%E7%9A%84%E6%A0%B8%E5%BF%83%E5%AF%B9%E8%B1%A1/ class=md-nav__link> <span class=md-ellipsis> 2.2Kubernetes的核心对象 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> 3.Kubernetes的安装和部署 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 3.Kubernetes的安装和部署 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/3.Kubernetes%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E9%83%A8%E7%BD%B2/3.1kubeadm%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 3.1kubeadm搭建开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../k8s/3.Kubernetes%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E9%83%A8%E7%BD%B2/3.2kubeadm%E6%90%AD%E5%BB%BA%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 3.2kubeadm搭建生产环境 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> 4.Pod </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 4.Pod </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/4.Pod/4.1Pod%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 4.1Pod的基本操作 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class=md-ellipsis> 5.控制器 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> 5.控制器 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../k8s/5.%E6%8E%A7%E5%88%B6%E5%99%A8/5.1Deployment/ class=md-nav__link> <span class=md-ellipsis> 5.1Deployment </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> 1.安装篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 1.安装篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/1.Kubeadm%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> <span class=md-ellipsis> Kubeadm安装高可用集群 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/2.%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> <span class=md-ellipsis> 二进制安装高可用K8s集群 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/3.%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 安装常用工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/4.Kubeadm%E5%AE%89%E8%A3%85%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> Kubeadm安装开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/5.K3s%E5%92%8CMinikube/ class=md-nav__link> <span class=md-ellipsis> K3s和Minikube </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> 2.基础篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Docker%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Docker基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Kubernetes%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=md-nav__link> <span class=md-ellipsis> Kubernetes的基础概念 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Kubernetes%E8%B0%83%E5%BA%A6%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Kubernetes调度基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Kubernetes%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Kubernetes服务发布基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Kubernetes%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> Kubernetes配置管理 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> 3.进阶篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 3.进阶篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/8.Kubernetes%E5%AD%98%E5%82%A8%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> Kubernetes存储入门 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/9.Kubernetes%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6/ class=md-nav__link> <span class=md-ellipsis> Kubernetes高级调度 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <label class=md-nav__link for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class=md-ellipsis> 4.高级篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> 4.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/12.%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AD%98%E5%82%A8Rook/ class=md-nav__link> <span class=md-ellipsis> 云原生存储Rook </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/13.%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%B9%E5%99%A8%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 中间件容器化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> 5.运维篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> 5.运维篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/14.Kubernetes%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/ class=md-nav__link> <span class=md-ellipsis> Kubernetes日志收集 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/15.Kubernetes%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6/ class=md-nav__link> <span class=md-ellipsis> Kubernetes监控告警 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/16.%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83Ingress%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 服务发布Ingress进阶 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class=md-ellipsis> 6.DevOps篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> 6.DevOps篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/6.DevOps%E7%AF%87/17.DevOps%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> DevOps 实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class=md-ellipsis> 7.Kubernetes面试 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> 7.Kubernetes面试 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/7.Kubernetes%E9%9D%A2%E8%AF%95/1.Kubernetes%E9%9D%A2%E8%AF%95%E9%A2%98/ class=md-nav__link> <span class=md-ellipsis> Kubernetes 面试题 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9 id=__nav_3_9_label tabindex=0> <span class=md-ellipsis> 8.Kubernetes-网络权威指南 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> 8.Kubernetes-网络权威指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/8.Kubernetes-%E7%BD%91%E7%BB%9C%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/1.network-namespace/ class=md-nav__link> <span class=md-ellipsis> 1.network-namespace </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> 1.基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 1.基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Docker/ class=md-nav__link> <span class=md-ellipsis> 1.安装Docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/2.Docker%E9%95%9C%E5%83%8F/ class=md-nav__link> <span class=md-ellipsis> 2.Docker 镜像 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/3.Docker%E5%AE%B9%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 3.Docker容器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/4.%E4%BC%81%E4%B8%9A%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93harbor/ class=md-nav__link> <span class=md-ellipsis> 4.企业私有仓库harbor </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/5.Docker%E6%95%B0%E6%8D%AE/ class=md-nav__link> <span class=md-ellipsis> 5.Docker数据 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/6.Docker%E7%BD%91%E7%BB%9C/ class=md-nav__link> <span class=md-ellipsis> 6.Docker网络 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/7.Dockerfile/ class=md-nav__link> <span class=md-ellipsis> 7.Dockerfile </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/8.docker-compose/ class=md-nav__link> <span class=md-ellipsis> 8.docker-compose </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/9.Docker%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 9.Docker相关脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/10.Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 10.Docker常用命令 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> 2.实战案例 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 2.实战案例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 1.操作系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/2.Web%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Web服务与应用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/3.%E6%8C%81%E7%BB%AD%E5%BC%80%E5%8F%91%E4%B8%8E%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.持续开发与管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/4.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 4.数据库应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> 3.Devops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 3.Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/3.Devops/0.keepalived-docker/ class=md-nav__link> <span class=md-ellipsis> 0.keepalived-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/1.confcenter-docker/ class=md-nav__link> <span class=md-ellipsis> 1.confcenter-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/2.simaple-jenkins/ class=md-nav__link> <span class=md-ellipsis> 2.simaple-jenkins </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/3.docker-nginx-spa/ class=md-nav__link> <span class=md-ellipsis> 3.docker-nginx-spa </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/4.fileserver-docker/ class=md-nav__link> <span class=md-ellipsis> 4.fileserver-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/5.haproxy-docker/ class=md-nav__link> <span class=md-ellipsis> 5.haproxy-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/6.mysql-docker/ class=md-nav__link> <span class=md-ellipsis> 6.mysql-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/7.frp-docker/ class=md-nav__link> <span class=md-ellipsis> 7.frp-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/8.coredns-docker/ class=md-nav__link> <span class=md-ellipsis> 8.coredns-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/9.simple-harbor/ class=md-nav__link> <span class=md-ellipsis> 9.simple-harbor </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/10.redis-docker/ class=md-nav__link> <span class=md-ellipsis> 10.redis-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/11.nexus3-docker/ class=md-nav__link> <span class=md-ellipsis> 11.nexus3-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/12.openvpn-docker/ class=md-nav__link> <span class=md-ellipsis> 12.openvpn-docker.md </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/13.nfs-docker/ class=md-nav__link> <span class=md-ellipsis> 13.nfs-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/14.jumpserver-docker/ class=md-nav__link> <span class=md-ellipsis> 14.jumpserver-docker.md </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/15.ansible-docker/ class=md-nav__link> <span class=md-ellipsis> 15.ansible-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/16.minio-docker/ class=md-nav__link> <span class=md-ellipsis> 16.minio-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/17.vaultwarden-docker/ class=md-nav__link> <span class=md-ellipsis> 17.vaultwarden-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/18.kasm-docker/ class=md-nav__link> <span class=md-ellipsis> 18.kasm-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/19.nginx-docker/ class=md-nav__link> <span class=md-ellipsis> 19.nginx-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/20.kafka-docker/ class=md-nav__link> <span class=md-ellipsis> 20.kafka-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/21.golang-docker/ class=md-nav__link> <span class=md-ellipsis> 21.golang-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/22.postgres-docker/ class=md-nav__link> <span class=md-ellipsis> 22.postgres-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/23.nginx-download-docker/ class=md-nav__link> <span class=md-ellipsis> 23.nginx-download-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/24.helm%E9%83%A8%E7%BD%B2%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 24.helm部署常用服务 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/25.Python%E6%93%8D%E4%BD%9CDocker/ class=md-nav__link> <span class=md-ellipsis> 25.Python操作Docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/26.docker-compose-devops/ class=md-nav__link> <span class=md-ellipsis> 26.docker-compose-devops </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/27.DevOps%E4%B8%8B%E7%9A%84Shell%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 27.DevOps下的Shell脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/28.Devops%E4%B8%8B%E7%9A%84Python%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 28.Devops下的Python脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/29.Vagrant%E8%99%9A%E6%8B%9F%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 29.Vagrant虚拟机 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/30.VMware-workstation/ class=md-nav__link> <span class=md-ellipsis> 30.VMware Workstation </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/31.VirtualBox/ class=md-nav__link> <span class=md-ellipsis> 31.VirtualBox </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/32.Devops%E7%9B%B8%E5%85%B3%E5%AD%98%E5%82%A8%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 32.Devops相关存储库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/33.terraform%E6%A6%82%E8%BF%B0/ class=md-nav__link> <span class=md-ellipsis> 33.terraform概述 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/34.%E5%8A%A0%E9%80%9Fdockerhub/ class=md-nav__link> <span class=md-ellipsis> 34.加速 dockerhub </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/35.instantbox/ class=md-nav__link> <span class=md-ellipsis> 35.instantbox </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/36.docker-prometheus-stack/ class=md-nav__link> <span class=md-ellipsis> 36.docker-prometheus-stack </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/37.grabber/ class=md-nav__link> <span class=md-ellipsis> 37.grabber </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/38.webhookbot/ class=md-nav__link> <span class=md-ellipsis> 38.webhookbot </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Golang </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> Go Web开发实战 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 1.Go基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 1.Go基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Go/ class=md-nav__link> <span class=md-ellipsis> 安装 Go </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/2.%E7%AC%AC%E4%B8%80%E4%B8%AAGo%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 第一个Go程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/3.Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> Go 基础语法 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/4.Go-Module/ class=md-nav__link> <span class=md-ellipsis> Go Module </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/5.Go-%E6%A0%87%E5%87%86%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> Go 标准目录结构 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> 2.Go-Web基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 2.Go-Web基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/5.%E7%AC%AC%E4%B8%80%E4%B8%AAGo-Web%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 第一个Go Web程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/6.Web%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> Web程序运行原理简介 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/7.net-http%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> net/http包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/8.html-template%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> html/template包 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> 3.Go-Web请求处理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> 3.Go-Web请求处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/9.%E7%AE%80%E5%8D%95Web%E6%9C%8D%E5%8A%A1%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 简单Web服务器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/10.%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82/ class=md-nav__link> <span class=md-ellipsis> 处理请求 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/11.session%E5%92%8Ccookie/ class=md-nav__link> <span class=md-ellipsis> session和cookie </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> 4.Go访问数据库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> 4.Go访问数据库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/12.Go%E6%93%8D%E4%BD%9CMySQL/ class=md-nav__link> <span class=md-ellipsis> Go操作MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/13.Go%E6%93%8D%E4%BD%9CRedis/ class=md-nav__link> <span class=md-ellipsis> Go操作Redis </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/14.Go%E6%93%8D%E4%BD%9CMongoDB/ class=md-nav__link> <span class=md-ellipsis> Go操作MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/15.Go%E7%9A%84%E5%B8%B8%E8%A7%81ORM%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> Go的常见ORM库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/16.Go%E6%93%8D%E4%BD%9CSQLite/ class=md-nav__link> <span class=md-ellipsis> Go操作SQLite </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <label class=md-nav__link for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class=md-ellipsis> 5.Go高级网络编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> 5.Go高级网络编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/17.Go-Socket%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> Go Socket编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.Go-RPC%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> Go RPC编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/19.Go-%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> Go 微服务 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <label class=md-nav__link for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class=md-ellipsis> 6.Go文件处理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> 6.Go文件处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/20.%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理目录与文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/21.%E5%A4%84%E7%90%86XML%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理XML文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/22.%E5%A4%84%E7%90%86JSON%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理JSON文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/23.%E5%A4%84%E7%90%86CSV%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理CSV文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/24.%E5%A4%84%E7%90%86Go%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95/ class=md-nav__link> <span class=md-ellipsis> 处理Go日志记录 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/25.%E5%A4%84%E7%90%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 处理正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/26.%E5%A4%84%E7%90%86Excel%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理Excel文件 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8> <label class=md-nav__link for=__nav_5_8 id=__nav_5_8_label tabindex=0> <span class=md-ellipsis> 7.Go并发编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> 7.Go并发编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/26.%E5%B9%B6%E5%8F%91-%E5%B9%B6%E8%A1%8C/ class=md-nav__link> <span class=md-ellipsis> 并发 并行 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/27.%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B-%E5%8D%8F%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 进程 线程 协程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/28.Go%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> Go并发模型 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/29.goroutine%E5%92%8Cchannel/ class=md-nav__link> <span class=md-ellipsis> goroutine和channel </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/30.sync%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> sync实现并发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/31.Go%E5%B9%B6%E5%8F%91%E7%9A%84Web%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> Go并发的Web应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> 8.Go标准库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> 8.Go标准库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/32.time/ class=md-nav__link> <span class=md-ellipsis> time </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/33.strings/ class=md-nav__link> <span class=md-ellipsis> strings </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/34.bytes/ class=md-nav__link> <span class=md-ellipsis> bytes </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/35.json/ class=md-nav__link> <span class=md-ellipsis> json </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/36.io-bufio/ class=md-nav__link> <span class=md-ellipsis> io/bufio </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/37.fmt/ class=md-nav__link> <span class=md-ellipsis> fmt </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/38.strconv/ class=md-nav__link> <span class=md-ellipsis> strconv </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/39.regexp/ class=md-nav__link> <span class=md-ellipsis> regexp </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/40.log/ class=md-nav__link> <span class=md-ellipsis> log </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/41.reflect-unsafe/ class=md-nav__link> <span class=md-ellipsis> reflect/unsafe </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/42.os-path-filepath/ class=md-nav__link> <span class=md-ellipsis> os/path/filepath </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/43.unicode/ class=md-nav__link> <span class=md-ellipsis> unicode </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/44.flag/ class=md-nav__link> <span class=md-ellipsis> flag </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/45.net-url/ class=md-nav__link> <span class=md-ellipsis> net/url </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/46.net-http/ class=md-nav__link> <span class=md-ellipsis> net/http </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/47.sort/ class=md-nav__link> <span class=md-ellipsis> sort </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/48.errors/ class=md-nav__link> <span class=md-ellipsis> errors </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/49.%E5%87%BD%E6%95%B0%E5%B7%A5%E5%85%B7%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 函数工具库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/50.Go%E8%AF%AD%E8%A8%80%E5%9C%A8%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> Go语言在运维开发中的应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> 9.Go三方库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> 9.Go三方库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/0.%E5%BC%80%E6%BA%90%E8%87%AA%E5%B7%B1%E7%9A%84Go%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 开源自己的Go库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/1.cobra/ class=md-nav__link> <span class=md-ellipsis> Cobra </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/2.viper/ class=md-nav__link> <span class=md-ellipsis> Viper </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/3.Zap/ class=md-nav__link> <span class=md-ellipsis> Zap </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/4.mahonia/ class=md-nav__link> <span class=md-ellipsis> mahonia </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/5.ssh/ class=md-nav__link> <span class=md-ellipsis> ssh </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/6.fsnotify/ class=md-nav__link> <span class=md-ellipsis> fsnotify </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/7.yaml/ class=md-nav__link> <span class=md-ellipsis> yaml </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/8.tail/ class=md-nav__link> <span class=md-ellipsis> tail </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/9.gRPC/ class=md-nav__link> <span class=md-ellipsis> gRPC </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/10.gopsutil/ class=md-nav__link> <span class=md-ellipsis> gopsutil </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/11.go-awesome/ class=md-nav__link> <span class=md-ellipsis> go-awesome </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/12.dmidecode/ class=md-nav__link> <span class=md-ellipsis> dmidecode </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/13.toml/ class=md-nav__link> <span class=md-ellipsis> toml </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/14.%E5%85%B6%E4%BB%96%E4%B8%89%E6%96%B9%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 其他三方库 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_11> <label class=md-nav__link for=__nav_5_11 id=__nav_5_11_label tabindex=0> <span class=md-ellipsis> 10.Go-RESTful-API接口开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_11_label aria-expanded=false> <label class=md-nav__title for=__nav_5_11> <span class="md-nav__icon md-icon"></span> 10.Go-RESTful-API接口开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/1.%E4%BB%80%E4%B9%88%E6%98%AFRESTful-API/ class=md-nav__link> <span class=md-ellipsis> 1.什么是 RESTful-API </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/2.GORMv2/ class=md-nav__link> <span class=md-ellipsis> 2.GORMv2 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/3.Gin%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 3.Gin 框架的使用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/4.%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%89%8D%E7%AB%AF/ class=md-nav__link> <span class=md-ellipsis> 4.图书管理系统-前端 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/5.%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%90%8E%E7%AB%AF/ class=md-nav__link> <span class=md-ellipsis> 5.图书管理系统-后端 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/10.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/6.Gin%2BVue%E5%85%A5%E9%97%A8%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 6.Gin+Vue入门项目 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_12> <label class=md-nav__link for=__nav_5_12 id=__nav_5_12_label tabindex=0> <span class=md-ellipsis> 11.Web前端 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_5_12> <span class="md-nav__icon md-icon"></span> 11.Web前端 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/11.Web%E5%89%8D%E7%AB%AF/1.HTML%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/ class=md-nav__link> <span class=md-ellipsis> 1.HTML标记语言 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/11.Web%E5%89%8D%E7%AB%AF/2.CSS%E6%A0%B7%E5%BC%8F%E8%AF%AD%E8%A8%80/ class=md-nav__link> <span class=md-ellipsis> 2.CSS样式语言 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/11.Web%E5%89%8D%E7%AB%AF/3.JavaScript%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80/ class=md-nav__link> <span class=md-ellipsis> 3.JavaScript客户端脚本语言 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/11.Web%E5%89%8D%E7%AB%AF/4.JavaScript%E5%BA%93-JQuery/ class=md-nav__link> <span class=md-ellipsis> 4.JavaScript库:JQuery </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_13> <label class=md-nav__link for=__nav_5_13 id=__nav_5_13_label tabindex=0> <span class=md-ellipsis> 12.Vue前端开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_13_label aria-expanded=false> <label class=md-nav__title for=__nav_5_13> <span class="md-nav__icon md-icon"></span> 12.Vue前端开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/1.%E8%AE%A4%E8%AF%86Vue.js/ class=md-nav__link> <span class=md-ellipsis> 1.认识Vue.js.md </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/2.Vue%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 2.Vue常用指令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/3.Vue%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7/ class=md-nav__link> <span class=md-ellipsis> 3.Vue常用属性 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/4.Vue%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E4%B9%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 4.Vue常用指令之流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/5.Vue%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E4%B9%8B%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/ class=md-nav__link> <span class=md-ellipsis> 5.Vue常用指令之数据双向绑定 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/6.Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90/ class=md-nav__link> <span class=md-ellipsis> 6.Vue生命周期钩子 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/7.VueCli%E8%84%9A%E6%89%8B%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 7.VueCli脚手架 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/8.Vue%E7%BB%84%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 8.Vue组件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/9.Vue%E8%B7%AF%E7%94%B1/ class=md-nav__link> <span class=md-ellipsis> 9.Vue路由 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/10.Vuex%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 10.Vuex状态管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/11.%E5%89%8D%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92-Axios/ class=md-nav__link> <span class=md-ellipsis> 11.前后端数据交互 Axios </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/12.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/12.Element-Plus/ class=md-nav__link> <span class=md-ellipsis> 12.Element Plus </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_14> <label class=md-nav__link for=__nav_5_14 id=__nav_5_14_label tabindex=0> <span class=md-ellipsis> 13.K8s管理系统项目实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_14_label aria-expanded=false> <label class=md-nav__title for=__nav_5_14> <span class="md-nav__icon md-icon"></span> 13.K8s管理系统项目实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/13.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/1.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> K8s 管理系统-后端开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/13.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/2.K8s%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> K8s管理系统-前端开发 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_15> <label class=md-nav__link for=__nav_5_15 id=__nav_5_15_label tabindex=0> <span class=md-ellipsis> 14.Go开发的三方平台 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_15_label aria-expanded=false> <label class=md-nav__title for=__nav_5_15> <span class="md-nav__icon md-icon"></span> 14.Go开发的三方平台 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/0.%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8Go%E5%81%9A%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 为什么使用Go做后端开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/1.TBak-System%E5%A4%87%E4%BB%BD%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> TBak System备份平台 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/2.kubernetes%E5%AE%B9%E5%99%A8%E4%BA%91%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> kubernetes容器云管理平台 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/3.Go%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> Go 命令行工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/4.%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/ class=md-nav__link> <span class=md-ellipsis> nps </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/5.go-web%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> go-web项目 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/6.go-%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7%E7%AE%80%E5%8D%95%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> go-三方工具简单入门 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/7.diamond-devops/ class=md-nav__link> <span class=md-ellipsis> diamond-devops </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/14.Go%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%89%E6%96%B9%E5%B9%B3%E5%8F%B0/8.Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95/ class=md-nav__link> <span class=md-ellipsis> Go语言学习目录 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_16> <label class=md-nav__link for=__nav_5_16 id=__nav_5_16_label tabindex=0> <span class=md-ellipsis> 15.容器化Go </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_16_label aria-expanded=false> <label class=md-nav__title for=__nav_5_16> <span class="md-nav__icon md-icon"></span> 15.容器化Go </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/15.%E5%AE%B9%E5%99%A8%E5%8C%96Go/0.%E6%9E%84%E5%BB%BAGo%E5%BA%94%E7%94%A8docker%E9%95%9C%E5%83%8F/ class=md-nav__link> <span class=md-ellipsis> 构建Go应用docker镜像 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-nav__link> <span class=md-ellipsis> Python Linux 管理与自动化运维 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 1.Python基础篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 1.Python基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/1.Python%E7%94%9F%E6%80%81%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 1.Python 生态工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/2.Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 2.Python 第三方库安装 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/3.Python%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.Python 工作环境管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/4.Python%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 4.Python 开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/5.Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 5.Python 数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/6.Python%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 6.Python 项目的组织结构 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/7.Python%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 7.Python代码规范 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/8.Python%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ class=md-nav__link> <span class=md-ellipsis> 8.Python 基础知识 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/9.Python%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 9.Python 字符串 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/10.Python%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> 10.Python 数据类型 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/11.Python%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 11.Python 运算符和流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/12.Python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 12.Python 文件操作 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/13.Python%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 13.Python 函数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/14.Python%E5%B8%B8%E7%94%A8%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 14.Python 常用内建函数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/15.Python%E7%B1%BB/ class=md-nav__link> <span class=md-ellipsis> 15.Python 类 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/16.Python%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 16.Python 异常处理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/17.Python%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 17.Python 模块与包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/18.Python%E6%A0%87%E5%87%86%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 18.Python 标准库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/19.Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 19.Python 正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/20.Python%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 20.Python 数据库编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/21.Python%E6%89%B9%E9%87%8F%E7%AE%A1%E7%90%86%E4%B8%BB%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 21.Python 批量管理主机 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/22.Python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%8D%8F%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 22.Python 多线程多进程协程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/23.Python%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95/ class=md-nav__link> <span class=md-ellipsis> 23.Python 代码调试 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/24.Python%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/ class=md-nav__link> <span class=md-ellipsis> 24.Python 单元测试 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/25.%E7%8E%A9%E8%BD%ACDjango2.0/ class=md-nav__link> <span class=md-ellipsis> 25.玩转 Django2.0 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%950-%E5%86%85%E5%BB%BA%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 附录-内建模块 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%951-%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 附录 1-虚拟环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%952-%E6%89%93%E5%8C%85%E5%92%8C%E5%88%86%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 附录2-打包和分发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%953-%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E8%BD%AF%E4%BB%B6%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 附录3-安装第三方软件包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%954-%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 附录 4-常用第三方模块 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%955-Python%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/ class=md-nav__link> <span class=md-ellipsis> 附录 5-Python 面试宝典 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/1.Python%E5%9F%BA%E7%A1%80%E7%AF%87/%E9%99%84%E5%BD%956-%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/ class=md-nav__link> <span class=md-ellipsis> 附录 6-项目部署 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 2.Python运维开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 2.Python运维开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/1.%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 1.命令行工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/2.%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 2.文本处理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/3.Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.Linux 系统管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/4.%E7%9B%91%E6%8E%A7Linux/ class=md-nav__link> <span class=md-ellipsis> 4.监控 Linux </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/5.%E6%96%87%E6%A1%A3%E4%B8%8E%E6%8A%A5%E5%91%8A/ class=md-nav__link> <span class=md-ellipsis> 5.文档与报告 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/6.%E7%BD%91%E7%BB%9C/ class=md-nav__link> <span class=md-ellipsis> 6.网络 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/7.%E8%87%AA%E5%8A%A8%E5%8C%96%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 7.自动化管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/8.%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 8.常用模块 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/9.Python%E6%89%93%E9%80%A0MySQL%E4%B8%93%E5%AE%B6%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 9.Python 打造 MySQL 专家系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/10.%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 10.自动化运维系统的开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/11.%E5%8D%8E%E4%B8%BA%E4%BA%91Python%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81/ class=md-nav__link> <span class=md-ellipsis> 11.华为云 Python 演示代码 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/12.%E5%8D%8E%E4%B8%BA%E4%BA%91Go%E6%BC%94%E7%A4%BA%E4%BB%A3%E7%A0%81/ class=md-nav__link> <span class=md-ellipsis> 12.华为云 Go 演示代码 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/13.Tornado%E6%A1%86%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 13.Tornado 框架 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-%E5%AD%A6%E4%B9%A0API%E7%9A%84demo/ class=md-nav__link> <span class=md-ellipsis> 附-学习 API 的 demo </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-%E8%BF%90%E7%BB%B4%E7%9B%B8%E5%85%B3%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 附-运维相关开源项目 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-awesome-python-cn/ class=md-nav__link> <span class=md-ellipsis> 附-awesome-python-cn </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-CMDB/ class=md-nav__link> <span class=md-ellipsis> 附-CMDB </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-Django-web%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 附-Django-web 开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-Django%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%AE%80%E6%98%93%E5%8F%91%E5%B8%83%E4%BC%9A%E7%AD%BE%E5%88%B0%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 附-Django 实现的简易发布会签到系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-Kubernetes%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> 附-Kubernetes 管理平台 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/2.Python%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91/%E9%99%84-varnish%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/ class=md-nav__link> <span class=md-ellipsis> 附-varnish 管理平台 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> 3.Python测试开发 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> 3.Python测试开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/1.Python2%E4%B8%8EPython3%E5%8C%BA%E5%88%AB/ class=md-nav__link> <span class=md-ellipsis> 1.Python2 与 Python3 区别 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/2.Windows%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85Python/ class=md-nav__link> <span class=md-ellipsis> 2.Windows环境安装Python </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/3.Linux%E5%A4%9A%E7%89%88%E6%9C%ACPython%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 3.Linux多版本Python安装 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/4.Python%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 4.Python虚拟环境安装 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/5.Pycharm%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 5.Pycharm安装与使用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/6.Python%E9%97%B4%E6%8E%A5%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F/ class=md-nav__link> <span class=md-ellipsis> 6.Python间接定义常量 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/7.Python%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 7.Python运算符与表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/8.%E9%80%BB%E8%BE%91%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/ class=md-nav__link> <span class=md-ellipsis> 8.逻辑控制语句 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/9.%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BB%8B%E7%BB%8D/ class=md-nav__link> <span class=md-ellipsis> 9.数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/10.%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D/ class=md-nav__link> <span class=md-ellipsis> 10.函数介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/11.%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1/ class=md-nav__link> <span class=md-ellipsis> 11.类与对象 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/12.%E6%89%93%E5%8C%85%E4%B8%8E%E5%8F%91%E5%B8%83/ class=md-nav__link> <span class=md-ellipsis> 12.打包与发布 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/13.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7%E4%B8%8E%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 13.异常捕获与处理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/14.%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 14.并发编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/15.%E6%A0%87%E5%87%86%E5%BA%93%E5%92%8C%E4%B8%89%E6%96%B9%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 15.标准库和三方库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/16.vue-cli%E8%84%9A%E6%89%8B%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 16.vue-cli脚手架 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/17.%E6%A1%88%E4%BE%8B%E5%AE%9E%E8%B7%B5-%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8/ class=md-nav__link> <span class=md-ellipsis> 17.案例实践-任务列表 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/%E9%99%84%E5%BD%95-%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E6%B1%87%E6%80%BB/ class=md-nav__link> <span class=md-ellipsis> 附录-前后端代码仓库汇总 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/3.Python%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/%E9%99%84%E5%BD%95-Nginx%E5%AE%8C%E6%95%B4%E9%85%8D%E7%BD%AE%E6%A0%B7%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 附录-Nginx 完整配置样例 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> 4.Flask学习 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> 4.Flask学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/1.Flask%E5%89%8D%E5%A5%8F/ class=md-nav__link> <span class=md-ellipsis> 1.Flask 前缀 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/2.%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 2.项目配置 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/3.URL%E4%B8%8E%E8%A7%86%E5%9B%BE/ class=md-nav__link> <span class=md-ellipsis> 3.URL与视图 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/4.Jinja2%E6%A8%A1%E6%9D%BF/ class=md-nav__link> <span class=md-ellipsis> 4.Jinja2模板 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/5.%E6%95%B0%E6%8D%AE%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 5.数据库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/6.%E8%A1%A8%E5%8D%95/ class=md-nav__link> <span class=md-ellipsis> 6.表单 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/7.Flask%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 7.Flask 进阶 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/8.%E7%BC%93%E5%AD%98%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 8.缓存系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/9.Flask_Restful/ class=md-nav__link> <span class=md-ellipsis> 9.Flask_Restful </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/10.Flask%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> 10.Flask 项目实战 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/11.WebSock%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> 11.WebSock 实战 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/12.Flask%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 12.Flask 异步编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-%E4%BD%BF%E7%94%A8Pytest%E6%B5%8B%E8%AF%95Flask/ class=md-nav__link> <span class=md-ellipsis> 附-使用 Pytest 测试 Flask </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 附-图书管理系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%B9%B3%E5%8F%B0-flask/ class=md-nav__link> <span class=md-ellipsis> 附-自动化测试平台-flask </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%B8%B8%E7%94%A8%E6%89%A9%E5%B1%95/ class=md-nav__link> <span class=md-ellipsis> 附-Flask常用扩展 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%92%8CRedis%E9%98%9F%E5%88%97%E7%9A%84%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 附-Flask和Redis队列的异步任务 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%92%8CVue.js%E5%BC%80%E5%8F%91%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 和 Vue.js 开发单页应用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-flask%E8%84%9A%E6%89%8B%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 附-flask 脚手架 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E6%A1%86%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 框架 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/ class=md-nav__link> <span class=md-ellipsis> 附-Flask 容器化部署 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/4.Flask%E5%AD%A6%E4%B9%A0/%E9%99%84-Flask%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> 附-Flask数据模型 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_6> <label class=md-nav__link for=__nav_6_6 id=__nav_6_6_label tabindex=0> <span class=md-ellipsis> 5.DevOps和自动化运维实践 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6_6> <span class="md-nav__icon md-icon"></span> 5.DevOps和自动化运维实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/1.Devops%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E7%9A%84%E6%84%8F%E4%B9%89/ class=md-nav__link> <span class=md-ellipsis> 1.Devops 与自动化运维的意义 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/2.Shell%E8%84%9A%E6%9C%AC%E5%9C%A8Devops%E4%B8%8B%E7%9A%84%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Shell脚本在Devops下的应用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/3.%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84Shell%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 3.生产环境下的 Shell 脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/4.%E5%B7%A5%E4%BD%9C%E4%B8%AD%E7%9A%84Python%E8%84%9A%E6%9C%AC%E5%88%86%E4%BA%AB/ class=md-nav__link> <span class=md-ellipsis> 4.工作中的 Python 脚本分享 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/5.DevOps%E5%92%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E8%B7%B5/5.Python%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E7%9A%84Docker%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> 5.Python 开发人员的 Docker 最佳实践 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> <span class=md-ellipsis> 6.CMDB项目实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> 6.CMDB项目实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/0.DRF%E5%89%8D%E5%A5%8F/ class=md-nav__link> <span class=md-ellipsis> 0.DRF 前奏 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/1.DRF%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> 1.DRF入门 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/2.DRF%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 2.DRF 进阶 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/3.CMDB%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 3.CMDB 后端开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/4.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8A/ class=md-nav__link> <span class=md-ellipsis> 4.Vue前端开发-上 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/5.Vue%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8B/ class=md-nav__link> <span class=md-ellipsis> 5.Vue前端开发-下 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/6.Element-Plus%E5%89%8D%E7%AB%AF%E7%BB%84%E4%BB%B6%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 6.Element-Plus前端组件库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/7.CMDB%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8A/ class=md-nav__link> <span class=md-ellipsis> 7.CMDB前端开发-上 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/8.CMDB%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91-%E4%B8%8B/ class=md-nav__link> <span class=md-ellipsis> 8.CMDB前端开发-下 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/9.celery%E7%BB%84%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 9.celery 组件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/10.Django%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 10.Django 自定义命令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/6.CMDB%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/11.Django%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2/ class=md-nav__link> <span class=md-ellipsis> 11.Django 容器化部署 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8 id=__nav_6_8_label tabindex=0> <span class=md-ellipsis> 7.Python网络编程攻略 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_8_label aria-expanded=false> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> 7.Python网络编程攻略 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/7.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%94%BB%E7%95%A5/1.IPv4%E5%92%8C%E7%AE%80%E5%8D%95%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 1.IPv4 和简单的客户端-服务器编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/7.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%94%BB%E7%95%A5/2.%E4%BD%BF%E7%94%A8%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%A5%97%E6%8E%A5%E5%AD%97-IO%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD/ class=md-nav__link> <span class=md-ellipsis> 2.使用多路复用套接字-IO 提升性能 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/7.Python%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%94%BB%E7%95%A5/3.IPv6-Unix%E5%9F%9F%E5%A5%97%E6%8E%A5%E5%AD%97%E5%92%8C%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3/ class=md-nav__link> <span class=md-ellipsis> 3.IPv6-Unix 域套接字和网络接口 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_9> <label class=md-nav__link for=__nav_6_9 id=__nav_6_9_label tabindex=0> <span class=md-ellipsis> 8.Python自动化运维实战 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_9_label aria-expanded=false> <label class=md-nav__title for=__nav_6_9> <span class="md-nav__icon md-icon"></span> 8.Python自动化运维实战 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/1.%E6%90%AD%E5%BB%BAPython%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 1.搭建 Python 环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/2.%E5%B8%B8%E7%94%A8%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 2.常用的自动化库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/3.%E6%90%AD%E5%BB%BA%E7%BD%91%E7%BB%9C%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 3.搭建网络实验室环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/4.%E4%BD%BF%E7%94%A8Python%E7%AE%A1%E7%90%86%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87/ class=md-nav__link> <span class=md-ellipsis> 4.使用 Python 管理网络设备 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/5.%E4%BB%8E%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E4%B8%AD%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE/ class=md-nav__link> <span class=md-ellipsis> 5.从网络设备中提取数据 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/6.Python%E5%92%8CJinja2%E9%85%8D%E7%BD%AE%E7%94%9F%E6%88%90%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 6.Python和Jinja2配置生成器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/7.%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8CPython%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 7.并行执行 Python 脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/8.%E5%87%86%E5%A4%87%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 8.准备实验室环境 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/9.%E4%BD%BF%E7%94%A8Subprocess%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 9.使用 Subprocess 模块 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/10.%E4%BD%BF%E7%94%A8Fabric%E8%BF%90%E8%A1%8C%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E4%BB%BB%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 10.使用 Fabric 运行系统管理任务 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/11.%E7%94%9F%E6%88%90%E7%B3%BB%E7%BB%9F%E6%8A%A5%E5%91%8A%E5%92%8C%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7/ class=md-nav__link> <span class=md-ellipsis> 11.生成系统报告和系统监控 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/12.%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%A4%E4%BA%92/ class=md-nav__link> <span class=md-ellipsis> 12.与数据库交互 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python/8.Python%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/13.%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E7%9A%84Ansible/ class=md-nav__link> <span class=md-ellipsis> 13.系统管理的 Ansible </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Openstack </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Openstack </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Openstack/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.OpenStack/ class=md-nav__link> <span class=md-ellipsis> 基于 OpenStack 组件开发 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> 1.OpenStack工程师工作 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> 1.OpenStack工程师工作 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Openstack/1.OpenStack%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E4%BD%9C/1.Horizon%E7%95%8C%E9%9D%A2%E5%B7%A5%E7%A8%8B%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 1.Horizon 界面工程师 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/1.OpenStack%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E4%BD%9C/2.Neutron%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 2.Neutron 网络工程师 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/1.OpenStack%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E4%BD%9C/3.Nova%E8%B5%84%E6%B7%B1%E5%B7%A5%E7%A8%8B%E5%B8%88/ class=md-nav__link> <span class=md-ellipsis> 3.Nova 资深工程师 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> 2.开发环境的搭建 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> 2.开发环境的搭建 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/1.Windows%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/ class=md-nav__link> <span class=md-ellipsis> 1.Windows 开发环境的搭建 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/2.Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/ class=md-nav__link> <span class=md-ellipsis> 2.Linux 开发环境的搭建 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/3.Launchpad%E8%B4%A6%E5%8F%B7/ class=md-nav__link> <span class=md-ellipsis> 3.Launchpad 账号 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/4.Git%E7%9A%84%E4%BD%BF%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 4.Git 的使用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.开发环境的搭建/5.OpenStack配置文件修改.md class=md-nav__link> <span class=md-ellipsis> None </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/6.RPM%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 6.RPM软件包管理器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/7.%E5%88%B6%E4%BD%9Cdeb%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 7.制作deb包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/2.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/8.Linux%E8%87%AA%E5%BB%BA%E8%BD%AF%E4%BB%B6%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 8.Linux自建软件源 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> 3.Python模块 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> 3.Python模块 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/1.Python%E5%8C%85%E7%9A%84%E6%9E%84%E5%BB%BA%E4%B8%8E%E5%88%86%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 1.Python 包的构建与分发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/2.SQLAlchemy/ class=md-nav__link> <span class=md-ellipsis> 2.SQLAlchemy </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/3.logging/ class=md-nav__link> <span class=md-ellipsis> 3.logging </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/4.cliff/ class=md-nav__link> <span class=md-ellipsis> 4.cliff </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/5.Eventlet/ class=md-nav__link> <span class=md-ellipsis> 5.Eventlet </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/6.WSGI/ class=md-nav__link> <span class=md-ellipsis> 6.WSGI </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/7.%E9%80%9A%E7%94%A8%E5%BA%93Oslo/ class=md-nav__link> <span class=md-ellipsis> 7.通用库 Oslo </span> </a> </li> <li class=md-nav__item> <a href=../../../Openstack/3.Python%E6%A8%A1%E5%9D%97/%E9%99%84-%E6%A8%A1%E4%BB%BFOpenStack%E5%86%99%E8%87%AA%E5%B7%B1%E7%9A%84RPC/ class=md-nav__link> <span class=md-ellipsis> 附-模仿 OpenStack 写自己的 RPC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_5> <label class=md-nav__link for=__nav_7_5 id=__nav_7_5_label tabindex=0> <span class=md-ellipsis> 4.OpenStack容器手册 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_5_label aria-expanded=false> <label class=md-nav__title for=__nav_7_5> <span class="md-nav__icon md-icon"></span> 4.OpenStack容器手册 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Openstack/4.OpenStack%E5%AE%B9%E5%99%A8%E6%89%8B%E5%86%8C/1.OpenStack-Kolla%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 1.OpenStack-Kolla项目 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex> <span class=md-ellipsis> Python-vs-Go </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Python-vs-Go </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_1> <label class=md-nav__link for=__nav_8_1 id=__nav_8_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-nav__link> <span class=md-ellipsis> Python-vs-Go </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2 checked> <label class=md-nav__link for=__nav_8_2 id=__nav_8_2_label tabindex=0> <span class=md-ellipsis> 1.对比 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_2_label aria-expanded=true> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> 1.对比 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../1.Hello-World/ class=md-nav__link> <span class=md-ellipsis> Hello-World </span> </a> </li> <li class=md-nav__item> <a href=../2.Print/ class=md-nav__link> <span class=md-ellipsis> Print </span> </a> </li> <li class=md-nav__item> <a href=../3.%E6%B3%A8%E9%87%8A/ class=md-nav__link> <span class=md-ellipsis> 注释 </span> </a> </li> <li class=md-nav__item> <a href=../4.%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 多行字符串 </span> </a> </li> <li class=md-nav__item> <a href=../5.Lists/ class=md-nav__link> <span class=md-ellipsis> Lists </span> </a> </li> <li class=md-nav__item> <a href=../6.Map/ class=md-nav__link> <span class=md-ellipsis> Map </span> </a> </li> <li class=md-nav__item> <a href=../7.Booleans/ class=md-nav__link> <span class=md-ellipsis> Booleans </span> </a> </li> <li class=md-nav__item> <a href=../8.Forloop/ class=md-nav__link> <span class=md-ellipsis> Forloop </span> </a> </li> <li class=md-nav__item> <a href=../9.Range/ class=md-nav__link> <span class=md-ellipsis> Range </span> </a> </li> <li class=md-nav__item> <a href=../10.Switch/ class=md-nav__link> <span class=md-ellipsis> Switch </span> </a> </li> <li class=md-nav__item> <a href=../11.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 可变参数函数 </span> </a> </li> <li class=md-nav__item> <a href=../12.%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97/ class=md-nav__link> <span class=md-ellipsis> 时间计算 </span> </a> </li> <li class=md-nav__item> <a href=../13.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 函数的闭包 </span> </a> </li> <li class=md-nav__item> <a href=../14.%E9%80%80%E5%87%BA%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 退出处理 </span> </a> </li> <li class=md-nav__item> <a href=../15.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/ class=md-nav__link> <span class=md-ellipsis> 异常捕获 </span> </a> </li> <li class=md-nav__item> <a href=../16.%E5%8F%AF%E5%8F%98%E9%A1%B9/ class=md-nav__link> <span class=md-ellipsis> 可变项 </span> </a> </li> <li class=md-nav__item> <a href=../17.%E7%B1%BB/ class=md-nav__link> <span class=md-ellipsis> 类 </span> </a> </li> <li class=md-nav__item> <a href=../18.%E6%96%B9%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 方法 </span> </a> </li> <li class=md-nav__item> <a href=../19.%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 并发 </span> </a> </li> <li class=md-nav__item> <a href=../20.Args/ class=md-nav__link> <span class=md-ellipsis> Args </span> </a> </li> <li class=md-nav__item> <a href=../21.%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%88%AB%E5%90%8D/ class=md-nav__link> <span class=md-ellipsis> 导入模块别名 </span> </a> </li> <li class=md-nav__item> <a href=../22.%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 字符串格式化 </span> </a> </li> <li class=md-nav__item> <a href=../23.%E5%8E%BB%E9%87%8D/ class=md-nav__link> <span class=md-ellipsis> 去重 </span> </a> </li> <li class=md-nav__item> <a href=../24.%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%89%93%E5%8D%B0/ class=md-nav__link> <span class=md-ellipsis> 带颜色打印 </span> </a> </li> <li class=md-nav__item> <a href=../25.python-example/ class=md-nav__link> <span class=md-ellipsis> Python By Example </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Go By Example </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Go By Example </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#go-hello-world class=md-nav__link> <span class=md-ellipsis> Go hello world </span> </a> </li> <li class=md-nav__item> <a href=#go-数据类型 class=md-nav__link> <span class=md-ellipsis> Go 数据类型 </span> </a> </li> <li class=md-nav__item> <a href=#go-变量 class=md-nav__link> <span class=md-ellipsis> Go 变量 </span> </a> </li> <li class=md-nav__item> <a href=#go-常量 class=md-nav__link> <span class=md-ellipsis> Go 常量 </span> </a> </li> <li class=md-nav__item> <a href=#go-for class=md-nav__link> <span class=md-ellipsis> Go for </span> </a> </li> <li class=md-nav__item> <a href=#go-ifelse条件判断 class=md-nav__link> <span class=md-ellipsis> Go if..else条件判断 </span> </a> </li> <li class=md-nav__item> <a href=#go-switchcase语句 class=md-nav__link> <span class=md-ellipsis> Go switch/case语句 </span> </a> </li> <li class=md-nav__item> <a href=#go-数组 class=md-nav__link> <span class=md-ellipsis> Go 数组 </span> </a> <nav class=md-nav aria-label="Go 数组"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1 class=md-nav__link> <span class=md-ellipsis> 示例1: </span> </a> </li> <li class=md-nav__item> <a href=#示例2 class=md-nav__link> <span class=md-ellipsis> 示例2: </span> </a> </li> <li class=md-nav__item> <a href=#示例3 class=md-nav__link> <span class=md-ellipsis> 示例3: </span> </a> </li> <li class=md-nav__item> <a href=#示例4 class=md-nav__link> <span class=md-ellipsis> 示例4： </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-切片 class=md-nav__link> <span class=md-ellipsis> Go 切片 </span> </a> <nav class=md-nav aria-label="Go 切片"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_1 class=md-nav__link> <span class=md-ellipsis> 示例1： </span> </a> </li> <li class=md-nav__item> <a href=#示例2_1 class=md-nav__link> <span class=md-ellipsis> 示例2： </span> </a> </li> <li class=md-nav__item> <a href=#示例3_1 class=md-nav__link> <span class=md-ellipsis> 示例3： </span> </a> </li> <li class=md-nav__item> <a href=#示例4_1 class=md-nav__link> <span class=md-ellipsis> 示例4： </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-字典 class=md-nav__link> <span class=md-ellipsis> Go 字典 </span> </a> <nav class=md-nav aria-label="Go 字典"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_2 class=md-nav__link> <span class=md-ellipsis> 示例1: </span> </a> </li> <li class=md-nav__item> <a href=#示例2_2 class=md-nav__link> <span class=md-ellipsis> 示例2: </span> </a> </li> <li class=md-nav__item> <a href=#示例3_2 class=md-nav__link> <span class=md-ellipsis> 示例3: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-列表 class=md-nav__link> <span class=md-ellipsis> Go 列表 </span> </a> <nav class=md-nav aria-label="Go 列表"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_3 class=md-nav__link> <span class=md-ellipsis> 示例1 </span> </a> </li> <li class=md-nav__item> <a href=#示例2_3 class=md-nav__link> <span class=md-ellipsis> 示例2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-range函数 class=md-nav__link> <span class=md-ellipsis> Go range函数 </span> </a> </li> <li class=md-nav__item> <a href=#go-字符串操作函数 class=md-nav__link> <span class=md-ellipsis> Go 字符串操作函数 </span> </a> <nav class=md-nav aria-label="Go 字符串操作函数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_4 class=md-nav__link> <span class=md-ellipsis> 示例1 </span> </a> </li> <li class=md-nav__item> <a href=#示例2_4 class=md-nav__link> <span class=md-ellipsis> 示例2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-字符串格式化 class=md-nav__link> <span class=md-ellipsis> Go 字符串格式化 </span> </a> </li> <li class=md-nav__item> <a href=#go-正则表达式 class=md-nav__link> <span class=md-ellipsis> Go 正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=#go-函数定义 class=md-nav__link> <span class=md-ellipsis> Go 函数定义 </span> </a> </li> <li class=md-nav__item> <a href=#go-多返回值函数 class=md-nav__link> <span class=md-ellipsis> Go 多返回值函数 </span> </a> </li> <li class=md-nav__item> <a href=#go-函数命名返回值 class=md-nav__link> <span class=md-ellipsis> Go 函数命名返回值 </span> </a> </li> <li class=md-nav__item> <a href=#go-变参函数 class=md-nav__link> <span class=md-ellipsis> Go 变参函数 </span> </a> </li> <li class=md-nav__item> <a href=#go-函数回调 class=md-nav__link> <span class=md-ellipsis> Go 函数回调 </span> </a> </li> <li class=md-nav__item> <a href=#go-闭包-closures class=md-nav__link> <span class=md-ellipsis> Go 闭包 Closures </span> </a> </li> <li class=md-nav__item> <a href=#go-递归-recursion class=md-nav__link> <span class=md-ellipsis> Go 递归 Recursion </span> </a> </li> <li class=md-nav__item> <a href=#go-指针-pointers class=md-nav__link> <span class=md-ellipsis> Go 指针 Pointers </span> </a> </li> <li class=md-nav__item> <a href=#go-结构体 class=md-nav__link> <span class=md-ellipsis> Go 结构体 </span> </a> </li> <li class=md-nav__item> <a href=#go-方法 class=md-nav__link> <span class=md-ellipsis> Go 方法 </span> </a> </li> <li class=md-nav__item> <a href=#go-接口-interfaces class=md-nav__link> <span class=md-ellipsis> Go 接口 Interfaces </span> </a> </li> <li class=md-nav__item> <a href=#go-错误处理-errors class=md-nav__link> <span class=md-ellipsis> Go 错误处理 Errors </span> </a> </li> <li class=md-nav__item> <a href=#go-panic异常 class=md-nav__link> <span class=md-ellipsis> Go Panic异常 </span> </a> </li> <li class=md-nav__item> <a href=#go-exit class=md-nav__link> <span class=md-ellipsis> Go Exit </span> </a> </li> <li class=md-nav__item> <a href=#go-defer延迟调用 class=md-nav__link> <span class=md-ellipsis> Go Defer延迟调用 </span> </a> </li> <li class=md-nav__item> <a href=#go-协程-goroutines class=md-nav__link> <span class=md-ellipsis> Go 协程 Goroutines </span> </a> </li> <li class=md-nav__item> <a href=#go-通道-channels class=md-nav__link> <span class=md-ellipsis> Go 通道 Channels </span> </a> </li> <li class=md-nav__item> <a href=#go-通道缓冲-buffering class=md-nav__link> <span class=md-ellipsis> Go 通道缓冲 Buffering </span> </a> </li> <li class=md-nav__item> <a href=#go-通道同步-synchronization class=md-nav__link> <span class=md-ellipsis> GO 通道同步 Synchronization </span> </a> </li> <li class=md-nav__item> <a href=#go-jsonyaml等格式解析 class=md-nav__link> <span class=md-ellipsis> Go JSON、YAML等格式解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-json-解析 class=md-nav__link> <span class=md-ellipsis> Go JSON 解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-xml-解析 class=md-nav__link> <span class=md-ellipsis> Go XML 解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-时间-time class=md-nav__link> <span class=md-ellipsis> Go 时间 Time </span> </a> </li> <li class=md-nav__item> <a href=#时间戳-unix-epoch class=md-nav__link> <span class=md-ellipsis> 时间戳 Unix Epoch </span> </a> </li> <li class=md-nav__item> <a href=#时间的格式化和解析 class=md-nav__link> <span class=md-ellipsis> 时间的格式化和解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-随机数-mathrand class=md-nav__link> <span class=md-ellipsis> Go 随机数 math/rand </span> </a> </li> <li class=md-nav__item> <a href=#定时器-timers class=md-nav__link> <span class=md-ellipsis> 定时器 Timers </span> </a> </li> <li class=md-nav__item> <a href=#打点器-tickers class=md-nav__link> <span class=md-ellipsis> 打点器 Tickers </span> </a> </li> <li class=md-nav__item> <a href=#go-读文件 class=md-nav__link> <span class=md-ellipsis> Go 读文件 </span> </a> </li> <li class=md-nav__item> <a href=#go-写文件 class=md-nav__link> <span class=md-ellipsis> Go 写文件 </span> </a> </li> <li class=md-nav__item> <a href=#go-行过滤器 class=md-nav__link> <span class=md-ellipsis> Go 行过滤器 </span> </a> </li> <li class=md-nav__item> <a href=#go-文件路径 class=md-nav__link> <span class=md-ellipsis> Go 文件路径 </span> </a> </li> <li class=md-nav__item> <a href=#go-文件目录 class=md-nav__link> <span class=md-ellipsis> Go 文件目录 </span> </a> </li> <li class=md-nav__item> <a href=#go-临时文件和目录 class=md-nav__link> <span class=md-ellipsis> Go 临时文件和目录 </span> </a> </li> <li class=md-nav__item> <a href=#go-测试 class=md-nav__link> <span class=md-ellipsis> Go 测试 </span> </a> </li> <li class=md-nav__item> <a href=#go-数字解析 class=md-nav__link> <span class=md-ellipsis> Go 数字解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-url解析 class=md-nav__link> <span class=md-ellipsis> Go URL解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-base64编码 class=md-nav__link> <span class=md-ellipsis> Go Base64编码 </span> </a> </li> <li class=md-nav__item> <a href=#go-sha1-散列 class=md-nav__link> <span class=md-ellipsis> Go SHA1 散列 </span> </a> </li> <li class=md-nav__item> <a href=#go-string与byte切片之间的转换 class=md-nav__link> <span class=md-ellipsis> Go String与Byte切片之间的转换 </span> </a> </li> <li class=md-nav__item> <a href=#go-排序-sorting class=md-nav__link> <span class=md-ellipsis> Go 排序 Sorting </span> </a> </li> <li class=md-nav__item> <a href=#go-使用函数自定义排序 class=md-nav__link> <span class=md-ellipsis> Go 使用函数自定义排序 </span> </a> </li> <li class=md-nav__item> <a href=#go-命令行参数-arguments class=md-nav__link> <span class=md-ellipsis> Go 命令行参数 Arguments </span> </a> </li> <li class=md-nav__item> <a href=#go-命令行标志-flags class=md-nav__link> <span class=md-ellipsis> Go 命令行标志 Flags </span> </a> </li> <li class=md-nav__item> <a href=#go-命令行子命令-subcommands class=md-nav__link> <span class=md-ellipsis> Go 命令行子命令 Subcommands </span> </a> </li> <li class=md-nav__item> <a href=#go-环境变量 class=md-nav__link> <span class=md-ellipsis> Go 环境变量 </span> </a> </li> <li class=md-nav__item> <a href=#http-服务器 class=md-nav__link> <span class=md-ellipsis> HTTP 服务器 </span> </a> </li> <li class=md-nav__item> <a href=#http-客户端 class=md-nav__link> <span class=md-ellipsis> HTTP 客户端 </span> </a> </li> <li class=md-nav__item> <a href=#go-生成进程 class=md-nav__link> <span class=md-ellipsis> Go 生成进程 </span> </a> </li> <li class=md-nav__item> <a href=#go-执行进程 class=md-nav__link> <span class=md-ellipsis> Go 执行进程 </span> </a> </li> <li class=md-nav__item> <a href=#go-常用包 class=md-nav__link> <span class=md-ellipsis> Go 常用包 </span> </a> </li> <li class=md-nav__item> <a href=#go常用示例代码片段 class=md-nav__link> <span class=md-ellipsis> Go常用示例代码片段 </span> </a> </li> <li class=md-nav__item> <a href=#go语言学习目录 class=md-nav__link> <span class=md-ellipsis> Go语言学习目录 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_3> <label class=md-nav__link for=__nav_8_3 id=__nav_8_3_label tabindex=0> <span class=md-ellipsis> 2.进阶 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> 2.进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class=md-nav__link> <span class=md-ellipsis> 使用RPC </span> </a> </li> <li class=md-nav__item> <a href=../../2.%E8%BF%9B%E9%98%B6/2.%E4%BD%BF%E7%94%A8MySQL/ class=md-nav__link> <span class=md-ellipsis> 使用MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../2.%E8%BF%9B%E9%98%B6/3.%E4%BD%BF%E7%94%A8Redis/ class=md-nav__link> <span class=md-ellipsis> 使用Redis </span> </a> </li> <li class=md-nav__item> <a href=../../2.%E8%BF%9B%E9%98%B6/4.%E4%BD%BF%E7%94%A8MongoDB/ class=md-nav__link> <span class=md-ellipsis> 使用MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../2.%E8%BF%9B%E9%98%B6/5.%E7%BB%83%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%8E%A8%E8%8D%90/ class=md-nav__link> <span class=md-ellipsis> 练手项目推荐 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_4> <label class=md-nav__link for=__nav_8_4 id=__nav_8_4_label tabindex=0> <span class=md-ellipsis> 3.开发之路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_4_label aria-expanded=false> <label class=md-nav__title for=__nav_8_4> <span class="md-nav__icon md-icon"></span> 3.开发之路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/1.Go%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/ class=md-nav__link> <span class=md-ellipsis> 1.Go 开发之路 </span> </a> </li> <li class=md-nav__item> <a href=../../3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/2.Python%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/ class=md-nav__link> <span class=md-ellipsis> 2.Python 开发之路 </span> </a> </li> <li class=md-nav__item> <a href=../../3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/3.Vue3%E6%A1%86%E6%9E%B6/ class=md-nav__link> <span class=md-ellipsis> 3.Vue3 框架 </span> </a> </li> <li class=md-nav__item> <a href=../../3.%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/4.Git%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 4.Git 版本控制 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Git </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1> <label class=md-nav__link for=__nav_9_1 id=__nav_9_1_label tabindex=0> <span class=md-ellipsis> Git基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> Git基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Git/1.Git%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> 1.Git 基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/2.%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 2.远程仓库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/3.%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.分支管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/4.%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5/ class=md-nav__link> <span class=md-ellipsis> 4.分支管理策略 </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/5.%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 5.标签管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/6.%E4%BD%BF%E7%94%A8Gitee/ class=md-nav__link> <span class=md-ellipsis> 6.使用Gitee </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/7.%E4%BD%BF%E7%94%A8Github/ class=md-nav__link> <span class=md-ellipsis> 7.使用Github </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/8.%E5%AE%9E%E8%B7%B5GitHub-Flow/ class=md-nav__link> <span class=md-ellipsis> 8.实践GitHub Flow </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/9.%E5%AE%9E%E8%B7%B5Git-Flow/ class=md-nav__link> <span class=md-ellipsis> 9.实践Git Flow </span> </a> </li> <li class=md-nav__item> <a href=../../../Git/10.%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 10.项目规范 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Ansible </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_1> <label class=md-nav__link for=__nav_10_1 id=__nav_10_1_label tabindex=0> <span class=md-ellipsis> Ansible实践 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_1_label aria-expanded=false> <label class=md-nav__title for=__nav_10_1> <span class="md-nav__icon md-icon"></span> Ansible实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Ansible/1.Ansible%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> 1.Ansible简介 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/2.YAML%E4%BB%8B%E7%BB%8D/ class=md-nav__link> <span class=md-ellipsis> 2.YAML 介绍 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/3.%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 3.安装和配置 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/4.Inventory/ class=md-nav__link> <span class=md-ellipsis> 4.Inventory </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/5.%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97/ class=md-nav__link> <span class=md-ellipsis> 5.常用模块 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/6.playbook/ class=md-nav__link> <span class=md-ellipsis> 6.playbook </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/7.role/ class=md-nav__link> <span class=md-ellipsis> 7.role </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/8.Galaxy/ class=md-nav__link> <span class=md-ellipsis> 8.Galaxy </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/9.Jinja2/ class=md-nav__link> <span class=md-ellipsis> 9.Jinja2 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/10.Ansible%E9%80%9F%E5%BA%A6%E4%BC%98%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 10.Ansible速度优化 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/11.Ansible-API/ class=md-nav__link> <span class=md-ellipsis> 11.Ansible API </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/12.flask%2Bansible%E8%BF%90%E7%BB%B4%E5%90%8E%E7%AB%AF/ class=md-nav__link> <span class=md-ellipsis> 12.flask+ansible运维后端 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/13.Module%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 13.Module 开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/14.Plugin%E5%BC%80%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 14.Plugin 开发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/15.Ansible%E8%B0%83%E8%AF%95/ class=md-nav__link> <span class=md-ellipsis> 15.Ansible 调试 </span> </a> </li> <li class=md-nav__item> <a href=../../../Ansible/%E9%99%84%E5%BD%95-Ansible-wiki/ class=md-nav__link> <span class=md-ellipsis> 附录-Ansible wiki </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> Shell </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11_1> <label class=md-nav__link for=__nav_11_1 id=__nav_11_1_label tabindex=0> <span class=md-ellipsis> Shell实践 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_11_1> <span class="md-nav__icon md-icon"></span> Shell实践 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Shell/Shell%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> Shell 教程概述 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/1.%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 1.第一个 Shell 程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/2.Shell%E5%8F%98%E9%87%8F%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 2.Shell 变量和字符串 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/3.Shell%E5%8F%82%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 3.Shell 参数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/4.Shell%E6%95%B0%E7%BB%84/ class=md-nav__link> <span class=md-ellipsis> 4.Shell数组 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/5.Shell%E8%BF%90%E7%AE%97%E7%AC%A6/ class=md-nav__link> <span class=md-ellipsis> 5.Shell运算符 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/6.Shell-echo_printf%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 6.Shell echo/printf 命令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/7.Shell-test%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 7.Shell test 命令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/8.Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 8.Shell流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/9.Shell%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 9.Shell函数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/10.Shell%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> <span class=md-ellipsis> 10.Shell重定向 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/11.Shell%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 11.Shell正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/12.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep/ class=md-nav__link> <span class=md-ellipsis> 12.Shell 三剑客之 grep </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/13.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed/ class=md-nav__link> <span class=md-ellipsis> 13.Shell 三剑客之 sed </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class=md-nav__link> <span class=md-ellipsis> 14.Shell 三剑客之 awk </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 15.Shell 常用工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 16.Shell实战项目 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/17.Shell%E8%84%9A%E6%9C%AC%E7%A4%BA%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 17.Shell 脚本示例 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/18.Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 18.Shell 脚本的参数解析工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/19.%E5%AE%9E%E7%94%A8Shell%E8%84%9A%E6%9C%AC%E6%A1%88%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 19.实用 Shell 脚本案例 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/20.Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 20.Shell 脚本的规范 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/21.Shell%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 21.Shell多进程并发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/22.Shell_Library/ class=md-nav__link> <span class=md-ellipsis> 22.Shell_Library </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/23.Shell%E8%84%9A%E6%9C%AC%E8%B0%83%E8%AF%95%E6%8A%80%E6%9C%AF/ class=md-nav__link> <span class=md-ellipsis> 23.Shell 脚本调试技术 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/24.Linux_Shell%E8%84%9A%E6%9C%AC%E6%94%BB%E7%95%A5/ class=md-nav__link> <span class=md-ellipsis> 24.Linux Shell脚本攻略 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/%E9%99%84-shell%E5%85%B6%E5%AE%83%E8%B5%84%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 附-shell 其它资源 </span> </a> </li> <li class=md-nav__item> <a href=../../../Shell/%E9%99%84-vim%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/ class=md-nav__link> <span class=md-ellipsis> 附-vim常用操作 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_1> <label class=md-nav__link for=__nav_12_1 id=__nav_12_1_label tabindex=0> <span class=md-ellipsis> KVM </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_1_label aria-expanded=false> <label class=md-nav__title for=__nav_12_1> <span class="md-nav__icon md-icon"></span> KVM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/KVM/1.kvm%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 1.kvm相关命令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/KVM/2.kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%9B%E5%BB%BA/ class=md-nav__link> <span class=md-ellipsis> 2.kvm虚拟机创建 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/KVM/3.kvm%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 3.kvm网络配置 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_2> <label class=md-nav__link for=__nav_12_2 id=__nav_12_2_label tabindex=0> <span class=md-ellipsis> Nginx </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_2_label aria-expanded=false> <label class=md-nav__title for=__nav_12_2> <span class="md-nav__icon md-icon"></span> Nginx </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Nginx/1.Nginx%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> 1.Nginx 简介 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/2.Nginx%E5%AE%89%E8%A3%85%E5%8F%8A%E5%90%AF%E5%8A%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Nginx安装及启动 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/3.Nginx%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 3.Nginx配置 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/4.Nginx%E9%85%8D%E7%BD%AE%E4%B8%8B%E8%BD%BD%E7%AB%99%E7%82%B9/ class=md-nav__link> <span class=md-ellipsis> 4.Nginx配置下载站点 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/5.Nginx%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 5.Nginx访问控制 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/6.Nginx%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 6.Nginx虚拟主机 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/7.Nginx%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 7.Nginx静态资源 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/8.Nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 8.Nginx缓存配置 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/9.Nginx%E6%AD%A3%E5%8F%8D%E4%BB%A3%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 9.Nginx 正反向代理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/10.Nginx%E9%98%B2%E7%9B%97%E9%93%BE/ class=md-nav__link> <span class=md-ellipsis> 10.Nginx 防盗链 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/11.Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/ class=md-nav__link> <span class=md-ellipsis> 11.Nginx 负载均衡 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/12.Nginx%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/ class=md-nav__link> <span class=md-ellipsis> 12.Nginx 动静分离 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/13.Nginx%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 13.Nginx 跨域配置 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/14.Nginx%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> <span class=md-ellipsis> 14.Nginx重定向 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/15.Nginx-HTTPS/ class=md-nav__link> <span class=md-ellipsis> 15.Nginx HTTPS </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/16.%E9%99%84-Nginx-location%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 16.附-Nginx-location语法 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Nginx/17.%E9%99%84-Nginx%E4%BB%A3%E7%90%86%E7%9B%B8%E5%85%B3%E6%A8%A1%E5%9D%97%E8%A7%A3%E6%9E%90/ class=md-nav__link> <span class=md-ellipsis> 17.附-Nginx代理相关模块解析 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_3> <label class=md-nav__link for=__nav_12_3 id=__nav_12_3_label tabindex=0> <span class=md-ellipsis> System </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_3_label aria-expanded=false> <label class=md-nav__title for=__nav_12_3> <span class="md-nav__icon md-icon"></span> System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/System/1.%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E5%92%8C%E8%BD%AF%E4%BB%B6%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 1.系统镜像和软件源 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/2.Linux%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/ class=md-nav__link> <span class=md-ellipsis> 2.Linux安全加固 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/3.Systemd/ class=md-nav__link> <span class=md-ellipsis> 3.Systemd </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/4.Superivisor/ class=md-nav__link> <span class=md-ellipsis> 4.Superivisor </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/5.SSH%E7%99%BB%E5%BD%95Linux%E6%98%BE%E7%A4%BA%E6%A8%AA%E5%B9%85/ class=md-nav__link> <span class=md-ellipsis> 5.SSH登录Linux显示横幅 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/6.Linux%E4%B8%AD%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%8E%92%E6%9F%A5/ class=md-nav__link> <span class=md-ellipsis> 6.Linux中端口占用排查 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/7.%E4%BD%BF%E7%94%A8curl%E5%8F%91%E9%80%81REST-API%E8%AF%B7%E6%B1%82/ class=md-nav__link> <span class=md-ellipsis> 7.使用curl发送REST API请求 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/8.%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E7%B3%8A%E6%9F%A5%E6%89%BE%E5%99%A8fzf/ class=md-nav__link> <span class=md-ellipsis> 8.命令行模糊查找器fzf </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/9.Centos7.9%E7%B3%BB%E7%BB%9F%E7%9B%98%E6%89%A9%E5%AE%B9/ class=md-nav__link> <span class=md-ellipsis> 9.Centos7.9系统盘扩容 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/10.Centos%E5%9C%A8%E7%BA%BF-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96/ class=md-nav__link> <span class=md-ellipsis> 10.Centos 在线-离线安装依赖 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/11.rsync-ssh/ class=md-nav__link> <span class=md-ellipsis> 11.rsync ssh使用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/12.%E5%90%84%E5%A4%A7%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%81%9ARAID/ class=md-nav__link> <span class=md-ellipsis> 12.各大服务器做RAID </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/13.Linux%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E4%B8%8E%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> 13.Linux 系统架构与运维实战 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/14.Linux%E4%B8%8B%E8%BD%AF%E4%BB%B6%E6%89%93%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 14.Linux下软件打包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/15.Linux%E7%B3%BB%E7%BB%9F%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 15.Linux系统磁盘管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/System/16.Linux%E7%B3%BB%E7%BB%9F%E7%A3%81%E7%9B%98%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 16.Linux系统磁盘进阶 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_4> <label class=md-nav__link for=__nav_12_4 id=__nav_12_4_label tabindex=0> <span class=md-ellipsis> Serveices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_4_label aria-expanded=false> <label class=md-nav__title for=__nav_12_4> <span class="md-nav__icon md-icon"></span> Serveices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Serveices/0.ubuntu-desktop-vmware/ class=md-nav__link> <span class=md-ellipsis> ubuntu-desktop-vmware </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Serveices/1.Vagrant%E8%99%9A%E6%8B%9F%E6%9C%BA/ class=md-nav__link> <span class=md-ellipsis> 1.Vagrant虚拟机 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Serveices/2.ubuntu%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE/ class=md-nav__link> <span class=md-ellipsis> 2.ubuntu 网络设置 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13> <label class=md-nav__link for=__nav_13 id=__nav_13_label tabindex=0> <span class=md-ellipsis> middleware </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_13_label aria-expanded=false> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> middleware </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_1> <label class=md-nav__link for=__nav_13_1 id=__nav_13_1_label tabindex=0> <span class=md-ellipsis> db </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_1_label aria-expanded=false> <label class=md-nav__title for=__nav_13_1> <span class="md-nav__icon md-icon"></span> db </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../middleware/db/1.postgres/ class=md-nav__link> <span class=md-ellipsis> 1.postgres </span> </a> </li> <li class=md-nav__item> <a href=../../../middleware/db/2.redis/ class=md-nav__link> <span class=md-ellipsis> 2.redis </span> </a> </li> <li class=md-nav__item> <a href=../../../middleware/db/3.Mysql/ class=md-nav__link> <span class=md-ellipsis> 3.Mysql </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_2> <label class=md-nav__link for=__nav_13_2 id=__nav_13_2_label tabindex=0> <span class=md-ellipsis> mq </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_2_label aria-expanded=false> <label class=md-nav__title for=__nav_13_2> <span class="md-nav__icon md-icon"></span> mq </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../middleware/mq/1.rabbitMQ/ class=md-nav__link> <span class=md-ellipsis> 1.rabbitMQ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14> <label class=md-nav__link for=__nav_14 id=__nav_14_label tabindex=0> <span class=md-ellipsis> Other </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_14_label aria-expanded=false> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Other </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14_1> <label class=md-nav__link for=__nav_14_1 id=__nav_14_1_label tabindex=0> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_1_label aria-expanded=false> <label class=md-nav__title for=__nav_14_1> <span class="md-nav__icon md-icon"></span> tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Other/tools/1.PicGo%E5%9B%BE%E5%BA%8A/ class=md-nav__link> <span class=md-ellipsis> 1.PicGo图床 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/2.PicX%E5%9B%BE%E5%BA%8A/ class=md-nav__link> <span class=md-ellipsis> 2.Picx图床 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/3.Markdown%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 3.Markdown语法 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/4.KeyManager/ class=md-nav__link> <span class=md-ellipsis> 4.KeyManager </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/5.mkdocs-material%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/ class=md-nav__link> <span class=md-ellipsis> 5.mkdocs-material搭建博客 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/6.sphinx%E6%9E%84%E5%BB%BA%E5%8D%9A%E5%AE%A2/ class=md-nav__link> <span class=md-ellipsis> 6.sphinx构建博客 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/7.%E4%BC%81%E4%B8%9A%E7%BA%A7VPN%E8%BD%AF%E4%BB%B6AnyLink/ class=md-nav__link> <span class=md-ellipsis> 7.企业级VPN软件AnyLink </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/8.%E5%B9%B3%E5%8F%B0%E5%8F%8A%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB/ class=md-nav__link> <span class=md-ellipsis> 8.平台及工具汇总 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/9.%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E4%BB%A3%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 9.自动更新系统代理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/10.Bash-to-Bat-Converter/ class=md-nav__link> <span class=md-ellipsis> 10.Bash-to-Bat-Converter </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/11.%E7%94%B5%E5%AD%90%E4%B9%A6%E9%98%85%E8%AF%BB%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 11.电子书阅读器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/12.ssh%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 12.ssh 工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/13.%E8%87%AA%E7%94%A8%E5%B7%A5%E5%85%B7%E9%9B%86/ class=md-nav__link> <span class=md-ellipsis> 13.自用工具集 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/14.Draw%E7%94%BB%E5%9B%BE/ class=md-nav__link> <span class=md-ellipsis> 14.Draw 画图 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/15.%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86%E7%BD%91%E7%AB%99/ class=md-nav__link> <span class=md-ellipsis> 15.搭建一个文档管理网站 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14_2> <label class=md-nav__link for=__nav_14_2 id=__nav_14_2_label tabindex=0> <span class=md-ellipsis> windows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_2_label aria-expanded=false> <label class=md-nav__title for=__nav_14_2> <span class="md-nav__icon md-icon"></span> windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Other/windows/1.%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E4%B8%8B%E8%BD%BD/ class=md-nav__link> <span class=md-ellipsis> 1.常用软件下载 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/windows/2.windows%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 2.windows 快捷指令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/windows/3.DOS/ class=md-nav__link> <span class=md-ellipsis> 3.DOS </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/windows/4.win11%E9%95%9C%E5%83%8F%E4%B8%8B%E8%BD%BD-%E6%BF%80%E6%B4%BB/ class=md-nav__link> <span class=md-ellipsis> 4.win11镜像下载-激活 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/windows/5.windows%E4%B8%8Bnetcat%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 5.windows下netcat安装 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14_3> <label class=md-nav__link for=__nav_14_3 id=__nav_14_3_label tabindex=0> <span class=md-ellipsis> Interview </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_3_label aria-expanded=false> <label class=md-nav__title for=__nav_14_3> <span class="md-nav__icon md-icon"></span> Interview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Other/Interview/0.%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/ class=md-nav__link> <span class=md-ellipsis> 面试宝典 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#go-hello-world class=md-nav__link> <span class=md-ellipsis> Go hello world </span> </a> </li> <li class=md-nav__item> <a href=#go-数据类型 class=md-nav__link> <span class=md-ellipsis> Go 数据类型 </span> </a> </li> <li class=md-nav__item> <a href=#go-变量 class=md-nav__link> <span class=md-ellipsis> Go 变量 </span> </a> </li> <li class=md-nav__item> <a href=#go-常量 class=md-nav__link> <span class=md-ellipsis> Go 常量 </span> </a> </li> <li class=md-nav__item> <a href=#go-for class=md-nav__link> <span class=md-ellipsis> Go for </span> </a> </li> <li class=md-nav__item> <a href=#go-ifelse条件判断 class=md-nav__link> <span class=md-ellipsis> Go if..else条件判断 </span> </a> </li> <li class=md-nav__item> <a href=#go-switchcase语句 class=md-nav__link> <span class=md-ellipsis> Go switch/case语句 </span> </a> </li> <li class=md-nav__item> <a href=#go-数组 class=md-nav__link> <span class=md-ellipsis> Go 数组 </span> </a> <nav class=md-nav aria-label="Go 数组"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1 class=md-nav__link> <span class=md-ellipsis> 示例1: </span> </a> </li> <li class=md-nav__item> <a href=#示例2 class=md-nav__link> <span class=md-ellipsis> 示例2: </span> </a> </li> <li class=md-nav__item> <a href=#示例3 class=md-nav__link> <span class=md-ellipsis> 示例3: </span> </a> </li> <li class=md-nav__item> <a href=#示例4 class=md-nav__link> <span class=md-ellipsis> 示例4： </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-切片 class=md-nav__link> <span class=md-ellipsis> Go 切片 </span> </a> <nav class=md-nav aria-label="Go 切片"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_1 class=md-nav__link> <span class=md-ellipsis> 示例1： </span> </a> </li> <li class=md-nav__item> <a href=#示例2_1 class=md-nav__link> <span class=md-ellipsis> 示例2： </span> </a> </li> <li class=md-nav__item> <a href=#示例3_1 class=md-nav__link> <span class=md-ellipsis> 示例3： </span> </a> </li> <li class=md-nav__item> <a href=#示例4_1 class=md-nav__link> <span class=md-ellipsis> 示例4： </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-字典 class=md-nav__link> <span class=md-ellipsis> Go 字典 </span> </a> <nav class=md-nav aria-label="Go 字典"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_2 class=md-nav__link> <span class=md-ellipsis> 示例1: </span> </a> </li> <li class=md-nav__item> <a href=#示例2_2 class=md-nav__link> <span class=md-ellipsis> 示例2: </span> </a> </li> <li class=md-nav__item> <a href=#示例3_2 class=md-nav__link> <span class=md-ellipsis> 示例3: </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-列表 class=md-nav__link> <span class=md-ellipsis> Go 列表 </span> </a> <nav class=md-nav aria-label="Go 列表"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_3 class=md-nav__link> <span class=md-ellipsis> 示例1 </span> </a> </li> <li class=md-nav__item> <a href=#示例2_3 class=md-nav__link> <span class=md-ellipsis> 示例2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-range函数 class=md-nav__link> <span class=md-ellipsis> Go range函数 </span> </a> </li> <li class=md-nav__item> <a href=#go-字符串操作函数 class=md-nav__link> <span class=md-ellipsis> Go 字符串操作函数 </span> </a> <nav class=md-nav aria-label="Go 字符串操作函数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#示例1_4 class=md-nav__link> <span class=md-ellipsis> 示例1 </span> </a> </li> <li class=md-nav__item> <a href=#示例2_4 class=md-nav__link> <span class=md-ellipsis> 示例2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-字符串格式化 class=md-nav__link> <span class=md-ellipsis> Go 字符串格式化 </span> </a> </li> <li class=md-nav__item> <a href=#go-正则表达式 class=md-nav__link> <span class=md-ellipsis> Go 正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=#go-函数定义 class=md-nav__link> <span class=md-ellipsis> Go 函数定义 </span> </a> </li> <li class=md-nav__item> <a href=#go-多返回值函数 class=md-nav__link> <span class=md-ellipsis> Go 多返回值函数 </span> </a> </li> <li class=md-nav__item> <a href=#go-函数命名返回值 class=md-nav__link> <span class=md-ellipsis> Go 函数命名返回值 </span> </a> </li> <li class=md-nav__item> <a href=#go-变参函数 class=md-nav__link> <span class=md-ellipsis> Go 变参函数 </span> </a> </li> <li class=md-nav__item> <a href=#go-函数回调 class=md-nav__link> <span class=md-ellipsis> Go 函数回调 </span> </a> </li> <li class=md-nav__item> <a href=#go-闭包-closures class=md-nav__link> <span class=md-ellipsis> Go 闭包 Closures </span> </a> </li> <li class=md-nav__item> <a href=#go-递归-recursion class=md-nav__link> <span class=md-ellipsis> Go 递归 Recursion </span> </a> </li> <li class=md-nav__item> <a href=#go-指针-pointers class=md-nav__link> <span class=md-ellipsis> Go 指针 Pointers </span> </a> </li> <li class=md-nav__item> <a href=#go-结构体 class=md-nav__link> <span class=md-ellipsis> Go 结构体 </span> </a> </li> <li class=md-nav__item> <a href=#go-方法 class=md-nav__link> <span class=md-ellipsis> Go 方法 </span> </a> </li> <li class=md-nav__item> <a href=#go-接口-interfaces class=md-nav__link> <span class=md-ellipsis> Go 接口 Interfaces </span> </a> </li> <li class=md-nav__item> <a href=#go-错误处理-errors class=md-nav__link> <span class=md-ellipsis> Go 错误处理 Errors </span> </a> </li> <li class=md-nav__item> <a href=#go-panic异常 class=md-nav__link> <span class=md-ellipsis> Go Panic异常 </span> </a> </li> <li class=md-nav__item> <a href=#go-exit class=md-nav__link> <span class=md-ellipsis> Go Exit </span> </a> </li> <li class=md-nav__item> <a href=#go-defer延迟调用 class=md-nav__link> <span class=md-ellipsis> Go Defer延迟调用 </span> </a> </li> <li class=md-nav__item> <a href=#go-协程-goroutines class=md-nav__link> <span class=md-ellipsis> Go 协程 Goroutines </span> </a> </li> <li class=md-nav__item> <a href=#go-通道-channels class=md-nav__link> <span class=md-ellipsis> Go 通道 Channels </span> </a> </li> <li class=md-nav__item> <a href=#go-通道缓冲-buffering class=md-nav__link> <span class=md-ellipsis> Go 通道缓冲 Buffering </span> </a> </li> <li class=md-nav__item> <a href=#go-通道同步-synchronization class=md-nav__link> <span class=md-ellipsis> GO 通道同步 Synchronization </span> </a> </li> <li class=md-nav__item> <a href=#go-jsonyaml等格式解析 class=md-nav__link> <span class=md-ellipsis> Go JSON、YAML等格式解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-json-解析 class=md-nav__link> <span class=md-ellipsis> Go JSON 解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-xml-解析 class=md-nav__link> <span class=md-ellipsis> Go XML 解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-时间-time class=md-nav__link> <span class=md-ellipsis> Go 时间 Time </span> </a> </li> <li class=md-nav__item> <a href=#时间戳-unix-epoch class=md-nav__link> <span class=md-ellipsis> 时间戳 Unix Epoch </span> </a> </li> <li class=md-nav__item> <a href=#时间的格式化和解析 class=md-nav__link> <span class=md-ellipsis> 时间的格式化和解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-随机数-mathrand class=md-nav__link> <span class=md-ellipsis> Go 随机数 math/rand </span> </a> </li> <li class=md-nav__item> <a href=#定时器-timers class=md-nav__link> <span class=md-ellipsis> 定时器 Timers </span> </a> </li> <li class=md-nav__item> <a href=#打点器-tickers class=md-nav__link> <span class=md-ellipsis> 打点器 Tickers </span> </a> </li> <li class=md-nav__item> <a href=#go-读文件 class=md-nav__link> <span class=md-ellipsis> Go 读文件 </span> </a> </li> <li class=md-nav__item> <a href=#go-写文件 class=md-nav__link> <span class=md-ellipsis> Go 写文件 </span> </a> </li> <li class=md-nav__item> <a href=#go-行过滤器 class=md-nav__link> <span class=md-ellipsis> Go 行过滤器 </span> </a> </li> <li class=md-nav__item> <a href=#go-文件路径 class=md-nav__link> <span class=md-ellipsis> Go 文件路径 </span> </a> </li> <li class=md-nav__item> <a href=#go-文件目录 class=md-nav__link> <span class=md-ellipsis> Go 文件目录 </span> </a> </li> <li class=md-nav__item> <a href=#go-临时文件和目录 class=md-nav__link> <span class=md-ellipsis> Go 临时文件和目录 </span> </a> </li> <li class=md-nav__item> <a href=#go-测试 class=md-nav__link> <span class=md-ellipsis> Go 测试 </span> </a> </li> <li class=md-nav__item> <a href=#go-数字解析 class=md-nav__link> <span class=md-ellipsis> Go 数字解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-url解析 class=md-nav__link> <span class=md-ellipsis> Go URL解析 </span> </a> </li> <li class=md-nav__item> <a href=#go-base64编码 class=md-nav__link> <span class=md-ellipsis> Go Base64编码 </span> </a> </li> <li class=md-nav__item> <a href=#go-sha1-散列 class=md-nav__link> <span class=md-ellipsis> Go SHA1 散列 </span> </a> </li> <li class=md-nav__item> <a href=#go-string与byte切片之间的转换 class=md-nav__link> <span class=md-ellipsis> Go String与Byte切片之间的转换 </span> </a> </li> <li class=md-nav__item> <a href=#go-排序-sorting class=md-nav__link> <span class=md-ellipsis> Go 排序 Sorting </span> </a> </li> <li class=md-nav__item> <a href=#go-使用函数自定义排序 class=md-nav__link> <span class=md-ellipsis> Go 使用函数自定义排序 </span> </a> </li> <li class=md-nav__item> <a href=#go-命令行参数-arguments class=md-nav__link> <span class=md-ellipsis> Go 命令行参数 Arguments </span> </a> </li> <li class=md-nav__item> <a href=#go-命令行标志-flags class=md-nav__link> <span class=md-ellipsis> Go 命令行标志 Flags </span> </a> </li> <li class=md-nav__item> <a href=#go-命令行子命令-subcommands class=md-nav__link> <span class=md-ellipsis> Go 命令行子命令 Subcommands </span> </a> </li> <li class=md-nav__item> <a href=#go-环境变量 class=md-nav__link> <span class=md-ellipsis> Go 环境变量 </span> </a> </li> <li class=md-nav__item> <a href=#http-服务器 class=md-nav__link> <span class=md-ellipsis> HTTP 服务器 </span> </a> </li> <li class=md-nav__item> <a href=#http-客户端 class=md-nav__link> <span class=md-ellipsis> HTTP 客户端 </span> </a> </li> <li class=md-nav__item> <a href=#go-生成进程 class=md-nav__link> <span class=md-ellipsis> Go 生成进程 </span> </a> </li> <li class=md-nav__item> <a href=#go-执行进程 class=md-nav__link> <span class=md-ellipsis> Go 执行进程 </span> </a> </li> <li class=md-nav__item> <a href=#go-常用包 class=md-nav__link> <span class=md-ellipsis> Go 常用包 </span> </a> </li> <li class=md-nav__item> <a href=#go常用示例代码片段 class=md-nav__link> <span class=md-ellipsis> Go常用示例代码片段 </span> </a> </li> <li class=md-nav__item> <a href=#go语言学习目录 class=md-nav__link> <span class=md-ellipsis> Go语言学习目录 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=go-by-example>Go By Example<a class=headerlink href=#go-by-example title="Permanent link">&para;</a></h1> <p>参考文献：</p> <p>中文</p> <ul> <li><a href=https://gobyexample-cn.github.io/ >https://gobyexample-cn.github.io/</a></li> <li><a href=https://learnku.com/docs/gobyexample/2020>https://learnku.com/docs/gobyexample/2020</a></li> <li><a href=https://github.com/everyx/gobyexample>https://github.com/everyx/gobyexample</a></li> </ul> <p>英文</p> <ul> <li><a href=http://gobyexample.com>http://gobyexample.com</a></li> </ul> <h2 id=go-hello-world>Go hello world<a class=headerlink href=#go-hello-world title="Permanent link">&para;</a></h2> <p>我们的第一个例子是打印经典的“hello world”信息，我们先看下代码。</p> <p><code>hello-world.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;hello world&quot;</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=p>}</span>
</code></pre></div> <p>输出结果为： <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>$<span class=w> </span>ls
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>el_01_hello_world.go
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>$<span class=w> </span>go<span class=w> </span>build<span class=w> </span>el_01_hello_world.go<span class=w> </span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>$<span class=w> </span>ls
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>el_01_hello_world<span class=w>    </span>el_01_hello_world.go
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>$<span class=w> </span>./el_01_hello_world<span class=w> </span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>hello<span class=w> </span>world
</code></pre></div></p> <p>为了使一个go文件能够编译为可执行文件，包名必须是main，然后我们导入提供格式化输出的fmt包，该程序的执行入口是func main()函数，在函数里面，我们使用fmt包提供的Println函数来输出”hello world”字符串。</p> <p>为了运行这个程序，我们可以使用<code>go run el_01_hello_world.go</code>来运行这个例子，这样是直接输出运行结果而不会产生任何中间文件。</p> <p>但是有的时候我们希望能够将程序编译为二进制文件保存起来，我们可以像上面一样使用<code>go build el_01_hello_world.go</code>来将源代码编译为二进制可执行文件。</p> <p>然后我们可以直接运行这个二进制可执行文件。</p> <p>好了，第一个例子就这样结束了。很简单。</p> <h2 id=go-数据类型>Go 数据类型<a class=headerlink href=#go-数据类型 title="Permanent link">&para;</a></h2> <p>Go 拥有多种值类型，包括字符串，整型，浮点型，布尔型等。下面是一些基本的例子。</p> <p><code>values.go</code> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=c1>// 字符串可以通过 `+` 连接。</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;go&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot;lang&quot;</span><span class=p>)</span><span class=w>    </span><span class=c1>//golang</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>    </span><span class=c1>// 整数和浮点数</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;1+1 =&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=c1>//1+1 = 2</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;7.0/3.0 =&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>7.0</span><span class=o>/</span><span class=mf>3.0</span><span class=p>)</span><span class=c1>//7.0/3.0 = 2.3333333333333335</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=w>    </span><span class=c1>// 布尔型，以及常见的布尔操作。</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=kc>true</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=kc>false</span><span class=p>)</span><span class=w>  </span><span class=c1>//false</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=kc>true</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=kc>false</span><span class=p>)</span><span class=w>  </span><span class=c1>//true</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(!</span><span class=kc>true</span><span class=p>)</span><span class=w>  </span><span class=c1>//false</span>
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=p>}</span>
</code></pre></div></p> <h2 id=go-变量>Go 变量<a class=headerlink href=#go-变量 title="Permanent link">&para;</a></h2> <p>Go是静态类型语言，变量是有明确类型的。编译器会检查函数调用中，变量类型的正确性。</p> <p>使用var关键字来定义变量。</p> <p>Go 的基本类型有：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>bool
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>string
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>int<span class=w> </span>int8<span class=w> </span>int16<span class=w> </span>int32<span class=w> </span>int64
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>uint<span class=w> </span>uint8<span class=w> </span>uint16<span class=w> </span>uint32<span class=w> </span>uint64<span class=w> </span>uintptr
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>byte<span class=w> </span>//<span class=w> </span>uint8<span class=w> </span>的别名
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>rune<span class=w> </span>//<span class=w> </span>int32<span class=w> </span>的别名<span class=w> </span>代表一个Unicode码
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>float32<span class=w> </span>float64
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>complex64<span class=w> </span>complex128
</code></pre></div> <p>看看下面的例子</p> <p><code>variables.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>    </span><span class=c1>// `var` 关键字用来定义一个或者多个变量</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;initial&quot;</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w> </span><span class=c1>//initial</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>    </span><span class=c1>// 你一次可以定义多个变量</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>)</span><span class=w>   </span><span class=c1>//1 2</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=w>    </span><span class=c1>// Go会推断出具有初始值的变量的类型</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=kc>true</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>d</span><span class=p>)</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=w>    </span><span class=c1>//定义变量时，没有给出初始值的变量被默认初始化为零值</span>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=w>    </span><span class=c1>//整型的零值就是0</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=c1>//0</span>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=w>    </span><span class=c1>//&quot;:=&quot; 语法是同时定义和初始化变量的快捷方式</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=w>    </span><span class=nx>f</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;short&quot;</span>
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>f</span><span class=p>)</span><span class=w>  </span><span class=c1>//short</span>
<a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a><span class=p>}</span>
</code></pre></div> <h2 id=go-常量>Go 常量<a class=headerlink href=#go-常量 title="Permanent link">&para;</a></h2> <p>Go支持定义字符常量，字符串常量，布尔型常量和数值常量。</p> <p>使用 <code>const</code> 关键字来定义常量。</p> <p><code>constant.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;math&quot;</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=c1>// &quot;const&quot; 关键字用来定义常量</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=kd>const</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;constant&quot;</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=w> </span><span class=c1>//constant</span>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>    </span><span class=c1>// &quot;const&quot;关键字可以出现在任何&quot;var&quot;关键字出现的地方</span>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>    </span><span class=c1>// 区别是常量必须有初始值</span>
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>500000000</span>
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>    </span><span class=c1>// 常量表达式可以执行任意精度数学计算</span>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>d</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mf>3e20</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=nx>n</span>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>d</span><span class=p>)</span><span class=w> </span><span class=c1>//6e+11</span>
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a><span class=w>    </span><span class=c1>// 数值型常量没有具体类型，除非指定一个类型</span>
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=w>    </span><span class=c1>// 比如显式类型转换</span>
<a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>int64</span><span class=p>(</span><span class=nx>d</span><span class=p>))</span><span class=w> </span><span class=c1>//600000000000</span>
<a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>
<a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a><span class=w>    </span><span class=c1>// 数值型常量可以在程序的逻辑上下文中获取类型</span>
<a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a><span class=w>    </span><span class=c1>// 比如变量赋值或者函数调用。</span>
<a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a><span class=w>    </span><span class=c1>// 例如，对于math包中的Sin函数,它需要一个float64类型的变量</span>
<a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>math</span><span class=p>.</span><span class=nx>Sin</span><span class=p>(</span><span class=nx>n</span><span class=p>))</span><span class=w> </span><span class=c1>//-0.28470407323754404</span>
<a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a><span class=p>}</span>
</code></pre></div> <h2 id=go-for>Go for<a class=headerlink href=#go-for title="Permanent link">&para;</a></h2> <p>for循环是Go语言唯一的循环结构。这里有三个基本的for循环类型。</p> <p><code>for.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=c1>// 最基本的一种，单一条件循环</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=c1>// 这个可以代替其他语言的while循环</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>    </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>        </span><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=w>    </span><span class=c1>// 经典的循环条件初始化/条件判断/循环后条件变化</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>7</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>9</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>j</span><span class=p>)</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=w>    </span><span class=c1>// 无条件的for循环是死循环，除非你使用break跳出循环或者</span>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=w>    </span><span class=c1>// 使用return从函数返回</span>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;loop&quot;</span><span class=p>)</span>
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=w>        </span><span class=k>break</span>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a><span class=p>}</span>
</code></pre></div> <p>输出结果</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=m>1</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=m>2</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=m>3</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=m>7</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=m>8</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=m>9</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>loop
</code></pre></div> <p>在后面的例子中，你将会看到其他的循环方式，比如使用range函数循环数组，切片和字典，或者用select函数循环channel通道。</p> <h2 id=go-ifelse条件判断>Go if..else条件判断<a class=headerlink href=#go-ifelse条件判断 title="Permanent link">&para;</a></h2> <p>Go语言的条件判断结构也很简单。</p> <p><code>if-else.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class=c1>// 基本的例子</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=mi>7</span><span class=o>%</span><span class=mi>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;7 is even&quot;</span><span class=p>)</span>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;7 is odd&quot;</span><span class=p>)</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>    </span><span class=c1>// 只有if条件的情况</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=mi>8</span><span class=o>%</span><span class=mi>4</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;8 is divisible by 4&quot;</span><span class=p>)</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=w>    </span><span class=c1>// if条件可以包含一个初始化表达式，这个表达式中的变量</span>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=w>    </span><span class=c1>// 是这个条件判断结构的局部变量</span>
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>9</span><span class=p>;</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>,</span><span class=w> </span><span class=s>&quot;is negative&quot;</span><span class=p>)</span>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>10</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>,</span><span class=w> </span><span class=s>&quot;has 1 digit&quot;</span><span class=p>)</span>
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>,</span><span class=w> </span><span class=s>&quot;has multiple digits&quot;</span><span class=p>)</span>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a><span class=p>}</span>
</code></pre></div> <p>条件判断结构中，条件两边的小括号()是可以省略的，但是条件执行语句块两边的大括号{}不可以。</p> <p>输出结果为 <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=m>7</span><span class=w> </span>is<span class=w> </span>odd
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=m>8</span><span class=w> </span>is<span class=w> </span>divisible<span class=w> </span>by<span class=w> </span><span class=m>4</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=m>9</span><span class=w> </span>has<span class=w> </span><span class=m>1</span><span class=w> </span>digit
</code></pre></div></p> <p>在 Go 里面没有三元表达式 "?:" ，所以你只能使用条件判断语句。</p> <h2 id=go-switchcase语句>Go switch/case语句<a class=headerlink href=#go-switchcase语句 title="Permanent link">&para;</a></h2> <p>当条件判断分支太多的时候，我们会使用switch语句来优化逻辑。</p> <p><code>switch.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>    </span><span class=c1>// 一个基本的 `switch`。</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>    </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=s>&quot;write &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=s>&quot; as &quot;</span><span class=p>)</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=mi>1</span><span class=p>:</span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;one&quot;</span><span class=p>)</span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=mi>2</span><span class=p>:</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;two&quot;</span><span class=p>)</span>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=mi>3</span><span class=p>:</span>
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;three&quot;</span><span class=p>)</span>
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>
<a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a><span class=w>    </span><span class=c1>// 在同一个 `case` 语句中，你可以使用逗号来分隔多个表达式。</span>
<a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a><span class=w>    </span><span class=c1>// 在这个例子中，我们还使用了可选的 `default` 分支。</span>
<a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Now</span><span class=p>().</span><span class=nx>Weekday</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Saturday</span><span class=p>,</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Sunday</span><span class=p>:</span>
<a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;It&#39;s the weekend&quot;</span><span class=p>)</span>
<a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a><span class=w>    </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;It&#39;s a weekday&quot;</span><span class=p>)</span>
<a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a>
<a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a><span class=w>    </span><span class=c1>// 不带表达式的 `switch` 是实现 if/else 逻辑的另一种方式。</span>
<a id=__codelineno-10-30 name=__codelineno-10-30 href=#__codelineno-10-30></a><span class=w>    </span><span class=c1>// 这里还展示了 `case` 表达式也可以不使用常量。</span>
<a id=__codelineno-10-31 name=__codelineno-10-31 href=#__codelineno-10-31></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Now</span><span class=p>()</span>
<a id=__codelineno-10-32 name=__codelineno-10-32 href=#__codelineno-10-32></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-33 name=__codelineno-10-33 href=#__codelineno-10-33></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Hour</span><span class=p>()</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>12</span><span class=p>:</span>
<a id=__codelineno-10-34 name=__codelineno-10-34 href=#__codelineno-10-34></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;It&#39;s before noon&quot;</span><span class=p>)</span>
<a id=__codelineno-10-35 name=__codelineno-10-35 href=#__codelineno-10-35></a><span class=w>    </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-10-36 name=__codelineno-10-36 href=#__codelineno-10-36></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;It&#39;s after noon&quot;</span><span class=p>)</span>
<a id=__codelineno-10-37 name=__codelineno-10-37 href=#__codelineno-10-37></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-10-38 name=__codelineno-10-38 href=#__codelineno-10-38></a>
<a id=__codelineno-10-39 name=__codelineno-10-39 href=#__codelineno-10-39></a><span class=w>    </span><span class=c1>// 类型开关 (`type switch`) 比较类型而非值。可以用来发现一个接口值的类型。</span>
<a id=__codelineno-10-40 name=__codelineno-10-40 href=#__codelineno-10-40></a><span class=w>    </span><span class=c1>// 在这个例子中，变量 `t` 在每个分支中会有相应的类型。</span>
<a id=__codelineno-10-41 name=__codelineno-10-41 href=#__codelineno-10-41></a><span class=w>    </span><span class=nx>whatAmI</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=kd>interface</span><span class=p>{})</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-42 name=__codelineno-10-42 href=#__codelineno-10-42></a><span class=w>        </span><span class=k>switch</span><span class=w> </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>i</span><span class=p>.(</span><span class=kd>type</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-10-43 name=__codelineno-10-43 href=#__codelineno-10-43></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=kt>bool</span><span class=p>:</span>
<a id=__codelineno-10-44 name=__codelineno-10-44 href=#__codelineno-10-44></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;I&#39;m a bool&quot;</span><span class=p>)</span>
<a id=__codelineno-10-45 name=__codelineno-10-45 href=#__codelineno-10-45></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=kt>int</span><span class=p>:</span>
<a id=__codelineno-10-46 name=__codelineno-10-46 href=#__codelineno-10-46></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;I&#39;m an int&quot;</span><span class=p>)</span>
<a id=__codelineno-10-47 name=__codelineno-10-47 href=#__codelineno-10-47></a><span class=w>        </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-10-48 name=__codelineno-10-48 href=#__codelineno-10-48></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;Don&#39;t know type %T\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>t</span><span class=p>)</span>
<a id=__codelineno-10-49 name=__codelineno-10-49 href=#__codelineno-10-49></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-10-50 name=__codelineno-10-50 href=#__codelineno-10-50></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-10-51 name=__codelineno-10-51 href=#__codelineno-10-51></a><span class=w>    </span><span class=nx>whatAmI</span><span class=p>(</span><span class=kc>true</span><span class=p>)</span>
<a id=__codelineno-10-52 name=__codelineno-10-52 href=#__codelineno-10-52></a><span class=w>    </span><span class=nx>whatAmI</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-10-53 name=__codelineno-10-53 href=#__codelineno-10-53></a><span class=w>    </span><span class=nx>whatAmI</span><span class=p>(</span><span class=s>&quot;hey&quot;</span><span class=p>)</span>
<a id=__codelineno-10-54 name=__codelineno-10-54 href=#__codelineno-10-54></a><span class=p>}</span>
</code></pre></div> <p>运行输出结果：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>switch.go
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>Write<span class=w> </span><span class=m>2</span><span class=w> </span>as<span class=w> </span>two
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>It<span class=s1>&#39;s a weekday</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=s1>It&#39;</span>s<span class=w> </span>after<span class=w> </span>noon
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>I<span class=s1>&#39;m a bool</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=s1>I&#39;</span>m<span class=w> </span>an<span class=w> </span>int
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>Don<span class=err>&#39;</span>t<span class=w> </span>know<span class=w> </span><span class=nb>type</span><span class=w> </span>string
</code></pre></div> <h2 id=go-数组>Go 数组<a class=headerlink href=#go-数组 title="Permanent link">&para;</a></h2> <ul> <li> <p>数组是一个具有<code>相同数据类型</code>的元素组成的<code>固定长度</code>的<code>有序集合</code>。</p> </li> <li> <p>在Go语言中，数组是值类型，长度是类型的组成部分，也就是说 <code>”[10]int“</code> 和 <code>“[20]int”</code> 是完全不同的两种数组类型。</p> </li> <li> <p>同类型的两个数组支持”==”和”!=”比较，但是不能比较大小。</p> </li> <li> <p>数组作为参数时，函数内部不改变数组内部的值，除非是传入数组的指针。</p> </li> <li> <p>数组的指针：*[3]int</p> </li> <li> <p>指针数组：[2]*int</p> </li> </ul> <h3 id=示例1>示例1:<a class=headerlink href=#示例1 title="Permanent link">&para;</a></h3> <p><code>arrays.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>    </span><span class=c1>// 这里我们创建了一个具有5个元素的整型数组</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=w>    </span><span class=c1>// 元素的数据类型和数组长度都是数组的一部分</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=w>    </span><span class=c1>// 默认情况下，数组元素都是零值</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=w>    </span><span class=c1>// 对于整数，零值就是0</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;emp:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span><span class=w> </span><span class=c1>//emp: [0 0 0 0 0]</span>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=w>    </span><span class=c1>// 我们可以使用索引来设置数组元素的值，就像这样</span>
<a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a><span class=w>    </span><span class=c1>// &quot;array[index] = value&quot;  或者使用索引来获取元素值，</span>
<a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a><span class=w>    </span><span class=c1>// 就像这样&quot;array[index]&quot;</span>
<a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a><span class=w>    </span><span class=nx>a</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>100</span>
<a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;set:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>)</span><span class=w> </span><span class=c1>//set: [0 0 0 0 100]</span>
<a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>
<a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;get:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>a</span><span class=p>[</span><span class=mi>4</span><span class=p>])</span><span class=w> </span><span class=c1>//get: 100</span>
<a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a><span class=w>    </span><span class=c1>// 内置的len函数返回数组的长度</span>
<a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;len:&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>a</span><span class=p>))</span><span class=w> </span><span class=c1>//len: 5</span>
<a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a>
<a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a><span class=w>    </span><span class=c1>// 这种方法可以同时定义和初始化一个数组</span>
<a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>}</span>
<a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;dcl:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>)</span><span class=w> </span><span class=c1>//dcl: [1 2 3 4 5]</span>
<a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a><span class=w>    </span><span class=c1>// 数组都是一维的，但是你可以把数组的元素定义为一个数组</span>
<a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a><span class=w>    </span><span class=c1>// 来获取多维数组结构</span>
<a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>twoD</span><span class=w> </span><span class=p>[</span><span class=mi>2</span><span class=p>][</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span>
<a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>2</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a><span class=w>            </span><span class=nx>twoD</span><span class=p>[</span><span class=nx>i</span><span class=p>][</span><span class=nx>j</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>j</span>
<a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;2d: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>twoD</span><span class=p>)</span><span class=w> </span><span class=c1>//2d:  [[0 1 2] [1 2 3]]</span>
<a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a><span class=p>}</span>
</code></pre></div> <p>拥有<code>固定长度</code>是数组的一个特点，但是这个特点有时候会带来很多不便，尤其在一个集合元素个数不固定的情况下。</p> <p>这个时候我们更多地使用<code>切片</code>。</p> <h3 id=示例2>示例2:<a class=headerlink href=#示例2 title="Permanent link">&para;</a></h3> <p>可以用new创建数组，并返回数组的指针</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>new</span><span class=p>([</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=w>    </span><span class=nx>test</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>a</span><span class=p>))</span><span class=w> </span><span class=c1>//&amp;[0 5 0 0 0] 5</span>
<a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=p>}</span>
<a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=kd>func</span><span class=w> </span><span class=nx>test</span><span class=p>(</span><span class=nx>a</span><span class=w> </span><span class=o>*</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=w>    </span><span class=nx>a</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>5</span>
<a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a><span class=p>}</span>
</code></pre></div> <h3 id=示例3>示例3:<a class=headerlink href=#示例3 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>    </span><span class=nx>a</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=nx>User</span><span class=p>{</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>        </span><span class=p>{</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s>&quot;User0&quot;</span><span class=p>},</span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=w>        </span><span class=p>{</span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=s>&quot;User8&quot;</span><span class=p>},</span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=w>    </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[</span><span class=o>...</span><span class=p>]</span><span class=o>*</span><span class=nx>User</span><span class=p>{</span>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=w>        </span><span class=p>{</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s>&quot;User0&quot;</span><span class=p>},</span>
<a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a><span class=w>        </span><span class=p>{</span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=s>&quot;User8&quot;</span><span class=p>},</span>
<a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>a</span><span class=p>))</span><span class=w> </span><span class=c1>//[{0 User0} {8 User8}] 2</span>
<a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>b</span><span class=p>))</span><span class=w> </span><span class=c1>//[0xc000008078 0xc000008090] 2</span>
<a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a><span class=p>}</span>
<a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a>
<a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a><span class=kd>type</span><span class=w> </span><span class=nx>User</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a><span class=w>    </span><span class=nx>Id</span><span class=w>   </span><span class=kt>int</span>
<a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a><span class=w>    </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a><span class=p>}</span>
</code></pre></div> <h3 id=示例4>示例4：<a class=headerlink href=#示例4 title="Permanent link">&para;</a></h3> <p>遍历数组的方式</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=kd>var</span><span class=w> </span><span class=nx>arrAge</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>12</span><span class=p>,</span><span class=w> </span><span class=mi>13</span><span class=p>,</span><span class=w> </span><span class=mi>14</span><span class=p>,</span><span class=w> </span><span class=mi>15</span><span class=p>,</span><span class=w> </span><span class=mi>16</span><span class=p>}</span>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=c1>//var arrLazy = [...]int{22, 23, 24, 25, 26}</span>
<a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=c1>//var arrKeyValue = [5]string{3: &quot;hujian&quot;, 4: &quot;xiaojian&quot;}</span>
<a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>
<a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=w>    </span><span class=c1>// 遍历方法1</span>
<a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>i2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>arrAge</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>i2</span><span class=p>)</span>
<a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;----------------------------&quot;</span><span class=p>)</span>
<a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a>
<a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=w>    </span><span class=c1>// 遍历方法2</span>
<a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>arrAge</span><span class=p>);</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>arrAge</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span>
<a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a><span class=p>}</span>
</code></pre></div> <h2 id=go-切片>Go 切片<a class=headerlink href=#go-切片 title="Permanent link">&para;</a></h2> <p>切片是Go语言的关键类型之一，它提供了比数组更多的功能。</p> <p><code>slices.go</code></p> <h3 id=示例1_1>示例1：<a class=headerlink href=#示例1_1 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=w>    </span><span class=c1>// 和数组不同的是，切片的长度是可变的。</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=w>    </span><span class=c1>// 我们可以使用内置函数make来创建一个长度不为零的切片</span>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=w>    </span><span class=c1>// 这里我们创建了一个长度为3，存储字符串的切片，切片元素</span>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=w>    </span><span class=c1>// 默认为零值，对于字符串就是&quot;&quot;。</span>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;emp:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w> </span><span class=c1>//emp: [  ]</span>
<a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>
<a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=w>    </span><span class=c1>// 可以使用和数组一样的方法来设置元素值或获取元素值</span>
<a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a><span class=w>    </span><span class=nx>s</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;a&quot;</span>
<a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a><span class=w>    </span><span class=nx>s</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;b&quot;</span>
<a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=w>    </span><span class=nx>s</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;c&quot;</span>
<a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;set:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w>    </span><span class=c1>//set: [a b c]</span>
<a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;get:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span><span class=w> </span><span class=c1>//get: c</span>
<a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=w>    </span><span class=c1>// 可以用内置函数len获取切片的长度</span>
<a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;len:&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>))</span><span class=w> </span><span class=c1>//len: 3</span>
<a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a>
<a id=__codelineno-16-22 name=__codelineno-16-22 href=#__codelineno-16-22></a><span class=w>    </span><span class=c1>// 切片还拥有一些数组所没有的功能。</span>
<a id=__codelineno-16-23 name=__codelineno-16-23 href=#__codelineno-16-23></a><span class=w>    </span><span class=c1>// 例如我们可以使用内置函数append给切片追加值，然后</span>
<a id=__codelineno-16-24 name=__codelineno-16-24 href=#__codelineno-16-24></a><span class=w>    </span><span class=c1>// 返回一个拥有新切片元素的切片。</span>
<a id=__codelineno-16-25 name=__codelineno-16-25 href=#__codelineno-16-25></a><span class=w>    </span><span class=c1>// 注意append函数不会改变原切片，而是生成了一个新切片，</span>
<a id=__codelineno-16-26 name=__codelineno-16-26 href=#__codelineno-16-26></a><span class=w>    </span><span class=c1>// 我们需要用原来的切片来接收这个新切片</span>
<a id=__codelineno-16-27 name=__codelineno-16-27 href=#__codelineno-16-27></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=s>&quot;d&quot;</span><span class=p>)</span>
<a id=__codelineno-16-28 name=__codelineno-16-28 href=#__codelineno-16-28></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=s>&quot;e&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;f&quot;</span><span class=p>)</span>
<a id=__codelineno-16-29 name=__codelineno-16-29 href=#__codelineno-16-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;apd:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span><span class=w> </span><span class=c1>//apd: [a b c d e f]</span>
<a id=__codelineno-16-30 name=__codelineno-16-30 href=#__codelineno-16-30></a>
<a id=__codelineno-16-31 name=__codelineno-16-31 href=#__codelineno-16-31></a><span class=w>    </span><span class=c1>// 另外我们还可以从一个切片拷贝元素到另一个切片</span>
<a id=__codelineno-16-32 name=__codelineno-16-32 href=#__codelineno-16-32></a><span class=w>    </span><span class=c1>// 下面的例子就是创建了一个和切片s长度相同的新切片</span>
<a id=__codelineno-16-33 name=__codelineno-16-33 href=#__codelineno-16-33></a><span class=w>    </span><span class=c1>// 然后使用内置的copy函数来拷贝s的元素到c中。</span>
<a id=__codelineno-16-34 name=__codelineno-16-34 href=#__codelineno-16-34></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>))</span>
<a id=__codelineno-16-35 name=__codelineno-16-35 href=#__codelineno-16-35></a><span class=w>    </span><span class=nb>copy</span><span class=p>(</span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span>
<a id=__codelineno-16-36 name=__codelineno-16-36 href=#__codelineno-16-36></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;cpy:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>)</span><span class=w> </span><span class=c1>//cpy: [a b c d e f]</span>
<a id=__codelineno-16-37 name=__codelineno-16-37 href=#__codelineno-16-37></a>
<a id=__codelineno-16-38 name=__codelineno-16-38 href=#__codelineno-16-38></a><span class=w>    </span><span class=c1>// 切片还支持一个取切片的操作 &quot;slice[low:high]&quot;</span>
<a id=__codelineno-16-39 name=__codelineno-16-39 href=#__codelineno-16-39></a><span class=w>    </span><span class=c1>// 获取的新切片包含元素&quot;slice[low]&quot;，但是不包含&quot;slice[high]&quot;</span>
<a id=__codelineno-16-40 name=__codelineno-16-40 href=#__codelineno-16-40></a><span class=w>    </span><span class=c1>// 下面的例子就是取一个新切片，元素包括&quot;s[2]&quot;，&quot;s[3]&quot;，&quot;s[4]&quot;。</span>
<a id=__codelineno-16-41 name=__codelineno-16-41 href=#__codelineno-16-41></a><span class=w>    </span><span class=nx>l</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=mi>2</span><span class=p>:</span><span class=mi>5</span><span class=p>]</span>
<a id=__codelineno-16-42 name=__codelineno-16-42 href=#__codelineno-16-42></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;sl1:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>l</span><span class=p>)</span><span class=w> </span><span class=c1>//sl1: [c d e]</span>
<a id=__codelineno-16-43 name=__codelineno-16-43 href=#__codelineno-16-43></a>
<a id=__codelineno-16-44 name=__codelineno-16-44 href=#__codelineno-16-44></a><span class=w>    </span><span class=c1>// 如果省略low，默认从0开始，不包括&quot;slice[high]&quot;元素</span>
<a id=__codelineno-16-45 name=__codelineno-16-45 href=#__codelineno-16-45></a><span class=w>    </span><span class=nx>l</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>s</span><span class=p>[:</span><span class=mi>5</span><span class=p>]</span>
<a id=__codelineno-16-46 name=__codelineno-16-46 href=#__codelineno-16-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;sl2:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>l</span><span class=p>)</span><span class=w> </span><span class=c1>//sl2: [a b c d e]</span>
<a id=__codelineno-16-47 name=__codelineno-16-47 href=#__codelineno-16-47></a>
<a id=__codelineno-16-48 name=__codelineno-16-48 href=#__codelineno-16-48></a><span class=w>    </span><span class=c1>// 如果省略high，默认为len(slice)，包括&quot;slice[low]&quot;元素</span>
<a id=__codelineno-16-49 name=__codelineno-16-49 href=#__codelineno-16-49></a><span class=w>    </span><span class=nx>l</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=mi>2</span><span class=p>:]</span>
<a id=__codelineno-16-50 name=__codelineno-16-50 href=#__codelineno-16-50></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;sl3:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>l</span><span class=p>)</span><span class=w> </span><span class=c1>//sl3: [c d e f]</span>
<a id=__codelineno-16-51 name=__codelineno-16-51 href=#__codelineno-16-51></a>
<a id=__codelineno-16-52 name=__codelineno-16-52 href=#__codelineno-16-52></a><span class=w>    </span><span class=c1>// 我们可以同时声明和初始化一个切片</span>
<a id=__codelineno-16-53 name=__codelineno-16-53 href=#__codelineno-16-53></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;g&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;h&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;i&quot;</span><span class=p>}</span>
<a id=__codelineno-16-54 name=__codelineno-16-54 href=#__codelineno-16-54></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;dcl:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>t</span><span class=p>)</span><span class=w> </span><span class=c1>//dcl: [g h i]</span>
<a id=__codelineno-16-55 name=__codelineno-16-55 href=#__codelineno-16-55></a>
<a id=__codelineno-16-56 name=__codelineno-16-56 href=#__codelineno-16-56></a><span class=w>    </span><span class=c1>// 我们也可以创建多维切片，和数组不同的是，切片元素的长度也是可变的。</span>
<a id=__codelineno-16-57 name=__codelineno-16-57 href=#__codelineno-16-57></a><span class=w>    </span><span class=nx>twoD</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([][]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-16-58 name=__codelineno-16-58 href=#__codelineno-16-58></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-59 name=__codelineno-16-59 href=#__codelineno-16-59></a><span class=w>        </span><span class=nx>innerLen</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-16-60 name=__codelineno-16-60 href=#__codelineno-16-60></a><span class=w>        </span><span class=nx>twoD</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=nx>innerLen</span><span class=p>)</span>
<a id=__codelineno-16-61 name=__codelineno-16-61 href=#__codelineno-16-61></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>innerLen</span><span class=p>;</span><span class=w> </span><span class=nx>j</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-16-62 name=__codelineno-16-62 href=#__codelineno-16-62></a><span class=w>            </span><span class=nx>twoD</span><span class=p>[</span><span class=nx>i</span><span class=p>][</span><span class=nx>j</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>j</span>
<a id=__codelineno-16-63 name=__codelineno-16-63 href=#__codelineno-16-63></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-16-64 name=__codelineno-16-64 href=#__codelineno-16-64></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-16-65 name=__codelineno-16-65 href=#__codelineno-16-65></a>
<a id=__codelineno-16-66 name=__codelineno-16-66 href=#__codelineno-16-66></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;2d: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>twoD</span><span class=p>)</span><span class=w> </span><span class=c1>//2d:  [[0] [1 2] [2 3 4]]</span>
<a id=__codelineno-16-67 name=__codelineno-16-67 href=#__codelineno-16-67></a><span class=p>}</span>
</code></pre></div> <p>数组和切片的定义方式的区别在于[]之中是否有固定长度或者推断长度标志符...。</p> <h3 id=示例2_1>示例2：<a class=headerlink href=#示例2_1 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=w>    </span><span class=nx>test</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=p>}</span>
<a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a><span class=kd>func</span><span class=w> </span><span class=nx>test</span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=w>    </span><span class=c1>//因为原来分配的空间不够，所以在另外一个地址又重新分配了空间，所以原始地址的数据没有变</span>
<a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a><span class=p>}</span>
</code></pre></div> <p>输出结果为： <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=o>[]</span>
</code></pre></div></p> <p>若改为： <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>test</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=p>}</span>
<a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=kd>func</span><span class=w> </span><span class=nx>test</span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>s</span>
<a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=p>}</span>
</code></pre></div></p> <p>输出结果为： <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=o>[</span><span class=m>3</span><span class=o>]</span><span class=w>   </span>//正确结果
</code></pre></div></p> <h3 id=示例3_1>示例3：<a class=headerlink href=#示例3_1 title="Permanent link">&para;</a></h3> <p>cap是slice的最大容量，append函数添加元素，如果超过原始slice的容量，会重新分配底层数组。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>)</span>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;s1= &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s1</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s1</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s1</span><span class=p>))</span><span class=w> </span><span class=c1>//s1=  [0 0 0] 3 6</span>
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=w>    </span><span class=nx>s2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s1</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;s1= &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s1</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s1</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s1</span><span class=p>))</span><span class=w> </span><span class=c1>//s1=  [0 0 0] 3 6</span>
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;s2= &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s2</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s2</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s2</span><span class=p>))</span><span class=w> </span><span class=c1>//s2=  [0 0 0 1 2 3] 6 6</span>
<a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a>
<a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a><span class=w>    </span><span class=nx>s3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>s2</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>)</span>
<a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;s1= &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s1</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s1</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s1</span><span class=p>))</span><span class=w> </span><span class=c1>//s1=  [0 0 0] 3 6</span>
<a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;s2= &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s2</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s2</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s2</span><span class=p>))</span><span class=w> </span><span class=c1>//s2=  [0 0 0 1 2 3] 6 6</span>
<a id=__codelineno-21-16 name=__codelineno-21-16 href=#__codelineno-21-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;s3= &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s3</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s3</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s3</span><span class=p>))</span><span class=w> </span><span class=c1>//s3=  [0 0 0 1 2 3 4 5 6] 9 12</span>
<a id=__codelineno-21-17 name=__codelineno-21-17 href=#__codelineno-21-17></a><span class=p>}</span>
</code></pre></div> <h3 id=示例4_1>示例4：<a class=headerlink href=#示例4_1 title="Permanent link">&para;</a></h3> <p>指向同一底层数组的slice之间copy时，允许存在重叠。</p> <p>copy数组时，受限于src和dst数组的长度最小值。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>8</span><span class=p>,</span><span class=w> </span><span class=mi>9</span><span class=p>}</span>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=w>    </span><span class=nx>s2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>)</span>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=w>    </span><span class=nx>n</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>copy</span><span class=p>(</span><span class=nx>s2</span><span class=p>,</span><span class=w> </span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>n</span><span class=p>,</span><span class=w> </span><span class=nx>s2</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s2</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s2</span><span class=p>))</span><span class=w> </span><span class=c1>//3 [0 1 2] 3 20</span>
<a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>
<a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a><span class=w>    </span><span class=nx>s3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>s1</span><span class=p>[</span><span class=mi>4</span><span class=p>:</span><span class=mi>6</span><span class=p>]</span>
<a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>n</span><span class=p>,</span><span class=w> </span><span class=nx>s3</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s3</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s3</span><span class=p>))</span><span class=w> </span><span class=c1>//3 [4 5] 2 6</span>
<a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>
<a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a><span class=w>    </span><span class=nx>n</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>copy</span><span class=p>(</span><span class=nx>s3</span><span class=p>,</span><span class=w> </span><span class=nx>s1</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>5</span><span class=p>])</span>
<a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>n</span><span class=p>,</span><span class=w> </span><span class=nx>s3</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s3</span><span class=p>),</span><span class=w> </span><span class=nb>cap</span><span class=p>(</span><span class=nx>s3</span><span class=p>))</span><span class=w> </span><span class=c1>//2 [1 2] 2 6</span>
<a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a>
<a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a><span class=p>}</span>
</code></pre></div> <h2 id=go-字典>Go 字典<a class=headerlink href=#go-字典 title="Permanent link">&para;</a></h2> <p>字典是Go语言内置的关联数据类型。因为数组是索引对应数组元素，而字典是键对应值。</p> <h3 id=示例1_2>示例1:<a class=headerlink href=#示例1_2 title="Permanent link">&para;</a></h3> <p><code>maps.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=w>    </span><span class=c1>// 创建一个字典可以使用内置函数make</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=w>    </span><span class=c1>// &quot;make(map[键类型]值类型)&quot;</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=w>    </span><span class=nx>m</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=w>    </span><span class=c1>// 使用经典的&quot;name[key]=value&quot;来为键设置值</span>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=w>    </span><span class=nx>m</span><span class=p>[</span><span class=s>&quot;k1&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>7</span>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=w>    </span><span class=nx>m</span><span class=p>[</span><span class=s>&quot;k2&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>13</span>
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=w>    </span><span class=c1>// 用Println输出字典，会输出所有的键值对</span>
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;map:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>m</span><span class=p>)</span><span class=w> </span><span class=c1>//map: map[k1:7 k2:13]</span>
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a>
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=w>    </span><span class=c1>// 获取一个键的值 &quot;name[key]&quot;.</span>
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=w>    </span><span class=nx>v1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>m</span><span class=p>[</span><span class=s>&quot;k1&quot;</span><span class=p>]</span>
<a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;v1: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v1</span><span class=p>)</span><span class=w> </span><span class=c1>//v1:  7</span>
<a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a>
<a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a><span class=w>    </span><span class=c1>// 内置函数返回字典的元素个数</span>
<a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;len:&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>m</span><span class=p>))</span><span class=w> </span><span class=c1>//len: 2</span>
<a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a>
<a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a><span class=w>    </span><span class=c1>// 内置函数delete从字典删除一个键对应的值</span>
<a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a><span class=w>    </span><span class=nb>delete</span><span class=p>(</span><span class=nx>m</span><span class=p>,</span><span class=w> </span><span class=s>&quot;k2&quot;</span><span class=p>)</span>
<a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;map:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>m</span><span class=p>)</span><span class=w> </span><span class=c1>//map: map[k1:7]</span>
<a id=__codelineno-23-25 name=__codelineno-23-25 href=#__codelineno-23-25></a>
<a id=__codelineno-23-26 name=__codelineno-23-26 href=#__codelineno-23-26></a><span class=w>    </span><span class=c1>// 根据键来获取值有一个可选的返回值，这个返回值表示字典中是否</span>
<a id=__codelineno-23-27 name=__codelineno-23-27 href=#__codelineno-23-27></a><span class=w>    </span><span class=c1>// 存在该键，如果存在为true，返回对应值，否则为false，返回零值</span>
<a id=__codelineno-23-28 name=__codelineno-23-28 href=#__codelineno-23-28></a><span class=w>    </span><span class=c1>// 有的时候需要根据这个返回值来区分返回结果到底是存在的值还是零值</span>
<a id=__codelineno-23-29 name=__codelineno-23-29 href=#__codelineno-23-29></a><span class=w>    </span><span class=c1>// 比如字典不存在键x对应的整型值，返回零值就是0，但是恰好字典中有</span>
<a id=__codelineno-23-30 name=__codelineno-23-30 href=#__codelineno-23-30></a><span class=w>    </span><span class=c1>// 键y对应的值为0，这个时候需要那个可选返回值来判断是否零值。</span>
<a id=__codelineno-23-31 name=__codelineno-23-31 href=#__codelineno-23-31></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>m</span><span class=p>[</span><span class=s>&quot;k2&quot;</span><span class=p>]</span>
<a id=__codelineno-23-32 name=__codelineno-23-32 href=#__codelineno-23-32></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;ok:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=p>)</span><span class=w> </span><span class=c1>//ok: false</span>
<a id=__codelineno-23-33 name=__codelineno-23-33 href=#__codelineno-23-33></a>
<a id=__codelineno-23-34 name=__codelineno-23-34 href=#__codelineno-23-34></a><span class=w>    </span><span class=c1>// 你可以用 &quot;:=&quot; 同时定义和初始化一个字典</span>
<a id=__codelineno-23-35 name=__codelineno-23-35 href=#__codelineno-23-35></a><span class=w>    </span><span class=nx>n</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=s>&quot;foo&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=s>&quot;bar&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>}</span>
<a id=__codelineno-23-36 name=__codelineno-23-36 href=#__codelineno-23-36></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;map:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n</span><span class=p>)</span><span class=w> </span><span class=c1>//map: map[bar:2 foo:1]</span>
<a id=__codelineno-23-37 name=__codelineno-23-37 href=#__codelineno-23-37></a>
<a id=__codelineno-23-38 name=__codelineno-23-38 href=#__codelineno-23-38></a><span class=w>    </span><span class=nx>hu</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span><span class=p>{</span>
<a id=__codelineno-23-39 name=__codelineno-23-39 href=#__codelineno-23-39></a><span class=w>        </span><span class=s>&quot;name&quot;</span><span class=p>:</span><span class=w>   </span><span class=s>&quot;hujianli&quot;</span><span class=p>,</span>
<a id=__codelineno-23-40 name=__codelineno-23-40 href=#__codelineno-23-40></a><span class=w>        </span><span class=s>&quot;age&quot;</span><span class=p>:</span><span class=w>    </span><span class=s>&quot;22&quot;</span><span class=p>,</span>
<a id=__codelineno-23-41 name=__codelineno-23-41 href=#__codelineno-23-41></a><span class=w>        </span><span class=s>&quot;sex&quot;</span><span class=p>:</span><span class=w>    </span><span class=s>&quot;man&quot;</span><span class=p>,</span>
<a id=__codelineno-23-42 name=__codelineno-23-42 href=#__codelineno-23-42></a><span class=w>        </span><span class=s>&quot;school&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;dianda&quot;</span><span class=p>,</span>
<a id=__codelineno-23-43 name=__codelineno-23-43 href=#__codelineno-23-43></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-44 name=__codelineno-23-44 href=#__codelineno-23-44></a><span class=w>    </span><span class=c1>// name:hujianli  age:22  sex:man  school:dianda</span>
<a id=__codelineno-23-45 name=__codelineno-23-45 href=#__codelineno-23-45></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;name:%s  age:%s  sex:%s  school:%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>hu</span><span class=p>[</span><span class=s>&quot;name&quot;</span><span class=p>],</span><span class=w> </span><span class=nx>hu</span><span class=p>[</span><span class=s>&quot;age&quot;</span><span class=p>],</span><span class=w> </span><span class=nx>hu</span><span class=p>[</span><span class=s>&quot;sex&quot;</span><span class=p>],</span><span class=w> </span><span class=nx>hu</span><span class=p>[</span><span class=s>&quot;school&quot;</span><span class=p>])</span>
<a id=__codelineno-23-46 name=__codelineno-23-46 href=#__codelineno-23-46></a>
<a id=__codelineno-23-47 name=__codelineno-23-47 href=#__codelineno-23-47></a><span class=w>    </span><span class=c1>//遍历map中的键值对–访问关联关系</span>
<a id=__codelineno-23-48 name=__codelineno-23-48 href=#__codelineno-23-48></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>i2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>hu</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-49 name=__codelineno-23-49 href=#__codelineno-23-49></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;key:%s value:%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>i2</span><span class=p>)</span>
<a id=__codelineno-23-50 name=__codelineno-23-50 href=#__codelineno-23-50></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-51 name=__codelineno-23-51 href=#__codelineno-23-51></a>
<a id=__codelineno-23-52 name=__codelineno-23-52 href=#__codelineno-23-52></a><span class=w>    </span><span class=c1>// 只遍历值</span>
<a id=__codelineno-23-53 name=__codelineno-23-53 href=#__codelineno-23-53></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>i2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>hu</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-54 name=__codelineno-23-54 href=#__codelineno-23-54></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;value -&gt; %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i2</span><span class=p>)</span>
<a id=__codelineno-23-55 name=__codelineno-23-55 href=#__codelineno-23-55></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-56 name=__codelineno-23-56 href=#__codelineno-23-56></a><span class=w>    </span><span class=c1>// 只遍历键</span>
<a id=__codelineno-23-57 name=__codelineno-23-57 href=#__codelineno-23-57></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>hu</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-58 name=__codelineno-23-58 href=#__codelineno-23-58></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;key -&gt; %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-23-59 name=__codelineno-23-59 href=#__codelineno-23-59></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-60 name=__codelineno-23-60 href=#__codelineno-23-60></a>
<a id=__codelineno-23-61 name=__codelineno-23-61 href=#__codelineno-23-61></a><span class=w>    </span><span class=c1>// var mydicMap map[string]string</span>
<a id=__codelineno-23-62 name=__codelineno-23-62 href=#__codelineno-23-62></a><span class=w>    </span><span class=nx>mydicMaps</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span><span class=p>)</span>
<a id=__codelineno-23-63 name=__codelineno-23-63 href=#__codelineno-23-63></a><span class=w>    </span><span class=nx>mydicMaps</span><span class=p>[</span><span class=s>&quot;hujianli1&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;A1&quot;</span>
<a id=__codelineno-23-64 name=__codelineno-23-64 href=#__codelineno-23-64></a><span class=w>    </span><span class=nx>mydicMaps</span><span class=p>[</span><span class=s>&quot;hujianli2&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;A2&quot;</span>
<a id=__codelineno-23-65 name=__codelineno-23-65 href=#__codelineno-23-65></a><span class=w>    </span><span class=nx>mydicMaps</span><span class=p>[</span><span class=s>&quot;hujianli3&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;A3&quot;</span>
<a id=__codelineno-23-66 name=__codelineno-23-66 href=#__codelineno-23-66></a>
<a id=__codelineno-23-67 name=__codelineno-23-67 href=#__codelineno-23-67></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>mydicMaps</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-68 name=__codelineno-23-68 href=#__codelineno-23-68></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%s %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-23-69 name=__codelineno-23-69 href=#__codelineno-23-69></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-70 name=__codelineno-23-70 href=#__codelineno-23-70></a><span class=w>    </span><span class=nx>name1</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>mydicMaps</span><span class=p>[</span><span class=s>&quot;hu1&quot;</span><span class=p>]</span>
<a id=__codelineno-23-71 name=__codelineno-23-71 href=#__codelineno-23-71></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>!</span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-72 name=__codelineno-23-72 href=#__codelineno-23-72></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;----------&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name1</span><span class=p>)</span>
<a id=__codelineno-23-73 name=__codelineno-23-73 href=#__codelineno-23-73></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-74 name=__codelineno-23-74 href=#__codelineno-23-74></a>
<a id=__codelineno-23-75 name=__codelineno-23-75 href=#__codelineno-23-75></a><span class=w>    </span><span class=c1>// 或者</span>
<a id=__codelineno-23-76 name=__codelineno-23-76 href=#__codelineno-23-76></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>name2</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>mydicMaps</span><span class=p>[</span><span class=s>&quot;hu2&quot;</span><span class=p>];</span><span class=w> </span><span class=p>!</span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-23-77 name=__codelineno-23-77 href=#__codelineno-23-77></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;----------&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name2</span><span class=p>)</span>
<a id=__codelineno-23-78 name=__codelineno-23-78 href=#__codelineno-23-78></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-23-79 name=__codelineno-23-79 href=#__codelineno-23-79></a><span class=p>}</span>
</code></pre></div> <h3 id=示例2_2>示例2:<a class=headerlink href=#示例2_2 title="Permanent link">&para;</a></h3> <p>排序遍历</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=w>    </span><span class=s>&quot;sort&quot;</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=p>)</span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=w>    </span><span class=nx>scene</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=w>    </span><span class=c1>//准备map数据</span>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=w>    </span><span class=nx>scene</span><span class=p>[</span><span class=s>&quot;route&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>66</span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=w>    </span><span class=nx>scene</span><span class=p>[</span><span class=s>&quot;brazil&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>4</span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=w>    </span><span class=nx>scene</span><span class=p>[</span><span class=s>&quot;china&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>960</span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=w>    </span><span class=c1>// 声明一个切片保存map数据</span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>sceneList</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=w>    </span><span class=c1>// 将map数据遍历后复制到切片中</span>
<a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>key</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>scene</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a><span class=w>        </span><span class=nx>sceneList</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nb>append</span><span class=p>(</span><span class=nx>sceneList</span><span class=p>,</span><span class=w> </span><span class=nx>key</span><span class=p>)</span>
<a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a><span class=w>    </span><span class=c1>// 对切片进行排序</span>
<a id=__codelineno-24-21 name=__codelineno-24-21 href=#__codelineno-24-21></a><span class=w>    </span><span class=nx>sort</span><span class=p>.</span><span class=nx>Strings</span><span class=p>(</span><span class=nx>sceneList</span><span class=p>)</span>
<a id=__codelineno-24-22 name=__codelineno-24-22 href=#__codelineno-24-22></a><span class=w>    </span><span class=c1>// 输出</span>
<a id=__codelineno-24-23 name=__codelineno-24-23 href=#__codelineno-24-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sceneList</span><span class=p>)</span><span class=w> </span><span class=c1>//[brazil china route]</span>
<a id=__codelineno-24-24 name=__codelineno-24-24 href=#__codelineno-24-24></a><span class=p>}</span>
</code></pre></div> <p>清空map中的所有元素</p> <p>Go 语言中没有清空map的方法和函数。</p> <p>清空map的位于方法是重新make一个新的map。 </p> <p>Go中的并行垃圾回收效率比写一个清空函数高效多了。</p> <p>清空 map的一个解决方法</p> <p>但在多次讨论中，Go 官方团队给出的解决方案是：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>for</span><span class=w> </span><span class=nx>k</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>m</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=w>    </span><span class=nb>delete</span><span class=p>(</span><span class=nx>m</span><span class=p>,</span><span class=w> </span><span class=nx>k</span><span class=p>)</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=w>    </span><span class=nx>scene</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=w>    </span><span class=c1>//准备map数据</span>
<a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=w>    </span><span class=nx>scene</span><span class=p>[</span><span class=s>&quot;route&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>66</span>
<a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=w>    </span><span class=nx>scene</span><span class=p>[</span><span class=s>&quot;brazil&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>4</span>
<a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a><span class=w>    </span><span class=nx>scene</span><span class=p>[</span><span class=s>&quot;china&quot;</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>960</span>
<a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>scene</span><span class=p>)</span><span class=w> </span><span class=c1>//map[brazil:4 china:960 route:66]</span>
<a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a>
<a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a><span class=w>    </span><span class=c1>//清空 map</span>
<a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>k</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>scene</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a><span class=w>        </span><span class=nb>delete</span><span class=p>(</span><span class=nx>scene</span><span class=p>,</span><span class=w> </span><span class=nx>k</span><span class=p>)</span>
<a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>scene</span><span class=p>)</span><span class=w> </span><span class=c1>//map[]</span>
<a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a><span class=p>}</span>
</code></pre></div> <h3 id=示例3_2>示例3:<a class=headerlink href=#示例3_2 title="Permanent link">&para;</a></h3> <p>使用map查找重复的行</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=w>    </span><span class=s>&quot;io/ioutil&quot;</span>
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=w>    </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=p>)</span>
<a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a>
<a id=__codelineno-27-10 name=__codelineno-27-10 href=#__codelineno-27-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-11 name=__codelineno-27-11 href=#__codelineno-27-11></a><span class=w>    </span><span class=nx>counts</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span>
<a id=__codelineno-27-12 name=__codelineno-27-12 href=#__codelineno-27-12></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>filename</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-13 name=__codelineno-27-13 href=#__codelineno-27-13></a><span class=w>        </span><span class=nx>data</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>ReadFile</span><span class=p>(</span><span class=nx>filename</span><span class=p>)</span>
<a id=__codelineno-27-14 name=__codelineno-27-14 href=#__codelineno-27-14></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-15 name=__codelineno-27-15 href=#__codelineno-27-15></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintf</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stderr</span><span class=p>,</span><span class=w> </span><span class=s>&quot;dup3: %v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-27-16 name=__codelineno-27-16 href=#__codelineno-27-16></a><span class=w>            </span><span class=k>continue</span>
<a id=__codelineno-27-17 name=__codelineno-27-17 href=#__codelineno-27-17></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-18 name=__codelineno-27-18 href=#__codelineno-27-18></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>line</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>data</span><span class=p>),</span><span class=w> </span><span class=s>&quot;\n&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-19 name=__codelineno-27-19 href=#__codelineno-27-19></a><span class=w>            </span><span class=nx>counts</span><span class=p>[</span><span class=nx>line</span><span class=p>]</span><span class=o>++</span>
<a id=__codelineno-27-20 name=__codelineno-27-20 href=#__codelineno-27-20></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-21 name=__codelineno-27-21 href=#__codelineno-27-21></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-22 name=__codelineno-27-22 href=#__codelineno-27-22></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>line</span><span class=p>,</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>counts</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-23 name=__codelineno-27-23 href=#__codelineno-27-23></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-27-24 name=__codelineno-27-24 href=#__codelineno-27-24></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d\t%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n</span><span class=p>,</span><span class=w> </span><span class=nx>line</span><span class=p>)</span>
<a id=__codelineno-27-25 name=__codelineno-27-25 href=#__codelineno-27-25></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-27-26 name=__codelineno-27-26 href=#__codelineno-27-26></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-27-27 name=__codelineno-27-27 href=#__codelineno-27-27></a><span class=p>}</span>
</code></pre></div> <p>执行结果 <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>.<span class=se>\m</span>ain.go<span class=w> </span>.<span class=se>\t</span>est.txt
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=m>3</span><span class=w>       </span>aaaaaaaaa
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=m>2</span><span class=w>       </span>bbbb
</code></pre></div></p> <h2 id=go-列表>Go 列表<a class=headerlink href=#go-列表 title="Permanent link">&para;</a></h2> <p>go 语言中的 </p> <ul> <li> <p>数组是类型相同的元素的集合</p> </li> <li> <p>列表是双链表的容器, 可以添加不同类型的数据</p> </li> <li> <p>切片是对现有数组的引用, 比数组更方便灵活, 还可以追加数据</p> </li> </ul> <p>列表与切片和map不同的是，列表并没有具体元素类型的限制。</p> <p>因此，列表的元素可以是任意类型。</p> <p>这既带来便利，也会引来一些问题。</p> <p>给一个列表放入了非期望类型的值，在取出值后，将interface{}转换为期望类型时将会发生宕机。</p> <h3 id=示例1_3>示例1<a class=headerlink href=#示例1_3 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a><span class=p>)</span>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a><span class=w>    </span><span class=c1>// 定义包含不同类型值的列表</span>
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a><span class=w>    </span><span class=nx>list</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kd>interface</span><span class=p>{}{</span><span class=s>&quot;apple&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>123</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>}</span>
<a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a><span class=w>    </span><span class=c1>// 在遍历列表时,使用Switch语句根据元素的实际类型执行相应的操作。</span>
<a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>item</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>list</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a><span class=w>        </span><span class=k>switch</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>item</span><span class=p>.(</span><span class=kd>type</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=kt>string</span><span class=p>:</span>
<a id=__codelineno-29-14 name=__codelineno-29-14 href=#__codelineno-29-14></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;String:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-29-15 name=__codelineno-29-15 href=#__codelineno-29-15></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=kt>int</span><span class=p>:</span>
<a id=__codelineno-29-16 name=__codelineno-29-16 href=#__codelineno-29-16></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Integer:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-29-17 name=__codelineno-29-17 href=#__codelineno-29-17></a><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=kt>bool</span><span class=p>:</span>
<a id=__codelineno-29-18 name=__codelineno-29-18 href=#__codelineno-29-18></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Boolean:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-29-19 name=__codelineno-29-19 href=#__codelineno-29-19></a><span class=w>        </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-29-20 name=__codelineno-29-20 href=#__codelineno-29-20></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Unknown type&quot;</span><span class=p>)</span>
<a id=__codelineno-29-21 name=__codelineno-29-21 href=#__codelineno-29-21></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-29-22 name=__codelineno-29-22 href=#__codelineno-29-22></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-23 name=__codelineno-29-23 href=#__codelineno-29-23></a>
<a id=__codelineno-29-24 name=__codelineno-29-24 href=#__codelineno-29-24></a><span class=w>    </span><span class=c1>// 类型断言示例</span>
<a id=__codelineno-29-25 name=__codelineno-29-25 href=#__codelineno-29-25></a><span class=w>    </span><span class=c1>// 尝试将第一个元素转换为字符串类型，并使用ok变量来判断转换是否成功。</span>
<a id=__codelineno-29-26 name=__codelineno-29-26 href=#__codelineno-29-26></a><span class=w>    </span><span class=nx>str</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>list</span><span class=p>[</span><span class=mi>0</span><span class=p>].(</span><span class=kt>string</span><span class=p>)</span>
<a id=__codelineno-29-27 name=__codelineno-29-27 href=#__codelineno-29-27></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-28 name=__codelineno-29-28 href=#__codelineno-29-28></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;First element is a string:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>str</span><span class=p>)</span>
<a id=__codelineno-29-29 name=__codelineno-29-29 href=#__codelineno-29-29></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-29-30 name=__codelineno-29-30 href=#__codelineno-29-30></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;First element is not a string&quot;</span><span class=p>)</span>
<a id=__codelineno-29-31 name=__codelineno-29-31 href=#__codelineno-29-31></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-29-32 name=__codelineno-29-32 href=#__codelineno-29-32></a><span class=p>}</span>
</code></pre></div> <h3 id=示例2_3>示例2<a class=headerlink href=#示例2_3 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=w>    </span><span class=s>&quot;container/list&quot;</span>
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a><span class=p>)</span>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a><span class=w>    </span><span class=c1>// 创建一个列表实例</span>
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a><span class=w>    </span><span class=nx>l</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>list</span><span class=p>.</span><span class=nx>New</span><span class=p>()</span>
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a><span class=w>    </span><span class=c1>// 将first字符串插入到列表的尾部，此时列表有一个元素</span>
<a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a><span class=w>    </span><span class=nx>l</span><span class=p>.</span><span class=nx>PushBack</span><span class=p>(</span><span class=s>&quot;first&quot;</span><span class=p>)</span>
<a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a><span class=w>    </span><span class=c1>//67这个元素将被放在fist的前面</span>
<a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a><span class=w>    </span><span class=nx>l</span><span class=p>.</span><span class=nx>PushFront</span><span class=p>(</span><span class=mi>67</span><span class=p>)</span>
<a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a><span class=w>    </span><span class=c1>// 返回list最后一个元素</span>
<a id=__codelineno-30-16 name=__codelineno-30-16 href=#__codelineno-30-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>l</span><span class=p>.</span><span class=nx>Back</span><span class=p>())</span><span class=w> </span><span class=c1>//&amp;{0xc000122510 0xc000122570 0xc000122510 first}</span>
<a id=__codelineno-30-17 name=__codelineno-30-17 href=#__codelineno-30-17></a><span class=w>    </span><span class=c1>//返回list第一个元素</span>
<a id=__codelineno-30-18 name=__codelineno-30-18 href=#__codelineno-30-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>l</span><span class=p>.</span><span class=nx>Front</span><span class=p>())</span><span class=w> </span><span class=c1>//&amp;{0xc000122540 0xc000122510 0xc000122510 67}</span>
<a id=__codelineno-30-19 name=__codelineno-30-19 href=#__codelineno-30-19></a>
<a id=__codelineno-30-20 name=__codelineno-30-20 href=#__codelineno-30-20></a><span class=w>    </span><span class=c1>// 创建一个列表实例</span>
<a id=__codelineno-30-21 name=__codelineno-30-21 href=#__codelineno-30-21></a><span class=w>    </span><span class=nx>l1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>list</span><span class=p>.</span><span class=nx>New</span><span class=p>()</span>
<a id=__codelineno-30-22 name=__codelineno-30-22 href=#__codelineno-30-22></a><span class=w>    </span><span class=nx>l1</span><span class=p>.</span><span class=nx>PushBack</span><span class=p>(</span><span class=s>&quot;cancon&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//尾部加          canon</span>
<a id=__codelineno-30-23 name=__codelineno-30-23 href=#__codelineno-30-23></a><span class=w>    </span><span class=nx>l1</span><span class=p>.</span><span class=nx>PushFront</span><span class=p>(</span><span class=mi>67</span><span class=p>)</span><span class=w>      </span><span class=c1>// 头部加         67 canon</span>
<a id=__codelineno-30-24 name=__codelineno-30-24 href=#__codelineno-30-24></a>
<a id=__codelineno-30-25 name=__codelineno-30-25 href=#__codelineno-30-25></a><span class=w>    </span><span class=c1>// 尾部添加后保存元素句柄</span>
<a id=__codelineno-30-26 name=__codelineno-30-26 href=#__codelineno-30-26></a><span class=w>    </span><span class=nx>element</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>l1</span><span class=p>.</span><span class=nx>PushBack</span><span class=p>(</span><span class=s>&quot;fist&quot;</span><span class=p>)</span><span class=w>   </span><span class=c1>// 67 canon fist</span>
<a id=__codelineno-30-27 name=__codelineno-30-27 href=#__codelineno-30-27></a><span class=w>    </span><span class=nx>l1</span><span class=p>.</span><span class=nx>InsertAfter</span><span class=p>(</span><span class=s>&quot;hight&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>element</span><span class=p>)</span><span class=w> </span><span class=c1>// 在first后添加hight       67 canon fist hight</span>
<a id=__codelineno-30-28 name=__codelineno-30-28 href=#__codelineno-30-28></a><span class=w>    </span><span class=nx>l1</span><span class=p>.</span><span class=nx>InsertBefore</span><span class=p>(</span><span class=s>&quot;None&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>element</span><span class=p>)</span><span class=w> </span><span class=c1>// 在first之前添加None   67 canon None fist hight</span>
<a id=__codelineno-30-29 name=__codelineno-30-29 href=#__codelineno-30-29></a><span class=w>    </span><span class=nx>l1</span><span class=p>.</span><span class=nx>Remove</span><span class=p>(</span><span class=nx>element</span><span class=p>)</span><span class=w>               </span><span class=c1>// 移除element变量对象的元素  67 canon None hight</span>
<a id=__codelineno-30-30 name=__codelineno-30-30 href=#__codelineno-30-30></a>
<a id=__codelineno-30-31 name=__codelineno-30-31 href=#__codelineno-30-31></a><span class=w>    </span><span class=c1>// 循环打印列表</span>
<a id=__codelineno-30-32 name=__codelineno-30-32 href=#__codelineno-30-32></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>l1</span><span class=p>.</span><span class=nx>Front</span><span class=p>();</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>i</span><span class=p>.</span><span class=nx>Next</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-30-33 name=__codelineno-30-33 href=#__codelineno-30-33></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>.</span><span class=nx>Value</span><span class=p>)</span>
<a id=__codelineno-30-34 name=__codelineno-30-34 href=#__codelineno-30-34></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-30-35 name=__codelineno-30-35 href=#__codelineno-30-35></a><span class=p>}</span>
</code></pre></div> <h2 id=go-range函数>Go range函数<a class=headerlink href=#go-range函数 title="Permanent link">&para;</a></h2> <p>range函数是个神奇而有趣的内置函数，你可以使用它来遍历数组，切片和字典。</p> <p>当用于遍历数组和切片的时候，range函数返回索引和元素；</p> <p>当用于遍历字典的时候，range函数返回字典的键和值。</p> <p><code>range.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a><span class=w>    </span><span class=c1>// 这里我们使用range来计算一个切片的所有元素和</span>
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a><span class=w>    </span><span class=c1>// 这种方法对数组也适用</span>
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a><span class=w>    </span><span class=nx>nums</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>}</span>
<a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a><span class=w>    </span><span class=nx>sum</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-31-10 name=__codelineno-31-10 href=#__codelineno-31-10></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>nums</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-11 name=__codelineno-31-11 href=#__codelineno-31-11></a><span class=w>        </span><span class=nx>sum</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=nx>num</span>
<a id=__codelineno-31-12 name=__codelineno-31-12 href=#__codelineno-31-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-31-13 name=__codelineno-31-13 href=#__codelineno-31-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;sum:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>sum</span><span class=p>)</span>
<a id=__codelineno-31-14 name=__codelineno-31-14 href=#__codelineno-31-14></a>
<a id=__codelineno-31-15 name=__codelineno-31-15 href=#__codelineno-31-15></a><span class=w>    </span><span class=c1>// range 用来遍历数组和切片的时候返回索引和元素值</span>
<a id=__codelineno-31-16 name=__codelineno-31-16 href=#__codelineno-31-16></a><span class=w>    </span><span class=c1>// 如果我们不要关心索引可以使用一个下划线(_)来忽略这个返回值</span>
<a id=__codelineno-31-17 name=__codelineno-31-17 href=#__codelineno-31-17></a><span class=w>    </span><span class=c1>// 当然我们有的时候也需要这个索引</span>
<a id=__codelineno-31-18 name=__codelineno-31-18 href=#__codelineno-31-18></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>nums</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-19 name=__codelineno-31-19 href=#__codelineno-31-19></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-20 name=__codelineno-31-20 href=#__codelineno-31-20></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;index:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-31-21 name=__codelineno-31-21 href=#__codelineno-31-21></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-31-22 name=__codelineno-31-22 href=#__codelineno-31-22></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-31-23 name=__codelineno-31-23 href=#__codelineno-31-23></a>
<a id=__codelineno-31-24 name=__codelineno-31-24 href=#__codelineno-31-24></a><span class=w>    </span><span class=c1>// 使用range来遍历字典的时候，返回键值对。</span>
<a id=__codelineno-31-25 name=__codelineno-31-25 href=#__codelineno-31-25></a><span class=w>    </span><span class=nx>kvs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;a&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;apple&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;b&quot;</span><span class=p>:</span><span class=w> </span><span class=s>&quot;banana&quot;</span><span class=p>}</span>
<a id=__codelineno-31-26 name=__codelineno-31-26 href=#__codelineno-31-26></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>kvs</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-27 name=__codelineno-31-27 href=#__codelineno-31-27></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%s -&gt; %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>v</span><span class=p>)</span>
<a id=__codelineno-31-28 name=__codelineno-31-28 href=#__codelineno-31-28></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-31-29 name=__codelineno-31-29 href=#__codelineno-31-29></a>
<a id=__codelineno-31-30 name=__codelineno-31-30 href=#__codelineno-31-30></a><span class=w>    </span><span class=c1>// range函数用来遍历字符串时，返回Unicode代码点。</span>
<a id=__codelineno-31-31 name=__codelineno-31-31 href=#__codelineno-31-31></a><span class=w>    </span><span class=c1>// 第一个返回值是每个字符的起始字节的索引，第二个是字符代码点，</span>
<a id=__codelineno-31-32 name=__codelineno-31-32 href=#__codelineno-31-32></a><span class=w>    </span><span class=c1>// 因为Go的字符串是由字节组成的，多个字节组成一个rune类型字符。</span>
<a id=__codelineno-31-33 name=__codelineno-31-33 href=#__codelineno-31-33></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=s>&quot;go&quot;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-31-34 name=__codelineno-31-34 href=#__codelineno-31-34></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>)</span>
<a id=__codelineno-31-35 name=__codelineno-31-35 href=#__codelineno-31-35></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-31-36 name=__codelineno-31-36 href=#__codelineno-31-36></a><span class=p>}</span>
</code></pre></div> <p>输出结果为 <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a>sum:<span class=w> </span><span class=m>9</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>index:<span class=w> </span><span class=m>1</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>a<span class=w> </span>-&gt;<span class=w> </span>apple
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>b<span class=w> </span>-&gt;<span class=w> </span>banana
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=m>0</span><span class=w> </span><span class=m>103</span>
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a><span class=m>1</span><span class=w> </span><span class=m>111</span>
</code></pre></div></p> <h2 id=go-字符串操作函数>Go 字符串操作函数<a class=headerlink href=#go-字符串操作函数 title="Permanent link">&para;</a></h2> <p>strings 标准库提供了很多字符串操作相关的函数。这里提供的几个例子是让你先对这个包有个基本了解。</p> <p><code>string-functions.go</code></p> <h3 id=示例1_4>示例1<a class=headerlink href=#示例1_4 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a><span class=kn>import</span><span class=w> </span><span class=nx>s</span><span class=w> </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=c1>// 这里给fmt.Println起个别名，因为下面我们会多处使用。</span>
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a><span class=kd>var</span><span class=w> </span><span class=nx>p</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span>
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a>
<a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a><span class=w>    </span><span class=c1>// 下面是strings包里面提供的一些函数实例。注意这里的函数并不是</span>
<a id=__codelineno-33-11 name=__codelineno-33-11 href=#__codelineno-33-11></a><span class=w>    </span><span class=c1>// string对象所拥有的方法，这就是说使用这些字符串操作函数的时候</span>
<a id=__codelineno-33-12 name=__codelineno-33-12 href=#__codelineno-33-12></a><span class=w>    </span><span class=c1>// 你必须将字符串对象作为第一个参数传递进去。</span>
<a id=__codelineno-33-13 name=__codelineno-33-13 href=#__codelineno-33-13></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Contains:  &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Contains</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;es&quot;</span><span class=p>))</span><span class=w>        </span><span class=c1>//Contains:   true</span>
<a id=__codelineno-33-14 name=__codelineno-33-14 href=#__codelineno-33-14></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Count:     &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Count</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;t&quot;</span><span class=p>))</span><span class=w>            </span><span class=c1>//Count:      2</span>
<a id=__codelineno-33-15 name=__codelineno-33-15 href=#__codelineno-33-15></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;HasPrefix: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>HasPrefix</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;te&quot;</span><span class=p>))</span><span class=w>       </span><span class=c1>//HasPrefix:  true</span>
<a id=__codelineno-33-16 name=__codelineno-33-16 href=#__codelineno-33-16></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;HasSuffix: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>HasSuffix</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;st&quot;</span><span class=p>))</span><span class=w>       </span><span class=c1>//HasSuffix:  true</span>
<a id=__codelineno-33-17 name=__codelineno-33-17 href=#__codelineno-33-17></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Index:     &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Index</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;e&quot;</span><span class=p>))</span><span class=w>            </span><span class=c1>//Index:      1</span>
<a id=__codelineno-33-18 name=__codelineno-33-18 href=#__codelineno-33-18></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Join:      &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Join</span><span class=p>([]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;a&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;b&quot;</span><span class=p>},</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//Join:       a-b</span>
<a id=__codelineno-33-19 name=__codelineno-33-19 href=#__codelineno-33-19></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Repeat:    &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Repeat</span><span class=p>(</span><span class=s>&quot;a&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>))</span><span class=w>                </span><span class=c1>//Repeat:     aaaaa</span>
<a id=__codelineno-33-20 name=__codelineno-33-20 href=#__codelineno-33-20></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Replace:   &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Replace</span><span class=p>(</span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;o&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;0&quot;</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>))</span><span class=w>  </span><span class=c1>//Replace:    f00</span>
<a id=__codelineno-33-21 name=__codelineno-33-21 href=#__codelineno-33-21></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Replace:   &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Replace</span><span class=p>(</span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;o&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;0&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>))</span><span class=w>   </span><span class=c1>//Replace:    f0o</span>
<a id=__codelineno-33-22 name=__codelineno-33-22 href=#__codelineno-33-22></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Split:     &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=s>&quot;a-b-c-d-e&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;-&quot;</span><span class=p>))</span><span class=w>       </span><span class=c1>//Split:      [a b c d e]</span>
<a id=__codelineno-33-23 name=__codelineno-33-23 href=#__codelineno-33-23></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;ToLower:   &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>ToLower</span><span class=p>(</span><span class=s>&quot;TEST&quot;</span><span class=p>))</span><span class=w>               </span><span class=c1>//ToLower:    test</span>
<a id=__codelineno-33-24 name=__codelineno-33-24 href=#__codelineno-33-24></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;ToUpper:   &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>.</span><span class=nx>ToUpper</span><span class=p>(</span><span class=s>&quot;test&quot;</span><span class=p>))</span><span class=w>               </span><span class=c1>//ToUpper:    TEST</span>
<a id=__codelineno-33-25 name=__codelineno-33-25 href=#__codelineno-33-25></a><span class=w>    </span><span class=nx>p</span><span class=p>()</span>
<a id=__codelineno-33-26 name=__codelineno-33-26 href=#__codelineno-33-26></a><span class=w>    </span><span class=c1>// 你可以在strings包里面找到更多的函数</span>
<a id=__codelineno-33-27 name=__codelineno-33-27 href=#__codelineno-33-27></a><span class=w>    </span><span class=c1>// 这里还有两个字符串操作方法，它们虽然不是strings包里面的函数，</span>
<a id=__codelineno-33-28 name=__codelineno-33-28 href=#__codelineno-33-28></a><span class=w>    </span><span class=c1>// 但是还是值得提一下。一个是获取字符串长度，另外一个是从字符串中</span>
<a id=__codelineno-33-29 name=__codelineno-33-29 href=#__codelineno-33-29></a><span class=w>    </span><span class=c1>// 获取指定索引的字符</span>
<a id=__codelineno-33-30 name=__codelineno-33-30 href=#__codelineno-33-30></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Len: &quot;</span><span class=p>,</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=s>&quot;hello&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//Len:  5</span>
<a id=__codelineno-33-31 name=__codelineno-33-31 href=#__codelineno-33-31></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=s>&quot;Char:&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hello&quot;</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span><span class=w>   </span><span class=c1>//Char: 101</span>
<a id=__codelineno-33-32 name=__codelineno-33-32 href=#__codelineno-33-32></a><span class=p>}</span>
</code></pre></div> <h3 id=示例2_4>示例2<a class=headerlink href=#示例2_4 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a><span class=w>    </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=p>)</span>
<a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a>
<a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a><span class=w>    </span><span class=nx>str0</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;hujianli&quot;</span>
<a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a><span class=w>    </span><span class=nx>str1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`第一行</span>
<a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a><span class=s>    第二行</span>
<a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a><span class=s>    第三行</span>
<a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a><span class=s>    `</span>
<a id=__codelineno-34-14 name=__codelineno-34-14 href=#__codelineno-34-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nx>str0</span><span class=p>),</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>str1</span><span class=p>))</span><span class=w> </span><span class=c1>//求长度</span>
<a id=__codelineno-34-15 name=__codelineno-34-15 href=#__codelineno-34-15></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>str3</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>str0</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>str1</span>
<a id=__codelineno-34-16 name=__codelineno-34-16 href=#__codelineno-34-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str3</span><span class=p>)</span>
<a id=__codelineno-34-17 name=__codelineno-34-17 href=#__codelineno-34-17></a>
<a id=__codelineno-34-18 name=__codelineno-34-18 href=#__codelineno-34-18></a><span class=w>    </span><span class=nx>str4</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;%s %s&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>str0</span><span class=p>,</span><span class=w> </span><span class=nx>str1</span><span class=p>)</span><span class=w> </span><span class=c1>//拼接字符串</span>
<a id=__codelineno-34-19 name=__codelineno-34-19 href=#__codelineno-34-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str4</span><span class=p>)</span>
<a id=__codelineno-34-20 name=__codelineno-34-20 href=#__codelineno-34-20></a>
<a id=__codelineno-34-21 name=__codelineno-34-21 href=#__codelineno-34-21></a><span class=w>    </span><span class=nx>str5</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;hu,jian,li&quot;</span>
<a id=__codelineno-34-22 name=__codelineno-34-22 href=#__codelineno-34-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=nx>str5</span><span class=p>,</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//分割</span>
<a id=__codelineno-34-23 name=__codelineno-34-23 href=#__codelineno-34-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=nx>str5</span><span class=p>,</span><span class=w> </span><span class=s>&quot;i&quot;</span><span class=p>))</span>
<a id=__codelineno-34-24 name=__codelineno-34-24 href=#__codelineno-34-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%q\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=s>&quot; xyz &quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>))</span>
<a id=__codelineno-34-25 name=__codelineno-34-25 href=#__codelineno-34-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%q\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=s>&quot;&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bernardo O&#39;Higgins&quot;</span><span class=p>))</span>
<a id=__codelineno-34-26 name=__codelineno-34-26 href=#__codelineno-34-26></a>
<a id=__codelineno-34-27 name=__codelineno-34-27 href=#__codelineno-34-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%t\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Contains</span><span class=p>(</span><span class=s>&quot;sssss&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;ss&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//判断是否包含</span>
<a id=__codelineno-34-28 name=__codelineno-34-28 href=#__codelineno-34-28></a>
<a id=__codelineno-34-29 name=__codelineno-34-29 href=#__codelineno-34-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%t\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>HasPrefix</span><span class=p>(</span><span class=s>&quot;hujianli&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hu&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//判断前缀</span>
<a id=__codelineno-34-30 name=__codelineno-34-30 href=#__codelineno-34-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%t\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>HasSuffix</span><span class=p>(</span><span class=s>&quot;hujianli&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;li&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//判断后缀</span>
<a id=__codelineno-34-31 name=__codelineno-34-31 href=#__codelineno-34-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Index</span><span class=p>(</span><span class=s>&quot;hujianli&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;li&quot;</span><span class=p>))</span><span class=w>     </span><span class=c1>//判断子串出现的位置</span>
<a id=__codelineno-34-32 name=__codelineno-34-32 href=#__codelineno-34-32></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>LastIndex</span><span class=p>(</span><span class=s>&quot;hujianli&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;i&quot;</span><span class=p>))</span><span class=w>  </span><span class=c1>//判断子串最后出现的位置</span>
<a id=__codelineno-34-33 name=__codelineno-34-33 href=#__codelineno-34-33></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;bar&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;baz&quot;</span><span class=p>}</span>
<a id=__codelineno-34-34 name=__codelineno-34-34 href=#__codelineno-34-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>strings</span><span class=p>.</span><span class=nx>Join</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//将一系列字符串连接为一个字符串，之间用sep来分隔。</span>
<a id=__codelineno-34-35 name=__codelineno-34-35 href=#__codelineno-34-35></a><span class=p>}</span>
</code></pre></div> <h2 id=go-字符串格式化>Go 字符串格式化<a class=headerlink href=#go-字符串格式化 title="Permanent link">&para;</a></h2> <p>Go对字符串格式化提供了良好的支持。下面我们看些常用的字符串格式化的例子。</p> <p><code>string-formatting.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a>
<a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=kd>type</span><span class=w> </span><span class=nx>point</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a><span class=p>}</span>
<a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a>
<a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a><span class=w>    </span><span class=c1>// Go提供了几种打印格式，用来格式化一般的Go值，例如</span>
<a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a><span class=w>    </span><span class=c1>// 下面的%v打印了一个point结构体的对象的值</span>
<a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a><span class=w>    </span><span class=nx>p</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>point</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>}</span>
<a id=__codelineno-35-14 name=__codelineno-35-14 href=#__codelineno-35-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//{1 2}</span>
<a id=__codelineno-35-15 name=__codelineno-35-15 href=#__codelineno-35-15></a>
<a id=__codelineno-35-16 name=__codelineno-35-16 href=#__codelineno-35-16></a><span class=w>    </span><span class=c1>// 如果所格式化的值是一个结构体对象，那么`%+v`的格式化输出</span>
<a id=__codelineno-35-17 name=__codelineno-35-17 href=#__codelineno-35-17></a><span class=w>    </span><span class=c1>// 将包括结构体的成员名称和值</span>
<a id=__codelineno-35-18 name=__codelineno-35-18 href=#__codelineno-35-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%+v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//{x:1 y:2}</span>
<a id=__codelineno-35-19 name=__codelineno-35-19 href=#__codelineno-35-19></a>
<a id=__codelineno-35-20 name=__codelineno-35-20 href=#__codelineno-35-20></a><span class=w>    </span><span class=c1>// `%#v`格式化输出将输出一个值的Go语法表示方式。</span>
<a id=__codelineno-35-21 name=__codelineno-35-21 href=#__codelineno-35-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%#v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//main.point{x:1, y:2}</span>
<a id=__codelineno-35-22 name=__codelineno-35-22 href=#__codelineno-35-22></a>
<a id=__codelineno-35-23 name=__codelineno-35-23 href=#__codelineno-35-23></a><span class=w>    </span><span class=c1>// 使用`%T`来输出一个值的数据类型</span>
<a id=__codelineno-35-24 name=__codelineno-35-24 href=#__codelineno-35-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%T\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//main.point</span>
<a id=__codelineno-35-25 name=__codelineno-35-25 href=#__codelineno-35-25></a>
<a id=__codelineno-35-26 name=__codelineno-35-26 href=#__codelineno-35-26></a><span class=w>    </span><span class=c1>// 格式化布尔型变量</span>
<a id=__codelineno-35-27 name=__codelineno-35-27 href=#__codelineno-35-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%t\n&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-35-28 name=__codelineno-35-28 href=#__codelineno-35-28></a>
<a id=__codelineno-35-29 name=__codelineno-35-29 href=#__codelineno-35-29></a><span class=w>    </span><span class=c1>// 有很多的方式可以格式化整型，使用`%d`是一种</span>
<a id=__codelineno-35-30 name=__codelineno-35-30 href=#__codelineno-35-30></a><span class=w>    </span><span class=c1>// 标准的以10进制来输出整型的方式</span>
<a id=__codelineno-35-31 name=__codelineno-35-31 href=#__codelineno-35-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>123</span><span class=p>)</span><span class=w> </span><span class=c1>//123</span>
<a id=__codelineno-35-32 name=__codelineno-35-32 href=#__codelineno-35-32></a>
<a id=__codelineno-35-33 name=__codelineno-35-33 href=#__codelineno-35-33></a><span class=w>    </span><span class=c1>// 这种方式输出整型的二进制表示方式</span>
<a id=__codelineno-35-34 name=__codelineno-35-34 href=#__codelineno-35-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%b\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>14</span><span class=p>)</span><span class=w> </span><span class=c1>//1110</span>
<a id=__codelineno-35-35 name=__codelineno-35-35 href=#__codelineno-35-35></a>
<a id=__codelineno-35-36 name=__codelineno-35-36 href=#__codelineno-35-36></a><span class=w>    </span><span class=c1>// 这里打印出该整型数值所对应的字符</span>
<a id=__codelineno-35-37 name=__codelineno-35-37 href=#__codelineno-35-37></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%c\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>33</span><span class=p>)</span><span class=w> </span><span class=c1>//!</span>
<a id=__codelineno-35-38 name=__codelineno-35-38 href=#__codelineno-35-38></a>
<a id=__codelineno-35-39 name=__codelineno-35-39 href=#__codelineno-35-39></a><span class=w>    </span><span class=c1>// 使用`%x`输出一个值的16进制表示方式</span>
<a id=__codelineno-35-40 name=__codelineno-35-40 href=#__codelineno-35-40></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%x\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>456</span><span class=p>)</span><span class=w> </span><span class=c1>//1c8</span>
<a id=__codelineno-35-41 name=__codelineno-35-41 href=#__codelineno-35-41></a>
<a id=__codelineno-35-42 name=__codelineno-35-42 href=#__codelineno-35-42></a><span class=w>    </span><span class=c1>// 浮点型数值也有几种格式化方法。最基本的一种是`%f`</span>
<a id=__codelineno-35-43 name=__codelineno-35-43 href=#__codelineno-35-43></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%f\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>78.9</span><span class=p>)</span><span class=w> </span><span class=c1>//78.900000</span>
<a id=__codelineno-35-44 name=__codelineno-35-44 href=#__codelineno-35-44></a>
<a id=__codelineno-35-45 name=__codelineno-35-45 href=#__codelineno-35-45></a><span class=w>    </span><span class=c1>// `%e`和`%E`使用科学计数法来输出整型</span>
<a id=__codelineno-35-46 name=__codelineno-35-46 href=#__codelineno-35-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%e\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>123400000.0</span><span class=p>)</span><span class=w> </span><span class=c1>//1.234000e+08</span>
<a id=__codelineno-35-47 name=__codelineno-35-47 href=#__codelineno-35-47></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%E\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>123400000.0</span><span class=p>)</span><span class=w> </span><span class=c1>//1.234000E+08</span>
<a id=__codelineno-35-48 name=__codelineno-35-48 href=#__codelineno-35-48></a>
<a id=__codelineno-35-49 name=__codelineno-35-49 href=#__codelineno-35-49></a><span class=w>    </span><span class=c1>// 使用`%s`输出基本的字符串</span>
<a id=__codelineno-35-50 name=__codelineno-35-50 href=#__codelineno-35-50></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;\&quot;string\&quot;&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//&quot;string&quot;</span>
<a id=__codelineno-35-51 name=__codelineno-35-51 href=#__codelineno-35-51></a>
<a id=__codelineno-35-52 name=__codelineno-35-52 href=#__codelineno-35-52></a><span class=w>    </span><span class=c1>// 输出像Go源码中那样带双引号的字符串，需使用`%q`</span>
<a id=__codelineno-35-53 name=__codelineno-35-53 href=#__codelineno-35-53></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%q\n&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;\&quot;string\&quot;&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//&quot;\&quot;string\&quot;&quot;</span>
<a id=__codelineno-35-54 name=__codelineno-35-54 href=#__codelineno-35-54></a>
<a id=__codelineno-35-55 name=__codelineno-35-55 href=#__codelineno-35-55></a><span class=w>    </span><span class=c1>// `%x`以16进制输出字符串，每个字符串的字节用两个字符输出</span>
<a id=__codelineno-35-56 name=__codelineno-35-56 href=#__codelineno-35-56></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%x\n&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hex this&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//6865782074686973</span>
<a id=__codelineno-35-57 name=__codelineno-35-57 href=#__codelineno-35-57></a>
<a id=__codelineno-35-58 name=__codelineno-35-58 href=#__codelineno-35-58></a><span class=w>    </span><span class=c1>// 使用`%p`输出一个指针的值</span>
<a id=__codelineno-35-59 name=__codelineno-35-59 href=#__codelineno-35-59></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%p\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//0xc0000180c0</span>
<a id=__codelineno-35-60 name=__codelineno-35-60 href=#__codelineno-35-60></a>
<a id=__codelineno-35-61 name=__codelineno-35-61 href=#__codelineno-35-61></a><span class=w>    </span><span class=c1>// 当输出数字的时候，经常需要去控制输出的宽度和精度。</span>
<a id=__codelineno-35-62 name=__codelineno-35-62 href=#__codelineno-35-62></a><span class=w>    </span><span class=c1>// 可以使用一个位于%后面的数字来控制输出的宽度，默认</span>
<a id=__codelineno-35-63 name=__codelineno-35-63 href=#__codelineno-35-63></a><span class=w>    </span><span class=c1>// 情况下输出是右对齐的，左边加上空格</span>
<a id=__codelineno-35-64 name=__codelineno-35-64 href=#__codelineno-35-64></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;|%6d|%6d|\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>12</span><span class=p>,</span><span class=w> </span><span class=mi>345</span><span class=p>)</span><span class=w> </span><span class=c1>//|    12|   345|</span>
<a id=__codelineno-35-65 name=__codelineno-35-65 href=#__codelineno-35-65></a>
<a id=__codelineno-35-66 name=__codelineno-35-66 href=#__codelineno-35-66></a><span class=w>    </span><span class=c1>// 你也可以指定浮点数的输出宽度，同时你还可以指定浮点数</span>
<a id=__codelineno-35-67 name=__codelineno-35-67 href=#__codelineno-35-67></a><span class=w>    </span><span class=c1>// 的输出精度</span>
<a id=__codelineno-35-68 name=__codelineno-35-68 href=#__codelineno-35-68></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;|%6.2f|%6.2f|\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>1.2</span><span class=p>,</span><span class=w> </span><span class=mf>3.45</span><span class=p>)</span><span class=w> </span><span class=c1>//|  1.20|  3.45|</span>
<a id=__codelineno-35-69 name=__codelineno-35-69 href=#__codelineno-35-69></a>
<a id=__codelineno-35-70 name=__codelineno-35-70 href=#__codelineno-35-70></a><span class=w>    </span><span class=c1>// To left-justify, use the `-` flag.</span>
<a id=__codelineno-35-71 name=__codelineno-35-71 href=#__codelineno-35-71></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;|%-6.2f|%-6.2f|\n&quot;</span><span class=p>,</span><span class=w> </span><span class=mf>1.2</span><span class=p>,</span><span class=w> </span><span class=mf>3.45</span><span class=p>)</span><span class=w> </span><span class=c1>//|1.20  |3.45  |</span>
<a id=__codelineno-35-72 name=__codelineno-35-72 href=#__codelineno-35-72></a>
<a id=__codelineno-35-73 name=__codelineno-35-73 href=#__codelineno-35-73></a><span class=w>    </span><span class=c1>// 你也可以指定输出字符串的宽度来保证它们输出对齐。默认</span>
<a id=__codelineno-35-74 name=__codelineno-35-74 href=#__codelineno-35-74></a><span class=w>    </span><span class=c1>// 情况下，输出是右对齐的</span>
<a id=__codelineno-35-75 name=__codelineno-35-75 href=#__codelineno-35-75></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;|%6s|%6s|\n&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;b&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//|   foo|     b|</span>
<a id=__codelineno-35-76 name=__codelineno-35-76 href=#__codelineno-35-76></a>
<a id=__codelineno-35-77 name=__codelineno-35-77 href=#__codelineno-35-77></a><span class=w>    </span><span class=c1>// 为了使用左对齐你可以在宽度之前加上`-`号</span>
<a id=__codelineno-35-78 name=__codelineno-35-78 href=#__codelineno-35-78></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;|%-6s|%-6s|\n&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;b&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//|foo   |b     |</span>
<a id=__codelineno-35-79 name=__codelineno-35-79 href=#__codelineno-35-79></a>
<a id=__codelineno-35-80 name=__codelineno-35-80 href=#__codelineno-35-80></a><span class=w>    </span><span class=c1>// `Printf`函数的输出是输出到命令行`os.Stdout`的，你</span>
<a id=__codelineno-35-81 name=__codelineno-35-81 href=#__codelineno-35-81></a><span class=w>    </span><span class=c1>// 可以用`Sprintf`来将格式化后的字符串赋值给一个变量</span>
<a id=__codelineno-35-82 name=__codelineno-35-82 href=#__codelineno-35-82></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;a %s&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;string&quot;</span><span class=p>)</span>
<a id=__codelineno-35-83 name=__codelineno-35-83 href=#__codelineno-35-83></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=w> </span><span class=c1>//a string</span>
<a id=__codelineno-35-84 name=__codelineno-35-84 href=#__codelineno-35-84></a>
<a id=__codelineno-35-85 name=__codelineno-35-85 href=#__codelineno-35-85></a><span class=w>    </span><span class=c1>// 你也可以使用`Fprintf`来将格式化后的值输出到`io.Writers`</span>
<a id=__codelineno-35-86 name=__codelineno-35-86 href=#__codelineno-35-86></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintf</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stderr</span><span class=p>,</span><span class=w> </span><span class=s>&quot;an %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;error&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//an error</span>
<a id=__codelineno-35-87 name=__codelineno-35-87 href=#__codelineno-35-87></a><span class=p>}</span>
</code></pre></div> <h2 id=go-正则表达式>Go 正则表达式<a class=headerlink href=#go-正则表达式 title="Permanent link">&para;</a></h2> <p>Go 提供内置的正则表达式。 这里是 Go 中基本的正则相关功能的例子。</p> <p><code>regular-expressions.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>
<a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;bytes&quot;</span>
<a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;regexp&quot;</span>
<a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a>
<a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a>
<a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a><span class=w>    </span><span class=c1>// 这个测试一个字符串是否符合一个表达式。</span>
<a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a><span class=w>    </span><span class=nx>match</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>regexp</span><span class=p>.</span><span class=nx>MatchString</span><span class=p>(</span><span class=s>&quot;p([a-z]+)ch&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;peach&quot;</span><span class=p>)</span>
<a id=__codelineno-36-11 name=__codelineno-36-11 href=#__codelineno-36-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>match</span><span class=p>)</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-36-12 name=__codelineno-36-12 href=#__codelineno-36-12></a>
<a id=__codelineno-36-13 name=__codelineno-36-13 href=#__codelineno-36-13></a><span class=w>    </span><span class=c1>// 上面我们是直接使用字符串，但是对于一些其他的正则任务，</span>
<a id=__codelineno-36-14 name=__codelineno-36-14 href=#__codelineno-36-14></a><span class=w>    </span><span class=c1>// 你需要 `Compile` 一个优化的 `Regexp` 结构体。</span>
<a id=__codelineno-36-15 name=__codelineno-36-15 href=#__codelineno-36-15></a><span class=w>    </span><span class=nx>r</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>regexp</span><span class=p>.</span><span class=nx>Compile</span><span class=p>(</span><span class=s>&quot;p([a-z]+)ch&quot;</span><span class=p>)</span>
<a id=__codelineno-36-16 name=__codelineno-36-16 href=#__codelineno-36-16></a>
<a id=__codelineno-36-17 name=__codelineno-36-17 href=#__codelineno-36-17></a><span class=w>    </span><span class=c1>// 这个结构体有很多方法。</span>
<a id=__codelineno-36-18 name=__codelineno-36-18 href=#__codelineno-36-18></a><span class=w>    </span><span class=c1>// 这里是类似我们前面看到的一个匹配测试。</span>
<a id=__codelineno-36-19 name=__codelineno-36-19 href=#__codelineno-36-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>MatchString</span><span class=p>(</span><span class=s>&quot;peach&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-36-20 name=__codelineno-36-20 href=#__codelineno-36-20></a>
<a id=__codelineno-36-21 name=__codelineno-36-21 href=#__codelineno-36-21></a><span class=w>    </span><span class=c1>// 这是查找匹配字符串的。</span>
<a id=__codelineno-36-22 name=__codelineno-36-22 href=#__codelineno-36-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindString</span><span class=p>(</span><span class=s>&quot;peach punch&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//peach</span>
<a id=__codelineno-36-23 name=__codelineno-36-23 href=#__codelineno-36-23></a>
<a id=__codelineno-36-24 name=__codelineno-36-24 href=#__codelineno-36-24></a><span class=w>    </span><span class=c1>// 这个也是查找第一次匹配的字符串的，</span>
<a id=__codelineno-36-25 name=__codelineno-36-25 href=#__codelineno-36-25></a><span class=w>    </span><span class=c1>// 但是返回的匹配开始和结束位置索引，而不是匹配的内容。</span>
<a id=__codelineno-36-26 name=__codelineno-36-26 href=#__codelineno-36-26></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindStringIndex</span><span class=p>(</span><span class=s>&quot;peach punch&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//[0 5]</span>
<a id=__codelineno-36-27 name=__codelineno-36-27 href=#__codelineno-36-27></a>
<a id=__codelineno-36-28 name=__codelineno-36-28 href=#__codelineno-36-28></a><span class=w>    </span><span class=c1>// `Submatch` 返回完全匹配和局部匹配的字符串。</span>
<a id=__codelineno-36-29 name=__codelineno-36-29 href=#__codelineno-36-29></a><span class=w>    </span><span class=c1>// 例如，这里会返回 `p([a-z]+)ch` 和 `([a-z]+) 的信息。</span>
<a id=__codelineno-36-30 name=__codelineno-36-30 href=#__codelineno-36-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindStringSubmatch</span><span class=p>(</span><span class=s>&quot;peach punch&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//[peach ea]</span>
<a id=__codelineno-36-31 name=__codelineno-36-31 href=#__codelineno-36-31></a>
<a id=__codelineno-36-32 name=__codelineno-36-32 href=#__codelineno-36-32></a><span class=w>    </span><span class=c1>// 类似的，这个会返回完全匹配和局部匹配的索引位置。</span>
<a id=__codelineno-36-33 name=__codelineno-36-33 href=#__codelineno-36-33></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindStringSubmatchIndex</span><span class=p>(</span><span class=s>&quot;peach punch&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//[0 5 1 3]</span>
<a id=__codelineno-36-34 name=__codelineno-36-34 href=#__codelineno-36-34></a>
<a id=__codelineno-36-35 name=__codelineno-36-35 href=#__codelineno-36-35></a><span class=w>    </span><span class=c1>// 带 `All` 的这个函数返回所有的匹配项，而不仅仅是首次匹配项。</span>
<a id=__codelineno-36-36 name=__codelineno-36-36 href=#__codelineno-36-36></a><span class=w>    </span><span class=c1>// 例如查找匹配表达式的所有项。</span>
<a id=__codelineno-36-37 name=__codelineno-36-37 href=#__codelineno-36-37></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindAllString</span><span class=p>(</span><span class=s>&quot;peach punch pinch&quot;</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>))</span><span class=w> </span><span class=c1>//[peach punch pinch]</span>
<a id=__codelineno-36-38 name=__codelineno-36-38 href=#__codelineno-36-38></a>
<a id=__codelineno-36-39 name=__codelineno-36-39 href=#__codelineno-36-39></a><span class=w>    </span><span class=c1>// `All` 同样可以对应到上面的所有函数。</span>
<a id=__codelineno-36-40 name=__codelineno-36-40 href=#__codelineno-36-40></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindAllStringSubmatchIndex</span><span class=p>(</span>
<a id=__codelineno-36-41 name=__codelineno-36-41 href=#__codelineno-36-41></a><span class=w>        </span><span class=s>&quot;peach punch pinch&quot;</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>))</span><span class=w> </span><span class=c1>//[[0 5 1 3] [6 11 7 9] [12 17 13 15]]</span>
<a id=__codelineno-36-42 name=__codelineno-36-42 href=#__codelineno-36-42></a>
<a id=__codelineno-36-43 name=__codelineno-36-43 href=#__codelineno-36-43></a><span class=w>    </span><span class=c1>// 这个函数提供一个正整数来限制匹配次数。</span>
<a id=__codelineno-36-44 name=__codelineno-36-44 href=#__codelineno-36-44></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>FindAllString</span><span class=p>(</span><span class=s>&quot;peach punch pinch&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>))</span><span class=w> </span><span class=c1>//[peach punch]</span>
<a id=__codelineno-36-45 name=__codelineno-36-45 href=#__codelineno-36-45></a>
<a id=__codelineno-36-46 name=__codelineno-36-46 href=#__codelineno-36-46></a><span class=w>    </span><span class=c1>// 上面的例子中，我们使用了字符串作为参数，并使用了如 `MatchString` 这样的方法。</span>
<a id=__codelineno-36-47 name=__codelineno-36-47 href=#__codelineno-36-47></a><span class=w>    </span><span class=c1>// 我们也可以提供 `[]byte` 参数并将 `String` 从函数命中去掉。</span>
<a id=__codelineno-36-48 name=__codelineno-36-48 href=#__codelineno-36-48></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>Match</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&quot;peach&quot;</span><span class=p>)))</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-36-49 name=__codelineno-36-49 href=#__codelineno-36-49></a>
<a id=__codelineno-36-50 name=__codelineno-36-50 href=#__codelineno-36-50></a><span class=w>    </span><span class=c1>// 创建正则表达式常量时，可以使用 `Compile` 的变体 `MustCompile` 。</span>
<a id=__codelineno-36-51 name=__codelineno-36-51 href=#__codelineno-36-51></a><span class=w>    </span><span class=c1>// 因为 `Compile` 返回两个值，不能用于常量。</span>
<a id=__codelineno-36-52 name=__codelineno-36-52 href=#__codelineno-36-52></a><span class=w>    </span><span class=nx>r</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>regexp</span><span class=p>.</span><span class=nx>MustCompile</span><span class=p>(</span><span class=s>&quot;p([a-z]+)ch&quot;</span><span class=p>)</span>
<a id=__codelineno-36-53 name=__codelineno-36-53 href=#__codelineno-36-53></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>)</span><span class=w> </span><span class=c1>//p([a-z]+)ch</span>
<a id=__codelineno-36-54 name=__codelineno-36-54 href=#__codelineno-36-54></a>
<a id=__codelineno-36-55 name=__codelineno-36-55 href=#__codelineno-36-55></a><span class=w>    </span><span class=c1>// `regexp` 包也可以用来替换部分字符串为其他值。</span>
<a id=__codelineno-36-56 name=__codelineno-36-56 href=#__codelineno-36-56></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>ReplaceAllString</span><span class=p>(</span><span class=s>&quot;a peach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;&lt;fruit&gt;&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//a &lt;fruit&gt;</span>
<a id=__codelineno-36-57 name=__codelineno-36-57 href=#__codelineno-36-57></a>
<a id=__codelineno-36-58 name=__codelineno-36-58 href=#__codelineno-36-58></a><span class=w>    </span><span class=c1>// `Func` 变量允许传递匹配内容到一个给定的函数中，</span>
<a id=__codelineno-36-59 name=__codelineno-36-59 href=#__codelineno-36-59></a><span class=w>    </span><span class=nx>in</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&quot;a peach&quot;</span><span class=p>)</span>
<a id=__codelineno-36-60 name=__codelineno-36-60 href=#__codelineno-36-60></a><span class=w>    </span><span class=nx>out</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>ReplaceAllFunc</span><span class=p>(</span><span class=nx>in</span><span class=p>,</span><span class=w> </span><span class=nx>bytes</span><span class=p>.</span><span class=nx>ToUpper</span><span class=p>)</span>
<a id=__codelineno-36-61 name=__codelineno-36-61 href=#__codelineno-36-61></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>out</span><span class=p>))</span><span class=w> </span><span class=c1>//a PEACH</span>
<a id=__codelineno-36-62 name=__codelineno-36-62 href=#__codelineno-36-62></a><span class=p>}</span>
</code></pre></div> <h2 id=go-函数定义>Go 函数定义<a class=headerlink href=#go-函数定义 title="Permanent link">&para;</a></h2> <p>函数是Go语言的重要内容。</p> <p><code>functions.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=c1>// 这个函数计算两个int型输入数据的和，并返回int型的和</span>
<a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=kd>func</span><span class=w> </span><span class=nx>plus</span><span class=p>(</span><span class=nx>a</span><span class=w> </span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=w>    </span><span class=c1>// Go需要使用return语句显式地返回值</span>
<a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>b</span>
<a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=p>}</span>
<a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=w>    </span><span class=c1>// 函数的调用方式很简单</span>
<a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=w>    </span><span class=c1>// &quot;名称(参数列表)&quot;</span>
<a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a><span class=w>    </span><span class=nx>res</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>plus</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;1+2 =&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>res</span><span class=p>)</span><span class=w> </span><span class=c1>//1+2 = 3</span>
<a id=__codelineno-37-15 name=__codelineno-37-15 href=#__codelineno-37-15></a><span class=p>}</span>
</code></pre></div> <p>Go的函数还有很多其他的特性，其中一个就是多返回值，我们下面会看到。</p> <h2 id=go-多返回值函数>Go 多返回值函数<a class=headerlink href=#go-多返回值函数 title="Permanent link">&para;</a></h2> <p><code>multiple-return-values.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a>
<a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=c1>// `(int, int)` 在这个函数中标志着这个函数返回 2 个 `int`。</span>
<a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=kd>func</span><span class=w> </span><span class=nx>vals</span><span class=p>()</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>7</span>
<a id=__codelineno-38-8 name=__codelineno-38-8 href=#__codelineno-38-8></a><span class=p>}</span>
<a id=__codelineno-38-9 name=__codelineno-38-9 href=#__codelineno-38-9></a>
<a id=__codelineno-38-10 name=__codelineno-38-10 href=#__codelineno-38-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-38-11 name=__codelineno-38-11 href=#__codelineno-38-11></a>
<a id=__codelineno-38-12 name=__codelineno-38-12 href=#__codelineno-38-12></a><span class=w>    </span><span class=c1>// 这里我们通过_多赋值_操作来使用这两个不同的返回值。</span>
<a id=__codelineno-38-13 name=__codelineno-38-13 href=#__codelineno-38-13></a><span class=w>    </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>vals</span><span class=p>()</span>
<a id=__codelineno-38-14 name=__codelineno-38-14 href=#__codelineno-38-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
<a id=__codelineno-38-15 name=__codelineno-38-15 href=#__codelineno-38-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-38-16 name=__codelineno-38-16 href=#__codelineno-38-16></a>
<a id=__codelineno-38-17 name=__codelineno-38-17 href=#__codelineno-38-17></a><span class=w>    </span><span class=c1>// 如果你仅仅需要返回值的一部分的话，你可以使用空白标识符`_`。</span>
<a id=__codelineno-38-18 name=__codelineno-38-18 href=#__codelineno-38-18></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>vals</span><span class=p>()</span>
<a id=__codelineno-38-19 name=__codelineno-38-19 href=#__codelineno-38-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span>
<a id=__codelineno-38-20 name=__codelineno-38-20 href=#__codelineno-38-20></a><span class=p>}</span>
</code></pre></div> <h2 id=go-函数命名返回值>Go 函数命名返回值<a class=headerlink href=#go-函数命名返回值 title="Permanent link">&para;</a></h2> <p>函数接受参数。在 Go 中，函数可以返回多个“结果参数”，而不仅仅是一个值。它们可以像变量那样命名和使用。</p> <p>如果命名了返回值参数，一个没有参数的return语句，会将当前的值作为返回值返回。</p> <p>注意，如果遇到if等代码块和返回值同名，还需要显示写出返回值。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a>
<a id=__codelineno-39-5 name=__codelineno-39-5 href=#__codelineno-39-5></a><span class=c1>// `(int, int)` 在这个函数中标志着这个函数返回 2 个 `int`。</span>
<a id=__codelineno-39-6 name=__codelineno-39-6 href=#__codelineno-39-6></a><span class=kd>func</span><span class=w> </span><span class=nx>vals</span><span class=p>()</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-7 name=__codelineno-39-7 href=#__codelineno-39-7></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>7</span>
<a id=__codelineno-39-8 name=__codelineno-39-8 href=#__codelineno-39-8></a><span class=p>}</span>
<a id=__codelineno-39-9 name=__codelineno-39-9 href=#__codelineno-39-9></a>
<a id=__codelineno-39-10 name=__codelineno-39-10 href=#__codelineno-39-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-39-11 name=__codelineno-39-11 href=#__codelineno-39-11></a>
<a id=__codelineno-39-12 name=__codelineno-39-12 href=#__codelineno-39-12></a><span class=w>    </span><span class=c1>// 这里我们通过_多赋值_操作来使用这两个不同的返回值。</span>
<a id=__codelineno-39-13 name=__codelineno-39-13 href=#__codelineno-39-13></a><span class=w>    </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>vals</span><span class=p>()</span>
<a id=__codelineno-39-14 name=__codelineno-39-14 href=#__codelineno-39-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span><span class=w> </span><span class=c1>//3</span>
<a id=__codelineno-39-15 name=__codelineno-39-15 href=#__codelineno-39-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span><span class=w> </span><span class=c1>//7</span>
<a id=__codelineno-39-16 name=__codelineno-39-16 href=#__codelineno-39-16></a>
<a id=__codelineno-39-17 name=__codelineno-39-17 href=#__codelineno-39-17></a><span class=w>    </span><span class=c1>// 如果你仅仅需要返回值的一部分的话，你可以使用空白标识符`_`。</span>
<a id=__codelineno-39-18 name=__codelineno-39-18 href=#__codelineno-39-18></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>vals</span><span class=p>()</span>
<a id=__codelineno-39-19 name=__codelineno-39-19 href=#__codelineno-39-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span><span class=w> </span><span class=c1>//7</span>
<a id=__codelineno-39-20 name=__codelineno-39-20 href=#__codelineno-39-20></a><span class=p>}</span>
</code></pre></div> <h2 id=go-变参函数>Go 变参函数<a class=headerlink href=#go-变参函数 title="Permanent link">&para;</a></h2> <p>支持可变长参数列表的函数可以支持任意个传入参数，比如 fmt.Println 函数就是一个支持可变长参数列表的函数。</p> <p><code>variadic-functions.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a>
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a>
<a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a><span class=c1>// 这个函数可以传入任意数量的整型参数</span>
<a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a><span class=kd>func</span><span class=w> </span><span class=nx>sum</span><span class=p>(</span><span class=nx>nums</span><span class=w> </span><span class=o>...</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>nums</span><span class=p>,</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>)</span>
<a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a><span class=w>    </span><span class=nx>total</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-40-9 name=__codelineno-40-9 href=#__codelineno-40-9></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>num</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>nums</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-40-10 name=__codelineno-40-10 href=#__codelineno-40-10></a><span class=w>        </span><span class=nx>total</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=nx>num</span>
<a id=__codelineno-40-11 name=__codelineno-40-11 href=#__codelineno-40-11></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-40-12 name=__codelineno-40-12 href=#__codelineno-40-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>total</span><span class=p>)</span>
<a id=__codelineno-40-13 name=__codelineno-40-13 href=#__codelineno-40-13></a><span class=p>}</span>
<a id=__codelineno-40-14 name=__codelineno-40-14 href=#__codelineno-40-14></a>
<a id=__codelineno-40-15 name=__codelineno-40-15 href=#__codelineno-40-15></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-40-16 name=__codelineno-40-16 href=#__codelineno-40-16></a><span class=w>    </span><span class=c1>// 支持可变长参数的函数调用方法和普通函数一样</span>
<a id=__codelineno-40-17 name=__codelineno-40-17 href=#__codelineno-40-17></a><span class=w>    </span><span class=c1>// 也支持只有一个参数的情况</span>
<a id=__codelineno-40-18 name=__codelineno-40-18 href=#__codelineno-40-18></a><span class=w>    </span><span class=nx>sum</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=c1>//[1 2] 3</span>
<a id=__codelineno-40-19 name=__codelineno-40-19 href=#__codelineno-40-19></a>
<a id=__codelineno-40-20 name=__codelineno-40-20 href=#__codelineno-40-20></a><span class=w>    </span><span class=nx>sum</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>)</span><span class=w> </span><span class=c1>//[1 2 3] 6</span>
<a id=__codelineno-40-21 name=__codelineno-40-21 href=#__codelineno-40-21></a>
<a id=__codelineno-40-22 name=__codelineno-40-22 href=#__codelineno-40-22></a><span class=w>    </span><span class=c1>// 如果你需要传入的参数在一个切片中，像下面一样</span>
<a id=__codelineno-40-23 name=__codelineno-40-23 href=#__codelineno-40-23></a><span class=w>    </span><span class=c1>// &quot;func(slice...)&quot;把切片打散传入</span>
<a id=__codelineno-40-24 name=__codelineno-40-24 href=#__codelineno-40-24></a><span class=w>    </span><span class=nx>nums</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>}</span>
<a id=__codelineno-40-25 name=__codelineno-40-25 href=#__codelineno-40-25></a><span class=w>    </span><span class=nx>sum</span><span class=p>(</span><span class=nx>nums</span><span class=o>...</span><span class=p>)</span><span class=w> </span><span class=c1>//[1 2 3 4] 10</span>
<a id=__codelineno-40-26 name=__codelineno-40-26 href=#__codelineno-40-26></a><span class=p>}</span>
</code></pre></div> <p>需要注意的是，可变长参数应该是函数定义的最右边的参数，即最后一个参数。</p> <h2 id=go-函数回调>Go 函数回调<a class=headerlink href=#go-函数回调 title="Permanent link">&para;</a></h2> <p>Go支持函数回调，你可以把函数名称作为参数传递给另外一个函数，然后在别的地方实现这个函数。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-41-4 name=__codelineno-41-4 href=#__codelineno-41-4></a>
<a id=__codelineno-41-5 name=__codelineno-41-5 href=#__codelineno-41-5></a><span class=kd>type</span><span class=w> </span><span class=nx>Callback</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-41-6 name=__codelineno-41-6 href=#__codelineno-41-6></a>
<a id=__codelineno-41-7 name=__codelineno-41-7 href=#__codelineno-41-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-41-8 name=__codelineno-41-8 href=#__codelineno-41-8></a><span class=w>    </span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span>
<a id=__codelineno-41-9 name=__codelineno-41-9 href=#__codelineno-41-9></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>test</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>,</span><span class=w> </span><span class=nx>add</span><span class=p>))</span><span class=w> </span><span class=c1>//3</span>
<a id=__codelineno-41-10 name=__codelineno-41-10 href=#__codelineno-41-10></a>
<a id=__codelineno-41-11 name=__codelineno-41-11 href=#__codelineno-41-11></a><span class=p>}</span>
<a id=__codelineno-41-12 name=__codelineno-41-12 href=#__codelineno-41-12></a>
<a id=__codelineno-41-13 name=__codelineno-41-13 href=#__codelineno-41-13></a><span class=c1>// 提供一个接口，让外部去实现</span>
<a id=__codelineno-41-14 name=__codelineno-41-14 href=#__codelineno-41-14></a><span class=kd>func</span><span class=w> </span><span class=nx>test</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=nx>callback</span><span class=w> </span><span class=nx>Callback</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-41-15 name=__codelineno-41-15 href=#__codelineno-41-15></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>callback</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=p>)</span>
<a id=__codelineno-41-16 name=__codelineno-41-16 href=#__codelineno-41-16></a><span class=p>}</span>
<a id=__codelineno-41-17 name=__codelineno-41-17 href=#__codelineno-41-17></a><span class=kd>func</span><span class=w> </span><span class=nx>add</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span><span class=w> </span><span class=nx>y</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-41-18 name=__codelineno-41-18 href=#__codelineno-41-18></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>y</span>
<a id=__codelineno-41-19 name=__codelineno-41-19 href=#__codelineno-41-19></a><span class=p>}</span>
</code></pre></div> <h2 id=go-闭包-closures>Go 闭包 Closures<a class=headerlink href=#go-闭包-closures title="Permanent link">&para;</a></h2> <p>Go 支持匿名函数，并能用其构造 闭包。 匿名函数在你想定义一个不需要命名的内联函数时是很实用的。</p> <p><code>closures.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a><span class=c1>// 这个 `intSeq` 函数返回另一个在 `intSeq` 函数体内定义的匿名函数。</span>
<a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=c1>// 这个返回的函数使用闭包的方式 _隐藏_ 变量 `i`。</span>
<a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a><span class=kd>func</span><span class=w> </span><span class=nx>intSeq</span><span class=p>()</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a><span class=w>    </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a><span class=w>        </span><span class=nx>i</span><span class=o>++</span>
<a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>i</span>
<a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a><span class=p>}</span>
<a id=__codelineno-42-14 name=__codelineno-42-14 href=#__codelineno-42-14></a>
<a id=__codelineno-42-15 name=__codelineno-42-15 href=#__codelineno-42-15></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-42-16 name=__codelineno-42-16 href=#__codelineno-42-16></a>
<a id=__codelineno-42-17 name=__codelineno-42-17 href=#__codelineno-42-17></a><span class=w>    </span><span class=c1>// 我们调用 `intSeq` 函数，将返回值（一个函数）赋给`nextInt`。</span>
<a id=__codelineno-42-18 name=__codelineno-42-18 href=#__codelineno-42-18></a><span class=w>    </span><span class=c1>// 这个函数的值包含了自己的值 `i`，</span>
<a id=__codelineno-42-19 name=__codelineno-42-19 href=#__codelineno-42-19></a><span class=w>    </span><span class=c1>// 这样在每次调用 `nextInt` 时都会更新 `i` 的值。</span>
<a id=__codelineno-42-20 name=__codelineno-42-20 href=#__codelineno-42-20></a><span class=w>    </span><span class=nx>nextInt</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>intSeq</span><span class=p>()</span>
<a id=__codelineno-42-21 name=__codelineno-42-21 href=#__codelineno-42-21></a>
<a id=__codelineno-42-22 name=__codelineno-42-22 href=#__codelineno-42-22></a><span class=w>    </span><span class=c1>// 通过多次调用 `nextInt` 来看看闭包的效果。</span>
<a id=__codelineno-42-23 name=__codelineno-42-23 href=#__codelineno-42-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>nextInt</span><span class=p>())</span><span class=w> </span><span class=c1>//1</span>
<a id=__codelineno-42-24 name=__codelineno-42-24 href=#__codelineno-42-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>nextInt</span><span class=p>())</span><span class=w> </span><span class=c1>//2</span>
<a id=__codelineno-42-25 name=__codelineno-42-25 href=#__codelineno-42-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>nextInt</span><span class=p>())</span><span class=w> </span><span class=c1>//3</span>
<a id=__codelineno-42-26 name=__codelineno-42-26 href=#__codelineno-42-26></a>
<a id=__codelineno-42-27 name=__codelineno-42-27 href=#__codelineno-42-27></a><span class=w>    </span><span class=c1>// 为了确认这个状态对于这个特定的函数是唯一的，我们重新创建并测试一下。</span>
<a id=__codelineno-42-28 name=__codelineno-42-28 href=#__codelineno-42-28></a><span class=w>    </span><span class=nx>newInts</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>intSeq</span><span class=p>()</span>
<a id=__codelineno-42-29 name=__codelineno-42-29 href=#__codelineno-42-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>newInts</span><span class=p>())</span><span class=w> </span><span class=c1>//1</span>
<a id=__codelineno-42-30 name=__codelineno-42-30 href=#__codelineno-42-30></a><span class=p>}</span>
</code></pre></div> <h2 id=go-递归-recursion>Go 递归 Recursion<a class=headerlink href=#go-递归-recursion title="Permanent link">&para;</a></h2> <p>Go 支持 递归。 这里是一个经典的阶乘示例。</p> <p><code>recursion.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a>
<a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a>
<a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a><span class=c1>// fact calculates the factorial of a number using recursion</span>
<a id=__codelineno-43-6 name=__codelineno-43-6 href=#__codelineno-43-6></a><span class=kd>func</span><span class=w> </span><span class=nx>fact</span><span class=p>(</span><span class=nx>n</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-43-7 name=__codelineno-43-7 href=#__codelineno-43-7></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-43-8 name=__codelineno-43-8 href=#__codelineno-43-8></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-43-9 name=__codelineno-43-9 href=#__codelineno-43-9></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-43-10 name=__codelineno-43-10 href=#__codelineno-43-10></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>n</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>fact</span><span class=p>(</span><span class=nx>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-43-11 name=__codelineno-43-11 href=#__codelineno-43-11></a><span class=p>}</span>
<a id=__codelineno-43-12 name=__codelineno-43-12 href=#__codelineno-43-12></a>
<a id=__codelineno-43-13 name=__codelineno-43-13 href=#__codelineno-43-13></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-43-14 name=__codelineno-43-14 href=#__codelineno-43-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>fact</span><span class=p>(</span><span class=mi>7</span><span class=p>))</span><span class=w> </span><span class=c1>//5040</span>
<a id=__codelineno-43-15 name=__codelineno-43-15 href=#__codelineno-43-15></a>
<a id=__codelineno-43-16 name=__codelineno-43-16 href=#__codelineno-43-16></a><span class=p>}</span>
</code></pre></div> <h2 id=go-指针-pointers>Go 指针 Pointers<a class=headerlink href=#go-指针-pointers title="Permanent link">&para;</a></h2> <p>Go 支持 * 指针 *， 允许在程序中通过引用传递值或者数据结构。</p> <p><code>pointers.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>
<a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>
<a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a><span class=c1>// 我们将通过两个函数：`zeroval` 和 `zeroptr` 来比较指针和值类型的不同。</span>
<a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a><span class=c1>// `zeroval` 有一个 `int` 型参数，所以使用值传递。</span>
<a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a><span class=c1>// `zeroval` 将从调用它的那个函数中得到一个 `ival` 形参的拷贝。</span>
<a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a><span class=kd>func</span><span class=w> </span><span class=nx>zeroval</span><span class=p>(</span><span class=nx>ival</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a><span class=w>    </span><span class=nx>ival</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a><span class=p>}</span>
<a id=__codelineno-44-11 name=__codelineno-44-11 href=#__codelineno-44-11></a>
<a id=__codelineno-44-12 name=__codelineno-44-12 href=#__codelineno-44-12></a><span class=c1>// `zeroptr` 有一和上面不同的 `*int` 参数，意味着它用了一个 `int` 指针。</span>
<a id=__codelineno-44-13 name=__codelineno-44-13 href=#__codelineno-44-13></a><span class=c1>// 函数体内的 `*iptr` 接着_解引用_这个指针，从它内存地址得到这个地址对应的当前值。</span>
<a id=__codelineno-44-14 name=__codelineno-44-14 href=#__codelineno-44-14></a><span class=c1>// 对一个解引用的指针赋值将会改变这个指针引用的真实地址的值。</span>
<a id=__codelineno-44-15 name=__codelineno-44-15 href=#__codelineno-44-15></a><span class=kd>func</span><span class=w> </span><span class=nx>zeroptr</span><span class=p>(</span><span class=nx>iptr</span><span class=w> </span><span class=o>*</span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-44-16 name=__codelineno-44-16 href=#__codelineno-44-16></a><span class=w>    </span><span class=o>*</span><span class=nx>iptr</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>0</span>
<a id=__codelineno-44-17 name=__codelineno-44-17 href=#__codelineno-44-17></a><span class=p>}</span>
<a id=__codelineno-44-18 name=__codelineno-44-18 href=#__codelineno-44-18></a>
<a id=__codelineno-44-19 name=__codelineno-44-19 href=#__codelineno-44-19></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-44-20 name=__codelineno-44-20 href=#__codelineno-44-20></a><span class=w>    </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>1</span>
<a id=__codelineno-44-21 name=__codelineno-44-21 href=#__codelineno-44-21></a><span class=w>    </span><span class=c1>// 打印i的指针地址</span>
<a id=__codelineno-44-22 name=__codelineno-44-22 href=#__codelineno-44-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;address: %p\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=c1>//address: 0xc0000180a8</span>
<a id=__codelineno-44-23 name=__codelineno-44-23 href=#__codelineno-44-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;initial:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span><span class=w>      </span><span class=c1>//initial: 1</span>
<a id=__codelineno-44-24 name=__codelineno-44-24 href=#__codelineno-44-24></a>
<a id=__codelineno-44-25 name=__codelineno-44-25 href=#__codelineno-44-25></a><span class=w>    </span><span class=nx>zeroval</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-44-26 name=__codelineno-44-26 href=#__codelineno-44-26></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;zeroval:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=c1>//zeroval: 1</span>
<a id=__codelineno-44-27 name=__codelineno-44-27 href=#__codelineno-44-27></a><span class=w>    </span><span class=c1>// 打印i的指针地址</span>
<a id=__codelineno-44-28 name=__codelineno-44-28 href=#__codelineno-44-28></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;address: %p\n&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=c1>//address: 0xc0000180a8</span>
<a id=__codelineno-44-29 name=__codelineno-44-29 href=#__codelineno-44-29></a>
<a id=__codelineno-44-30 name=__codelineno-44-30 href=#__codelineno-44-30></a><span class=w>    </span><span class=c1>// 通过 `&amp;i` 语法来取得 `i` 的内存地址，即指向 `i` 的指针。</span>
<a id=__codelineno-44-31 name=__codelineno-44-31 href=#__codelineno-44-31></a><span class=w>    </span><span class=nx>zeroptr</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-44-32 name=__codelineno-44-32 href=#__codelineno-44-32></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;zeroptr:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=c1>//zeroptr: 0</span>
<a id=__codelineno-44-33 name=__codelineno-44-33 href=#__codelineno-44-33></a><span class=w>    </span><span class=c1>// 指针也是可以被打印的。</span>
<a id=__codelineno-44-34 name=__codelineno-44-34 href=#__codelineno-44-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;pointer:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=c1>//0xc0000180a8</span>
<a id=__codelineno-44-35 name=__codelineno-44-35 href=#__codelineno-44-35></a><span class=p>}</span>
</code></pre></div> <p>在对普通变量使用 "&amp;" 操作符取地址获得这个变量的指针后，可以对指针使用 "<em>" 操作，进行指针的取值, “</em>“ 又被读作 ”处的值”。</p> <p>这么记：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a><span class=nx>ptr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>house</span><span class=w>       </span><span class=c1>// 取址赋给ptr</span>
<a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>*</span><span class=nx>ptr</span><span class=w>       </span><span class=c1>// 根据地址取值赋给value</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a>&amp;   取址              // 处的地址
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a>*   根据地址取值       // 处的值
</code></pre></div> <p>在函数间传递大数组数据时使用指针</p> <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a>
<a id=__codelineno-47-3 name=__codelineno-47-3 href=#__codelineno-47-3></a><span class=kd>func</span><span class=w> </span><span class=nx>foo</span><span class=p>(</span><span class=nx>array</span><span class=w> </span><span class=p>[</span><span class=mf>1e6</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span><span class=w>  </span><span class=p>{</span>
<a id=__codelineno-47-4 name=__codelineno-47-4 href=#__codelineno-47-4></a><span class=w>    </span><span class=nb>println</span><span class=p>(</span><span class=s>&quot;mem chile .....&quot;</span><span class=p>)</span>
<a id=__codelineno-47-5 name=__codelineno-47-5 href=#__codelineno-47-5></a><span class=p>}</span>
<a id=__codelineno-47-6 name=__codelineno-47-6 href=#__codelineno-47-6></a>
<a id=__codelineno-47-7 name=__codelineno-47-7 href=#__codelineno-47-7></a>
<a id=__codelineno-47-8 name=__codelineno-47-8 href=#__codelineno-47-8></a><span class=kd>func</span><span class=w> </span><span class=nx>foo1</span><span class=p>(</span><span class=nx>array</span><span class=w> </span><span class=o>*</span><span class=p>[</span><span class=mf>1e6</span><span class=p>]</span><span class=kt>int</span><span class=p>)</span><span class=w>  </span><span class=p>{</span>
<a id=__codelineno-47-9 name=__codelineno-47-9 href=#__codelineno-47-9></a><span class=w>    </span><span class=nb>println</span><span class=p>(</span><span class=s>&quot;mem chile .....&quot;</span><span class=p>)</span>
<a id=__codelineno-47-10 name=__codelineno-47-10 href=#__codelineno-47-10></a><span class=p>}</span>
<a id=__codelineno-47-11 name=__codelineno-47-11 href=#__codelineno-47-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-47-12 name=__codelineno-47-12 href=#__codelineno-47-12></a><span class=w>    </span><span class=c1>// 声明一个需要8 MB的数组</span>
<a id=__codelineno-47-13 name=__codelineno-47-13 href=#__codelineno-47-13></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>array</span><span class=w> </span><span class=p>[</span><span class=mf>1e6</span><span class=p>]</span><span class=kt>int</span>
<a id=__codelineno-47-14 name=__codelineno-47-14 href=#__codelineno-47-14></a><span class=w>    </span><span class=c1>// 将数组传递给函数foo</span>
<a id=__codelineno-47-15 name=__codelineno-47-15 href=#__codelineno-47-15></a><span class=w>    </span><span class=nx>foo</span><span class=p>(</span><span class=nx>array</span><span class=p>)</span>
<a id=__codelineno-47-16 name=__codelineno-47-16 href=#__codelineno-47-16></a>
<a id=__codelineno-47-17 name=__codelineno-47-17 href=#__codelineno-47-17></a><span class=w>    </span><span class=c1>// 节省了内存，但是会改变共享的内存</span>
<a id=__codelineno-47-18 name=__codelineno-47-18 href=#__codelineno-47-18></a><span class=w>    </span><span class=c1>// 将数组的地址传递给函数foo</span>
<a id=__codelineno-47-19 name=__codelineno-47-19 href=#__codelineno-47-19></a><span class=w>    </span><span class=nx>foo1</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>array</span><span class=p>)</span>
<a id=__codelineno-47-20 name=__codelineno-47-20 href=#__codelineno-47-20></a>
<a id=__codelineno-47-21 name=__codelineno-47-21 href=#__codelineno-47-21></a><span class=p>}</span>
</code></pre></div> <p>取地址操作符“&amp;”和取值操作符“<em>”是一对互补操作符，“&amp;”取出地址，“</em>” 根据地址取出地址指向的值。</p> <p>变量、指针地址、指针变量、取地址、取值的相互关系和特性如下：</p> <ul> <li> <p>对变量进行取地址（&amp;）操作，可以获得这个变量的指针变量。</p> </li> <li> <p>指针变量的值是指针地址。</p> </li> <li> <p>对指针变量进行取值（*）操作，可以获得指针变量指向的原变量的值。</p> </li> </ul> <h2 id=go-结构体>Go 结构体<a class=headerlink href=#go-结构体 title="Permanent link">&para;</a></h2> <p>Go语言结构体数据类是将各个类型的变量定义的集合，通常用来表示记录。</p> <p><code>structs.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a>
<a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>
<a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a><span class=c1>// 这个person结构体有name和age成员</span>
<a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a><span class=kd>type</span><span class=w> </span><span class=nx>person</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a><span class=w>    </span><span class=nx>name</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a><span class=w>    </span><span class=nx>age</span><span class=w>  </span><span class=kt>int</span>
<a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a><span class=p>}</span>
<a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a>
<a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a><span class=w>    </span><span class=c1>// 这个语法创建一个新结构体变量</span>
<a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>person</span><span class=p>{</span><span class=s>&quot;Bob&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>})</span>
<a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a>
<a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a><span class=w>    </span><span class=c1>// 可以使用&quot;成员:值&quot;的方式来初始化结构体变量</span>
<a id=__codelineno-48-16 name=__codelineno-48-16 href=#__codelineno-48-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>person</span><span class=p>{</span><span class=nx>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Alice&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>age</span><span class=p>:</span><span class=w> </span><span class=mi>30</span><span class=p>})</span>
<a id=__codelineno-48-17 name=__codelineno-48-17 href=#__codelineno-48-17></a>
<a id=__codelineno-48-18 name=__codelineno-48-18 href=#__codelineno-48-18></a><span class=w>    </span><span class=c1>// 未显式赋值的成员初始值为零值</span>
<a id=__codelineno-48-19 name=__codelineno-48-19 href=#__codelineno-48-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>person</span><span class=p>{</span><span class=nx>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Fred&quot;</span><span class=p>})</span>
<a id=__codelineno-48-20 name=__codelineno-48-20 href=#__codelineno-48-20></a>
<a id=__codelineno-48-21 name=__codelineno-48-21 href=#__codelineno-48-21></a><span class=w>    </span><span class=c1>// 可以使用&amp;来获取结构体变量的地址</span>
<a id=__codelineno-48-22 name=__codelineno-48-22 href=#__codelineno-48-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>person</span><span class=p>{</span><span class=nx>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Ann&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>age</span><span class=p>:</span><span class=w> </span><span class=mi>40</span><span class=p>})</span>
<a id=__codelineno-48-23 name=__codelineno-48-23 href=#__codelineno-48-23></a>
<a id=__codelineno-48-24 name=__codelineno-48-24 href=#__codelineno-48-24></a><span class=w>    </span><span class=c1>// 使用点号(.)来访问结构体成员</span>
<a id=__codelineno-48-25 name=__codelineno-48-25 href=#__codelineno-48-25></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>person</span><span class=p>{</span><span class=nx>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Sean&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>age</span><span class=p>:</span><span class=w> </span><span class=mi>50</span><span class=p>}</span>
<a id=__codelineno-48-26 name=__codelineno-48-26 href=#__codelineno-48-26></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>.</span><span class=nx>name</span><span class=p>)</span>
<a id=__codelineno-48-27 name=__codelineno-48-27 href=#__codelineno-48-27></a>
<a id=__codelineno-48-28 name=__codelineno-48-28 href=#__codelineno-48-28></a><span class=w>    </span><span class=c1>// 结构体指针也可以使用点号(.)来访问结构体成员</span>
<a id=__codelineno-48-29 name=__codelineno-48-29 href=#__codelineno-48-29></a><span class=w>    </span><span class=c1>// Go语言会自动识别出来</span>
<a id=__codelineno-48-30 name=__codelineno-48-30 href=#__codelineno-48-30></a><span class=w>    </span><span class=nx>sp</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>s</span>
<a id=__codelineno-48-31 name=__codelineno-48-31 href=#__codelineno-48-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sp</span><span class=p>.</span><span class=nx>age</span><span class=p>)</span>
<a id=__codelineno-48-32 name=__codelineno-48-32 href=#__codelineno-48-32></a>
<a id=__codelineno-48-33 name=__codelineno-48-33 href=#__codelineno-48-33></a><span class=w>    </span><span class=c1>// 结构体成员变量的值是可以改变的</span>
<a id=__codelineno-48-34 name=__codelineno-48-34 href=#__codelineno-48-34></a><span class=w>    </span><span class=nx>sp</span><span class=p>.</span><span class=nx>age</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=mi>51</span>
<a id=__codelineno-48-35 name=__codelineno-48-35 href=#__codelineno-48-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sp</span><span class=p>.</span><span class=nx>age</span><span class=p>)</span>
<a id=__codelineno-48-36 name=__codelineno-48-36 href=#__codelineno-48-36></a><span class=p>}</span>
</code></pre></div> <p>运行结果：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>structs.go
<a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a><span class=o>{</span>Bob<span class=w> </span><span class=m>20</span><span class=o>}</span>
<a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a><span class=o>{</span>Alice<span class=w> </span><span class=m>30</span><span class=o>}</span>
<a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a><span class=o>{</span>Fred<span class=w> </span><span class=m>0</span><span class=o>}</span>
<a id=__codelineno-49-5 name=__codelineno-49-5 href=#__codelineno-49-5></a><span class=p>&amp;</span><span class=o>{</span>Ann<span class=w> </span><span class=m>40</span><span class=o>}</span>
<a id=__codelineno-49-6 name=__codelineno-49-6 href=#__codelineno-49-6></a>Sean
<a id=__codelineno-49-7 name=__codelineno-49-7 href=#__codelineno-49-7></a><span class=m>50</span>
<a id=__codelineno-49-8 name=__codelineno-49-8 href=#__codelineno-49-8></a><span class=m>51</span>
</code></pre></div> <h2 id=go-方法>Go 方法<a class=headerlink href=#go-方法 title="Permanent link">&para;</a></h2> <p>Go 支持在结构体类型中定义方法 (methods) 。</p> <p><code>methods.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a>
<a id=__codelineno-50-3 name=__codelineno-50-3 href=#__codelineno-50-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-50-4 name=__codelineno-50-4 href=#__codelineno-50-4></a>
<a id=__codelineno-50-5 name=__codelineno-50-5 href=#__codelineno-50-5></a><span class=kd>type</span><span class=w> </span><span class=nx>rect</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-50-6 name=__codelineno-50-6 href=#__codelineno-50-6></a><span class=w>    </span><span class=nx>width</span><span class=p>,</span><span class=w> </span><span class=nx>height</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-50-7 name=__codelineno-50-7 href=#__codelineno-50-7></a><span class=p>}</span>
<a id=__codelineno-50-8 name=__codelineno-50-8 href=#__codelineno-50-8></a>
<a id=__codelineno-50-9 name=__codelineno-50-9 href=#__codelineno-50-9></a><span class=c1>// 这里的 `area` 方法有一个_接收器(receiver)类型_ `rect`。</span>
<a id=__codelineno-50-10 name=__codelineno-50-10 href=#__codelineno-50-10></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>r</span><span class=w> </span><span class=o>*</span><span class=nx>rect</span><span class=p>)</span><span class=w> </span><span class=nx>area</span><span class=p>()</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-50-11 name=__codelineno-50-11 href=#__codelineno-50-11></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>width</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>height</span>
<a id=__codelineno-50-12 name=__codelineno-50-12 href=#__codelineno-50-12></a><span class=p>}</span>
<a id=__codelineno-50-13 name=__codelineno-50-13 href=#__codelineno-50-13></a>
<a id=__codelineno-50-14 name=__codelineno-50-14 href=#__codelineno-50-14></a><span class=c1>// 可以为值类型或者指针类型的接收器定义方法。</span>
<a id=__codelineno-50-15 name=__codelineno-50-15 href=#__codelineno-50-15></a><span class=c1>// 这里是一个值类型接收器的例子。</span>
<a id=__codelineno-50-16 name=__codelineno-50-16 href=#__codelineno-50-16></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>r</span><span class=w> </span><span class=nx>rect</span><span class=p>)</span><span class=w> </span><span class=nx>perim</span><span class=p>()</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-50-17 name=__codelineno-50-17 href=#__codelineno-50-17></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>2</span><span class=o>*</span><span class=nx>r</span><span class=p>.</span><span class=nx>width</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>2</span><span class=o>*</span><span class=nx>r</span><span class=p>.</span><span class=nx>height</span>
<a id=__codelineno-50-18 name=__codelineno-50-18 href=#__codelineno-50-18></a><span class=p>}</span>
<a id=__codelineno-50-19 name=__codelineno-50-19 href=#__codelineno-50-19></a>
<a id=__codelineno-50-20 name=__codelineno-50-20 href=#__codelineno-50-20></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-50-21 name=__codelineno-50-21 href=#__codelineno-50-21></a><span class=w>    </span><span class=nx>r</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rect</span><span class=p>{</span><span class=nx>width</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=p>,</span><span class=w> </span><span class=nx>height</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>}</span>
<a id=__codelineno-50-22 name=__codelineno-50-22 href=#__codelineno-50-22></a>
<a id=__codelineno-50-23 name=__codelineno-50-23 href=#__codelineno-50-23></a><span class=w>    </span><span class=c1>// 这里我们调用上面为结构体定义的两个方法。</span>
<a id=__codelineno-50-24 name=__codelineno-50-24 href=#__codelineno-50-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;area: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>area</span><span class=p>())</span><span class=w>  </span><span class=c1>//area:  50</span>
<a id=__codelineno-50-25 name=__codelineno-50-25 href=#__codelineno-50-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;perim:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>perim</span><span class=p>())</span><span class=w> </span><span class=c1>//perim: 30</span>
<a id=__codelineno-50-26 name=__codelineno-50-26 href=#__codelineno-50-26></a>
<a id=__codelineno-50-27 name=__codelineno-50-27 href=#__codelineno-50-27></a><span class=w>    </span><span class=c1>// Go 自动处理方法调用时的值和指针之间的转化。</span>
<a id=__codelineno-50-28 name=__codelineno-50-28 href=#__codelineno-50-28></a><span class=w>    </span><span class=c1>// 你可以使用指针来调用方法来避免在方法调用时产生一个拷贝，</span>
<a id=__codelineno-50-29 name=__codelineno-50-29 href=#__codelineno-50-29></a><span class=w>    </span><span class=c1>// 或者让方法能够改变接受的结构体。</span>
<a id=__codelineno-50-30 name=__codelineno-50-30 href=#__codelineno-50-30></a><span class=w>    </span><span class=nx>rp</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>r</span>
<a id=__codelineno-50-31 name=__codelineno-50-31 href=#__codelineno-50-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;area: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>rp</span><span class=p>.</span><span class=nx>area</span><span class=p>())</span><span class=w>  </span><span class=c1>//area:  50</span>
<a id=__codelineno-50-32 name=__codelineno-50-32 href=#__codelineno-50-32></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;perim:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>rp</span><span class=p>.</span><span class=nx>perim</span><span class=p>())</span><span class=w> </span><span class=c1>//perim: 30</span>
<a id=__codelineno-50-33 name=__codelineno-50-33 href=#__codelineno-50-33></a><span class=p>}</span>
</code></pre></div> <h2 id=go-接口-interfaces>Go 接口 Interfaces<a class=headerlink href=#go-接口-interfaces title="Permanent link">&para;</a></h2> <p>接口 (Interfaces) 是命名了的方法签名 (signatures) 的集合。</p> <p><code>interfaces.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a>
<a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;math&quot;</span>
<a id=__codelineno-51-5 name=__codelineno-51-5 href=#__codelineno-51-5></a>
<a id=__codelineno-51-6 name=__codelineno-51-6 href=#__codelineno-51-6></a><span class=c1>// 这里是一个几何体的基本接口。</span>
<a id=__codelineno-51-7 name=__codelineno-51-7 href=#__codelineno-51-7></a><span class=kd>type</span><span class=w> </span><span class=nx>geometry</span><span class=w> </span><span class=kd>interface</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-8 name=__codelineno-51-8 href=#__codelineno-51-8></a><span class=w>    </span><span class=nx>area</span><span class=p>()</span><span class=w> </span><span class=kt>float64</span>
<a id=__codelineno-51-9 name=__codelineno-51-9 href=#__codelineno-51-9></a><span class=w>    </span><span class=nx>perim</span><span class=p>()</span><span class=w> </span><span class=kt>float64</span>
<a id=__codelineno-51-10 name=__codelineno-51-10 href=#__codelineno-51-10></a><span class=p>}</span>
<a id=__codelineno-51-11 name=__codelineno-51-11 href=#__codelineno-51-11></a>
<a id=__codelineno-51-12 name=__codelineno-51-12 href=#__codelineno-51-12></a><span class=c1>// 在我们的例子中，我们将在类型 `rect` 和 `circle` 上实现这个接口</span>
<a id=__codelineno-51-13 name=__codelineno-51-13 href=#__codelineno-51-13></a><span class=kd>type</span><span class=w> </span><span class=nx>rect</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-14 name=__codelineno-51-14 href=#__codelineno-51-14></a><span class=w>    </span><span class=nx>width</span><span class=p>,</span><span class=w> </span><span class=nx>height</span><span class=w> </span><span class=kt>float64</span>
<a id=__codelineno-51-15 name=__codelineno-51-15 href=#__codelineno-51-15></a><span class=p>}</span>
<a id=__codelineno-51-16 name=__codelineno-51-16 href=#__codelineno-51-16></a><span class=kd>type</span><span class=w> </span><span class=nx>circle</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-17 name=__codelineno-51-17 href=#__codelineno-51-17></a><span class=w>    </span><span class=nx>radius</span><span class=w> </span><span class=kt>float64</span>
<a id=__codelineno-51-18 name=__codelineno-51-18 href=#__codelineno-51-18></a><span class=p>}</span>
<a id=__codelineno-51-19 name=__codelineno-51-19 href=#__codelineno-51-19></a>
<a id=__codelineno-51-20 name=__codelineno-51-20 href=#__codelineno-51-20></a><span class=c1>// 要在 Go 中实现一个接口，我们就需要实现接口中的所有方法。</span>
<a id=__codelineno-51-21 name=__codelineno-51-21 href=#__codelineno-51-21></a><span class=c1>// 这里我们在 `rect` 上实现了 `geometry` 接口。</span>
<a id=__codelineno-51-22 name=__codelineno-51-22 href=#__codelineno-51-22></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>r</span><span class=w> </span><span class=nx>rect</span><span class=p>)</span><span class=w> </span><span class=nx>area</span><span class=p>()</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-23 name=__codelineno-51-23 href=#__codelineno-51-23></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>width</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>r</span><span class=p>.</span><span class=nx>height</span>
<a id=__codelineno-51-24 name=__codelineno-51-24 href=#__codelineno-51-24></a><span class=p>}</span>
<a id=__codelineno-51-25 name=__codelineno-51-25 href=#__codelineno-51-25></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>r</span><span class=w> </span><span class=nx>rect</span><span class=p>)</span><span class=w> </span><span class=nx>perim</span><span class=p>()</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-26 name=__codelineno-51-26 href=#__codelineno-51-26></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>2</span><span class=o>*</span><span class=nx>r</span><span class=p>.</span><span class=nx>width</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>2</span><span class=o>*</span><span class=nx>r</span><span class=p>.</span><span class=nx>height</span>
<a id=__codelineno-51-27 name=__codelineno-51-27 href=#__codelineno-51-27></a><span class=p>}</span>
<a id=__codelineno-51-28 name=__codelineno-51-28 href=#__codelineno-51-28></a>
<a id=__codelineno-51-29 name=__codelineno-51-29 href=#__codelineno-51-29></a><span class=c1>// `circle` 的实现。</span>
<a id=__codelineno-51-30 name=__codelineno-51-30 href=#__codelineno-51-30></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>c</span><span class=w> </span><span class=nx>circle</span><span class=p>)</span><span class=w> </span><span class=nx>area</span><span class=p>()</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-31 name=__codelineno-51-31 href=#__codelineno-51-31></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>c</span><span class=p>.</span><span class=nx>radius</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>c</span><span class=p>.</span><span class=nx>radius</span>
<a id=__codelineno-51-32 name=__codelineno-51-32 href=#__codelineno-51-32></a><span class=p>}</span>
<a id=__codelineno-51-33 name=__codelineno-51-33 href=#__codelineno-51-33></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>c</span><span class=w> </span><span class=nx>circle</span><span class=p>)</span><span class=w> </span><span class=nx>perim</span><span class=p>()</span><span class=w> </span><span class=kt>float64</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-34 name=__codelineno-51-34 href=#__codelineno-51-34></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>math</span><span class=p>.</span><span class=nx>Pi</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>c</span><span class=p>.</span><span class=nx>radius</span>
<a id=__codelineno-51-35 name=__codelineno-51-35 href=#__codelineno-51-35></a><span class=p>}</span>
<a id=__codelineno-51-36 name=__codelineno-51-36 href=#__codelineno-51-36></a>
<a id=__codelineno-51-37 name=__codelineno-51-37 href=#__codelineno-51-37></a><span class=c1>// 如果一个变量具有接口类型，那么我们可以调用指定接口中的方法。</span>
<a id=__codelineno-51-38 name=__codelineno-51-38 href=#__codelineno-51-38></a><span class=c1>// 这里有一个通用的 `measure` 函数，利用它来在任何的 `geometry` 上工作。</span>
<a id=__codelineno-51-39 name=__codelineno-51-39 href=#__codelineno-51-39></a><span class=kd>func</span><span class=w> </span><span class=nx>measure</span><span class=p>(</span><span class=nx>g</span><span class=w> </span><span class=nx>geometry</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-40 name=__codelineno-51-40 href=#__codelineno-51-40></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>g</span><span class=p>)</span>
<a id=__codelineno-51-41 name=__codelineno-51-41 href=#__codelineno-51-41></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>g</span><span class=p>.</span><span class=nx>area</span><span class=p>())</span>
<a id=__codelineno-51-42 name=__codelineno-51-42 href=#__codelineno-51-42></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>g</span><span class=p>.</span><span class=nx>perim</span><span class=p>())</span>
<a id=__codelineno-51-43 name=__codelineno-51-43 href=#__codelineno-51-43></a><span class=p>}</span>
<a id=__codelineno-51-44 name=__codelineno-51-44 href=#__codelineno-51-44></a>
<a id=__codelineno-51-45 name=__codelineno-51-45 href=#__codelineno-51-45></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-51-46 name=__codelineno-51-46 href=#__codelineno-51-46></a><span class=w>    </span><span class=nx>r</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rect</span><span class=p>{</span><span class=nx>width</span><span class=p>:</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=nx>height</span><span class=p>:</span><span class=w> </span><span class=mi>4</span><span class=p>}</span>
<a id=__codelineno-51-47 name=__codelineno-51-47 href=#__codelineno-51-47></a><span class=w>    </span><span class=nx>c</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>circle</span><span class=p>{</span><span class=nx>radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>}</span>
<a id=__codelineno-51-48 name=__codelineno-51-48 href=#__codelineno-51-48></a>
<a id=__codelineno-51-49 name=__codelineno-51-49 href=#__codelineno-51-49></a><span class=w>    </span><span class=c1>// 结构体类型 `circle` 和 `rect` 都实现了 `geometry` 接口，</span>
<a id=__codelineno-51-50 name=__codelineno-51-50 href=#__codelineno-51-50></a><span class=w>    </span><span class=c1>// 所以我们可以使用它们的实例作为 `measure` 的参数。</span>
<a id=__codelineno-51-51 name=__codelineno-51-51 href=#__codelineno-51-51></a><span class=w>    </span><span class=nx>measure</span><span class=p>(</span><span class=nx>r</span><span class=p>)</span>
<a id=__codelineno-51-52 name=__codelineno-51-52 href=#__codelineno-51-52></a><span class=w>    </span><span class=nx>measure</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span>
<a id=__codelineno-51-53 name=__codelineno-51-53 href=#__codelineno-51-53></a><span class=p>}</span>
</code></pre></div> <p>运行结果如下： <div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>interfaces.go
<a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a><span class=o>{</span><span class=m>3</span><span class=w> </span><span class=m>4</span><span class=o>}</span>
<a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a><span class=m>12</span>
<a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a><span class=m>14</span>
<a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a><span class=o>{</span><span class=m>5</span><span class=o>}</span>
<a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a><span class=m>78</span>.53981633974483
<a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a><span class=m>31</span>.41592653589793
</code></pre></div></p> <p>要学习更多关于 Go 的接口的知识，看看这篇 <a href=https://learnku.com/go/t/38843>很棒的博文</a>。</p> <h2 id=go-错误处理-errors>Go 错误处理 Errors<a class=headerlink href=#go-错误处理-errors title="Permanent link">&para;</a></h2> <p>符合 Go 语言习惯的做法是使用一个独立、明确的返回值来传递错误信息。 </p> <p>这与使用异常 (exception) 的 Java 和 Ruby 以及在 C 语言中有时用到的重载 (overloaded) 的单返回 / 错误值有着明显的不同。</p> <p>Go 语言的处理方式能清楚的知道哪个函数 返回了错误，并能像调用那些没有出错的函数一样调用。</p> <p><code>errors.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;errors&quot;</span>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a>
<a id=__codelineno-53-6 name=__codelineno-53-6 href=#__codelineno-53-6></a><span class=c1>// 按照惯例，错误通常是最后一个返回值并且是 `error` 类型，一个内建的接口。</span>
<a id=__codelineno-53-7 name=__codelineno-53-7 href=#__codelineno-53-7></a><span class=kd>func</span><span class=w> </span><span class=nx>f1</span><span class=p>(</span><span class=nx>arg</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-8 name=__codelineno-53-8 href=#__codelineno-53-8></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>arg</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>42</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-9 name=__codelineno-53-9 href=#__codelineno-53-9></a><span class=w>        </span><span class=c1>// `errors.New` 构造一个使用给定的错误信息的基本 `error` 值。</span>
<a id=__codelineno-53-10 name=__codelineno-53-10 href=#__codelineno-53-10></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=nx>errors</span><span class=p>.</span><span class=nx>New</span><span class=p>(</span><span class=s>&quot;can&#39;t work with 42&quot;</span><span class=p>)</span>
<a id=__codelineno-53-11 name=__codelineno-53-11 href=#__codelineno-53-11></a>
<a id=__codelineno-53-12 name=__codelineno-53-12 href=#__codelineno-53-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-13 name=__codelineno-53-13 href=#__codelineno-53-13></a><span class=w>    </span><span class=c1>// 返回错误值为 nil 代表没有错误。</span>
<a id=__codelineno-53-14 name=__codelineno-53-14 href=#__codelineno-53-14></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>arg</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span>
<a id=__codelineno-53-15 name=__codelineno-53-15 href=#__codelineno-53-15></a><span class=p>}</span>
<a id=__codelineno-53-16 name=__codelineno-53-16 href=#__codelineno-53-16></a>
<a id=__codelineno-53-17 name=__codelineno-53-17 href=#__codelineno-53-17></a><span class=c1>// 可以通过实现 `Error` 方法来自定义 `error` 类型。</span>
<a id=__codelineno-53-18 name=__codelineno-53-18 href=#__codelineno-53-18></a><span class=c1>// 这里使用自定义错误类型来表示上面例子中的参数错误。</span>
<a id=__codelineno-53-19 name=__codelineno-53-19 href=#__codelineno-53-19></a><span class=kd>type</span><span class=w> </span><span class=nx>argError</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-20 name=__codelineno-53-20 href=#__codelineno-53-20></a><span class=w>    </span><span class=nx>arg</span><span class=w>  </span><span class=kt>int</span>
<a id=__codelineno-53-21 name=__codelineno-53-21 href=#__codelineno-53-21></a><span class=w>    </span><span class=nx>prob</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-53-22 name=__codelineno-53-22 href=#__codelineno-53-22></a><span class=p>}</span>
<a id=__codelineno-53-23 name=__codelineno-53-23 href=#__codelineno-53-23></a>
<a id=__codelineno-53-24 name=__codelineno-53-24 href=#__codelineno-53-24></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>e</span><span class=w> </span><span class=o>*</span><span class=nx>argError</span><span class=p>)</span><span class=w> </span><span class=nx>Error</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-25 name=__codelineno-53-25 href=#__codelineno-53-25></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;%d - %s&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>arg</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>prob</span><span class=p>)</span>
<a id=__codelineno-53-26 name=__codelineno-53-26 href=#__codelineno-53-26></a><span class=p>}</span>
<a id=__codelineno-53-27 name=__codelineno-53-27 href=#__codelineno-53-27></a>
<a id=__codelineno-53-28 name=__codelineno-53-28 href=#__codelineno-53-28></a><span class=kd>func</span><span class=w> </span><span class=nx>f2</span><span class=p>(</span><span class=nx>arg</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-29 name=__codelineno-53-29 href=#__codelineno-53-29></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>arg</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>42</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-30 name=__codelineno-53-30 href=#__codelineno-53-30></a><span class=w>        </span><span class=c1>// 在这个例子中，我们使用 `&amp;argError` 语法来建立一个新的结构体，</span>
<a id=__codelineno-53-31 name=__codelineno-53-31 href=#__codelineno-53-31></a><span class=w>        </span><span class=c1>// 并提供了 `arg` 和 `prob` 这两个字段的值。</span>
<a id=__codelineno-53-32 name=__codelineno-53-32 href=#__codelineno-53-32></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>argError</span><span class=p>{</span><span class=nx>arg</span><span class=p>,</span><span class=w> </span><span class=s>&quot;can&#39;t work with it&quot;</span><span class=p>}</span>
<a id=__codelineno-53-33 name=__codelineno-53-33 href=#__codelineno-53-33></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-34 name=__codelineno-53-34 href=#__codelineno-53-34></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>arg</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span>
<a id=__codelineno-53-35 name=__codelineno-53-35 href=#__codelineno-53-35></a><span class=p>}</span>
<a id=__codelineno-53-36 name=__codelineno-53-36 href=#__codelineno-53-36></a>
<a id=__codelineno-53-37 name=__codelineno-53-37 href=#__codelineno-53-37></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-38 name=__codelineno-53-38 href=#__codelineno-53-38></a>
<a id=__codelineno-53-39 name=__codelineno-53-39 href=#__codelineno-53-39></a><span class=w>    </span><span class=c1>// 下面的两个循环测试了各个返回错误的函数。</span>
<a id=__codelineno-53-40 name=__codelineno-53-40 href=#__codelineno-53-40></a><span class=w>    </span><span class=c1>// 注意在 `if` 行内的错误检查代码，在 Go 中是一个普遍的用法。</span>
<a id=__codelineno-53-41 name=__codelineno-53-41 href=#__codelineno-53-41></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>42</span><span class=p>}</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-42 name=__codelineno-53-42 href=#__codelineno-53-42></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>r</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f1</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-43 name=__codelineno-53-43 href=#__codelineno-53-43></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;f1 failed:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=p>)</span>
<a id=__codelineno-53-44 name=__codelineno-53-44 href=#__codelineno-53-44></a><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-45 name=__codelineno-53-45 href=#__codelineno-53-45></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;f1 worked:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>r</span><span class=p>)</span>
<a id=__codelineno-53-46 name=__codelineno-53-46 href=#__codelineno-53-46></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-53-47 name=__codelineno-53-47 href=#__codelineno-53-47></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-48 name=__codelineno-53-48 href=#__codelineno-53-48></a>
<a id=__codelineno-53-49 name=__codelineno-53-49 href=#__codelineno-53-49></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>42</span><span class=p>}</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-50 name=__codelineno-53-50 href=#__codelineno-53-50></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>r</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f2</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-51 name=__codelineno-53-51 href=#__codelineno-53-51></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;f2 failed:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=p>)</span>
<a id=__codelineno-53-52 name=__codelineno-53-52 href=#__codelineno-53-52></a><span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-53 name=__codelineno-53-53 href=#__codelineno-53-53></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;f2 worked:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>r</span><span class=p>)</span>
<a id=__codelineno-53-54 name=__codelineno-53-54 href=#__codelineno-53-54></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-53-55 name=__codelineno-53-55 href=#__codelineno-53-55></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-56 name=__codelineno-53-56 href=#__codelineno-53-56></a>
<a id=__codelineno-53-57 name=__codelineno-53-57 href=#__codelineno-53-57></a><span class=w>    </span><span class=c1>// 你如果想在程序中使用一个自定义错误类型中的数据，</span>
<a id=__codelineno-53-58 name=__codelineno-53-58 href=#__codelineno-53-58></a><span class=w>    </span><span class=c1>// 你需要通过类型断言来得到这个错误类型的实例。</span>
<a id=__codelineno-53-59 name=__codelineno-53-59 href=#__codelineno-53-59></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f2</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
<a id=__codelineno-53-60 name=__codelineno-53-60 href=#__codelineno-53-60></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>ae</span><span class=p>,</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>e</span><span class=p>.(</span><span class=o>*</span><span class=nx>argError</span><span class=p>);</span><span class=w> </span><span class=nx>ok</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-53-61 name=__codelineno-53-61 href=#__codelineno-53-61></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>ae</span><span class=p>.</span><span class=nx>arg</span><span class=p>)</span>
<a id=__codelineno-53-62 name=__codelineno-53-62 href=#__codelineno-53-62></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>ae</span><span class=p>.</span><span class=nx>prob</span><span class=p>)</span>
<a id=__codelineno-53-63 name=__codelineno-53-63 href=#__codelineno-53-63></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-53-64 name=__codelineno-53-64 href=#__codelineno-53-64></a><span class=p>}</span>
</code></pre></div> <p>运行输出内容：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>errors.go
<a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a>f1<span class=w> </span>worked:<span class=w> </span><span class=m>10</span>
<a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a>f1<span class=w> </span>failed:<span class=w> </span>can<span class=s1>&#39;t work with 42</span>
<a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a><span class=s1>f2 worked: 10</span>
<a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a><span class=s1>f2 failed: 42 - can&#39;</span>t<span class=w> </span>work<span class=w> </span>with<span class=w> </span>it
<a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a><span class=m>42</span>
<a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a>can<span class=err>&#39;</span>t<span class=w> </span>work<span class=w> </span>with<span class=w> </span>it
</code></pre></div> <h2 id=go-panic异常>Go Panic异常<a class=headerlink href=#go-panic异常 title="Permanent link">&para;</a></h2> <p>Panic表示的意思就是有些意想不到的错误发生了。</p> <p>通常我们用来表示程序正常运行过程中不应该出现的，或者我们没有处理好的错误。</p> <p><code>panic.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>
<a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a>
<a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a><span class=w>    </span><span class=c1>// 我们使用panic来检查预期不到的错误</span>
<a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a><span class=w>    </span><span class=nb>panic</span><span class=p>(</span><span class=s>&quot;a problem&quot;</span><span class=p>)</span>
<a id=__codelineno-55-8 name=__codelineno-55-8 href=#__codelineno-55-8></a><span class=w>    </span><span class=c1>// Panic的通常使用方法就是如果一个函数</span>
<a id=__codelineno-55-9 name=__codelineno-55-9 href=#__codelineno-55-9></a><span class=w>    </span><span class=c1>// 返回一个我们不知道怎么处理的错误的</span>
<a id=__codelineno-55-10 name=__codelineno-55-10 href=#__codelineno-55-10></a><span class=w>    </span><span class=c1>// 时候，直接终止执行。</span>
<a id=__codelineno-55-11 name=__codelineno-55-11 href=#__codelineno-55-11></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Create</span><span class=p>(</span><span class=s>&quot;/tmp/file&quot;</span><span class=p>)</span>
<a id=__codelineno-55-12 name=__codelineno-55-12 href=#__codelineno-55-12></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-55-13 name=__codelineno-55-13 href=#__codelineno-55-13></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-55-14 name=__codelineno-55-14 href=#__codelineno-55-14></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-55-15 name=__codelineno-55-15 href=#__codelineno-55-15></a><span class=p>}</span>
</code></pre></div> <p>运行结果</p> <div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a>panic:<span class=w> </span>a<span class=w> </span>problem
<a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>goroutine<span class=w> </span><span class=m>1</span><span class=w> </span><span class=o>[</span>running<span class=o>]</span>:
<a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a>runtime.panic<span class=o>(</span>0x44e060,<span class=w> </span>0xc0840031b0<span class=o>)</span>
<a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a><span class=w>        </span>C:/Users/ADMINI~1/AppData/Local/Temp/2/bindist667667715/go/src/pkg/runtime/panic.c:266<span class=w> </span>+0xc8
<a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a>main.main<span class=o>()</span>
<a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a><span class=w>        </span>D:/GoDoc/go_panic.go:8<span class=w> </span>+0x58
<a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a><span class=nb>exit</span><span class=w> </span>status<span class=w> </span><span class=m>2</span>
</code></pre></div> <p>和其他的编程语言不同的是，Go并不使用exception来处理错误，而是通过函数返回值返回错误代码。</p> <h2 id=go-exit>Go Exit<a class=headerlink href=#go-exit title="Permanent link">&para;</a></h2> <p>使用 os.Exit 可以给定一个状态，然后立刻退出程序运行。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>
<a id=__codelineno-57-3 name=__codelineno-57-3 href=#__codelineno-57-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-57-4 name=__codelineno-57-4 href=#__codelineno-57-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-57-5 name=__codelineno-57-5 href=#__codelineno-57-5></a>
<a id=__codelineno-57-6 name=__codelineno-57-6 href=#__codelineno-57-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-57-7 name=__codelineno-57-7 href=#__codelineno-57-7></a><span class=w>    </span><span class=c1>// 当使用`os.Exit`的时候defer操作不会被运行，</span>
<a id=__codelineno-57-8 name=__codelineno-57-8 href=#__codelineno-57-8></a><span class=w>    </span><span class=c1>// 所以这里的``fmt.Println`将不会被调用</span>
<a id=__codelineno-57-9 name=__codelineno-57-9 href=#__codelineno-57-9></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;!&quot;</span><span class=p>)</span>
<a id=__codelineno-57-10 name=__codelineno-57-10 href=#__codelineno-57-10></a><span class=w>    </span><span class=c1>// 退出程序并设置退出状态值</span>
<a id=__codelineno-57-11 name=__codelineno-57-11 href=#__codelineno-57-11></a><span class=w>    </span><span class=nx>os</span><span class=p>.</span><span class=nx>Exit</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-57-12 name=__codelineno-57-12 href=#__codelineno-57-12></a><span class=p>}</span>
</code></pre></div> <p>注意，Go和C语言不同，main函数并不返回一个整数来表示程序的退出状态，而是将退出状态作为os.Exit函数的参数。</p> <p>如果你使用go run来运行程序，将会有如下输出 <div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a><span class=nb>exit</span><span class=w> </span>status<span class=w> </span><span class=m>3</span>
</code></pre></div></p> <p>如果你使用go build先编译程序，然后再运行可执行文件，程序将不会有输出。</p> <p>如果你想查看程序的返回值，unix系列系统下面使用如下方法: <div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a>$<span class=w> </span>./go_exit
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a>$<span class=w> </span><span class=nb>echo</span><span class=w> </span><span class=nv>$?</span>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a><span class=m>3</span>
</code></pre></div></p> <h2 id=go-defer延迟调用>Go Defer延迟调用<a class=headerlink href=#go-defer延迟调用 title="Permanent link">&para;</a></h2> <p>Defer 被用来确保一个函数调用在程序执行结束前执行。同 样用来执行一些清理工作。 <code>defer</code> 用在像其他语言中的 ensure 和 finally 用到的地方。</p> <p><code>defer.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>
<a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a>
<a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a><span class=c1>// 假设我们想创建一个文件，然后写入数据，最后关闭文件</span>
<a id=__codelineno-60-7 name=__codelineno-60-7 href=#__codelineno-60-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-8 name=__codelineno-60-8 href=#__codelineno-60-8></a><span class=w>    </span><span class=c1>// 在使用createFile得到一个文件对象之后，我们使用defer</span>
<a id=__codelineno-60-9 name=__codelineno-60-9 href=#__codelineno-60-9></a><span class=w>    </span><span class=c1>// 来调用关闭文件的方法closeFile，这个方法将在main函数</span>
<a id=__codelineno-60-10 name=__codelineno-60-10 href=#__codelineno-60-10></a><span class=w>    </span><span class=c1>// 最后被执行，也就是writeFile完成之后</span>
<a id=__codelineno-60-11 name=__codelineno-60-11 href=#__codelineno-60-11></a><span class=w>    </span><span class=c1>//f := createFile(&quot;/tmp/defer.txt&quot;)</span>
<a id=__codelineno-60-12 name=__codelineno-60-12 href=#__codelineno-60-12></a><span class=w>    </span><span class=c1>// Windows下面使用这个语句</span>
<a id=__codelineno-60-13 name=__codelineno-60-13 href=#__codelineno-60-13></a><span class=w>    </span><span class=nx>f</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>createFile</span><span class=p>(</span><span class=s>&quot;D:\\Temp\\defer.txt&quot;</span><span class=p>)</span>
<a id=__codelineno-60-14 name=__codelineno-60-14 href=#__codelineno-60-14></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>closeFile</span><span class=p>(</span><span class=nx>f</span><span class=p>)</span>
<a id=__codelineno-60-15 name=__codelineno-60-15 href=#__codelineno-60-15></a><span class=w>    </span><span class=nx>writeFile</span><span class=p>(</span><span class=nx>f</span><span class=p>)</span>
<a id=__codelineno-60-16 name=__codelineno-60-16 href=#__codelineno-60-16></a><span class=p>}</span>
<a id=__codelineno-60-17 name=__codelineno-60-17 href=#__codelineno-60-17></a><span class=kd>func</span><span class=w> </span><span class=nx>createFile</span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=nx>os</span><span class=p>.</span><span class=nx>File</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-18 name=__codelineno-60-18 href=#__codelineno-60-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;creating&quot;</span><span class=p>)</span>
<a id=__codelineno-60-19 name=__codelineno-60-19 href=#__codelineno-60-19></a><span class=w>    </span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Create</span><span class=p>(</span><span class=nx>p</span><span class=p>)</span>
<a id=__codelineno-60-20 name=__codelineno-60-20 href=#__codelineno-60-20></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-21 name=__codelineno-60-21 href=#__codelineno-60-21></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-60-22 name=__codelineno-60-22 href=#__codelineno-60-22></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-60-23 name=__codelineno-60-23 href=#__codelineno-60-23></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>f</span>
<a id=__codelineno-60-24 name=__codelineno-60-24 href=#__codelineno-60-24></a><span class=p>}</span>
<a id=__codelineno-60-25 name=__codelineno-60-25 href=#__codelineno-60-25></a><span class=kd>func</span><span class=w> </span><span class=nx>writeFile</span><span class=p>(</span><span class=nx>f</span><span class=w> </span><span class=o>*</span><span class=nx>os</span><span class=p>.</span><span class=nx>File</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-26 name=__codelineno-60-26 href=#__codelineno-60-26></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;writing&quot;</span><span class=p>)</span>
<a id=__codelineno-60-27 name=__codelineno-60-27 href=#__codelineno-60-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintln</span><span class=p>(</span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=s>&quot;data&quot;</span><span class=p>)</span>
<a id=__codelineno-60-28 name=__codelineno-60-28 href=#__codelineno-60-28></a><span class=p>}</span>
<a id=__codelineno-60-29 name=__codelineno-60-29 href=#__codelineno-60-29></a><span class=kd>func</span><span class=w> </span><span class=nx>closeFile</span><span class=p>(</span><span class=nx>f</span><span class=w> </span><span class=o>*</span><span class=nx>os</span><span class=p>.</span><span class=nx>File</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-60-30 name=__codelineno-60-30 href=#__codelineno-60-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;closing&quot;</span><span class=p>)</span>
<a id=__codelineno-60-31 name=__codelineno-60-31 href=#__codelineno-60-31></a><span class=w>    </span><span class=nx>f</span><span class=p>.</span><span class=nx>Close</span><span class=p>()</span>
<a id=__codelineno-60-32 name=__codelineno-60-32 href=#__codelineno-60-32></a><span class=p>}</span>
</code></pre></div> <p>运行结果</p> <div class=highlight><pre><span></span><code><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a>creating
<a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a>writing
<a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a>closing
</code></pre></div> <p>使用defer来调用closeFile函数可以保证在main函数结束之前，关闭文件的操作一定会被执行。</p> <h2 id=go-协程-goroutines>Go 协程 Goroutines<a class=headerlink href=#go-协程-goroutines title="Permanent link">&para;</a></h2> <p>Go 协程 (goroutine) 在执行上来说是轻量级的线程。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a>
<a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>
<a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a><span class=kd>func</span><span class=w> </span><span class=nx>f</span><span class=p>(</span><span class=nx>from</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>3</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>from</span><span class=p>,</span><span class=w> </span><span class=s>&quot;:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a><span class=p>}</span>
<a id=__codelineno-62-10 name=__codelineno-62-10 href=#__codelineno-62-10></a>
<a id=__codelineno-62-11 name=__codelineno-62-11 href=#__codelineno-62-11></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-12 name=__codelineno-62-12 href=#__codelineno-62-12></a>
<a id=__codelineno-62-13 name=__codelineno-62-13 href=#__codelineno-62-13></a><span class=w>    </span><span class=c1>// 假设我们有一个函数叫做 `f(s)`。一般会这样同步(synchronously)调用</span>
<a id=__codelineno-62-14 name=__codelineno-62-14 href=#__codelineno-62-14></a><span class=w>    </span><span class=nx>f</span><span class=p>(</span><span class=s>&quot;direct&quot;</span><span class=p>)</span>
<a id=__codelineno-62-15 name=__codelineno-62-15 href=#__codelineno-62-15></a>
<a id=__codelineno-62-16 name=__codelineno-62-16 href=#__codelineno-62-16></a><span class=w>    </span><span class=c1>// 使用 `go f(s)` 在一个 Go 协程中调用这个函数。</span>
<a id=__codelineno-62-17 name=__codelineno-62-17 href=#__codelineno-62-17></a><span class=w>    </span><span class=c1>// 这个新的 Go 协程将会并发(concurrently)执行这个函数。</span>
<a id=__codelineno-62-18 name=__codelineno-62-18 href=#__codelineno-62-18></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=nx>f</span><span class=p>(</span><span class=s>&quot;goroutine&quot;</span><span class=p>)</span>
<a id=__codelineno-62-19 name=__codelineno-62-19 href=#__codelineno-62-19></a>
<a id=__codelineno-62-20 name=__codelineno-62-20 href=#__codelineno-62-20></a><span class=w>    </span><span class=c1>// 你也可以为匿名函数启动一个 Go 协程。</span>
<a id=__codelineno-62-21 name=__codelineno-62-21 href=#__codelineno-62-21></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>msg</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-62-22 name=__codelineno-62-22 href=#__codelineno-62-22></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
<a id=__codelineno-62-23 name=__codelineno-62-23 href=#__codelineno-62-23></a><span class=w>    </span><span class=p>}(</span><span class=s>&quot;going&quot;</span><span class=p>)</span>
<a id=__codelineno-62-24 name=__codelineno-62-24 href=#__codelineno-62-24></a>
<a id=__codelineno-62-25 name=__codelineno-62-25 href=#__codelineno-62-25></a><span class=w>    </span><span class=c1>// 现在这两个 Go 协程在独立的 Go 协程中异步(asynchronously)运行，所以</span>
<a id=__codelineno-62-26 name=__codelineno-62-26 href=#__codelineno-62-26></a><span class=w>    </span><span class=c1>// 程序直接运行到这一行。这里的 `Scanln` 代码需要我们</span>
<a id=__codelineno-62-27 name=__codelineno-62-27 href=#__codelineno-62-27></a><span class=w>    </span><span class=c1>// 在程序退出前按下任意键结束。</span>
<a id=__codelineno-62-28 name=__codelineno-62-28 href=#__codelineno-62-28></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Scanln</span><span class=p>()</span>
<a id=__codelineno-62-29 name=__codelineno-62-29 href=#__codelineno-62-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;done&quot;</span><span class=p>)</span>
<a id=__codelineno-62-30 name=__codelineno-62-30 href=#__codelineno-62-30></a><span class=p>}</span>
</code></pre></div> <p>当我们运行这个程序时，将首先看到阻塞式调用的输出，然后是 两个 Go 协程的交替输出。这种交替的情况表示 Go 运行时是以 并发的方式运行协程的。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>goroutines.go
<a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>direct<span class=w> </span>:<span class=w> </span><span class=m>0</span>
<a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a>direct<span class=w> </span>:<span class=w> </span><span class=m>1</span>
<a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>direct<span class=w> </span>:<span class=w> </span><span class=m>2</span>
<a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a>goroutine<span class=w> </span>:<span class=w> </span><span class=m>0</span>
<a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a>going
<a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a>goroutine<span class=w> </span>:<span class=w> </span><span class=m>1</span>
<a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a>goroutine<span class=w> </span>:<span class=w> </span><span class=m>2</span>
<a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a>&lt;enter&gt;
<a id=__codelineno-63-10 name=__codelineno-63-10 href=#__codelineno-63-10></a><span class=k>done</span>
</code></pre></div> <h2 id=go-通道-channels>Go 通道 Channels<a class=headerlink href=#go-通道-channels title="Permanent link">&para;</a></h2> <p>通道 (Channels) 是连接多个 Go 协程的管道。你可以从一个 Go 协程 将值发送到通道，然后在别的 Go 协程中接收。</p> <p><code>channels.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>
<a id=__codelineno-64-3 name=__codelineno-64-3 href=#__codelineno-64-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-64-4 name=__codelineno-64-4 href=#__codelineno-64-4></a>
<a id=__codelineno-64-5 name=__codelineno-64-5 href=#__codelineno-64-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-64-6 name=__codelineno-64-6 href=#__codelineno-64-6></a>
<a id=__codelineno-64-7 name=__codelineno-64-7 href=#__codelineno-64-7></a><span class=w>    </span><span class=c1>// 使用 `make(chan val-type)` 创建一个新的通道。</span>
<a id=__codelineno-64-8 name=__codelineno-64-8 href=#__codelineno-64-8></a><span class=w>    </span><span class=c1>// 通道类型就是他们需要传递值的类型。</span>
<a id=__codelineno-64-9 name=__codelineno-64-9 href=#__codelineno-64-9></a><span class=w>    </span><span class=nx>messages</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>chan</span><span class=w> </span><span class=kt>string</span><span class=p>)</span>
<a id=__codelineno-64-10 name=__codelineno-64-10 href=#__codelineno-64-10></a>
<a id=__codelineno-64-11 name=__codelineno-64-11 href=#__codelineno-64-11></a><span class=w>    </span><span class=c1>// 使用 `channel &lt;-` 语法 _发送(send)_ 一个新的值到通道中。这里 我们在一个新的 Go 协程中发送 `&quot;ping&quot;` 到上面创建的 `messages` 通道中。</span>
<a id=__codelineno-64-12 name=__codelineno-64-12 href=#__codelineno-64-12></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>messages</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=s>&quot;ping&quot;</span><span class=w> </span><span class=p>}()</span>
<a id=__codelineno-64-13 name=__codelineno-64-13 href=#__codelineno-64-13></a>
<a id=__codelineno-64-14 name=__codelineno-64-14 href=#__codelineno-64-14></a><span class=w>    </span><span class=c1>// 使用 `&lt;-channel` 语法从通道中 _接收(receives)_ 一个值。这里 将接收我们在上面发送的 `&quot;ping&quot;` 消息并打印出来。</span>
<a id=__codelineno-64-15 name=__codelineno-64-15 href=#__codelineno-64-15></a><span class=w>    </span><span class=nx>msg</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&lt;-</span><span class=nx>messages</span>
<a id=__codelineno-64-16 name=__codelineno-64-16 href=#__codelineno-64-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
<a id=__codelineno-64-17 name=__codelineno-64-17 href=#__codelineno-64-17></a><span class=p>}</span>
</code></pre></div> <p>我们运行程序时，通过通道，消息 "ping" 成功地从一个 Go 协程传到 另一个中。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>channels.go
<a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>ping
</code></pre></div> <p>默认发送和接收操作是阻塞的，直到发送方和接收方都准备完毕。</p> <p>这个特性允许我们，不使用任何其它的同步操作，来在程序结尾等待 消息 "ping"。</p> <h2 id=go-通道缓冲-buffering>Go 通道缓冲 Buffering<a class=headerlink href=#go-通道缓冲-buffering title="Permanent link">&para;</a></h2> <p>默认情况下，通道是 无缓冲 的，这意味着只有对应的接收（&lt;- chan） 通道准备好接收时，才允许进行发送（chan &lt;-）。</p> <p>可缓存通道 允许在没有对应接收方的情况下，缓存限定数量的值。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a>
<a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a>
<a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a>
<a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a><span class=w>    </span><span class=c1>// 这里我们创建了一个字符串通道，最多允许缓存 2 个值。</span>
<a id=__codelineno-66-8 name=__codelineno-66-8 href=#__codelineno-66-8></a><span class=w>    </span><span class=nx>messages</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>chan</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-66-9 name=__codelineno-66-9 href=#__codelineno-66-9></a>
<a id=__codelineno-66-10 name=__codelineno-66-10 href=#__codelineno-66-10></a><span class=w>    </span><span class=c1>// 由于此通道是缓冲的，因此我们可以将这些值发送到通道中</span>
<a id=__codelineno-66-11 name=__codelineno-66-11 href=#__codelineno-66-11></a><span class=w>    </span><span class=c1>// 而不需要相应的并发接收。</span>
<a id=__codelineno-66-12 name=__codelineno-66-12 href=#__codelineno-66-12></a><span class=w>    </span><span class=nx>messages</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=s>&quot;buffered&quot;</span>
<a id=__codelineno-66-13 name=__codelineno-66-13 href=#__codelineno-66-13></a><span class=w>    </span><span class=nx>messages</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=s>&quot;channel&quot;</span>
<a id=__codelineno-66-14 name=__codelineno-66-14 href=#__codelineno-66-14></a>
<a id=__codelineno-66-15 name=__codelineno-66-15 href=#__codelineno-66-15></a><span class=w>    </span><span class=c1>// 然后我们可以像前面一样接收这两个值。</span>
<a id=__codelineno-66-16 name=__codelineno-66-16 href=#__codelineno-66-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=o>&lt;-</span><span class=nx>messages</span><span class=p>)</span>
<a id=__codelineno-66-17 name=__codelineno-66-17 href=#__codelineno-66-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=o>&lt;-</span><span class=nx>messages</span><span class=p>)</span>
<a id=__codelineno-66-18 name=__codelineno-66-18 href=#__codelineno-66-18></a><span class=p>}</span>
</code></pre></div> <p>运行：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>channel-buffering.go<span class=w> </span>
<a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a>buffered
<a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a>channel
</code></pre></div> <h2 id=go-通道同步-synchronization>GO 通道同步 Synchronization<a class=headerlink href=#go-通道同步-synchronization title="Permanent link">&para;</a></h2> <p>我们可以使用通道来同步 Go 协程间的执行状态。这里是一个 使用阻塞的接受方式来等待一个 Go 协程的运行结束。</p> <p><code>channel-synchronization.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a>
<a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a>
<a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a><span class=c1>// 这是一个我们将要在 Go 协程中运行的函数。`done` 通道 将被用于通知其他 Go 协程这个函数已经工作完毕。</span>
<a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a><span class=kd>func</span><span class=w> </span><span class=nx>worker</span><span class=p>(</span><span class=nx>done</span><span class=w> </span><span class=kd>chan</span><span class=w> </span><span class=kt>bool</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=s>&quot;working...&quot;</span><span class=p>)</span>
<a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a><span class=w>    </span><span class=nx>time</span><span class=p>.</span><span class=nx>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
<a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;done&quot;</span><span class=p>)</span>
<a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a>
<a id=__codelineno-68-12 name=__codelineno-68-12 href=#__codelineno-68-12></a><span class=w>    </span><span class=c1>// 发送一个值来通知我们已经完工啦。</span>
<a id=__codelineno-68-13 name=__codelineno-68-13 href=#__codelineno-68-13></a><span class=w>    </span><span class=nx>done</span><span class=w> </span><span class=o>&lt;-</span><span class=w> </span><span class=kc>true</span>
<a id=__codelineno-68-14 name=__codelineno-68-14 href=#__codelineno-68-14></a><span class=p>}</span>
<a id=__codelineno-68-15 name=__codelineno-68-15 href=#__codelineno-68-15></a>
<a id=__codelineno-68-16 name=__codelineno-68-16 href=#__codelineno-68-16></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-68-17 name=__codelineno-68-17 href=#__codelineno-68-17></a>
<a id=__codelineno-68-18 name=__codelineno-68-18 href=#__codelineno-68-18></a><span class=w>    </span><span class=c1>// 运行一个 worker Go协程，并给予用于通知的通道。</span>
<a id=__codelineno-68-19 name=__codelineno-68-19 href=#__codelineno-68-19></a><span class=w>    </span><span class=nx>done</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>(</span><span class=kd>chan</span><span class=w> </span><span class=kt>bool</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-68-20 name=__codelineno-68-20 href=#__codelineno-68-20></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=nx>worker</span><span class=p>(</span><span class=nx>done</span><span class=p>)</span>
<a id=__codelineno-68-21 name=__codelineno-68-21 href=#__codelineno-68-21></a>
<a id=__codelineno-68-22 name=__codelineno-68-22 href=#__codelineno-68-22></a><span class=w>    </span><span class=c1>// 程序将在接收到通道中 worker 发出的通知前一直阻塞。</span>
<a id=__codelineno-68-23 name=__codelineno-68-23 href=#__codelineno-68-23></a><span class=w>    </span><span class=o>&lt;-</span><span class=nx>done</span>
<a id=__codelineno-68-24 name=__codelineno-68-24 href=#__codelineno-68-24></a><span class=p>}</span>
</code></pre></div> <h2 id=go-jsonyaml等格式解析>Go JSON、YAML等格式解析<a class=headerlink href=#go-jsonyaml等格式解析 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a>
<a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a><span class=w>    </span><span class=s>&quot;encoding/json&quot;</span>
<a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a><span class=w>    </span><span class=s>&quot;encoding/xml&quot;</span>
<a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a><span class=w>    </span><span class=s>&quot;github.com/pelletier/go-toml&quot;</span>
<a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a><span class=w>    </span><span class=s>&quot;gopkg.in/yaml.v2&quot;</span>
<a id=__codelineno-69-8 name=__codelineno-69-8 href=#__codelineno-69-8></a><span class=w>    </span><span class=s>&quot;log&quot;</span>
<a id=__codelineno-69-9 name=__codelineno-69-9 href=#__codelineno-69-9></a><span class=p>)</span>
<a id=__codelineno-69-10 name=__codelineno-69-10 href=#__codelineno-69-10></a>
<a id=__codelineno-69-11 name=__codelineno-69-11 href=#__codelineno-69-11></a><span class=kd>type</span><span class=w> </span><span class=nx>Student</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-12 name=__codelineno-69-12 href=#__codelineno-69-12></a><span class=w>    </span><span class=nx>Job</span><span class=w>  </span><span class=kt>string</span><span class=w> </span><span class=s>`json:&quot;job&quot;`</span>
<a id=__codelineno-69-13 name=__codelineno-69-13 href=#__codelineno-69-13></a><span class=w>    </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=s>`json:&quot;name&quot;`</span>
<a id=__codelineno-69-14 name=__codelineno-69-14 href=#__codelineno-69-14></a><span class=w>    </span><span class=nx>Sex</span><span class=w>  </span><span class=kt>string</span><span class=w> </span><span class=s>`json:&quot;sex&quot;`</span>
<a id=__codelineno-69-15 name=__codelineno-69-15 href=#__codelineno-69-15></a><span class=p>}</span>
<a id=__codelineno-69-16 name=__codelineno-69-16 href=#__codelineno-69-16></a>
<a id=__codelineno-69-17 name=__codelineno-69-17 href=#__codelineno-69-17></a><span class=c1>// parseJSON parses the given JSON data into a Student struct.</span>
<a id=__codelineno-69-18 name=__codelineno-69-18 href=#__codelineno-69-18></a><span class=c1>//</span>
<a id=__codelineno-69-19 name=__codelineno-69-19 href=#__codelineno-69-19></a><span class=c1>// It takes a byte array of JSON data as a parameter and returns a Student struct and an error.</span>
<a id=__codelineno-69-20 name=__codelineno-69-20 href=#__codelineno-69-20></a><span class=kd>func</span><span class=w> </span><span class=nx>parseJSON</span><span class=p>(</span><span class=nx>data</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>Student</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-21 name=__codelineno-69-21 href=#__codelineno-69-21></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>student</span><span class=w> </span><span class=nx>Student</span>
<a id=__codelineno-69-22 name=__codelineno-69-22 href=#__codelineno-69-22></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>(</span><span class=nx>data</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>student</span><span class=p>)</span>
<a id=__codelineno-69-23 name=__codelineno-69-23 href=#__codelineno-69-23></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>student</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
<a id=__codelineno-69-24 name=__codelineno-69-24 href=#__codelineno-69-24></a><span class=p>}</span>
<a id=__codelineno-69-25 name=__codelineno-69-25 href=#__codelineno-69-25></a>
<a id=__codelineno-69-26 name=__codelineno-69-26 href=#__codelineno-69-26></a><span class=kd>func</span><span class=w> </span><span class=nx>parseYAML</span><span class=p>(</span><span class=nx>data</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>Student</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-27 name=__codelineno-69-27 href=#__codelineno-69-27></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>student</span><span class=w> </span><span class=nx>Student</span>
<a id=__codelineno-69-28 name=__codelineno-69-28 href=#__codelineno-69-28></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>yaml</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>(</span><span class=nx>data</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>student</span><span class=p>)</span>
<a id=__codelineno-69-29 name=__codelineno-69-29 href=#__codelineno-69-29></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>student</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
<a id=__codelineno-69-30 name=__codelineno-69-30 href=#__codelineno-69-30></a><span class=p>}</span>
<a id=__codelineno-69-31 name=__codelineno-69-31 href=#__codelineno-69-31></a>
<a id=__codelineno-69-32 name=__codelineno-69-32 href=#__codelineno-69-32></a><span class=c1>// parseXML parses the XML data and returns a Student and an error.</span>
<a id=__codelineno-69-33 name=__codelineno-69-33 href=#__codelineno-69-33></a><span class=c1>//</span>
<a id=__codelineno-69-34 name=__codelineno-69-34 href=#__codelineno-69-34></a><span class=c1>// It takes a byte slice data as a parameter and returns a Student and an error.</span>
<a id=__codelineno-69-35 name=__codelineno-69-35 href=#__codelineno-69-35></a><span class=kd>func</span><span class=w> </span><span class=nx>parseXML</span><span class=p>(</span><span class=nx>data</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>Student</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-36 name=__codelineno-69-36 href=#__codelineno-69-36></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>student</span><span class=w> </span><span class=nx>Student</span>
<a id=__codelineno-69-37 name=__codelineno-69-37 href=#__codelineno-69-37></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>xml</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>(</span><span class=nx>data</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>student</span><span class=p>)</span>
<a id=__codelineno-69-38 name=__codelineno-69-38 href=#__codelineno-69-38></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>student</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
<a id=__codelineno-69-39 name=__codelineno-69-39 href=#__codelineno-69-39></a><span class=p>}</span>
<a id=__codelineno-69-40 name=__codelineno-69-40 href=#__codelineno-69-40></a>
<a id=__codelineno-69-41 name=__codelineno-69-41 href=#__codelineno-69-41></a><span class=c1>// parseTOML parses the given data and returns a Student and an error.</span>
<a id=__codelineno-69-42 name=__codelineno-69-42 href=#__codelineno-69-42></a><span class=c1>//</span>
<a id=__codelineno-69-43 name=__codelineno-69-43 href=#__codelineno-69-43></a><span class=c1>// data []byte - the data to be parsed</span>
<a id=__codelineno-69-44 name=__codelineno-69-44 href=#__codelineno-69-44></a><span class=c1>// (Student, error) - the parsed Student and any parsing error</span>
<a id=__codelineno-69-45 name=__codelineno-69-45 href=#__codelineno-69-45></a><span class=kd>func</span><span class=w> </span><span class=nx>parseTOML</span><span class=p>(</span><span class=nx>data</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=nx>Student</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-46 name=__codelineno-69-46 href=#__codelineno-69-46></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>student</span><span class=w> </span><span class=nx>Student</span>
<a id=__codelineno-69-47 name=__codelineno-69-47 href=#__codelineno-69-47></a><span class=w>    </span><span class=nx>tree</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>toml</span><span class=p>.</span><span class=nx>Load</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>data</span><span class=p>))</span>
<a id=__codelineno-69-48 name=__codelineno-69-48 href=#__codelineno-69-48></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-49 name=__codelineno-69-49 href=#__codelineno-69-49></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>student</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
<a id=__codelineno-69-50 name=__codelineno-69-50 href=#__codelineno-69-50></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-69-51 name=__codelineno-69-51 href=#__codelineno-69-51></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>tree</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>student</span><span class=p>)</span>
<a id=__codelineno-69-52 name=__codelineno-69-52 href=#__codelineno-69-52></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>student</span><span class=p>,</span><span class=w> </span><span class=nx>err</span>
<a id=__codelineno-69-53 name=__codelineno-69-53 href=#__codelineno-69-53></a><span class=p>}</span>
<a id=__codelineno-69-54 name=__codelineno-69-54 href=#__codelineno-69-54></a>
<a id=__codelineno-69-55 name=__codelineno-69-55 href=#__codelineno-69-55></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-56 name=__codelineno-69-56 href=#__codelineno-69-56></a><span class=w>    </span><span class=c1>// Example usage</span>
<a id=__codelineno-69-57 name=__codelineno-69-57 href=#__codelineno-69-57></a><span class=w>    </span><span class=nx>jsonData</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>`{&quot;job&quot;: &quot;Engineer&quot;, &quot;name&quot;: &quot;Alice&quot;, &quot;sex&quot;: &quot;female&quot;}`</span><span class=p>)</span>
<a id=__codelineno-69-58 name=__codelineno-69-58 href=#__codelineno-69-58></a><span class=w>    </span><span class=c1>// YAML Example</span>
<a id=__codelineno-69-59 name=__codelineno-69-59 href=#__codelineno-69-59></a><span class=w>    </span><span class=nx>yamlData</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>`</span>
<a id=__codelineno-69-60 name=__codelineno-69-60 href=#__codelineno-69-60></a><span class=s>job: Engineer</span>
<a id=__codelineno-69-61 name=__codelineno-69-61 href=#__codelineno-69-61></a><span class=s>name: Alice</span>
<a id=__codelineno-69-62 name=__codelineno-69-62 href=#__codelineno-69-62></a><span class=s>sex: female</span>
<a id=__codelineno-69-63 name=__codelineno-69-63 href=#__codelineno-69-63></a><span class=s>`</span><span class=p>)</span>
<a id=__codelineno-69-64 name=__codelineno-69-64 href=#__codelineno-69-64></a><span class=w>    </span><span class=c1>// XML Example</span>
<a id=__codelineno-69-65 name=__codelineno-69-65 href=#__codelineno-69-65></a><span class=w>    </span><span class=nx>xmlData</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>`&lt;Student&gt;&lt;Job&gt;Engineer&lt;/Job&gt;&lt;Name&gt;Alice&lt;/Name&gt;&lt;Sex&gt;female&lt;/Sex&gt;&lt;/Student&gt;`</span><span class=p>)</span>
<a id=__codelineno-69-66 name=__codelineno-69-66 href=#__codelineno-69-66></a><span class=w>    </span><span class=c1>// TOML Example</span>
<a id=__codelineno-69-67 name=__codelineno-69-67 href=#__codelineno-69-67></a><span class=w>    </span><span class=nx>tomlData</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>`job = &quot;Engineer&quot;</span>
<a id=__codelineno-69-68 name=__codelineno-69-68 href=#__codelineno-69-68></a><span class=s>name = &quot;Alice&quot;</span>
<a id=__codelineno-69-69 name=__codelineno-69-69 href=#__codelineno-69-69></a><span class=s>sex = &quot;female&quot;`</span><span class=p>)</span>
<a id=__codelineno-69-70 name=__codelineno-69-70 href=#__codelineno-69-70></a>
<a id=__codelineno-69-71 name=__codelineno-69-71 href=#__codelineno-69-71></a><span class=w>    </span><span class=c1>// Parse JSON</span>
<a id=__codelineno-69-72 name=__codelineno-69-72 href=#__codelineno-69-72></a><span class=w>    </span><span class=nx>jsonStudent</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>parseJSON</span><span class=p>(</span><span class=nx>jsonData</span><span class=p>)</span>
<a id=__codelineno-69-73 name=__codelineno-69-73 href=#__codelineno-69-73></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-74 name=__codelineno-69-74 href=#__codelineno-69-74></a><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nx>Fatal</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-69-75 name=__codelineno-69-75 href=#__codelineno-69-75></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-69-76 name=__codelineno-69-76 href=#__codelineno-69-76></a><span class=w>    </span><span class=nx>log</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;JSON Student:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>jsonStudent</span><span class=p>)</span><span class=w> </span><span class=c1>//2024/02/01 11:06:04 JSON Student: {Engineer Alice female}</span>
<a id=__codelineno-69-77 name=__codelineno-69-77 href=#__codelineno-69-77></a>
<a id=__codelineno-69-78 name=__codelineno-69-78 href=#__codelineno-69-78></a><span class=w>    </span><span class=c1>// Parse YAML</span>
<a id=__codelineno-69-79 name=__codelineno-69-79 href=#__codelineno-69-79></a><span class=w>    </span><span class=nx>yamlStudent</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>parseYAML</span><span class=p>(</span><span class=nx>yamlData</span><span class=p>)</span>
<a id=__codelineno-69-80 name=__codelineno-69-80 href=#__codelineno-69-80></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-81 name=__codelineno-69-81 href=#__codelineno-69-81></a><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nx>Fatal</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-69-82 name=__codelineno-69-82 href=#__codelineno-69-82></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-69-83 name=__codelineno-69-83 href=#__codelineno-69-83></a><span class=w>    </span><span class=nx>log</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;YAML Student:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>yamlStudent</span><span class=p>)</span><span class=w> </span><span class=c1>//2024/02/01 11:15:47 YAML Student: {Engineer Alice female}</span>
<a id=__codelineno-69-84 name=__codelineno-69-84 href=#__codelineno-69-84></a>
<a id=__codelineno-69-85 name=__codelineno-69-85 href=#__codelineno-69-85></a><span class=w>    </span><span class=c1>// Parse XML</span>
<a id=__codelineno-69-86 name=__codelineno-69-86 href=#__codelineno-69-86></a><span class=w>    </span><span class=nx>xmlStudent</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>parseXML</span><span class=p>(</span><span class=nx>xmlData</span><span class=p>)</span>
<a id=__codelineno-69-87 name=__codelineno-69-87 href=#__codelineno-69-87></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-88 name=__codelineno-69-88 href=#__codelineno-69-88></a><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nx>Fatal</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-69-89 name=__codelineno-69-89 href=#__codelineno-69-89></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-69-90 name=__codelineno-69-90 href=#__codelineno-69-90></a><span class=w>    </span><span class=nx>log</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;XML Student:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>xmlStudent</span><span class=p>)</span><span class=w> </span><span class=c1>//2024/02/01 11:06:04 XML Student: {Engineer Alice female}</span>
<a id=__codelineno-69-91 name=__codelineno-69-91 href=#__codelineno-69-91></a>
<a id=__codelineno-69-92 name=__codelineno-69-92 href=#__codelineno-69-92></a><span class=w>    </span><span class=c1>// Parse TOML</span>
<a id=__codelineno-69-93 name=__codelineno-69-93 href=#__codelineno-69-93></a><span class=w>    </span><span class=nx>tomlStudent</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>parseTOML</span><span class=p>(</span><span class=nx>tomlData</span><span class=p>)</span>
<a id=__codelineno-69-94 name=__codelineno-69-94 href=#__codelineno-69-94></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-69-95 name=__codelineno-69-95 href=#__codelineno-69-95></a><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nx>Fatal</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-69-96 name=__codelineno-69-96 href=#__codelineno-69-96></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-69-97 name=__codelineno-69-97 href=#__codelineno-69-97></a><span class=w>    </span><span class=nx>log</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;TOML Student:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>tomlStudent</span><span class=p>)</span><span class=w> </span><span class=c1>//2024/02/01 11:16:41 TOML Student: {Engineer Alice female}</span>
<a id=__codelineno-69-98 name=__codelineno-69-98 href=#__codelineno-69-98></a><span class=p>}</span>
</code></pre></div> <h2 id=go-json-解析>Go JSON 解析<a class=headerlink href=#go-json-解析 title="Permanent link">&para;</a></h2> <p>Go 提供内置的 JSON 编解码支持，包括内置或者自定义类 型与 JSON 数据之间的转化。</p> <p><code>json.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a>
<a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;encoding/json&quot;</span>
<a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a>
<a id=__codelineno-70-7 name=__codelineno-70-7 href=#__codelineno-70-7></a><span class=c1>// 我们使用两个结构体来演示自定义数据类型的JSON数据编码和解码。</span>
<a id=__codelineno-70-8 name=__codelineno-70-8 href=#__codelineno-70-8></a><span class=kd>type</span><span class=w> </span><span class=nx>Response1</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-70-9 name=__codelineno-70-9 href=#__codelineno-70-9></a><span class=w>    </span><span class=nx>Page</span><span class=w>   </span><span class=kt>int</span>
<a id=__codelineno-70-10 name=__codelineno-70-10 href=#__codelineno-70-10></a><span class=w>    </span><span class=nx>Fruits</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span>
<a id=__codelineno-70-11 name=__codelineno-70-11 href=#__codelineno-70-11></a><span class=p>}</span>
<a id=__codelineno-70-12 name=__codelineno-70-12 href=#__codelineno-70-12></a><span class=kd>type</span><span class=w> </span><span class=nx>Response2</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-70-13 name=__codelineno-70-13 href=#__codelineno-70-13></a><span class=w>    </span><span class=nx>Page</span><span class=w>   </span><span class=kt>int</span><span class=w>      </span><span class=s>`json:&quot;page&quot;`</span>
<a id=__codelineno-70-14 name=__codelineno-70-14 href=#__codelineno-70-14></a><span class=w>    </span><span class=nx>Fruits</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=w> </span><span class=s>`json:&quot;fruits&quot;`</span>
<a id=__codelineno-70-15 name=__codelineno-70-15 href=#__codelineno-70-15></a><span class=p>}</span>
<a id=__codelineno-70-16 name=__codelineno-70-16 href=#__codelineno-70-16></a>
<a id=__codelineno-70-17 name=__codelineno-70-17 href=#__codelineno-70-17></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-70-18 name=__codelineno-70-18 href=#__codelineno-70-18></a><span class=w>    </span><span class=c1>// 首先我们看一下将基础数据类型编码为JSON数据</span>
<a id=__codelineno-70-19 name=__codelineno-70-19 href=#__codelineno-70-19></a><span class=w>    </span><span class=nx>bolB</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=kc>true</span><span class=p>)</span>
<a id=__codelineno-70-20 name=__codelineno-70-20 href=#__codelineno-70-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>bolB</span><span class=p>))</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-70-21 name=__codelineno-70-21 href=#__codelineno-70-21></a>
<a id=__codelineno-70-22 name=__codelineno-70-22 href=#__codelineno-70-22></a><span class=w>    </span><span class=nx>intB</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-70-23 name=__codelineno-70-23 href=#__codelineno-70-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>intB</span><span class=p>))</span><span class=w> </span><span class=c1>//1</span>
<a id=__codelineno-70-24 name=__codelineno-70-24 href=#__codelineno-70-24></a>
<a id=__codelineno-70-25 name=__codelineno-70-25 href=#__codelineno-70-25></a><span class=w>    </span><span class=nx>fltB</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=mf>2.34</span><span class=p>)</span>
<a id=__codelineno-70-26 name=__codelineno-70-26 href=#__codelineno-70-26></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>fltB</span><span class=p>))</span><span class=w> </span><span class=c1>//2.34</span>
<a id=__codelineno-70-27 name=__codelineno-70-27 href=#__codelineno-70-27></a>
<a id=__codelineno-70-28 name=__codelineno-70-28 href=#__codelineno-70-28></a><span class=w>    </span><span class=nx>strB</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=s>&quot;gopher&quot;</span><span class=p>)</span>
<a id=__codelineno-70-29 name=__codelineno-70-29 href=#__codelineno-70-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>strB</span><span class=p>))</span><span class=w> </span><span class=c1>// &quot;gopher&quot;</span>
<a id=__codelineno-70-30 name=__codelineno-70-30 href=#__codelineno-70-30></a>
<a id=__codelineno-70-31 name=__codelineno-70-31 href=#__codelineno-70-31></a><span class=w>    </span><span class=c1>// 这里是将切片和字典编码为JSON数组或对象</span>
<a id=__codelineno-70-32 name=__codelineno-70-32 href=#__codelineno-70-32></a><span class=w>    </span><span class=nx>slcD</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;apple&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;peach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;pear&quot;</span><span class=p>}</span>
<a id=__codelineno-70-33 name=__codelineno-70-33 href=#__codelineno-70-33></a><span class=w>    </span><span class=nx>slcB</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=nx>slcD</span><span class=p>)</span>
<a id=__codelineno-70-34 name=__codelineno-70-34 href=#__codelineno-70-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>slcB</span><span class=p>))</span><span class=w> </span><span class=c1>//[&quot;apple&quot;,&quot;peach&quot;,&quot;pear&quot;]</span>
<a id=__codelineno-70-35 name=__codelineno-70-35 href=#__codelineno-70-35></a>
<a id=__codelineno-70-36 name=__codelineno-70-36 href=#__codelineno-70-36></a><span class=w>    </span><span class=nx>mapD</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=s>&quot;apple&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=s>&quot;lettuce&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>7</span><span class=p>}</span>
<a id=__codelineno-70-37 name=__codelineno-70-37 href=#__codelineno-70-37></a><span class=w>    </span><span class=nx>mapB</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=nx>mapD</span><span class=p>)</span>
<a id=__codelineno-70-38 name=__codelineno-70-38 href=#__codelineno-70-38></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>mapB</span><span class=p>))</span><span class=w> </span><span class=c1>//{&quot;apple&quot;:5,&quot;lettuce&quot;:7}</span>
<a id=__codelineno-70-39 name=__codelineno-70-39 href=#__codelineno-70-39></a>
<a id=__codelineno-70-40 name=__codelineno-70-40 href=#__codelineno-70-40></a><span class=w>    </span><span class=c1>// JSON包可以自动地编码自定义数据类型。结果将只包括自定义</span>
<a id=__codelineno-70-41 name=__codelineno-70-41 href=#__codelineno-70-41></a><span class=w>    </span><span class=c1>// 类型中的可导出成员的值并且默认情况下，这些成员名称都作</span>
<a id=__codelineno-70-42 name=__codelineno-70-42 href=#__codelineno-70-42></a><span class=w>    </span><span class=c1>// 为JSON数据的键</span>
<a id=__codelineno-70-43 name=__codelineno-70-43 href=#__codelineno-70-43></a><span class=w>    </span><span class=nx>res1D</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Response1</span><span class=p>{</span>
<a id=__codelineno-70-44 name=__codelineno-70-44 href=#__codelineno-70-44></a><span class=w>        </span><span class=nx>Page</span><span class=p>:</span><span class=w>   </span><span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-70-45 name=__codelineno-70-45 href=#__codelineno-70-45></a><span class=w>        </span><span class=nx>Fruits</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;apple&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;peach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;pear&quot;</span><span class=p>}}</span>
<a id=__codelineno-70-46 name=__codelineno-70-46 href=#__codelineno-70-46></a><span class=w>    </span><span class=nx>res1B</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=nx>res1D</span><span class=p>)</span>
<a id=__codelineno-70-47 name=__codelineno-70-47 href=#__codelineno-70-47></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>res1B</span><span class=p>))</span><span class=w> </span><span class=c1>//{&quot;Page&quot;:1,&quot;Fruits&quot;:[&quot;apple&quot;,&quot;peach&quot;,&quot;pear&quot;]}</span>
<a id=__codelineno-70-48 name=__codelineno-70-48 href=#__codelineno-70-48></a>
<a id=__codelineno-70-49 name=__codelineno-70-49 href=#__codelineno-70-49></a><span class=w>    </span><span class=c1>// 你可以使用tag来自定义编码后JSON键的名称</span>
<a id=__codelineno-70-50 name=__codelineno-70-50 href=#__codelineno-70-50></a><span class=w>    </span><span class=nx>res2D</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Response2</span><span class=p>{</span>
<a id=__codelineno-70-51 name=__codelineno-70-51 href=#__codelineno-70-51></a><span class=w>        </span><span class=nx>Page</span><span class=p>:</span><span class=w>   </span><span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-70-52 name=__codelineno-70-52 href=#__codelineno-70-52></a><span class=w>        </span><span class=nx>Fruits</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;apple&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;peach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;pear&quot;</span><span class=p>}}</span>
<a id=__codelineno-70-53 name=__codelineno-70-53 href=#__codelineno-70-53></a><span class=w>    </span><span class=nx>res2B</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Marshal</span><span class=p>(</span><span class=nx>res2D</span><span class=p>)</span>
<a id=__codelineno-70-54 name=__codelineno-70-54 href=#__codelineno-70-54></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>res2B</span><span class=p>))</span><span class=w> </span><span class=c1>//{&quot;page&quot;:1,&quot;fruits&quot;:[&quot;apple&quot;,&quot;peach&quot;,&quot;pear&quot;]}</span>
<a id=__codelineno-70-55 name=__codelineno-70-55 href=#__codelineno-70-55></a>
<a id=__codelineno-70-56 name=__codelineno-70-56 href=#__codelineno-70-56></a><span class=w>    </span><span class=c1>// 现在我们看看解码JSON数据为Go数值</span>
<a id=__codelineno-70-57 name=__codelineno-70-57 href=#__codelineno-70-57></a><span class=w>    </span><span class=nx>byt</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>`{&quot;num&quot;:6.13,&quot;strs&quot;:[&quot;a&quot;,&quot;b&quot;]}`</span><span class=p>)</span>
<a id=__codelineno-70-58 name=__codelineno-70-58 href=#__codelineno-70-58></a><span class=w>    </span><span class=c1>// 我们需要提供一个变量来存储解码后的JSON数据，这里</span>
<a id=__codelineno-70-59 name=__codelineno-70-59 href=#__codelineno-70-59></a><span class=w>    </span><span class=c1>// 的`map[string]interface{}`将以Key-Value的方式</span>
<a id=__codelineno-70-60 name=__codelineno-70-60 href=#__codelineno-70-60></a><span class=w>    </span><span class=c1>// 保存解码后的数据，Value可以为任意数据类型</span>
<a id=__codelineno-70-61 name=__codelineno-70-61 href=#__codelineno-70-61></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>dat</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kd>interface</span><span class=p>{}</span>
<a id=__codelineno-70-62 name=__codelineno-70-62 href=#__codelineno-70-62></a><span class=w>    </span><span class=c1>// 解码过程，并检测相关可能存在的错误</span>
<a id=__codelineno-70-63 name=__codelineno-70-63 href=#__codelineno-70-63></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>(</span><span class=nx>byt</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>dat</span><span class=p>);</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-70-64 name=__codelineno-70-64 href=#__codelineno-70-64></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-70-65 name=__codelineno-70-65 href=#__codelineno-70-65></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-70-66 name=__codelineno-70-66 href=#__codelineno-70-66></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>dat</span><span class=p>)</span><span class=w> </span><span class=c1>//map[num:6.13 strs:[a b]]</span>
<a id=__codelineno-70-67 name=__codelineno-70-67 href=#__codelineno-70-67></a>
<a id=__codelineno-70-68 name=__codelineno-70-68 href=#__codelineno-70-68></a><span class=w>    </span><span class=c1>// 为了使用解码后map里面的数据，我们需要将Value转换为</span>
<a id=__codelineno-70-69 name=__codelineno-70-69 href=#__codelineno-70-69></a><span class=w>    </span><span class=c1>// 它们合适的类型，例如我们将这里的num转换为期望的float64</span>
<a id=__codelineno-70-70 name=__codelineno-70-70 href=#__codelineno-70-70></a><span class=w>    </span><span class=nx>num</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>dat</span><span class=p>[</span><span class=s>&quot;num&quot;</span><span class=p>].(</span><span class=kt>float64</span><span class=p>)</span>
<a id=__codelineno-70-71 name=__codelineno-70-71 href=#__codelineno-70-71></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>num</span><span class=p>)</span><span class=w> </span><span class=c1>//6.13</span>
<a id=__codelineno-70-72 name=__codelineno-70-72 href=#__codelineno-70-72></a>
<a id=__codelineno-70-73 name=__codelineno-70-73 href=#__codelineno-70-73></a><span class=w>    </span><span class=c1>// 访问嵌套的数据需要一些类型转换</span>
<a id=__codelineno-70-74 name=__codelineno-70-74 href=#__codelineno-70-74></a><span class=w>    </span><span class=nx>strs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>dat</span><span class=p>[</span><span class=s>&quot;strs&quot;</span><span class=p>].([]</span><span class=kd>interface</span><span class=p>{})</span>
<a id=__codelineno-70-75 name=__codelineno-70-75 href=#__codelineno-70-75></a><span class=w>    </span><span class=nx>str1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strs</span><span class=p>[</span><span class=mi>0</span><span class=p>].(</span><span class=kt>string</span><span class=p>)</span>
<a id=__codelineno-70-76 name=__codelineno-70-76 href=#__codelineno-70-76></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>str1</span><span class=p>)</span><span class=w> </span><span class=c1>//a</span>
<a id=__codelineno-70-77 name=__codelineno-70-77 href=#__codelineno-70-77></a>
<a id=__codelineno-70-78 name=__codelineno-70-78 href=#__codelineno-70-78></a><span class=w>    </span><span class=c1>// 我们还可以将JSON解码为自定义数据类型，这有个好处是可以</span>
<a id=__codelineno-70-79 name=__codelineno-70-79 href=#__codelineno-70-79></a><span class=w>    </span><span class=c1>// 为我们的程序增加额外的类型安全并且不用再在访问数据的时候</span>
<a id=__codelineno-70-80 name=__codelineno-70-80 href=#__codelineno-70-80></a><span class=w>    </span><span class=c1>// 进行类型断言</span>
<a id=__codelineno-70-81 name=__codelineno-70-81 href=#__codelineno-70-81></a><span class=w>    </span><span class=nx>str</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{&quot;page&quot;: 1, &quot;fruits&quot;: [&quot;apple&quot;, &quot;peach&quot;]}`</span>
<a id=__codelineno-70-82 name=__codelineno-70-82 href=#__codelineno-70-82></a><span class=w>    </span><span class=nx>res</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Response2</span><span class=p>{}</span>
<a id=__codelineno-70-83 name=__codelineno-70-83 href=#__codelineno-70-83></a><span class=w>    </span><span class=nx>json</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>str</span><span class=p>),</span><span class=w> </span><span class=o>&amp;</span><span class=nx>res</span><span class=p>)</span>
<a id=__codelineno-70-84 name=__codelineno-70-84 href=#__codelineno-70-84></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span><span class=w>           </span><span class=c1>//&amp;{1 [apple peach]}</span>
<a id=__codelineno-70-85 name=__codelineno-70-85 href=#__codelineno-70-85></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>Fruits</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w> </span><span class=c1>//apple</span>
<a id=__codelineno-70-86 name=__codelineno-70-86 href=#__codelineno-70-86></a>
<a id=__codelineno-70-87 name=__codelineno-70-87 href=#__codelineno-70-87></a><span class=w>    </span><span class=c1>// 上面的例子中，我们使用bytes和strings来进行原始数据和JSON数据</span>
<a id=__codelineno-70-88 name=__codelineno-70-88 href=#__codelineno-70-88></a><span class=w>    </span><span class=c1>// 之间的转换，我们也可以直接将JSON编码的数据流写入`os.Writer`</span>
<a id=__codelineno-70-89 name=__codelineno-70-89 href=#__codelineno-70-89></a><span class=w>    </span><span class=c1>// 或者是HTTP请求回复数据。</span>
<a id=__codelineno-70-90 name=__codelineno-70-90 href=#__codelineno-70-90></a><span class=w>    </span><span class=nx>enc</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>json</span><span class=p>.</span><span class=nx>NewEncoder</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stdout</span><span class=p>)</span>
<a id=__codelineno-70-91 name=__codelineno-70-91 href=#__codelineno-70-91></a><span class=w>    </span><span class=nx>d</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=s>&quot;apple&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=s>&quot;lettuce&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>7</span><span class=p>}</span>
<a id=__codelineno-70-92 name=__codelineno-70-92 href=#__codelineno-70-92></a><span class=w>    </span><span class=nx>enc</span><span class=p>.</span><span class=nx>Encode</span><span class=p>(</span><span class=nx>d</span><span class=p>)</span><span class=w> </span><span class=c1>//{&quot;apple&quot;:5,&quot;lettuce&quot;:7}</span>
<a id=__codelineno-70-93 name=__codelineno-70-93 href=#__codelineno-70-93></a><span class=p>}</span>
</code></pre></div> <h2 id=go-xml-解析>Go XML 解析<a class=headerlink href=#go-xml-解析 title="Permanent link">&para;</a></h2> <p>Go 的 encoding.xml 包为 XML 和 类 - XML 格式提供了内建支持。</p> <p><code>xml.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a>
<a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a><span class=w>    </span><span class=s>&quot;encoding/xml&quot;</span>
<a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a><span class=p>)</span>
<a id=__codelineno-71-7 name=__codelineno-71-7 href=#__codelineno-71-7></a>
<a id=__codelineno-71-8 name=__codelineno-71-8 href=#__codelineno-71-8></a><span class=c1>// 该类型将被映射为 XML。</span>
<a id=__codelineno-71-9 name=__codelineno-71-9 href=#__codelineno-71-9></a><span class=c1>// 与 JSON 例子类似，字段 tag 包含了编码和解码的指令。</span>
<a id=__codelineno-71-10 name=__codelineno-71-10 href=#__codelineno-71-10></a><span class=c1>// 这里我们使用了 XML 包的一些特性：</span>
<a id=__codelineno-71-11 name=__codelineno-71-11 href=#__codelineno-71-11></a><span class=c1>// `XMLName` 字段名规定了 struct 的 XML 元素的名称；</span>
<a id=__codelineno-71-12 name=__codelineno-71-12 href=#__codelineno-71-12></a><span class=c1>// `id,attr` 意思是 `Id` 字段是一个 XML _attribute_，而不是嵌套元素。</span>
<a id=__codelineno-71-13 name=__codelineno-71-13 href=#__codelineno-71-13></a><span class=kd>type</span><span class=w> </span><span class=nx>Plant</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-71-14 name=__codelineno-71-14 href=#__codelineno-71-14></a><span class=w>    </span><span class=nx>XMLName</span><span class=w> </span><span class=nx>xml</span><span class=p>.</span><span class=nx>Name</span><span class=w> </span><span class=s>`xml:&quot;plant&quot;`</span>
<a id=__codelineno-71-15 name=__codelineno-71-15 href=#__codelineno-71-15></a><span class=w>    </span><span class=nx>Id</span><span class=w>      </span><span class=kt>int</span><span class=w>      </span><span class=s>`xml:&quot;id,attr&quot;`</span>
<a id=__codelineno-71-16 name=__codelineno-71-16 href=#__codelineno-71-16></a><span class=w>    </span><span class=nx>Name</span><span class=w>    </span><span class=kt>string</span><span class=w>   </span><span class=s>`xml:&quot;name&quot;`</span>
<a id=__codelineno-71-17 name=__codelineno-71-17 href=#__codelineno-71-17></a><span class=w>    </span><span class=nx>Origin</span><span class=w>  </span><span class=p>[]</span><span class=kt>string</span><span class=w> </span><span class=s>`xml:&quot;origin&quot;`</span>
<a id=__codelineno-71-18 name=__codelineno-71-18 href=#__codelineno-71-18></a><span class=p>}</span>
<a id=__codelineno-71-19 name=__codelineno-71-19 href=#__codelineno-71-19></a>
<a id=__codelineno-71-20 name=__codelineno-71-20 href=#__codelineno-71-20></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=nx>Plant</span><span class=p>)</span><span class=w> </span><span class=nx>String</span><span class=p>()</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-71-21 name=__codelineno-71-21 href=#__codelineno-71-21></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;Plant id=%v, name=%v, origin=%v&quot;</span><span class=p>,</span>
<a id=__codelineno-71-22 name=__codelineno-71-22 href=#__codelineno-71-22></a><span class=w>        </span><span class=nx>p</span><span class=p>.</span><span class=nx>Id</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>.</span><span class=nx>Name</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>.</span><span class=nx>Origin</span><span class=p>)</span>
<a id=__codelineno-71-23 name=__codelineno-71-23 href=#__codelineno-71-23></a><span class=p>}</span>
<a id=__codelineno-71-24 name=__codelineno-71-24 href=#__codelineno-71-24></a>
<a id=__codelineno-71-25 name=__codelineno-71-25 href=#__codelineno-71-25></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-71-26 name=__codelineno-71-26 href=#__codelineno-71-26></a><span class=w>    </span><span class=nx>coffee</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Plant</span><span class=p>{</span><span class=nx>Id</span><span class=p>:</span><span class=w> </span><span class=mi>27</span><span class=p>,</span><span class=w> </span><span class=nx>Name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Coffee&quot;</span><span class=p>}</span>
<a id=__codelineno-71-27 name=__codelineno-71-27 href=#__codelineno-71-27></a><span class=w>    </span><span class=nx>coffee</span><span class=p>.</span><span class=nx>Origin</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;Ethiopia&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Brazil&quot;</span><span class=p>}</span>
<a id=__codelineno-71-28 name=__codelineno-71-28 href=#__codelineno-71-28></a>
<a id=__codelineno-71-29 name=__codelineno-71-29 href=#__codelineno-71-29></a><span class=w>    </span><span class=c1>// 传入我们声明了 XML 的 plant 类型。</span>
<a id=__codelineno-71-30 name=__codelineno-71-30 href=#__codelineno-71-30></a><span class=w>    </span><span class=c1>// 使用 `MarshalIndent` 生成可读性更好的输出结果。</span>
<a id=__codelineno-71-31 name=__codelineno-71-31 href=#__codelineno-71-31></a><span class=w>    </span><span class=nx>out</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>xml</span><span class=p>.</span><span class=nx>MarshalIndent</span><span class=p>(</span><span class=nx>coffee</span><span class=p>,</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;  &quot;</span><span class=p>)</span>
<a id=__codelineno-71-32 name=__codelineno-71-32 href=#__codelineno-71-32></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>out</span><span class=p>))</span>
<a id=__codelineno-71-33 name=__codelineno-71-33 href=#__codelineno-71-33></a>
<a id=__codelineno-71-34 name=__codelineno-71-34 href=#__codelineno-71-34></a><span class=w>    </span><span class=c1>// 明确的为输出结果添加一个通用的 XML 头部信息</span>
<a id=__codelineno-71-35 name=__codelineno-71-35 href=#__codelineno-71-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>xml</span><span class=p>.</span><span class=nx>Header</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>out</span><span class=p>))</span>
<a id=__codelineno-71-36 name=__codelineno-71-36 href=#__codelineno-71-36></a>
<a id=__codelineno-71-37 name=__codelineno-71-37 href=#__codelineno-71-37></a><span class=w>    </span><span class=c1>// 使用 `Unmarshal` 将 XML 格式的字节流解析到 struct 内。</span>
<a id=__codelineno-71-38 name=__codelineno-71-38 href=#__codelineno-71-38></a><span class=w>    </span><span class=c1>// 如果 XML 格式不正确，或无法映射到 struct，将会返回一个描述性错误。</span>
<a id=__codelineno-71-39 name=__codelineno-71-39 href=#__codelineno-71-39></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>p</span><span class=w> </span><span class=nx>Plant</span>
<a id=__codelineno-71-40 name=__codelineno-71-40 href=#__codelineno-71-40></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>xml</span><span class=p>.</span><span class=nx>Unmarshal</span><span class=p>(</span><span class=nx>out</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=nx>p</span><span class=p>);</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-71-41 name=__codelineno-71-41 href=#__codelineno-71-41></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-71-42 name=__codelineno-71-42 href=#__codelineno-71-42></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-71-43 name=__codelineno-71-43 href=#__codelineno-71-43></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>p</span><span class=p>)</span>
<a id=__codelineno-71-44 name=__codelineno-71-44 href=#__codelineno-71-44></a>
<a id=__codelineno-71-45 name=__codelineno-71-45 href=#__codelineno-71-45></a><span class=w>    </span><span class=nx>tomato</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Plant</span><span class=p>{</span><span class=nx>Id</span><span class=p>:</span><span class=w> </span><span class=mi>81</span><span class=p>,</span><span class=w> </span><span class=nx>Name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Tomato&quot;</span><span class=p>}</span>
<a id=__codelineno-71-46 name=__codelineno-71-46 href=#__codelineno-71-46></a><span class=w>    </span><span class=nx>tomato</span><span class=p>.</span><span class=nx>Origin</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;Mexico&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;California&quot;</span><span class=p>}</span>
<a id=__codelineno-71-47 name=__codelineno-71-47 href=#__codelineno-71-47></a>
<a id=__codelineno-71-48 name=__codelineno-71-48 href=#__codelineno-71-48></a><span class=w>    </span><span class=c1>// `parent&gt;child&gt;plant` 字段标签告诉编码器嵌套 `&lt;parent&gt;&lt;child&gt;...` 下面的所有 plant。</span>
<a id=__codelineno-71-49 name=__codelineno-71-49 href=#__codelineno-71-49></a><span class=w>    </span><span class=kd>type</span><span class=w> </span><span class=nx>Nesting</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-71-50 name=__codelineno-71-50 href=#__codelineno-71-50></a><span class=w>        </span><span class=nx>XMLName</span><span class=w> </span><span class=nx>xml</span><span class=p>.</span><span class=nx>Name</span><span class=w> </span><span class=s>`xml:&quot;nesting&quot;`</span>
<a id=__codelineno-71-51 name=__codelineno-71-51 href=#__codelineno-71-51></a><span class=w>        </span><span class=nx>Plants</span><span class=w>  </span><span class=p>[]</span><span class=o>*</span><span class=nx>Plant</span><span class=w> </span><span class=s>`xml:&quot;parent&gt;child&gt;plant&quot;`</span>
<a id=__codelineno-71-52 name=__codelineno-71-52 href=#__codelineno-71-52></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-71-53 name=__codelineno-71-53 href=#__codelineno-71-53></a>
<a id=__codelineno-71-54 name=__codelineno-71-54 href=#__codelineno-71-54></a><span class=w>    </span><span class=nx>nesting</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>Nesting</span><span class=p>{}</span>
<a id=__codelineno-71-55 name=__codelineno-71-55 href=#__codelineno-71-55></a><span class=w>    </span><span class=nx>nesting</span><span class=p>.</span><span class=nx>Plants</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[]</span><span class=o>*</span><span class=nx>Plant</span><span class=p>{</span><span class=nx>coffee</span><span class=p>,</span><span class=w> </span><span class=nx>tomato</span><span class=p>}</span>
<a id=__codelineno-71-56 name=__codelineno-71-56 href=#__codelineno-71-56></a>
<a id=__codelineno-71-57 name=__codelineno-71-57 href=#__codelineno-71-57></a><span class=w>    </span><span class=nx>out</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>xml</span><span class=p>.</span><span class=nx>MarshalIndent</span><span class=p>(</span><span class=nx>nesting</span><span class=p>,</span><span class=w> </span><span class=s>&quot; &quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;  &quot;</span><span class=p>)</span>
<a id=__codelineno-71-58 name=__codelineno-71-58 href=#__codelineno-71-58></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>out</span><span class=p>))</span>
<a id=__codelineno-71-59 name=__codelineno-71-59 href=#__codelineno-71-59></a><span class=p>}</span>
</code></pre></div> <h2 id=go-时间-time>Go 时间 Time<a class=headerlink href=#go-时间-time title="Permanent link">&para;</a></h2> <p>Go 对时间和时间段提供了大量的支持；这里是一些例子。</p> <p><code>time.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a>
<a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a>
<a id=__codelineno-72-6 name=__codelineno-72-6 href=#__codelineno-72-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-72-7 name=__codelineno-72-7 href=#__codelineno-72-7></a><span class=w>    </span><span class=nx>p</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span>
<a id=__codelineno-72-8 name=__codelineno-72-8 href=#__codelineno-72-8></a>
<a id=__codelineno-72-9 name=__codelineno-72-9 href=#__codelineno-72-9></a><span class=w>    </span><span class=c1>// 得到当前时间。</span>
<a id=__codelineno-72-10 name=__codelineno-72-10 href=#__codelineno-72-10></a><span class=w>    </span><span class=nx>now</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Now</span><span class=p>()</span>
<a id=__codelineno-72-11 name=__codelineno-72-11 href=#__codelineno-72-11></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>now</span><span class=p>)</span><span class=w> </span><span class=c1>//2024-02-02 14:53:59.5996827 +0800 CST m=+0.002273101</span>
<a id=__codelineno-72-12 name=__codelineno-72-12 href=#__codelineno-72-12></a>
<a id=__codelineno-72-13 name=__codelineno-72-13 href=#__codelineno-72-13></a><span class=w>    </span><span class=c1>// 通过提供年月日等信息，你可以构建一个 `time`。</span>
<a id=__codelineno-72-14 name=__codelineno-72-14 href=#__codelineno-72-14></a><span class=w>    </span><span class=c1>// 时间总是关联着位置信息，例如时区。</span>
<a id=__codelineno-72-15 name=__codelineno-72-15 href=#__codelineno-72-15></a><span class=w>    </span><span class=nx>then</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Date</span><span class=p>(</span>
<a id=__codelineno-72-16 name=__codelineno-72-16 href=#__codelineno-72-16></a><span class=w>        </span><span class=mi>2009</span><span class=p>,</span><span class=w> </span><span class=mi>11</span><span class=p>,</span><span class=w> </span><span class=mi>17</span><span class=p>,</span><span class=w> </span><span class=mi>20</span><span class=p>,</span><span class=w> </span><span class=mi>34</span><span class=p>,</span><span class=w> </span><span class=mi>58</span><span class=p>,</span><span class=w> </span><span class=mi>651387237</span><span class=p>,</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>UTC</span><span class=p>)</span>
<a id=__codelineno-72-17 name=__codelineno-72-17 href=#__codelineno-72-17></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>)</span><span class=w> </span><span class=c1>//2009-11-17 20:34:58.651387237 +0000 UTC</span>
<a id=__codelineno-72-18 name=__codelineno-72-18 href=#__codelineno-72-18></a>
<a id=__codelineno-72-19 name=__codelineno-72-19 href=#__codelineno-72-19></a><span class=w>    </span><span class=c1>// 你可以提取出时间的各个组成部分。</span>
<a id=__codelineno-72-20 name=__codelineno-72-20 href=#__codelineno-72-20></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Year</span><span class=p>())</span><span class=w>       </span><span class=c1>//2009</span>
<a id=__codelineno-72-21 name=__codelineno-72-21 href=#__codelineno-72-21></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Month</span><span class=p>())</span><span class=w>      </span><span class=c1>//November</span>
<a id=__codelineno-72-22 name=__codelineno-72-22 href=#__codelineno-72-22></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Day</span><span class=p>())</span><span class=w>        </span><span class=c1>//17</span>
<a id=__codelineno-72-23 name=__codelineno-72-23 href=#__codelineno-72-23></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Hour</span><span class=p>())</span><span class=w>       </span><span class=c1>//20</span>
<a id=__codelineno-72-24 name=__codelineno-72-24 href=#__codelineno-72-24></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Minute</span><span class=p>())</span><span class=w>     </span><span class=c1>//34</span>
<a id=__codelineno-72-25 name=__codelineno-72-25 href=#__codelineno-72-25></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Second</span><span class=p>())</span><span class=w>     </span><span class=c1>//58</span>
<a id=__codelineno-72-26 name=__codelineno-72-26 href=#__codelineno-72-26></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Nanosecond</span><span class=p>())</span><span class=w> </span><span class=c1>//651387237</span>
<a id=__codelineno-72-27 name=__codelineno-72-27 href=#__codelineno-72-27></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Location</span><span class=p>())</span><span class=w>   </span><span class=c1>//UTC</span>
<a id=__codelineno-72-28 name=__codelineno-72-28 href=#__codelineno-72-28></a>
<a id=__codelineno-72-29 name=__codelineno-72-29 href=#__codelineno-72-29></a><span class=w>    </span><span class=c1>// 输出是星期一到日的 `Weekday` 也是支持的。</span>
<a id=__codelineno-72-30 name=__codelineno-72-30 href=#__codelineno-72-30></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Weekday</span><span class=p>())</span><span class=w> </span><span class=c1>//Tuesday</span>
<a id=__codelineno-72-31 name=__codelineno-72-31 href=#__codelineno-72-31></a>
<a id=__codelineno-72-32 name=__codelineno-72-32 href=#__codelineno-72-32></a><span class=w>    </span><span class=c1>// 这些方法来比较两个时间，分别测试一下是否是之前，之后或者是同一时刻，精确到秒。</span>
<a id=__codelineno-72-33 name=__codelineno-72-33 href=#__codelineno-72-33></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Before</span><span class=p>(</span><span class=nx>now</span><span class=p>))</span><span class=w> </span><span class=c1>//true</span>
<a id=__codelineno-72-34 name=__codelineno-72-34 href=#__codelineno-72-34></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>After</span><span class=p>(</span><span class=nx>now</span><span class=p>))</span><span class=w>  </span><span class=c1>//false</span>
<a id=__codelineno-72-35 name=__codelineno-72-35 href=#__codelineno-72-35></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Equal</span><span class=p>(</span><span class=nx>now</span><span class=p>))</span><span class=w>  </span><span class=c1>//false</span>
<a id=__codelineno-72-36 name=__codelineno-72-36 href=#__codelineno-72-36></a>
<a id=__codelineno-72-37 name=__codelineno-72-37 href=#__codelineno-72-37></a><span class=w>    </span><span class=c1>// 方法 `Sub` 返回一个 `Duration` 来表示两个时间点的间隔时间。</span>
<a id=__codelineno-72-38 name=__codelineno-72-38 href=#__codelineno-72-38></a><span class=w>    </span><span class=nx>diff</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>now</span><span class=p>.</span><span class=nx>Sub</span><span class=p>(</span><span class=nx>then</span><span class=p>)</span>
<a id=__codelineno-72-39 name=__codelineno-72-39 href=#__codelineno-72-39></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>diff</span><span class=p>)</span><span class=w> </span><span class=c1>//124546h19m0.948295463s</span>
<a id=__codelineno-72-40 name=__codelineno-72-40 href=#__codelineno-72-40></a>
<a id=__codelineno-72-41 name=__codelineno-72-41 href=#__codelineno-72-41></a><span class=w>    </span><span class=c1>// 我们计算出不同单位下的时间长度值。</span>
<a id=__codelineno-72-42 name=__codelineno-72-42 href=#__codelineno-72-42></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>diff</span><span class=p>.</span><span class=nx>Hours</span><span class=p>())</span><span class=w>       </span><span class=c1>//124546.31693008207</span>
<a id=__codelineno-72-43 name=__codelineno-72-43 href=#__codelineno-72-43></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>diff</span><span class=p>.</span><span class=nx>Minutes</span><span class=p>())</span><span class=w>     </span><span class=c1>//7.472779015804924e+06</span>
<a id=__codelineno-72-44 name=__codelineno-72-44 href=#__codelineno-72-44></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>diff</span><span class=p>.</span><span class=nx>Seconds</span><span class=p>())</span><span class=w>     </span><span class=c1>//4.483667409482955e+08</span>
<a id=__codelineno-72-45 name=__codelineno-72-45 href=#__codelineno-72-45></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>diff</span><span class=p>.</span><span class=nx>Nanoseconds</span><span class=p>())</span><span class=w> </span><span class=c1>//448366740948295463</span>
<a id=__codelineno-72-46 name=__codelineno-72-46 href=#__codelineno-72-46></a>
<a id=__codelineno-72-47 name=__codelineno-72-47 href=#__codelineno-72-47></a><span class=w>    </span><span class=c1>// 你可以使用 `Add` 将时间后移一个时间间隔，</span>
<a id=__codelineno-72-48 name=__codelineno-72-48 href=#__codelineno-72-48></a><span class=w>    </span><span class=c1>// 或者使用一个 `-` 来将时间前移一个时间间隔。</span>
<a id=__codelineno-72-49 name=__codelineno-72-49 href=#__codelineno-72-49></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Add</span><span class=p>(</span><span class=nx>diff</span><span class=p>))</span><span class=w> </span><span class=c1>//2024-02-02 06:53:59.5996827 +0000 UTC</span>
<a id=__codelineno-72-50 name=__codelineno-72-50 href=#__codelineno-72-50></a>
<a id=__codelineno-72-51 name=__codelineno-72-51 href=#__codelineno-72-51></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>then</span><span class=p>.</span><span class=nx>Add</span><span class=p>(</span><span class=o>-</span><span class=nx>diff</span><span class=p>))</span><span class=w> </span><span class=c1>//1995-09-03 10:15:57.703091774 +0000 UTC</span>
<a id=__codelineno-72-52 name=__codelineno-72-52 href=#__codelineno-72-52></a><span class=p>}</span>
</code></pre></div> <h2 id=时间戳-unix-epoch>时间戳 Unix Epoch<a class=headerlink href=#时间戳-unix-epoch title="Permanent link">&para;</a></h2> <p>一般程序会有获取 Unix 时间 的秒数、毫秒数、或者微秒数的需要。来看看如何用 Go 来实现。</p> <p><code>epoch.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a>
<a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a>
<a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a>
<a id=__codelineno-73-8 name=__codelineno-73-8 href=#__codelineno-73-8></a><span class=w>    </span><span class=c1>// 分别使用带 `Unix` 或者 `UnixNano` 的 `time.Now`</span>
<a id=__codelineno-73-9 name=__codelineno-73-9 href=#__codelineno-73-9></a><span class=w>    </span><span class=c1>// 来获取从 Unix 纪元起到现在的秒数或者纳秒数。</span>
<a id=__codelineno-73-10 name=__codelineno-73-10 href=#__codelineno-73-10></a><span class=w>    </span><span class=nx>now</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Now</span><span class=p>()</span>
<a id=__codelineno-73-11 name=__codelineno-73-11 href=#__codelineno-73-11></a><span class=w>    </span><span class=nx>secs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>now</span><span class=p>.</span><span class=nx>Unix</span><span class=p>()</span>
<a id=__codelineno-73-12 name=__codelineno-73-12 href=#__codelineno-73-12></a><span class=w>    </span><span class=nx>nanos</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>now</span><span class=p>.</span><span class=nx>UnixNano</span><span class=p>()</span>
<a id=__codelineno-73-13 name=__codelineno-73-13 href=#__codelineno-73-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>now</span><span class=p>)</span>
<a id=__codelineno-73-14 name=__codelineno-73-14 href=#__codelineno-73-14></a>
<a id=__codelineno-73-15 name=__codelineno-73-15 href=#__codelineno-73-15></a><span class=w>    </span><span class=c1>// 注意 `UnixMillis` 是不存在的，所以要得到毫秒数的话，</span>
<a id=__codelineno-73-16 name=__codelineno-73-16 href=#__codelineno-73-16></a><span class=w>    </span><span class=c1>// 你要自己手动的从纳秒转化一下。</span>
<a id=__codelineno-73-17 name=__codelineno-73-17 href=#__codelineno-73-17></a><span class=w>    </span><span class=nx>millis</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>nanos</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>1000000</span>
<a id=__codelineno-73-18 name=__codelineno-73-18 href=#__codelineno-73-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>secs</span><span class=p>)</span>
<a id=__codelineno-73-19 name=__codelineno-73-19 href=#__codelineno-73-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>millis</span><span class=p>)</span>
<a id=__codelineno-73-20 name=__codelineno-73-20 href=#__codelineno-73-20></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>nanos</span><span class=p>)</span>
<a id=__codelineno-73-21 name=__codelineno-73-21 href=#__codelineno-73-21></a>
<a id=__codelineno-73-22 name=__codelineno-73-22 href=#__codelineno-73-22></a><span class=w>    </span><span class=c1>// 你也可以将 Unix 纪元起的整数秒或者纳秒转化到相应的时间。</span>
<a id=__codelineno-73-23 name=__codelineno-73-23 href=#__codelineno-73-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Unix</span><span class=p>(</span><span class=nx>secs</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>))</span>
<a id=__codelineno-73-24 name=__codelineno-73-24 href=#__codelineno-73-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Unix</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=nx>nanos</span><span class=p>))</span>
<a id=__codelineno-73-25 name=__codelineno-73-25 href=#__codelineno-73-25></a><span class=p>}</span>
</code></pre></div> <p>运行： <div class=highlight><pre><span></span><code><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>epoch.go<span class=w> </span>
<a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a><span class=m>2012</span>-10-31<span class=w> </span><span class=m>16</span>:13:58.292387<span class=w> </span>+0000<span class=w> </span>UTC
<a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a><span class=m>1351700038</span>
<a id=__codelineno-74-4 name=__codelineno-74-4 href=#__codelineno-74-4></a><span class=m>1351700038292</span>
<a id=__codelineno-74-5 name=__codelineno-74-5 href=#__codelineno-74-5></a><span class=m>1351700038292387000</span>
<a id=__codelineno-74-6 name=__codelineno-74-6 href=#__codelineno-74-6></a><span class=m>2012</span>-10-31<span class=w> </span><span class=m>16</span>:13:58<span class=w> </span>+0000<span class=w> </span>UTC
<a id=__codelineno-74-7 name=__codelineno-74-7 href=#__codelineno-74-7></a><span class=m>2012</span>-10-31<span class=w> </span><span class=m>16</span>:13:58.292387<span class=w> </span>+0000<span class=w> </span>UTC
</code></pre></div></p> <h2 id=时间的格式化和解析>时间的格式化和解析<a class=headerlink href=#时间的格式化和解析 title="Permanent link">&para;</a></h2> <p>Go 支持通过基于描述模板的时间格式化和解析。</p> <p><code>time-formatting-parsing.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a>
<a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-75-4 name=__codelineno-75-4 href=#__codelineno-75-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-75-5 name=__codelineno-75-5 href=#__codelineno-75-5></a>
<a id=__codelineno-75-6 name=__codelineno-75-6 href=#__codelineno-75-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-75-7 name=__codelineno-75-7 href=#__codelineno-75-7></a><span class=w>    </span><span class=nx>p</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span>
<a id=__codelineno-75-8 name=__codelineno-75-8 href=#__codelineno-75-8></a>
<a id=__codelineno-75-9 name=__codelineno-75-9 href=#__codelineno-75-9></a><span class=w>    </span><span class=c1>// 这里是一个基本的按照 RFC3339 进行格式化的例子，使用对应模式常量。</span>
<a id=__codelineno-75-10 name=__codelineno-75-10 href=#__codelineno-75-10></a><span class=w>    </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Now</span><span class=p>()</span>
<a id=__codelineno-75-11 name=__codelineno-75-11 href=#__codelineno-75-11></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>Format</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>RFC3339</span><span class=p>))</span><span class=w> </span><span class=c1>//2024-02-02T15:00:58+08:00</span>
<a id=__codelineno-75-12 name=__codelineno-75-12 href=#__codelineno-75-12></a>
<a id=__codelineno-75-13 name=__codelineno-75-13 href=#__codelineno-75-13></a><span class=w>    </span><span class=c1>// 时间解析使用同 `Format` 相同的形式值。</span>
<a id=__codelineno-75-14 name=__codelineno-75-14 href=#__codelineno-75-14></a><span class=w>    </span><span class=nx>t1</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Parse</span><span class=p>(</span>
<a id=__codelineno-75-15 name=__codelineno-75-15 href=#__codelineno-75-15></a><span class=w>        </span><span class=nx>time</span><span class=p>.</span><span class=nx>RFC3339</span><span class=p>,</span>
<a id=__codelineno-75-16 name=__codelineno-75-16 href=#__codelineno-75-16></a><span class=w>        </span><span class=s>&quot;2012-11-01T22:08:41+00:00&quot;</span><span class=p>)</span>
<a id=__codelineno-75-17 name=__codelineno-75-17 href=#__codelineno-75-17></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>t1</span><span class=p>)</span><span class=w> </span><span class=c1>//2012-11-01 22:08:41 +0000 +0000</span>
<a id=__codelineno-75-18 name=__codelineno-75-18 href=#__codelineno-75-18></a>
<a id=__codelineno-75-19 name=__codelineno-75-19 href=#__codelineno-75-19></a><span class=w>    </span><span class=c1>// `Format` 和 `Parse` 使用基于例子的形式来决定日期格式，</span>
<a id=__codelineno-75-20 name=__codelineno-75-20 href=#__codelineno-75-20></a><span class=w>    </span><span class=c1>// 一般你只要使用 `time` 包中提供的模式常量就行了，但是你也可以实现自定义模式。</span>
<a id=__codelineno-75-21 name=__codelineno-75-21 href=#__codelineno-75-21></a><span class=w>    </span><span class=c1>// 模式必须使用时间 `Mon Jan 2 15:04:05 MST 2006` 来指定给定时间/字符串的格式化/解析方式。</span>
<a id=__codelineno-75-22 name=__codelineno-75-22 href=#__codelineno-75-22></a><span class=w>    </span><span class=c1>//时间一定要按照如下所示：2006为年，15 为小时，Monday 代表星期几，等等。</span>
<a id=__codelineno-75-23 name=__codelineno-75-23 href=#__codelineno-75-23></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>Format</span><span class=p>(</span><span class=s>&quot;3:04PM&quot;</span><span class=p>))</span><span class=w>                           </span><span class=c1>//3:00PM</span>
<a id=__codelineno-75-24 name=__codelineno-75-24 href=#__codelineno-75-24></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>Format</span><span class=p>(</span><span class=s>&quot;Mon Jan _2 15:04:05 2006&quot;</span><span class=p>))</span><span class=w>         </span><span class=c1>//Fri Feb  2 15:00:58 2024</span>
<a id=__codelineno-75-25 name=__codelineno-75-25 href=#__codelineno-75-25></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>t</span><span class=p>.</span><span class=nx>Format</span><span class=p>(</span><span class=s>&quot;2006-01-02T15:04:05.999999-07:00&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//2024-02-02T15:00:58.567745+08:00</span>
<a id=__codelineno-75-26 name=__codelineno-75-26 href=#__codelineno-75-26></a><span class=w>    </span><span class=nx>form</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;3 04 PM&quot;</span>
<a id=__codelineno-75-27 name=__codelineno-75-27 href=#__codelineno-75-27></a><span class=w>    </span><span class=nx>t2</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Parse</span><span class=p>(</span><span class=nx>form</span><span class=p>,</span><span class=w> </span><span class=s>&quot;8 41 PM&quot;</span><span class=p>)</span>
<a id=__codelineno-75-28 name=__codelineno-75-28 href=#__codelineno-75-28></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>t2</span><span class=p>)</span><span class=w> </span><span class=c1>//0000-01-01 20:41:00 +0000 UTC</span>
<a id=__codelineno-75-29 name=__codelineno-75-29 href=#__codelineno-75-29></a>
<a id=__codelineno-75-30 name=__codelineno-75-30 href=#__codelineno-75-30></a><span class=w>    </span><span class=c1>// 对于纯数字表示的时间，你也可以使用标准的格式化字符串来提出时间值的组成。</span>
<a id=__codelineno-75-31 name=__codelineno-75-31 href=#__codelineno-75-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d-%02d-%02dT%02d:%02d:%02d-00:00\n&quot;</span><span class=p>,</span>
<a id=__codelineno-75-32 name=__codelineno-75-32 href=#__codelineno-75-32></a><span class=w>        </span><span class=nx>t</span><span class=p>.</span><span class=nx>Year</span><span class=p>(),</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Month</span><span class=p>(),</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Day</span><span class=p>(),</span>
<a id=__codelineno-75-33 name=__codelineno-75-33 href=#__codelineno-75-33></a><span class=w>        </span><span class=nx>t</span><span class=p>.</span><span class=nx>Hour</span><span class=p>(),</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Minute</span><span class=p>(),</span><span class=w> </span><span class=nx>t</span><span class=p>.</span><span class=nx>Second</span><span class=p>())</span><span class=w> </span><span class=c1>//2024-02-02T15:00:58-00:00</span>
<a id=__codelineno-75-34 name=__codelineno-75-34 href=#__codelineno-75-34></a>
<a id=__codelineno-75-35 name=__codelineno-75-35 href=#__codelineno-75-35></a><span class=w>    </span><span class=c1>// `Parse` 函数在输入的时间格式不正确时会返回一个错误。</span>
<a id=__codelineno-75-36 name=__codelineno-75-36 href=#__codelineno-75-36></a><span class=w>    </span><span class=nx>ansic</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;Mon Jan _2 15:04:05 2006&quot;</span>
<a id=__codelineno-75-37 name=__codelineno-75-37 href=#__codelineno-75-37></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Parse</span><span class=p>(</span><span class=nx>ansic</span><span class=p>,</span><span class=w> </span><span class=s>&quot;8:41PM&quot;</span><span class=p>)</span>
<a id=__codelineno-75-38 name=__codelineno-75-38 href=#__codelineno-75-38></a><span class=w>    </span><span class=nx>p</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=c1>//parsing time &quot;8:41PM&quot; as &quot;Mon Jan _2 15:04:05 2006&quot;: cannot parse &quot;8:41PM&quot; as &quot;Mon&quot;</span>
<a id=__codelineno-75-39 name=__codelineno-75-39 href=#__codelineno-75-39></a><span class=p>}</span>
</code></pre></div> <h2 id=go-随机数-mathrand>Go 随机数 math/rand<a class=headerlink href=#go-随机数-mathrand title="Permanent link">&para;</a></h2> <p>Go 的 math/rand 包提供了伪随机数生成器（英）。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a>
<a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;math/rand&quot;</span>
<a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a>
<a id=__codelineno-76-7 name=__codelineno-76-7 href=#__codelineno-76-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-76-8 name=__codelineno-76-8 href=#__codelineno-76-8></a>
<a id=__codelineno-76-9 name=__codelineno-76-9 href=#__codelineno-76-9></a><span class=w>    </span><span class=c1>// 例如，`rand.Intn` 返回一个随机的整数 n，</span>
<a id=__codelineno-76-10 name=__codelineno-76-10 href=#__codelineno-76-10></a><span class=w>    </span><span class=c1>// `0 &lt;= n &lt;= 100`。</span>
<a id=__codelineno-76-11 name=__codelineno-76-11 href=#__codelineno-76-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>rand</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>)</span>
<a id=__codelineno-76-12 name=__codelineno-76-12 href=#__codelineno-76-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>rand</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
<a id=__codelineno-76-13 name=__codelineno-76-13 href=#__codelineno-76-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-76-14 name=__codelineno-76-14 href=#__codelineno-76-14></a>
<a id=__codelineno-76-15 name=__codelineno-76-15 href=#__codelineno-76-15></a><span class=w>    </span><span class=c1>// `rand.Float64` 返回一个64位浮点数 `f`，</span>
<a id=__codelineno-76-16 name=__codelineno-76-16 href=#__codelineno-76-16></a><span class=w>    </span><span class=c1>// `0.0 &lt;= f &lt;= 1.0`。</span>
<a id=__codelineno-76-17 name=__codelineno-76-17 href=#__codelineno-76-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>rand</span><span class=p>.</span><span class=nx>Float64</span><span class=p>())</span>
<a id=__codelineno-76-18 name=__codelineno-76-18 href=#__codelineno-76-18></a>
<a id=__codelineno-76-19 name=__codelineno-76-19 href=#__codelineno-76-19></a><span class=w>    </span><span class=c1>// 这个技巧可以用来生成其他范围的随机浮点数，例如</span>
<a id=__codelineno-76-20 name=__codelineno-76-20 href=#__codelineno-76-20></a><span class=w>    </span><span class=c1>// `5.0 &lt;= f &lt;= 10.0`</span>
<a id=__codelineno-76-21 name=__codelineno-76-21 href=#__codelineno-76-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>((</span><span class=nx>rand</span><span class=p>.</span><span class=nx>Float64</span><span class=p>()</span><span class=o>*</span><span class=mi>5</span><span class=p>)</span><span class=o>+</span><span class=mi>5</span><span class=p>,</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>)</span>
<a id=__codelineno-76-22 name=__codelineno-76-22 href=#__codelineno-76-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>((</span><span class=nx>rand</span><span class=p>.</span><span class=nx>Float64</span><span class=p>()</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>5</span><span class=p>)</span>
<a id=__codelineno-76-23 name=__codelineno-76-23 href=#__codelineno-76-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-76-24 name=__codelineno-76-24 href=#__codelineno-76-24></a>
<a id=__codelineno-76-25 name=__codelineno-76-25 href=#__codelineno-76-25></a><span class=w>    </span><span class=c1>// 默认情况下，给定的种子是确定的，每次都会产生相同的随机数数字序列。</span>
<a id=__codelineno-76-26 name=__codelineno-76-26 href=#__codelineno-76-26></a><span class=w>    </span><span class=c1>// 要产生变化的序列，需要给定一个变化的种子。</span>
<a id=__codelineno-76-27 name=__codelineno-76-27 href=#__codelineno-76-27></a><span class=w>    </span><span class=c1>// 需要注意的是，如果你出于加密目的，需要使用随机数的话，请使用 `crypto/rand` 包，</span>
<a id=__codelineno-76-28 name=__codelineno-76-28 href=#__codelineno-76-28></a><span class=w>    </span><span class=c1>// 此方法不够安全。</span>
<a id=__codelineno-76-29 name=__codelineno-76-29 href=#__codelineno-76-29></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nx>NewSource</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Now</span><span class=p>().</span><span class=nx>UnixNano</span><span class=p>())</span>
<a id=__codelineno-76-30 name=__codelineno-76-30 href=#__codelineno-76-30></a><span class=w>    </span><span class=nx>r1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nx>New</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-76-31 name=__codelineno-76-31 href=#__codelineno-76-31></a>
<a id=__codelineno-76-32 name=__codelineno-76-32 href=#__codelineno-76-32></a><span class=w>    </span><span class=c1>// 调用上面返回的 `rand.Source` 的函数和调用 `rand` 包中函数是相同的。</span>
<a id=__codelineno-76-33 name=__codelineno-76-33 href=#__codelineno-76-33></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>r1</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>)</span>
<a id=__codelineno-76-34 name=__codelineno-76-34 href=#__codelineno-76-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>r1</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
<a id=__codelineno-76-35 name=__codelineno-76-35 href=#__codelineno-76-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-76-36 name=__codelineno-76-36 href=#__codelineno-76-36></a>
<a id=__codelineno-76-37 name=__codelineno-76-37 href=#__codelineno-76-37></a><span class=w>    </span><span class=c1>// 如果使用相同的种子生成的随机数生成器，将会产生相同的随机数序列。</span>
<a id=__codelineno-76-38 name=__codelineno-76-38 href=#__codelineno-76-38></a><span class=w>    </span><span class=nx>s2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nx>NewSource</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
<a id=__codelineno-76-39 name=__codelineno-76-39 href=#__codelineno-76-39></a><span class=w>    </span><span class=nx>r2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nx>New</span><span class=p>(</span><span class=nx>s2</span><span class=p>)</span>
<a id=__codelineno-76-40 name=__codelineno-76-40 href=#__codelineno-76-40></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>r2</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>)</span>
<a id=__codelineno-76-41 name=__codelineno-76-41 href=#__codelineno-76-41></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>r2</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
<a id=__codelineno-76-42 name=__codelineno-76-42 href=#__codelineno-76-42></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-76-43 name=__codelineno-76-43 href=#__codelineno-76-43></a><span class=w>    </span><span class=nx>s3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nx>NewSource</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
<a id=__codelineno-76-44 name=__codelineno-76-44 href=#__codelineno-76-44></a><span class=w>    </span><span class=nx>r3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>rand</span><span class=p>.</span><span class=nx>New</span><span class=p>(</span><span class=nx>s3</span><span class=p>)</span>
<a id=__codelineno-76-45 name=__codelineno-76-45 href=#__codelineno-76-45></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>r3</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>),</span><span class=w> </span><span class=s>&quot;,&quot;</span><span class=p>)</span>
<a id=__codelineno-76-46 name=__codelineno-76-46 href=#__codelineno-76-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nx>r3</span><span class=p>.</span><span class=nx>Intn</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span>
<a id=__codelineno-76-47 name=__codelineno-76-47 href=#__codelineno-76-47></a><span class=p>}</span>
</code></pre></div> <p>运行：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>random-numbers.go
<a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a><span class=m>81</span>,87
<a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a><span class=m>0</span>.6645600532184904
<a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a><span class=m>7</span>.123187485356329,8.434115364335547
<a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a><span class=m>0</span>,28
<a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a><span class=m>5</span>,87
<a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a><span class=m>5</span>,87
</code></pre></div> <p>参阅 math/rand 包 文档，提供了 Go 可以提供的其他随量的参考信息。</p> <h2 id=定时器-timers>定时器 Timers<a class=headerlink href=#定时器-timers title="Permanent link">&para;</a></h2> <p>我们常常需要在后面一个时刻运行 Go 代码，或者在某段时间 间隔内重复运行。</p> <p>Go 的内置 定时器 和 打点器 特性让这 些很容易实现。我们将先学习定时器，然后再学习打点器。</p> <p><code>timers.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>
<a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a>
<a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a>
<a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a><span class=w>    </span><span class=c1>// 定时器表示在未来某一时刻的独立事件。</span>
<a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a><span class=w>    </span><span class=c1>// 你告诉定时器需要等待的时间，然后它将提供一个用于通知的通道。</span>
<a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a><span class=w>    </span><span class=c1>// 这里的定时器将等待 2 秒。</span>
<a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a><span class=w>    </span><span class=nx>timer1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>NewTimer</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a>
<a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a><span class=w>    </span><span class=c1>// `&lt;-timer1.C` 直到这个定时器的通道 `C` 明确的发送了</span>
<a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a><span class=w>    </span><span class=c1>// 定时器失效的值之前，将一直阻塞。</span>
<a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a><span class=w>    </span><span class=o>&lt;-</span><span class=nx>timer1</span><span class=p>.</span><span class=nx>C</span>
<a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Timer 1 expired&quot;</span><span class=p>)</span>
<a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a>
<a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a><span class=w>    </span><span class=c1>// 如果你需要的仅仅是单纯的等待，你需要使用 `time.Sleep`。</span>
<a id=__codelineno-78-19 name=__codelineno-78-19 href=#__codelineno-78-19></a><span class=w>    </span><span class=c1>// 定时器有用的原因之一就是你可以在定时器失效之前，取消这个定时器。</span>
<a id=__codelineno-78-20 name=__codelineno-78-20 href=#__codelineno-78-20></a><span class=w>    </span><span class=nx>timer2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>NewTimer</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span>
<a id=__codelineno-78-21 name=__codelineno-78-21 href=#__codelineno-78-21></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-78-22 name=__codelineno-78-22 href=#__codelineno-78-22></a><span class=w>        </span><span class=o>&lt;-</span><span class=nx>timer2</span><span class=p>.</span><span class=nx>C</span>
<a id=__codelineno-78-23 name=__codelineno-78-23 href=#__codelineno-78-23></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Timer 2 expired&quot;</span><span class=p>)</span>
<a id=__codelineno-78-24 name=__codelineno-78-24 href=#__codelineno-78-24></a><span class=w>    </span><span class=p>}()</span>
<a id=__codelineno-78-25 name=__codelineno-78-25 href=#__codelineno-78-25></a>
<a id=__codelineno-78-26 name=__codelineno-78-26 href=#__codelineno-78-26></a><span class=w>    </span><span class=nx>stop2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>timer2</span><span class=p>.</span><span class=nx>Stop</span><span class=p>()</span>
<a id=__codelineno-78-27 name=__codelineno-78-27 href=#__codelineno-78-27></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>stop2</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-78-28 name=__codelineno-78-28 href=#__codelineno-78-28></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Timer 2 stopped&quot;</span><span class=p>)</span>
<a id=__codelineno-78-29 name=__codelineno-78-29 href=#__codelineno-78-29></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-78-30 name=__codelineno-78-30 href=#__codelineno-78-30></a><span class=p>}</span>
</code></pre></div> <p>第一个定时器将在程序开始后～2s 失效，但是第二个在它 没失效之前就停止了。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>timers.go
<a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>Timer<span class=w> </span><span class=m>1</span><span class=w> </span>expired
<a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a>Timer<span class=w> </span><span class=m>2</span><span class=w> </span>stopped
</code></pre></div> <h2 id=打点器-tickers>打点器 Tickers<a class=headerlink href=#打点器-tickers title="Permanent link">&para;</a></h2> <p>定时器是当你想要在未来某一刻执行一次时 使用的 - 打点器 则是当你想要在固定的时间间隔重复执行 准备的。</p> <p>这里是一个打点器的例子，它将定时的执行，直到我们将它停止。</p> <p><code>tickers.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-80-2 name=__codelineno-80-2 href=#__codelineno-80-2></a>
<a id=__codelineno-80-3 name=__codelineno-80-3 href=#__codelineno-80-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;time&quot;</span>
<a id=__codelineno-80-4 name=__codelineno-80-4 href=#__codelineno-80-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-80-5 name=__codelineno-80-5 href=#__codelineno-80-5></a>
<a id=__codelineno-80-6 name=__codelineno-80-6 href=#__codelineno-80-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-80-7 name=__codelineno-80-7 href=#__codelineno-80-7></a>
<a id=__codelineno-80-8 name=__codelineno-80-8 href=#__codelineno-80-8></a><span class=w>    </span><span class=c1>// 打点器和定时器的机制有点相似：一个通道用来发送数据。</span>
<a id=__codelineno-80-9 name=__codelineno-80-9 href=#__codelineno-80-9></a><span class=w>    </span><span class=c1>// 这里我们在这个通道上使用内置的 `range` 来迭代值每隔</span>
<a id=__codelineno-80-10 name=__codelineno-80-10 href=#__codelineno-80-10></a><span class=w>    </span><span class=c1>// 500ms 发送一次的值。</span>
<a id=__codelineno-80-11 name=__codelineno-80-11 href=#__codelineno-80-11></a><span class=w>    </span><span class=nx>ticker</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>NewTicker</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Millisecond</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>500</span><span class=p>)</span>
<a id=__codelineno-80-12 name=__codelineno-80-12 href=#__codelineno-80-12></a><span class=w>    </span><span class=k>go</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-80-13 name=__codelineno-80-13 href=#__codelineno-80-13></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>t</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>ticker</span><span class=p>.</span><span class=nx>C</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-80-14 name=__codelineno-80-14 href=#__codelineno-80-14></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Tick at&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>t</span><span class=p>)</span>
<a id=__codelineno-80-15 name=__codelineno-80-15 href=#__codelineno-80-15></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-80-16 name=__codelineno-80-16 href=#__codelineno-80-16></a><span class=w>    </span><span class=p>}()</span>
<a id=__codelineno-80-17 name=__codelineno-80-17 href=#__codelineno-80-17></a>
<a id=__codelineno-80-18 name=__codelineno-80-18 href=#__codelineno-80-18></a><span class=w>    </span><span class=c1>// 打点器可以和定时器一样被停止。</span>
<a id=__codelineno-80-19 name=__codelineno-80-19 href=#__codelineno-80-19></a><span class=w>    </span><span class=c1>// 一旦一个打点停止了，将不能再从它的通道中接收到值。</span>
<a id=__codelineno-80-20 name=__codelineno-80-20 href=#__codelineno-80-20></a><span class=w>    </span><span class=c1>// 我们将在运行后 1600ms 停止这个打点器。</span>
<a id=__codelineno-80-21 name=__codelineno-80-21 href=#__codelineno-80-21></a><span class=w>    </span><span class=nx>time</span><span class=p>.</span><span class=nx>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Millisecond</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>1600</span><span class=p>)</span>
<a id=__codelineno-80-22 name=__codelineno-80-22 href=#__codelineno-80-22></a><span class=w>    </span><span class=nx>ticker</span><span class=p>.</span><span class=nx>Stop</span><span class=p>()</span>
<a id=__codelineno-80-23 name=__codelineno-80-23 href=#__codelineno-80-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Ticker stopped&quot;</span><span class=p>)</span>
<a id=__codelineno-80-24 name=__codelineno-80-24 href=#__codelineno-80-24></a><span class=p>}</span>
</code></pre></div> <p>当我们运行这个程序时，这个打点器会在我们停止它前打点 3 次。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>tickers.go
<a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a>Tick<span class=w> </span>at<span class=w> </span><span class=m>2012</span>-09-23<span class=w> </span><span class=m>11</span>:29:56.487625<span class=w> </span>-0700<span class=w> </span>PDT
<a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a>Tick<span class=w> </span>at<span class=w> </span><span class=m>2012</span>-09-23<span class=w> </span><span class=m>11</span>:29:56.988063<span class=w> </span>-0700<span class=w> </span>PDT
<a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a>Tick<span class=w> </span>at<span class=w> </span><span class=m>2012</span>-09-23<span class=w> </span><span class=m>11</span>:29:57.488076<span class=w> </span>-0700<span class=w> </span>PDT
<a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a>Ticker<span class=w> </span>stopped
</code></pre></div> <h2 id=go-读文件>Go 读文件<a class=headerlink href=#go-读文件 title="Permanent link">&para;</a></h2> <p>读写文件在很多程序中都是必须的基本任务。首先我们看看一 些读文件的例子。</p> <p><code>reading-files.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a>
<a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a><span class=w>    </span><span class=s>&quot;bufio&quot;</span>
<a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a><span class=w>    </span><span class=s>&quot;io&quot;</span>
<a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a><span class=w>    </span><span class=s>&quot;io/ioutil&quot;</span>
<a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a><span class=w>    </span><span class=s>&quot;path/filepath&quot;</span>
<a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a><span class=p>)</span>
<a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a>
<a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a><span class=c1>// check is a helper function to check for and handle errors.</span>
<a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a><span class=kd>func</span><span class=w> </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-14 name=__codelineno-82-14 href=#__codelineno-82-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-15 name=__codelineno-82-15 href=#__codelineno-82-15></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-16 name=__codelineno-82-16 href=#__codelineno-82-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-82-17 name=__codelineno-82-17 href=#__codelineno-82-17></a><span class=p>}</span>
<a id=__codelineno-82-18 name=__codelineno-82-18 href=#__codelineno-82-18></a>
<a id=__codelineno-82-19 name=__codelineno-82-19 href=#__codelineno-82-19></a><span class=c1>// readFileAndPrint demonstrates various ways to read from a file and print its contents.</span>
<a id=__codelineno-82-20 name=__codelineno-82-20 href=#__codelineno-82-20></a><span class=kd>func</span><span class=w> </span><span class=nx>readFileAndPrint</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-21 name=__codelineno-82-21 href=#__codelineno-82-21></a><span class=w>    </span><span class=c1>// 也许大部分基本的文件读取任务是将文件内容读取到内存中</span>
<a id=__codelineno-82-22 name=__codelineno-82-22 href=#__codelineno-82-22></a><span class=w>    </span><span class=nx>dat</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>ReadFile</span><span class=p>(</span><span class=s>&quot;dat&quot;</span><span class=p>)</span>
<a id=__codelineno-82-23 name=__codelineno-82-23 href=#__codelineno-82-23></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-24 name=__codelineno-82-24 href=#__codelineno-82-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Print</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>dat</span><span class=p>))</span>
<a id=__codelineno-82-25 name=__codelineno-82-25 href=#__codelineno-82-25></a>
<a id=__codelineno-82-26 name=__codelineno-82-26 href=#__codelineno-82-26></a><span class=w>    </span><span class=c1>// 你经常会想对于一个文件是怎么读并且读取到哪一部分进行更多的控制。</span>
<a id=__codelineno-82-27 name=__codelineno-82-27 href=#__codelineno-82-27></a><span class=w>    </span><span class=c1>// 对于这个任务，从使用 `os.Open` 打开一个文件获取一个 `os.File` 值开始。</span>
<a id=__codelineno-82-28 name=__codelineno-82-28 href=#__codelineno-82-28></a><span class=w>    </span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Open</span><span class=p>(</span><span class=s>&quot;dat&quot;</span><span class=p>)</span>
<a id=__codelineno-82-29 name=__codelineno-82-29 href=#__codelineno-82-29></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-30 name=__codelineno-82-30 href=#__codelineno-82-30></a>
<a id=__codelineno-82-31 name=__codelineno-82-31 href=#__codelineno-82-31></a><span class=w>    </span><span class=c1>// 从文件开始位置读取一些字节。</span>
<a id=__codelineno-82-32 name=__codelineno-82-32 href=#__codelineno-82-32></a><span class=w>    </span><span class=c1>// 这里最多读取 5 个字节，并且这也是我们实际读取的字节数。</span>
<a id=__codelineno-82-33 name=__codelineno-82-33 href=#__codelineno-82-33></a><span class=w>    </span><span class=nx>b1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span><span class=w> </span><span class=mi>5</span><span class=p>)</span>
<a id=__codelineno-82-34 name=__codelineno-82-34 href=#__codelineno-82-34></a><span class=w>    </span><span class=nx>n1</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Read</span><span class=p>(</span><span class=nx>b1</span><span class=p>)</span>
<a id=__codelineno-82-35 name=__codelineno-82-35 href=#__codelineno-82-35></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-36 name=__codelineno-82-36 href=#__codelineno-82-36></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d bytes: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n1</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>b1</span><span class=p>))</span><span class=w> </span><span class=c1>//5 bytes: hello</span>
<a id=__codelineno-82-37 name=__codelineno-82-37 href=#__codelineno-82-37></a>
<a id=__codelineno-82-38 name=__codelineno-82-38 href=#__codelineno-82-38></a><span class=w>    </span><span class=c1>// 你也可以 `Seek` 到一个文件中已知的位置并从这个位置开始进行读取。</span>
<a id=__codelineno-82-39 name=__codelineno-82-39 href=#__codelineno-82-39></a><span class=w>    </span><span class=nx>o2</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Seek</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-82-40 name=__codelineno-82-40 href=#__codelineno-82-40></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-41 name=__codelineno-82-41 href=#__codelineno-82-41></a><span class=w>    </span><span class=nx>b2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-82-42 name=__codelineno-82-42 href=#__codelineno-82-42></a><span class=w>    </span><span class=nx>n2</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Read</span><span class=p>(</span><span class=nx>b2</span><span class=p>)</span>
<a id=__codelineno-82-43 name=__codelineno-82-43 href=#__codelineno-82-43></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-44 name=__codelineno-82-44 href=#__codelineno-82-44></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d bytes @ %d: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n2</span><span class=p>,</span><span class=w> </span><span class=nx>o2</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>b2</span><span class=p>))</span><span class=w> </span><span class=c1>//2 bytes @ 6: g</span>
<a id=__codelineno-82-45 name=__codelineno-82-45 href=#__codelineno-82-45></a>
<a id=__codelineno-82-46 name=__codelineno-82-46 href=#__codelineno-82-46></a><span class=w>    </span><span class=c1>// `io` 包提供了一些可以帮助我们进行文件读取的函数。 例如，上面的读取可以使用 `ReadAtLeast` 得到一个更健壮的实现。</span>
<a id=__codelineno-82-47 name=__codelineno-82-47 href=#__codelineno-82-47></a><span class=w>    </span><span class=nx>o3</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Seek</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-82-48 name=__codelineno-82-48 href=#__codelineno-82-48></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-49 name=__codelineno-82-49 href=#__codelineno-82-49></a><span class=w>    </span><span class=nx>b3</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>make</span><span class=p>([]</span><span class=kt>byte</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-82-50 name=__codelineno-82-50 href=#__codelineno-82-50></a><span class=w>    </span><span class=nx>n3</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>io</span><span class=p>.</span><span class=nx>ReadAtLeast</span><span class=p>(</span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>b3</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-82-51 name=__codelineno-82-51 href=#__codelineno-82-51></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-52 name=__codelineno-82-52 href=#__codelineno-82-52></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%d bytes @ %d: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n3</span><span class=p>,</span><span class=w> </span><span class=nx>o3</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>b3</span><span class=p>))</span><span class=w> </span><span class=c1>//2 bytes @ 6: g</span>
<a id=__codelineno-82-53 name=__codelineno-82-53 href=#__codelineno-82-53></a>
<a id=__codelineno-82-54 name=__codelineno-82-54 href=#__codelineno-82-54></a><span class=w>    </span><span class=c1>// Rewind to the beginning of the file.</span>
<a id=__codelineno-82-55 name=__codelineno-82-55 href=#__codelineno-82-55></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Seek</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-82-56 name=__codelineno-82-56 href=#__codelineno-82-56></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-57 name=__codelineno-82-57 href=#__codelineno-82-57></a>
<a id=__codelineno-82-58 name=__codelineno-82-58 href=#__codelineno-82-58></a><span class=w>    </span><span class=c1>// `bufio` 包实现了带缓冲的读取，这不仅对于很多小的读取操作能够提升性能，也提供了很多附加的读取函数。</span>
<a id=__codelineno-82-59 name=__codelineno-82-59 href=#__codelineno-82-59></a><span class=w>    </span><span class=nx>r4</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>bufio</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>f</span><span class=p>)</span>
<a id=__codelineno-82-60 name=__codelineno-82-60 href=#__codelineno-82-60></a><span class=w>    </span><span class=nx>b4</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>r4</span><span class=p>.</span><span class=nx>Peek</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<a id=__codelineno-82-61 name=__codelineno-82-61 href=#__codelineno-82-61></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-62 name=__codelineno-82-62 href=#__codelineno-82-62></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;5 bytes: %s\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>string</span><span class=p>(</span><span class=nx>b4</span><span class=p>))</span><span class=w> </span><span class=c1>//5 bytes: hello</span>
<a id=__codelineno-82-63 name=__codelineno-82-63 href=#__codelineno-82-63></a>
<a id=__codelineno-82-64 name=__codelineno-82-64 href=#__codelineno-82-64></a><span class=w>    </span><span class=c1>// 任务结束后要关闭这个文件（通常这个操作应该在 `Open`</span>
<a id=__codelineno-82-65 name=__codelineno-82-65 href=#__codelineno-82-65></a><span class=w>    </span><span class=c1>// 操作后立即使用 `defer` 来完成）。</span>
<a id=__codelineno-82-66 name=__codelineno-82-66 href=#__codelineno-82-66></a><span class=w>    </span><span class=nx>f</span><span class=p>.</span><span class=nx>Close</span><span class=p>()</span>
<a id=__codelineno-82-67 name=__codelineno-82-67 href=#__codelineno-82-67></a><span class=p>}</span>
<a id=__codelineno-82-68 name=__codelineno-82-68 href=#__codelineno-82-68></a>
<a id=__codelineno-82-69 name=__codelineno-82-69 href=#__codelineno-82-69></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-82-70 name=__codelineno-82-70 href=#__codelineno-82-70></a><span class=w>    </span><span class=c1>// Get the current working directory.</span>
<a id=__codelineno-82-71 name=__codelineno-82-71 href=#__codelineno-82-71></a><span class=w>    </span><span class=nx>wd</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Getwd</span><span class=p>()</span>
<a id=__codelineno-82-72 name=__codelineno-82-72 href=#__codelineno-82-72></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-73 name=__codelineno-82-73 href=#__codelineno-82-73></a>
<a id=__codelineno-82-74 name=__codelineno-82-74 href=#__codelineno-82-74></a><span class=w>    </span><span class=c1>// Construct the file path relative to the current working directory.</span>
<a id=__codelineno-82-75 name=__codelineno-82-75 href=#__codelineno-82-75></a><span class=w>    </span><span class=nx>filePath</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Join</span><span class=p>(</span><span class=nx>wd</span><span class=p>,</span><span class=w> </span><span class=s>&quot;internal\\Go-ReadFile&quot;</span><span class=p>)</span>
<a id=__codelineno-82-76 name=__codelineno-82-76 href=#__codelineno-82-76></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>filePath</span><span class=p>)</span>
<a id=__codelineno-82-77 name=__codelineno-82-77 href=#__codelineno-82-77></a>
<a id=__codelineno-82-78 name=__codelineno-82-78 href=#__codelineno-82-78></a><span class=w>    </span><span class=c1>// Set the file path as the current working directory.</span>
<a id=__codelineno-82-79 name=__codelineno-82-79 href=#__codelineno-82-79></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Chdir</span><span class=p>(</span><span class=nx>filePath</span><span class=p>)</span>
<a id=__codelineno-82-80 name=__codelineno-82-80 href=#__codelineno-82-80></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-82-81 name=__codelineno-82-81 href=#__codelineno-82-81></a>
<a id=__codelineno-82-82 name=__codelineno-82-82 href=#__codelineno-82-82></a><span class=w>    </span><span class=nx>readFileAndPrint</span><span class=p>()</span>
<a id=__codelineno-82-83 name=__codelineno-82-83 href=#__codelineno-82-83></a><span class=p>}</span>
</code></pre></div> <p>运行结果如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a>$<span class=w> </span><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;hello&quot;</span><span class=w> </span>&gt;<span class=w> </span>./dat
<a id=__codelineno-83-2 name=__codelineno-83-2 href=#__codelineno-83-2></a>$<span class=w> </span><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;go&quot;</span><span class=w> </span>&gt;&gt;<span class=w>  </span>./dat
<a id=__codelineno-83-3 name=__codelineno-83-3 href=#__codelineno-83-3></a>
<a id=__codelineno-83-4 name=__codelineno-83-4 href=#__codelineno-83-4></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>reading-files.go<span class=w> </span>
<a id=__codelineno-83-5 name=__codelineno-83-5 href=#__codelineno-83-5></a>hello
<a id=__codelineno-83-6 name=__codelineno-83-6 href=#__codelineno-83-6></a>go
<a id=__codelineno-83-7 name=__codelineno-83-7 href=#__codelineno-83-7></a><span class=m>5</span><span class=w> </span>bytes:<span class=w> </span>hello
<a id=__codelineno-83-8 name=__codelineno-83-8 href=#__codelineno-83-8></a><span class=m>2</span><span class=w> </span>bytes<span class=w> </span>@<span class=w> </span><span class=m>6</span>:<span class=w> </span>go
<a id=__codelineno-83-9 name=__codelineno-83-9 href=#__codelineno-83-9></a><span class=m>2</span><span class=w> </span>bytes<span class=w> </span>@<span class=w> </span><span class=m>6</span>:<span class=w> </span>go
<a id=__codelineno-83-10 name=__codelineno-83-10 href=#__codelineno-83-10></a><span class=m>5</span><span class=w> </span>bytes:<span class=w> </span>hello
</code></pre></div> <p>Golang 超大文件读取的两个方案</p> <p><a href=https://learnku.com/articles/23559/two-schemes-for-reading-golang-super-large-files>https://learnku.com/articles/23559/two-schemes-for-reading-golang-super-large-files</a></p> <h2 id=go-写文件>Go 写文件<a class=headerlink href=#go-写文件 title="Permanent link">&para;</a></h2> <p>Go将数据写入文件的方法和上面介绍过的读取文件的方法很类似。</p> <p><code>writing-files.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a>
<a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a><span class=w>    </span><span class=s>&quot;bufio&quot;</span>
<a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a><span class=w>    </span><span class=s>&quot;io/ioutil&quot;</span>
<a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a><span class=p>)</span>
<a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a>
<a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a><span class=kd>func</span><span class=w> </span><span class=nx>check</span><span class=p>(</span><span class=nx>e</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
<a id=__codelineno-84-13 name=__codelineno-84-13 href=#__codelineno-84-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-84-14 name=__codelineno-84-14 href=#__codelineno-84-14></a><span class=p>}</span>
<a id=__codelineno-84-15 name=__codelineno-84-15 href=#__codelineno-84-15></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-84-16 name=__codelineno-84-16 href=#__codelineno-84-16></a><span class=w>    </span><span class=c1>// 首先看一下如何将一个字符串写入文件</span>
<a id=__codelineno-84-17 name=__codelineno-84-17 href=#__codelineno-84-17></a><span class=w>    </span><span class=nx>d1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&quot;hello\ngo\n&quot;</span><span class=p>)</span>
<a id=__codelineno-84-18 name=__codelineno-84-18 href=#__codelineno-84-18></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>WriteFile</span><span class=p>(</span><span class=s>&quot;/tmp/dat1&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>d1</span><span class=p>,</span><span class=w> </span><span class=mo>0644</span><span class=p>)</span>
<a id=__codelineno-84-19 name=__codelineno-84-19 href=#__codelineno-84-19></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-84-20 name=__codelineno-84-20 href=#__codelineno-84-20></a>
<a id=__codelineno-84-21 name=__codelineno-84-21 href=#__codelineno-84-21></a><span class=w>    </span><span class=c1>// 为了实现细颗粒度的写入，打开文件后再写入</span>
<a id=__codelineno-84-22 name=__codelineno-84-22 href=#__codelineno-84-22></a><span class=w>    </span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Create</span><span class=p>(</span><span class=s>&quot;/tmp/dat2&quot;</span><span class=p>)</span>
<a id=__codelineno-84-23 name=__codelineno-84-23 href=#__codelineno-84-23></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-84-24 name=__codelineno-84-24 href=#__codelineno-84-24></a>
<a id=__codelineno-84-25 name=__codelineno-84-25 href=#__codelineno-84-25></a><span class=w>    </span><span class=c1>// 在打开文件后通常应该立刻使用defer来调用</span>
<a id=__codelineno-84-26 name=__codelineno-84-26 href=#__codelineno-84-26></a><span class=w>    </span><span class=c1>// 打开文件的Close方法，以保证main函数结束</span>
<a id=__codelineno-84-27 name=__codelineno-84-27 href=#__codelineno-84-27></a><span class=w>    </span><span class=c1>// 后，文件关闭</span>
<a id=__codelineno-84-28 name=__codelineno-84-28 href=#__codelineno-84-28></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Close</span><span class=p>()</span>
<a id=__codelineno-84-29 name=__codelineno-84-29 href=#__codelineno-84-29></a>
<a id=__codelineno-84-30 name=__codelineno-84-30 href=#__codelineno-84-30></a><span class=w>    </span><span class=c1>// 你可以写入字节切片</span>
<a id=__codelineno-84-31 name=__codelineno-84-31 href=#__codelineno-84-31></a><span class=w>    </span><span class=nx>d2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>{</span><span class=mi>115</span><span class=p>,</span><span class=w> </span><span class=mi>111</span><span class=p>,</span><span class=w> </span><span class=mi>109</span><span class=p>,</span><span class=w> </span><span class=mi>101</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>}</span>
<a id=__codelineno-84-32 name=__codelineno-84-32 href=#__codelineno-84-32></a><span class=w>    </span><span class=nx>n2</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Write</span><span class=p>(</span><span class=nx>d2</span><span class=p>)</span>
<a id=__codelineno-84-33 name=__codelineno-84-33 href=#__codelineno-84-33></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-84-34 name=__codelineno-84-34 href=#__codelineno-84-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;wrote %d bytes\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n2</span><span class=p>)</span><span class=w> </span><span class=c1>//wrote 5 bytes</span>
<a id=__codelineno-84-35 name=__codelineno-84-35 href=#__codelineno-84-35></a>
<a id=__codelineno-84-36 name=__codelineno-84-36 href=#__codelineno-84-36></a><span class=w>    </span><span class=c1>// 也可以使用`WriteString`直接写入字符串</span>
<a id=__codelineno-84-37 name=__codelineno-84-37 href=#__codelineno-84-37></a><span class=w>    </span><span class=nx>n3</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>WriteString</span><span class=p>(</span><span class=s>&quot;writes\n&quot;</span><span class=p>)</span>
<a id=__codelineno-84-38 name=__codelineno-84-38 href=#__codelineno-84-38></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;wrote %d bytes\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n3</span><span class=p>)</span><span class=w> </span><span class=c1>//wrote 7 bytes</span>
<a id=__codelineno-84-39 name=__codelineno-84-39 href=#__codelineno-84-39></a>
<a id=__codelineno-84-40 name=__codelineno-84-40 href=#__codelineno-84-40></a><span class=w>    </span><span class=c1>// 调用Sync方法来将缓冲区数据写入磁盘</span>
<a id=__codelineno-84-41 name=__codelineno-84-41 href=#__codelineno-84-41></a><span class=w>    </span><span class=nx>f</span><span class=p>.</span><span class=nx>Sync</span><span class=p>()</span>
<a id=__codelineno-84-42 name=__codelineno-84-42 href=#__codelineno-84-42></a><span class=w>    </span><span class=c1>// `bufio`除了提供上面的缓冲读取数据外，还</span>
<a id=__codelineno-84-43 name=__codelineno-84-43 href=#__codelineno-84-43></a><span class=w>    </span><span class=c1>// 提供了缓冲写入数据的方法</span>
<a id=__codelineno-84-44 name=__codelineno-84-44 href=#__codelineno-84-44></a><span class=w>    </span><span class=nx>w</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>bufio</span><span class=p>.</span><span class=nx>NewWriter</span><span class=p>(</span><span class=nx>f</span><span class=p>)</span>
<a id=__codelineno-84-45 name=__codelineno-84-45 href=#__codelineno-84-45></a><span class=w>    </span><span class=nx>n4</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>w</span><span class=p>.</span><span class=nx>WriteString</span><span class=p>(</span><span class=s>&quot;buffered\n&quot;</span><span class=p>)</span>
<a id=__codelineno-84-46 name=__codelineno-84-46 href=#__codelineno-84-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;wrote %d bytes\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>n4</span><span class=p>)</span><span class=w> </span><span class=c1>//wrote 9 bytes</span>
<a id=__codelineno-84-47 name=__codelineno-84-47 href=#__codelineno-84-47></a>
<a id=__codelineno-84-48 name=__codelineno-84-48 href=#__codelineno-84-48></a><span class=w>    </span><span class=c1>// 使用Flush方法确保所有缓冲区的数据写入底层writer</span>
<a id=__codelineno-84-49 name=__codelineno-84-49 href=#__codelineno-84-49></a><span class=w>    </span><span class=nx>w</span><span class=p>.</span><span class=nx>Flush</span><span class=p>()</span>
<a id=__codelineno-84-50 name=__codelineno-84-50 href=#__codelineno-84-50></a><span class=p>}</span>
</code></pre></div> <h2 id=go-行过滤器>Go 行过滤器<a class=headerlink href=#go-行过滤器 title="Permanent link">&para;</a></h2> <p>Line Filters翻译一下大概是行数据过滤器。</p> <p>简单一点就是一个程序从标准输入stdin读取数据，然后处理一下，将处理的结果输出到标准输出stdout。</p> <p>grep和sed就是常见的行数据过滤器。</p> <p>这里有一个行数据过滤器的例子，是把一个输入文本转换为大写的文本。</p> <p>你可以使用这种方式来实现你自己的Go Line Filters。</p> <p><code>line-filters.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a>
<a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a><span class=w>    </span><span class=s>&quot;bufio&quot;</span>
<a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a><span class=w>    </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a><span class=p>)</span>
<a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a>
<a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a><span class=w>    </span><span class=c1>// 使用缓冲scanner来包裹无缓冲的`os.Stdin`可以让我们</span>
<a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a><span class=w>    </span><span class=c1>// 方便地使用`Scan`方法，这个方法会将scanner定位到下</span>
<a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a><span class=w>    </span><span class=c1>// 一行的位置</span>
<a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a><span class=w>    </span><span class=nx>scanner</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>bufio</span><span class=p>.</span><span class=nx>NewScanner</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stdin</span><span class=p>)</span>
<a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>scanner</span><span class=p>.</span><span class=nx>Scan</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a><span class=w>        </span><span class=c1>// `Text`方法从输入中返回当前行</span>
<a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a><span class=w>        </span><span class=nx>ucl</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>ToUpper</span><span class=p>(</span><span class=nx>scanner</span><span class=p>.</span><span class=nx>Text</span><span class=p>())</span>
<a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a><span class=w>        </span><span class=c1>// 输出转换为大写的行</span>
<a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>ucl</span><span class=p>)</span>
<a id=__codelineno-85-20 name=__codelineno-85-20 href=#__codelineno-85-20></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-85-21 name=__codelineno-85-21 href=#__codelineno-85-21></a><span class=w>    </span><span class=c1>// 在`Scan`过程中，检查错误。文件结束不会被当作一个错误</span>
<a id=__codelineno-85-22 name=__codelineno-85-22 href=#__codelineno-85-22></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scanner</span><span class=p>.</span><span class=nx>Err</span><span class=p>();</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-85-23 name=__codelineno-85-23 href=#__codelineno-85-23></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintln</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stderr</span><span class=p>,</span><span class=w> </span><span class=s>&quot;error:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-85-24 name=__codelineno-85-24 href=#__codelineno-85-24></a><span class=w>        </span><span class=nx>os</span><span class=p>.</span><span class=nx>Exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-85-25 name=__codelineno-85-25 href=#__codelineno-85-25></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-85-26 name=__codelineno-85-26 href=#__codelineno-85-26></a><span class=p>}</span>
</code></pre></div> <p>运行结果</p> <div class=highlight><pre><span></span><code><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a>hello<span class=w> </span>world
<a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a>HELLO<span class=w> </span>WORLD
<a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a>how<span class=w> </span>are<span class=w> </span>you
<a id=__codelineno-86-4 name=__codelineno-86-4 href=#__codelineno-86-4></a>HOW<span class=w> </span>ARE<span class=w> </span>YOU
</code></pre></div> <h2 id=go-文件路径>Go 文件路径<a class=headerlink href=#go-文件路径 title="Permanent link">&para;</a></h2> <p>filepath 包为 文件路径，提供了方便的跨操作系统的解析和构建函数； 比如：Linux 下的 dir/file 和 Windows 下的 dir.ile。</p> <p><code>file-paths.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a>
<a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a><span class=w>    </span><span class=s>&quot;path/filepath&quot;</span>
<a id=__codelineno-87-6 name=__codelineno-87-6 href=#__codelineno-87-6></a><span class=w>    </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-87-7 name=__codelineno-87-7 href=#__codelineno-87-7></a><span class=p>)</span>
<a id=__codelineno-87-8 name=__codelineno-87-8 href=#__codelineno-87-8></a>
<a id=__codelineno-87-9 name=__codelineno-87-9 href=#__codelineno-87-9></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-87-10 name=__codelineno-87-10 href=#__codelineno-87-10></a>
<a id=__codelineno-87-11 name=__codelineno-87-11 href=#__codelineno-87-11></a><span class=w>    </span><span class=c1>// 应使用 `Join` 来构建可移植(跨操作系统)的路径。</span>
<a id=__codelineno-87-12 name=__codelineno-87-12 href=#__codelineno-87-12></a><span class=w>    </span><span class=c1>// 它接收任意数量的参数，并参照传入顺序构造一个对应层次结构的路径。</span>
<a id=__codelineno-87-13 name=__codelineno-87-13 href=#__codelineno-87-13></a><span class=w>    </span><span class=nx>p</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Join</span><span class=p>(</span><span class=s>&quot;dir1&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;dir2&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;filename&quot;</span><span class=p>)</span>
<a id=__codelineno-87-14 name=__codelineno-87-14 href=#__codelineno-87-14></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;p:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//p: dir1\dir2\filename</span>
<a id=__codelineno-87-15 name=__codelineno-87-15 href=#__codelineno-87-15></a>
<a id=__codelineno-87-16 name=__codelineno-87-16 href=#__codelineno-87-16></a><span class=w>    </span><span class=c1>// 您应该总是使用 `Join` 代替手动拼接 `/` 和 `\`。</span>
<a id=__codelineno-87-17 name=__codelineno-87-17 href=#__codelineno-87-17></a><span class=w>    </span><span class=c1>// 除了可移植性，`Join` 还会删除多余的分隔符和目录，使得路径更加规范。</span>
<a id=__codelineno-87-18 name=__codelineno-87-18 href=#__codelineno-87-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Join</span><span class=p>(</span><span class=s>&quot;dir1//&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;filename&quot;</span><span class=p>))</span><span class=w>       </span><span class=c1>//dir1\filename</span>
<a id=__codelineno-87-19 name=__codelineno-87-19 href=#__codelineno-87-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Join</span><span class=p>(</span><span class=s>&quot;dir1/../dir1&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;filename&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//dir1\filename</span>
<a id=__codelineno-87-20 name=__codelineno-87-20 href=#__codelineno-87-20></a>
<a id=__codelineno-87-21 name=__codelineno-87-21 href=#__codelineno-87-21></a><span class=w>    </span><span class=c1>// `Dir` 和 `Base` 可以被用于分割路径中的目录和文件。</span>
<a id=__codelineno-87-22 name=__codelineno-87-22 href=#__codelineno-87-22></a><span class=w>    </span><span class=c1>// 此外，`Split` 可以一次调用返回上面两个函数的结果。</span>
<a id=__codelineno-87-23 name=__codelineno-87-23 href=#__codelineno-87-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Dir(p):&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Dir</span><span class=p>(</span><span class=nx>p</span><span class=p>))</span><span class=w>   </span><span class=c1>//Dir(p): dir1\dir2</span>
<a id=__codelineno-87-24 name=__codelineno-87-24 href=#__codelineno-87-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Base(p):&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Base</span><span class=p>(</span><span class=nx>p</span><span class=p>))</span><span class=w> </span><span class=c1>//Base(p): filename</span>
<a id=__codelineno-87-25 name=__codelineno-87-25 href=#__codelineno-87-25></a>
<a id=__codelineno-87-26 name=__codelineno-87-26 href=#__codelineno-87-26></a><span class=w>    </span><span class=c1>// 判断路径是否为绝对路径。</span>
<a id=__codelineno-87-27 name=__codelineno-87-27 href=#__codelineno-87-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>filepath</span><span class=p>.</span><span class=nx>IsAbs</span><span class=p>(</span><span class=s>&quot;dir/file&quot;</span><span class=p>))</span><span class=w>  </span><span class=c1>// false</span>
<a id=__codelineno-87-28 name=__codelineno-87-28 href=#__codelineno-87-28></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>filepath</span><span class=p>.</span><span class=nx>IsAbs</span><span class=p>(</span><span class=s>&quot;/dir/file&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>// false</span>
<a id=__codelineno-87-29 name=__codelineno-87-29 href=#__codelineno-87-29></a>
<a id=__codelineno-87-30 name=__codelineno-87-30 href=#__codelineno-87-30></a><span class=w>    </span><span class=nx>filename</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;config.json&quot;</span>
<a id=__codelineno-87-31 name=__codelineno-87-31 href=#__codelineno-87-31></a>
<a id=__codelineno-87-32 name=__codelineno-87-32 href=#__codelineno-87-32></a><span class=w>    </span><span class=c1>// 某些文件名包含了扩展名（文件类型）。</span>
<a id=__codelineno-87-33 name=__codelineno-87-33 href=#__codelineno-87-33></a><span class=w>    </span><span class=c1>// 我们可以用 `Ext` 将扩展名分割出来。</span>
<a id=__codelineno-87-34 name=__codelineno-87-34 href=#__codelineno-87-34></a><span class=w>    </span><span class=nx>ext</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Ext</span><span class=p>(</span><span class=nx>filename</span><span class=p>)</span>
<a id=__codelineno-87-35 name=__codelineno-87-35 href=#__codelineno-87-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>ext</span><span class=p>)</span><span class=w> </span><span class=c1>//.json</span>
<a id=__codelineno-87-36 name=__codelineno-87-36 href=#__codelineno-87-36></a>
<a id=__codelineno-87-37 name=__codelineno-87-37 href=#__codelineno-87-37></a><span class=w>    </span><span class=c1>// 想获取文件名清除扩展名后的值，请使用 `strings.TrimSuffix`。</span>
<a id=__codelineno-87-38 name=__codelineno-87-38 href=#__codelineno-87-38></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>strings</span><span class=p>.</span><span class=nx>TrimSuffix</span><span class=p>(</span><span class=nx>filename</span><span class=p>,</span><span class=w> </span><span class=nx>ext</span><span class=p>))</span><span class=w> </span><span class=c1>//config</span>
<a id=__codelineno-87-39 name=__codelineno-87-39 href=#__codelineno-87-39></a>
<a id=__codelineno-87-40 name=__codelineno-87-40 href=#__codelineno-87-40></a><span class=w>    </span><span class=c1>// `Rel` 寻找 `basepath` 与 `targpath` 之间的相对路径。</span>
<a id=__codelineno-87-41 name=__codelineno-87-41 href=#__codelineno-87-41></a><span class=w>    </span><span class=c1>// 如果相对路径不存在，则返回错误。</span>
<a id=__codelineno-87-42 name=__codelineno-87-42 href=#__codelineno-87-42></a><span class=w>    </span><span class=nx>rel</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Rel</span><span class=p>(</span><span class=s>&quot;a/b&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a/b/t/file&quot;</span><span class=p>)</span>
<a id=__codelineno-87-43 name=__codelineno-87-43 href=#__codelineno-87-43></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-87-44 name=__codelineno-87-44 href=#__codelineno-87-44></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-87-45 name=__codelineno-87-45 href=#__codelineno-87-45></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-87-46 name=__codelineno-87-46 href=#__codelineno-87-46></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>rel</span><span class=p>)</span><span class=w> </span><span class=c1>//t\file</span>
<a id=__codelineno-87-47 name=__codelineno-87-47 href=#__codelineno-87-47></a>
<a id=__codelineno-87-48 name=__codelineno-87-48 href=#__codelineno-87-48></a><span class=w>    </span><span class=nx>rel</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Rel</span><span class=p>(</span><span class=s>&quot;a/b&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a/c/t/file&quot;</span><span class=p>)</span>
<a id=__codelineno-87-49 name=__codelineno-87-49 href=#__codelineno-87-49></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-87-50 name=__codelineno-87-50 href=#__codelineno-87-50></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-87-51 name=__codelineno-87-51 href=#__codelineno-87-51></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-87-52 name=__codelineno-87-52 href=#__codelineno-87-52></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>rel</span><span class=p>)</span><span class=w> </span><span class=c1>//..\c\t\file</span>
<a id=__codelineno-87-53 name=__codelineno-87-53 href=#__codelineno-87-53></a><span class=p>}</span>
</code></pre></div> <h2 id=go-文件目录>Go 文件目录<a class=headerlink href=#go-文件目录 title="Permanent link">&para;</a></h2> <p>对于操作文件系统中的 目录，Go 提供了几个非常有用的函数。</p> <p><code>directories.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a>
<a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a><span class=w>    </span><span class=s>&quot;io/ioutil&quot;</span>
<a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a><span class=w>    </span><span class=s>&quot;path/filepath&quot;</span>
<a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a><span class=p>)</span>
<a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a>
<a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a><span class=kd>func</span><span class=w> </span><span class=nx>check</span><span class=p>(</span><span class=nx>e</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
<a id=__codelineno-88-13 name=__codelineno-88-13 href=#__codelineno-88-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-88-14 name=__codelineno-88-14 href=#__codelineno-88-14></a><span class=p>}</span>
<a id=__codelineno-88-15 name=__codelineno-88-15 href=#__codelineno-88-15></a>
<a id=__codelineno-88-16 name=__codelineno-88-16 href=#__codelineno-88-16></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-17 name=__codelineno-88-17 href=#__codelineno-88-17></a>
<a id=__codelineno-88-18 name=__codelineno-88-18 href=#__codelineno-88-18></a><span class=w>    </span><span class=c1>// 在当前工作目录下，创建一个子目录。</span>
<a id=__codelineno-88-19 name=__codelineno-88-19 href=#__codelineno-88-19></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Mkdir</span><span class=p>(</span><span class=s>&quot;subdir&quot;</span><span class=p>,</span><span class=w> </span><span class=mo>0755</span><span class=p>)</span>
<a id=__codelineno-88-20 name=__codelineno-88-20 href=#__codelineno-88-20></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-88-21 name=__codelineno-88-21 href=#__codelineno-88-21></a>
<a id=__codelineno-88-22 name=__codelineno-88-22 href=#__codelineno-88-22></a><span class=w>    </span><span class=c1>// 创建这个临时目录后，一个好习惯是：使用 `defer` 删除这个目录。</span>
<a id=__codelineno-88-23 name=__codelineno-88-23 href=#__codelineno-88-23></a><span class=w>    </span><span class=c1>// `os.RemoveAll` 会删除整个目录（类似于 `rm -rf`）。</span>
<a id=__codelineno-88-24 name=__codelineno-88-24 href=#__codelineno-88-24></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>RemoveAll</span><span class=p>(</span><span class=s>&quot;subdir&quot;</span><span class=p>)</span>
<a id=__codelineno-88-25 name=__codelineno-88-25 href=#__codelineno-88-25></a>
<a id=__codelineno-88-26 name=__codelineno-88-26 href=#__codelineno-88-26></a><span class=w>    </span><span class=c1>// 创建一个用于创建临时文件的函数。</span>
<a id=__codelineno-88-27 name=__codelineno-88-27 href=#__codelineno-88-27></a><span class=w>    </span><span class=nx>createEmptyFile</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-28 name=__codelineno-88-28 href=#__codelineno-88-28></a><span class=w>        </span><span class=nx>d</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-88-29 name=__codelineno-88-29 href=#__codelineno-88-29></a><span class=w>        </span><span class=nx>check</span><span class=p>(</span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>WriteFile</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>d</span><span class=p>,</span><span class=w> </span><span class=mo>0644</span><span class=p>))</span>
<a id=__codelineno-88-30 name=__codelineno-88-30 href=#__codelineno-88-30></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-88-31 name=__codelineno-88-31 href=#__codelineno-88-31></a>
<a id=__codelineno-88-32 name=__codelineno-88-32 href=#__codelineno-88-32></a><span class=w>    </span><span class=nx>createEmptyFile</span><span class=p>(</span><span class=s>&quot;subdir/file1&quot;</span><span class=p>)</span>
<a id=__codelineno-88-33 name=__codelineno-88-33 href=#__codelineno-88-33></a>
<a id=__codelineno-88-34 name=__codelineno-88-34 href=#__codelineno-88-34></a><span class=w>    </span><span class=c1>// 我们还可以创建一个有层级的目录，使用 `MkdirAll` 函数，并包含其父目录。</span>
<a id=__codelineno-88-35 name=__codelineno-88-35 href=#__codelineno-88-35></a><span class=w>    </span><span class=c1>// 这个类似于命令 `mkdir -p`。</span>
<a id=__codelineno-88-36 name=__codelineno-88-36 href=#__codelineno-88-36></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>MkdirAll</span><span class=p>(</span><span class=s>&quot;subdir/parent/child&quot;</span><span class=p>,</span><span class=w> </span><span class=mo>0755</span><span class=p>)</span>
<a id=__codelineno-88-37 name=__codelineno-88-37 href=#__codelineno-88-37></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-88-38 name=__codelineno-88-38 href=#__codelineno-88-38></a>
<a id=__codelineno-88-39 name=__codelineno-88-39 href=#__codelineno-88-39></a><span class=w>    </span><span class=nx>createEmptyFile</span><span class=p>(</span><span class=s>&quot;subdir/parent/file2&quot;</span><span class=p>)</span>
<a id=__codelineno-88-40 name=__codelineno-88-40 href=#__codelineno-88-40></a><span class=w>    </span><span class=nx>createEmptyFile</span><span class=p>(</span><span class=s>&quot;subdir/parent/file3&quot;</span><span class=p>)</span>
<a id=__codelineno-88-41 name=__codelineno-88-41 href=#__codelineno-88-41></a><span class=w>    </span><span class=nx>createEmptyFile</span><span class=p>(</span><span class=s>&quot;subdir/parent/child/file4&quot;</span><span class=p>)</span>
<a id=__codelineno-88-42 name=__codelineno-88-42 href=#__codelineno-88-42></a>
<a id=__codelineno-88-43 name=__codelineno-88-43 href=#__codelineno-88-43></a><span class=w>    </span><span class=c1>// `ReadDir` 列出目录的内容，返回一个 `os.FileInfo` 类型的切片对象。</span>
<a id=__codelineno-88-44 name=__codelineno-88-44 href=#__codelineno-88-44></a><span class=w>    </span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>ReadDir</span><span class=p>(</span><span class=s>&quot;subdir/parent&quot;</span><span class=p>)</span>
<a id=__codelineno-88-45 name=__codelineno-88-45 href=#__codelineno-88-45></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-88-46 name=__codelineno-88-46 href=#__codelineno-88-46></a>
<a id=__codelineno-88-47 name=__codelineno-88-47 href=#__codelineno-88-47></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Listing subdir/parent&quot;</span><span class=p>)</span>
<a id=__codelineno-88-48 name=__codelineno-88-48 href=#__codelineno-88-48></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>entry</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-49 name=__codelineno-88-49 href=#__codelineno-88-49></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot; &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>entry</span><span class=p>.</span><span class=nx>Name</span><span class=p>(),</span><span class=w> </span><span class=nx>entry</span><span class=p>.</span><span class=nx>IsDir</span><span class=p>())</span>
<a id=__codelineno-88-50 name=__codelineno-88-50 href=#__codelineno-88-50></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-88-51 name=__codelineno-88-51 href=#__codelineno-88-51></a>
<a id=__codelineno-88-52 name=__codelineno-88-52 href=#__codelineno-88-52></a><span class=w>    </span><span class=c1>// `Chdir` 可以修改当前工作目录，类似于 `cd`。</span>
<a id=__codelineno-88-53 name=__codelineno-88-53 href=#__codelineno-88-53></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Chdir</span><span class=p>(</span><span class=s>&quot;subdir/parent/child&quot;</span><span class=p>)</span>
<a id=__codelineno-88-54 name=__codelineno-88-54 href=#__codelineno-88-54></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-88-55 name=__codelineno-88-55 href=#__codelineno-88-55></a>
<a id=__codelineno-88-56 name=__codelineno-88-56 href=#__codelineno-88-56></a><span class=w>    </span><span class=c1>// 当我们列出 *当前* 目录，就可以看到 `subdir/parent/child` 的内容了。</span>
<a id=__codelineno-88-57 name=__codelineno-88-57 href=#__codelineno-88-57></a><span class=w>    </span><span class=nx>c</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>ReadDir</span><span class=p>(</span><span class=s>&quot;.&quot;</span><span class=p>)</span>
<a id=__codelineno-88-58 name=__codelineno-88-58 href=#__codelineno-88-58></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-88-59 name=__codelineno-88-59 href=#__codelineno-88-59></a>
<a id=__codelineno-88-60 name=__codelineno-88-60 href=#__codelineno-88-60></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Listing subdir/parent/child&quot;</span><span class=p>)</span>
<a id=__codelineno-88-61 name=__codelineno-88-61 href=#__codelineno-88-61></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>entry</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>c</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-62 name=__codelineno-88-62 href=#__codelineno-88-62></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot; &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>entry</span><span class=p>.</span><span class=nx>Name</span><span class=p>(),</span><span class=w> </span><span class=nx>entry</span><span class=p>.</span><span class=nx>IsDir</span><span class=p>())</span>
<a id=__codelineno-88-63 name=__codelineno-88-63 href=#__codelineno-88-63></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-88-64 name=__codelineno-88-64 href=#__codelineno-88-64></a>
<a id=__codelineno-88-65 name=__codelineno-88-65 href=#__codelineno-88-65></a><span class=w>    </span><span class=c1>// `cd` 回到最开始的地方。</span>
<a id=__codelineno-88-66 name=__codelineno-88-66 href=#__codelineno-88-66></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Chdir</span><span class=p>(</span><span class=s>&quot;../../..&quot;</span><span class=p>)</span>
<a id=__codelineno-88-67 name=__codelineno-88-67 href=#__codelineno-88-67></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-88-68 name=__codelineno-88-68 href=#__codelineno-88-68></a>
<a id=__codelineno-88-69 name=__codelineno-88-69 href=#__codelineno-88-69></a><span class=w>    </span><span class=c1>// 当然，我们也可以遍历一个目录及其所有子目录。</span>
<a id=__codelineno-88-70 name=__codelineno-88-70 href=#__codelineno-88-70></a><span class=w>    </span><span class=c1>// `Walk` 接受一个路径和回调函数，用于处理访问到的每个目录和文件。</span>
<a id=__codelineno-88-71 name=__codelineno-88-71 href=#__codelineno-88-71></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Visiting subdir&quot;</span><span class=p>)</span>
<a id=__codelineno-88-72 name=__codelineno-88-72 href=#__codelineno-88-72></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Walk</span><span class=p>(</span><span class=s>&quot;subdir&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>visit</span><span class=p>)</span>
<a id=__codelineno-88-73 name=__codelineno-88-73 href=#__codelineno-88-73></a><span class=p>}</span>
<a id=__codelineno-88-74 name=__codelineno-88-74 href=#__codelineno-88-74></a>
<a id=__codelineno-88-75 name=__codelineno-88-75 href=#__codelineno-88-75></a><span class=c1>// `filepath.Walk` 遍历访问到每一个目录和文件后，都会调用 `visit`。</span>
<a id=__codelineno-88-76 name=__codelineno-88-76 href=#__codelineno-88-76></a><span class=kd>func</span><span class=w> </span><span class=nx>visit</span><span class=p>(</span><span class=nx>p</span><span class=w> </span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=nx>info</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>FileInfo</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=kt>error</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-77 name=__codelineno-88-77 href=#__codelineno-88-77></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-88-78 name=__codelineno-88-78 href=#__codelineno-88-78></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>err</span>
<a id=__codelineno-88-79 name=__codelineno-88-79 href=#__codelineno-88-79></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-88-80 name=__codelineno-88-80 href=#__codelineno-88-80></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot; &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>p</span><span class=p>,</span><span class=w> </span><span class=nx>info</span><span class=p>.</span><span class=nx>IsDir</span><span class=p>())</span>
<a id=__codelineno-88-81 name=__codelineno-88-81 href=#__codelineno-88-81></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span>
<a id=__codelineno-88-82 name=__codelineno-88-82 href=#__codelineno-88-82></a><span class=p>}</span>
</code></pre></div> <p>运行结果如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>directories.go
<a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a>Listing<span class=w> </span>subdir/parent
<a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=w>  </span>child<span class=w> </span><span class=nb>true</span>
<a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a><span class=w>  </span>file2<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a><span class=w>  </span>file3<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-89-6 name=__codelineno-89-6 href=#__codelineno-89-6></a>Listing<span class=w> </span>subdir/parent/child
<a id=__codelineno-89-7 name=__codelineno-89-7 href=#__codelineno-89-7></a><span class=w>  </span>file4<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-89-8 name=__codelineno-89-8 href=#__codelineno-89-8></a>Visiting<span class=w> </span>subdir
<a id=__codelineno-89-9 name=__codelineno-89-9 href=#__codelineno-89-9></a><span class=w>  </span>subdir<span class=w> </span><span class=nb>true</span>
<a id=__codelineno-89-10 name=__codelineno-89-10 href=#__codelineno-89-10></a><span class=w>  </span>subdir/file1<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-89-11 name=__codelineno-89-11 href=#__codelineno-89-11></a><span class=w>  </span>subdir/parent<span class=w> </span><span class=nb>true</span>
<a id=__codelineno-89-12 name=__codelineno-89-12 href=#__codelineno-89-12></a><span class=w>  </span>subdir/parent/child<span class=w> </span><span class=nb>true</span>
<a id=__codelineno-89-13 name=__codelineno-89-13 href=#__codelineno-89-13></a><span class=w>  </span>subdir/parent/child/file4<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-89-14 name=__codelineno-89-14 href=#__codelineno-89-14></a><span class=w>  </span>subdir/parent/file2<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-89-15 name=__codelineno-89-15 href=#__codelineno-89-15></a><span class=w>  </span>subdir/parent/file3<span class=w> </span><span class=nb>false</span>
</code></pre></div> <h2 id=go-临时文件和目录>Go 临时文件和目录<a class=headerlink href=#go-临时文件和目录 title="Permanent link">&para;</a></h2> <p>在程序运行时，我们经常创建一些运行时用到，程序结束后就不再使用的数据。</p> <p>临时目录和文件 对于上面的情况很有用，因为它不会随着时间的推移而污染文件系统。</p> <p><code>temporary-files-and-directories.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-90-2 name=__codelineno-90-2 href=#__codelineno-90-2></a>
<a id=__codelineno-90-3 name=__codelineno-90-3 href=#__codelineno-90-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-90-4 name=__codelineno-90-4 href=#__codelineno-90-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-90-5 name=__codelineno-90-5 href=#__codelineno-90-5></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-90-6 name=__codelineno-90-6 href=#__codelineno-90-6></a><span class=w>    </span><span class=s>&quot;path/filepath&quot;</span>
<a id=__codelineno-90-7 name=__codelineno-90-7 href=#__codelineno-90-7></a><span class=p>)</span>
<a id=__codelineno-90-8 name=__codelineno-90-8 href=#__codelineno-90-8></a>
<a id=__codelineno-90-9 name=__codelineno-90-9 href=#__codelineno-90-9></a><span class=kd>func</span><span class=w> </span><span class=nx>check</span><span class=p>(</span><span class=nx>e</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-90-10 name=__codelineno-90-10 href=#__codelineno-90-10></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-90-11 name=__codelineno-90-11 href=#__codelineno-90-11></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
<a id=__codelineno-90-12 name=__codelineno-90-12 href=#__codelineno-90-12></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-90-13 name=__codelineno-90-13 href=#__codelineno-90-13></a><span class=p>}</span>
<a id=__codelineno-90-14 name=__codelineno-90-14 href=#__codelineno-90-14></a>
<a id=__codelineno-90-15 name=__codelineno-90-15 href=#__codelineno-90-15></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-90-16 name=__codelineno-90-16 href=#__codelineno-90-16></a>
<a id=__codelineno-90-17 name=__codelineno-90-17 href=#__codelineno-90-17></a><span class=w>    </span><span class=c1>// 创建临时文件最简单的方法是调用 `ioutil.TempFile` 函数。</span>
<a id=__codelineno-90-18 name=__codelineno-90-18 href=#__codelineno-90-18></a><span class=w>    </span><span class=c1>// 它会创建并打开文件，我们可以对文件进行读写。</span>
<a id=__codelineno-90-19 name=__codelineno-90-19 href=#__codelineno-90-19></a><span class=w>    </span><span class=c1>// 函数的第一个参数传 `&quot;&quot;`，`ioutil.TempFile` 会在操作系统的默认位置下创建该文件。</span>
<a id=__codelineno-90-20 name=__codelineno-90-20 href=#__codelineno-90-20></a><span class=w>    </span><span class=c1>//f, err := ioutil.TempFile(&quot;&quot;, &quot;sample&quot;) check(err)</span>
<a id=__codelineno-90-21 name=__codelineno-90-21 href=#__codelineno-90-21></a><span class=w>    </span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>CreateTemp</span><span class=p>(</span><span class=s>&quot;&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;sample&quot;</span><span class=p>)</span>
<a id=__codelineno-90-22 name=__codelineno-90-22 href=#__codelineno-90-22></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-90-23 name=__codelineno-90-23 href=#__codelineno-90-23></a>
<a id=__codelineno-90-24 name=__codelineno-90-24 href=#__codelineno-90-24></a><span class=w>    </span><span class=c1>// 打印临时文件的名称。</span>
<a id=__codelineno-90-25 name=__codelineno-90-25 href=#__codelineno-90-25></a><span class=w>    </span><span class=c1>// 文件名以 `ioutil.TempFile` 函数的第二个参数作为前缀，</span>
<a id=__codelineno-90-26 name=__codelineno-90-26 href=#__codelineno-90-26></a><span class=w>    </span><span class=c1>// 剩余的部分会自动生成，以确保并发调用时，生成不重复的文件名。</span>
<a id=__codelineno-90-27 name=__codelineno-90-27 href=#__codelineno-90-27></a><span class=w>    </span><span class=c1>// 在类 Unix 操作系统下，临时目录一般是 `/tmp`。</span>
<a id=__codelineno-90-28 name=__codelineno-90-28 href=#__codelineno-90-28></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Temp file name:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Name</span><span class=p>())</span><span class=w> </span><span class=c1>//Temp file name: C:\Users\18793\AppData\Local\Temp\sample1407861477</span>
<a id=__codelineno-90-29 name=__codelineno-90-29 href=#__codelineno-90-29></a>
<a id=__codelineno-90-30 name=__codelineno-90-30 href=#__codelineno-90-30></a><span class=w>    </span><span class=c1>// defer 删除该文件。</span>
<a id=__codelineno-90-31 name=__codelineno-90-31 href=#__codelineno-90-31></a><span class=w>    </span><span class=c1>// 尽管操作系统会自动在某个时间清理临时文件，但手动清理是一个好习惯。</span>
<a id=__codelineno-90-32 name=__codelineno-90-32 href=#__codelineno-90-32></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Remove</span><span class=p>(</span><span class=nx>f</span><span class=p>.</span><span class=nx>Name</span><span class=p>())</span>
<a id=__codelineno-90-33 name=__codelineno-90-33 href=#__codelineno-90-33></a>
<a id=__codelineno-90-34 name=__codelineno-90-34 href=#__codelineno-90-34></a><span class=w>    </span><span class=c1>// 我们可以向文件写入一些数据。</span>
<a id=__codelineno-90-35 name=__codelineno-90-35 href=#__codelineno-90-35></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>f</span><span class=p>.</span><span class=nx>Write</span><span class=p>([]</span><span class=kt>byte</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>})</span>
<a id=__codelineno-90-36 name=__codelineno-90-36 href=#__codelineno-90-36></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-90-37 name=__codelineno-90-37 href=#__codelineno-90-37></a>
<a id=__codelineno-90-38 name=__codelineno-90-38 href=#__codelineno-90-38></a><span class=w>    </span><span class=c1>// 如果需要写入多个临时文件，最好是为其创建一个临时 *目录*。</span>
<a id=__codelineno-90-39 name=__codelineno-90-39 href=#__codelineno-90-39></a><span class=w>    </span><span class=c1>// `ioutil.TempDir` 的参数与 `TempFile` 相同，</span>
<a id=__codelineno-90-40 name=__codelineno-90-40 href=#__codelineno-90-40></a><span class=w>    </span><span class=c1>// 但是它返回的是一个 *目录名*，而不是一个打开的文件。</span>
<a id=__codelineno-90-41 name=__codelineno-90-41 href=#__codelineno-90-41></a><span class=w>    </span><span class=c1>//dname, err := ioutil.TempDir(&quot;&quot;, &quot;sampledir&quot;)</span>
<a id=__codelineno-90-42 name=__codelineno-90-42 href=#__codelineno-90-42></a><span class=w>    </span><span class=nx>dname</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>MkdirTemp</span><span class=p>(</span><span class=s>&quot;&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;sampledir&quot;</span><span class=p>)</span>
<a id=__codelineno-90-43 name=__codelineno-90-43 href=#__codelineno-90-43></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Temp dir name:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>dname</span><span class=p>)</span><span class=w> </span><span class=c1>//Temp dir name: C:\Users\18793\AppData\Local\Temp\sampledir3918010941</span>
<a id=__codelineno-90-44 name=__codelineno-90-44 href=#__codelineno-90-44></a>
<a id=__codelineno-90-45 name=__codelineno-90-45 href=#__codelineno-90-45></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>RemoveAll</span><span class=p>(</span><span class=nx>dname</span><span class=p>)</span>
<a id=__codelineno-90-46 name=__codelineno-90-46 href=#__codelineno-90-46></a>
<a id=__codelineno-90-47 name=__codelineno-90-47 href=#__codelineno-90-47></a><span class=w>    </span><span class=c1>// 现在，我们可以通过拼接临时目录和临时文件合成完整的临时文件路径，并写入数据。</span>
<a id=__codelineno-90-48 name=__codelineno-90-48 href=#__codelineno-90-48></a><span class=w>    </span><span class=nx>fname</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>filepath</span><span class=p>.</span><span class=nx>Join</span><span class=p>(</span><span class=nx>dname</span><span class=p>,</span><span class=w> </span><span class=s>&quot;file1&quot;</span><span class=p>)</span>
<a id=__codelineno-90-49 name=__codelineno-90-49 href=#__codelineno-90-49></a><span class=w>    </span><span class=c1>// err = ioutil.WriteFile(fname, []byte{1, 2}, 0666)</span>
<a id=__codelineno-90-50 name=__codelineno-90-50 href=#__codelineno-90-50></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>WriteFile</span><span class=p>(</span><span class=nx>fname</span><span class=p>,</span><span class=w> </span><span class=p>[]</span><span class=kt>byte</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>},</span><span class=w> </span><span class=mo>0666</span><span class=p>)</span>
<a id=__codelineno-90-51 name=__codelineno-90-51 href=#__codelineno-90-51></a><span class=w>    </span><span class=nx>check</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-90-52 name=__codelineno-90-52 href=#__codelineno-90-52></a><span class=p>}</span>
</code></pre></div> <h2 id=go-测试>Go 测试<a class=headerlink href=#go-测试 title="Permanent link">&para;</a></h2> <p>想要写出好的 Go 程序，单元测试是很重要的一部分。 testing 包为提供了编写单元测试所需的工具，写好单元测试后，我们可以通过 go test 命令运行测试。</p> <p>为方便演示，例子的代码位于 main 包，实际上，单元测试的代码可以位于任何包下。 </p> <p>测试代码通常与需要被测试的代码位于同一个包下。</p> <p><code>demo1/demo1.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a><span class=kn>package</span><span class=w> </span><span class=nx>demo1</span>
<a id=__codelineno-91-2 name=__codelineno-91-2 href=#__codelineno-91-2></a>
<a id=__codelineno-91-3 name=__codelineno-91-3 href=#__codelineno-91-3></a><span class=c1>// 我们要测试下面这个简单的函数——返回最小值。</span>
<a id=__codelineno-91-4 name=__codelineno-91-4 href=#__codelineno-91-4></a><span class=c1>// 一般地，需要被测试的代码应该在类似于 `intutils.go` 的文件下，</span>
<a id=__codelineno-91-5 name=__codelineno-91-5 href=#__codelineno-91-5></a><span class=c1>// 其对应的测试文件应该被命名为 `intutils_test.go`。</span>
<a id=__codelineno-91-6 name=__codelineno-91-6 href=#__codelineno-91-6></a><span class=kd>func</span><span class=w> </span><span class=nx>IntMin</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-91-7 name=__codelineno-91-7 href=#__codelineno-91-7></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-91-8 name=__codelineno-91-8 href=#__codelineno-91-8></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>a</span>
<a id=__codelineno-91-9 name=__codelineno-91-9 href=#__codelineno-91-9></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-91-10 name=__codelineno-91-10 href=#__codelineno-91-10></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>b</span>
<a id=__codelineno-91-11 name=__codelineno-91-11 href=#__codelineno-91-11></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-91-12 name=__codelineno-91-12 href=#__codelineno-91-12></a><span class=p>}</span>
</code></pre></div> <p><code>demo1/demo1_test.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-92-1 name=__codelineno-92-1 href=#__codelineno-92-1></a><span class=kn>package</span><span class=w> </span><span class=nx>demo1</span>
<a id=__codelineno-92-2 name=__codelineno-92-2 href=#__codelineno-92-2></a>
<a id=__codelineno-92-3 name=__codelineno-92-3 href=#__codelineno-92-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-92-4 name=__codelineno-92-4 href=#__codelineno-92-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-92-5 name=__codelineno-92-5 href=#__codelineno-92-5></a><span class=w>    </span><span class=s>&quot;testing&quot;</span>
<a id=__codelineno-92-6 name=__codelineno-92-6 href=#__codelineno-92-6></a><span class=p>)</span>
<a id=__codelineno-92-7 name=__codelineno-92-7 href=#__codelineno-92-7></a>
<a id=__codelineno-92-8 name=__codelineno-92-8 href=#__codelineno-92-8></a><span class=c1>// 通常编写一个名称以 `Test` 开头的函数来创建测试。</span>
<a id=__codelineno-92-9 name=__codelineno-92-9 href=#__codelineno-92-9></a><span class=kd>func</span><span class=w> </span><span class=nx>TestIntMinBasic</span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-10 name=__codelineno-92-10 href=#__codelineno-92-10></a><span class=w>    </span><span class=nx>ans</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>IntMin</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-92-11 name=__codelineno-92-11 href=#__codelineno-92-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>ans</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=o>-</span><span class=mi>2</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-12 name=__codelineno-92-12 href=#__codelineno-92-12></a><span class=w>        </span><span class=c1>// `t.Error*` 会报告测试失败的信息，然后继续运行测试。</span>
<a id=__codelineno-92-13 name=__codelineno-92-13 href=#__codelineno-92-13></a><span class=w>        </span><span class=c1>// `t.Fail*` 会报告测试失败的信息，然后立即终止测试。</span>
<a id=__codelineno-92-14 name=__codelineno-92-14 href=#__codelineno-92-14></a><span class=w>        </span><span class=nx>t</span><span class=p>.</span><span class=nx>Errorf</span><span class=p>(</span><span class=s>&quot;IntMin(2, -2) = %d; want -2&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ans</span><span class=p>)</span>
<a id=__codelineno-92-15 name=__codelineno-92-15 href=#__codelineno-92-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-92-16 name=__codelineno-92-16 href=#__codelineno-92-16></a><span class=p>}</span>
<a id=__codelineno-92-17 name=__codelineno-92-17 href=#__codelineno-92-17></a>
<a id=__codelineno-92-18 name=__codelineno-92-18 href=#__codelineno-92-18></a><span class=c1>// 单元测试可以重复，所以会经常使用 *表驱动* 风格编写单元测试，</span>
<a id=__codelineno-92-19 name=__codelineno-92-19 href=#__codelineno-92-19></a><span class=c1>// 表中列出了输入数据，预期输出，使用循环，遍历并执行测试逻辑。</span>
<a id=__codelineno-92-20 name=__codelineno-92-20 href=#__codelineno-92-20></a><span class=kd>func</span><span class=w> </span><span class=nx>TestIntMinTableDriven</span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-21 name=__codelineno-92-21 href=#__codelineno-92-21></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>tests</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=p>[]</span><span class=kd>struct</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-22 name=__codelineno-92-22 href=#__codelineno-92-22></a><span class=w>        </span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-92-23 name=__codelineno-92-23 href=#__codelineno-92-23></a><span class=w>        </span><span class=nx>want</span><span class=w> </span><span class=kt>int</span>
<a id=__codelineno-92-24 name=__codelineno-92-24 href=#__codelineno-92-24></a><span class=w>    </span><span class=p>}{</span>
<a id=__codelineno-92-25 name=__codelineno-92-25 href=#__codelineno-92-25></a><span class=w>        </span><span class=p>{</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>},</span>
<a id=__codelineno-92-26 name=__codelineno-92-26 href=#__codelineno-92-26></a><span class=w>        </span><span class=p>{</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>},</span>
<a id=__codelineno-92-27 name=__codelineno-92-27 href=#__codelineno-92-27></a><span class=w>        </span><span class=p>{</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>2</span><span class=p>},</span>
<a id=__codelineno-92-28 name=__codelineno-92-28 href=#__codelineno-92-28></a><span class=w>        </span><span class=p>{</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>},</span>
<a id=__codelineno-92-29 name=__codelineno-92-29 href=#__codelineno-92-29></a><span class=w>        </span><span class=p>{</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>},</span>
<a id=__codelineno-92-30 name=__codelineno-92-30 href=#__codelineno-92-30></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-92-31 name=__codelineno-92-31 href=#__codelineno-92-31></a>
<a id=__codelineno-92-32 name=__codelineno-92-32 href=#__codelineno-92-32></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>tt</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>tests</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-33 name=__codelineno-92-33 href=#__codelineno-92-33></a><span class=w>        </span><span class=c1>// t.Run 可以运行一个 &quot;subtests&quot; 子测试，一个子测试对应表中一行数据。</span>
<a id=__codelineno-92-34 name=__codelineno-92-34 href=#__codelineno-92-34></a><span class=w>        </span><span class=c1>// 运行 `go test -v` 时，他们会分开显示。</span>
<a id=__codelineno-92-35 name=__codelineno-92-35 href=#__codelineno-92-35></a><span class=w>        </span><span class=nx>testname</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Sprintf</span><span class=p>(</span><span class=s>&quot;%d,%d&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>tt</span><span class=p>.</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>tt</span><span class=p>.</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-92-36 name=__codelineno-92-36 href=#__codelineno-92-36></a><span class=w>        </span><span class=nx>t</span><span class=p>.</span><span class=nx>Run</span><span class=p>(</span><span class=nx>testname</span><span class=p>,</span><span class=w> </span><span class=kd>func</span><span class=p>(</span><span class=nx>t</span><span class=w> </span><span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-37 name=__codelineno-92-37 href=#__codelineno-92-37></a><span class=w>            </span><span class=nx>ans</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>IntMin</span><span class=p>(</span><span class=nx>tt</span><span class=p>.</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>tt</span><span class=p>.</span><span class=nx>b</span><span class=p>)</span>
<a id=__codelineno-92-38 name=__codelineno-92-38 href=#__codelineno-92-38></a><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=nx>ans</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=nx>tt</span><span class=p>.</span><span class=nx>want</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-92-39 name=__codelineno-92-39 href=#__codelineno-92-39></a><span class=w>                </span><span class=nx>t</span><span class=p>.</span><span class=nx>Errorf</span><span class=p>(</span><span class=s>&quot;got %d, want %d&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ans</span><span class=p>,</span><span class=w> </span><span class=nx>tt</span><span class=p>.</span><span class=nx>want</span><span class=p>)</span>
<a id=__codelineno-92-40 name=__codelineno-92-40 href=#__codelineno-92-40></a><span class=w>            </span><span class=p>}</span>
<a id=__codelineno-92-41 name=__codelineno-92-41 href=#__codelineno-92-41></a><span class=w>        </span><span class=p>})</span>
<a id=__codelineno-92-42 name=__codelineno-92-42 href=#__codelineno-92-42></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-92-43 name=__codelineno-92-43 href=#__codelineno-92-43></a><span class=p>}</span>
</code></pre></div> <p>使用 -v 参数查看详细信息：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-93-1 name=__codelineno-93-1 href=#__codelineno-93-1></a>$<span class=w> </span>go<span class=w> </span><span class=nb>test</span><span class=w> </span>-v
<a id=__codelineno-93-2 name=__codelineno-93-2 href=#__codelineno-93-2></a><span class=o>==</span><span class=w> </span>RUN<span class=w>   </span>TestIntMinBasic
<a id=__codelineno-93-3 name=__codelineno-93-3 href=#__codelineno-93-3></a>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinBasic<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-4 name=__codelineno-93-4 href=#__codelineno-93-4></a><span class=o>===</span><span class=w> </span>RUN<span class=w>   </span><span class=nv>TestIntMinTableDriven</span>
<a id=__codelineno-93-5 name=__codelineno-93-5 href=#__codelineno-93-5></a><span class=o>===</span><span class=w> </span>RUN<span class=w>   </span>TestIntMinTableDriven/0,1
<a id=__codelineno-93-6 name=__codelineno-93-6 href=#__codelineno-93-6></a><span class=o>===</span><span class=w> </span>RUN<span class=w>   </span>TestIntMinTableDriven/1,0
<a id=__codelineno-93-7 name=__codelineno-93-7 href=#__codelineno-93-7></a><span class=o>===</span><span class=w> </span>RUN<span class=w>   </span>TestIntMinTableDriven/2,-2
<a id=__codelineno-93-8 name=__codelineno-93-8 href=#__codelineno-93-8></a><span class=o>===</span><span class=w> </span>RUN<span class=w>   </span>TestIntMinTableDriven/0,-1
<a id=__codelineno-93-9 name=__codelineno-93-9 href=#__codelineno-93-9></a><span class=o>===</span><span class=w> </span>RUN<span class=w>   </span>TestIntMinTableDriven/-1,0
<a id=__codelineno-93-10 name=__codelineno-93-10 href=#__codelineno-93-10></a>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinTableDriven<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-11 name=__codelineno-93-11 href=#__codelineno-93-11></a><span class=w>    </span>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinTableDriven/0,1<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-12 name=__codelineno-93-12 href=#__codelineno-93-12></a><span class=w>    </span>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinTableDriven/1,0<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-13 name=__codelineno-93-13 href=#__codelineno-93-13></a><span class=w>    </span>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinTableDriven/2,-2<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-14 name=__codelineno-93-14 href=#__codelineno-93-14></a><span class=w>    </span>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinTableDriven/0,-1<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-15 name=__codelineno-93-15 href=#__codelineno-93-15></a><span class=w>    </span>---<span class=w> </span>PASS:<span class=w> </span>TestIntMinTableDriven/-1,0<span class=w> </span><span class=o>(</span><span class=m>0</span>.00s<span class=o>)</span>
<a id=__codelineno-93-16 name=__codelineno-93-16 href=#__codelineno-93-16></a>PASS
<a id=__codelineno-93-17 name=__codelineno-93-17 href=#__codelineno-93-17></a>ok<span class=w>      </span>examples/testing<span class=w>    </span><span class=m>0</span>.023s
</code></pre></div> <h2 id=go-数字解析>Go 数字解析<a class=headerlink href=#go-数字解析 title="Permanent link">&para;</a></h2> <p>从字符串中解析数字在很多程序中是一个基础常见的任务，在 Go 中是这样处理的。</p> <p><code>number-parsing.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-94-1 name=__codelineno-94-1 href=#__codelineno-94-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-94-2 name=__codelineno-94-2 href=#__codelineno-94-2></a>
<a id=__codelineno-94-3 name=__codelineno-94-3 href=#__codelineno-94-3></a><span class=c1>// 内置的 `strconv` 包提供了数字解析功能。</span>
<a id=__codelineno-94-4 name=__codelineno-94-4 href=#__codelineno-94-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;strconv&quot;</span>
<a id=__codelineno-94-5 name=__codelineno-94-5 href=#__codelineno-94-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-94-6 name=__codelineno-94-6 href=#__codelineno-94-6></a>
<a id=__codelineno-94-7 name=__codelineno-94-7 href=#__codelineno-94-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-94-8 name=__codelineno-94-8 href=#__codelineno-94-8></a>
<a id=__codelineno-94-9 name=__codelineno-94-9 href=#__codelineno-94-9></a><span class=w>    </span><span class=c1>// 使用 `ParseFloat` 解析浮点数，这里的 `64` 表示解析的数的位数。</span>
<a id=__codelineno-94-10 name=__codelineno-94-10 href=#__codelineno-94-10></a><span class=w>    </span><span class=nx>f</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>ParseFloat</span><span class=p>(</span><span class=s>&quot;1.234&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=p>)</span>
<a id=__codelineno-94-11 name=__codelineno-94-11 href=#__codelineno-94-11></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>f</span><span class=p>)</span>
<a id=__codelineno-94-12 name=__codelineno-94-12 href=#__codelineno-94-12></a>
<a id=__codelineno-94-13 name=__codelineno-94-13 href=#__codelineno-94-13></a><span class=w>    </span><span class=c1>// 在使用 `ParseInt` 解析整型数时，</span>
<a id=__codelineno-94-14 name=__codelineno-94-14 href=#__codelineno-94-14></a><span class=w>    </span><span class=c1>// 例子中的参数 `0` 表示自动推断字符串所表示的数字的进制。</span>
<a id=__codelineno-94-15 name=__codelineno-94-15 href=#__codelineno-94-15></a><span class=w>    </span><span class=c1>// `64` 表示返回的整型数是以 64 位存储的。</span>
<a id=__codelineno-94-16 name=__codelineno-94-16 href=#__codelineno-94-16></a><span class=w>    </span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>ParseInt</span><span class=p>(</span><span class=s>&quot;123&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=p>)</span>
<a id=__codelineno-94-17 name=__codelineno-94-17 href=#__codelineno-94-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
<a id=__codelineno-94-18 name=__codelineno-94-18 href=#__codelineno-94-18></a>
<a id=__codelineno-94-19 name=__codelineno-94-19 href=#__codelineno-94-19></a><span class=w>    </span><span class=c1>// `ParseInt` 会自动识别出十六进制数。</span>
<a id=__codelineno-94-20 name=__codelineno-94-20 href=#__codelineno-94-20></a><span class=w>    </span><span class=nx>d</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>ParseInt</span><span class=p>(</span><span class=s>&quot;0x1c8&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=p>)</span>
<a id=__codelineno-94-21 name=__codelineno-94-21 href=#__codelineno-94-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>d</span><span class=p>)</span>
<a id=__codelineno-94-22 name=__codelineno-94-22 href=#__codelineno-94-22></a>
<a id=__codelineno-94-23 name=__codelineno-94-23 href=#__codelineno-94-23></a><span class=w>    </span><span class=c1>// `ParseUint` 也是可用的。</span>
<a id=__codelineno-94-24 name=__codelineno-94-24 href=#__codelineno-94-24></a><span class=w>    </span><span class=nx>u</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>ParseUint</span><span class=p>(</span><span class=s>&quot;789&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>64</span><span class=p>)</span>
<a id=__codelineno-94-25 name=__codelineno-94-25 href=#__codelineno-94-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>)</span>
<a id=__codelineno-94-26 name=__codelineno-94-26 href=#__codelineno-94-26></a>
<a id=__codelineno-94-27 name=__codelineno-94-27 href=#__codelineno-94-27></a><span class=w>    </span><span class=c1>// `Atoi` 是一个基础的 10 进制整型数转换函数。</span>
<a id=__codelineno-94-28 name=__codelineno-94-28 href=#__codelineno-94-28></a><span class=w>    </span><span class=nx>k</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>Atoi</span><span class=p>(</span><span class=s>&quot;135&quot;</span><span class=p>)</span>
<a id=__codelineno-94-29 name=__codelineno-94-29 href=#__codelineno-94-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>k</span><span class=p>)</span>
<a id=__codelineno-94-30 name=__codelineno-94-30 href=#__codelineno-94-30></a>
<a id=__codelineno-94-31 name=__codelineno-94-31 href=#__codelineno-94-31></a><span class=w>    </span><span class=c1>// 在输入错误时，解析函数会返回一个错误。</span>
<a id=__codelineno-94-32 name=__codelineno-94-32 href=#__codelineno-94-32></a><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>Atoi</span><span class=p>(</span><span class=s>&quot;wat&quot;</span><span class=p>)</span>
<a id=__codelineno-94-33 name=__codelineno-94-33 href=#__codelineno-94-33></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
<a id=__codelineno-94-34 name=__codelineno-94-34 href=#__codelineno-94-34></a><span class=p>}</span>
</code></pre></div> <p>运行：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-95-1 name=__codelineno-95-1 href=#__codelineno-95-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>number-parsing.go<span class=w> </span>
<a id=__codelineno-95-2 name=__codelineno-95-2 href=#__codelineno-95-2></a><span class=m>1</span>.234
<a id=__codelineno-95-3 name=__codelineno-95-3 href=#__codelineno-95-3></a><span class=m>123</span>
<a id=__codelineno-95-4 name=__codelineno-95-4 href=#__codelineno-95-4></a><span class=m>456</span>
<a id=__codelineno-95-5 name=__codelineno-95-5 href=#__codelineno-95-5></a><span class=m>789</span>
<a id=__codelineno-95-6 name=__codelineno-95-6 href=#__codelineno-95-6></a><span class=m>135</span>
<a id=__codelineno-95-7 name=__codelineno-95-7 href=#__codelineno-95-7></a>strconv.ParseInt:<span class=w> </span>parsing<span class=w> </span><span class=s2>&quot;wat&quot;</span>:<span class=w> </span>invalid<span class=w> </span>syntax
</code></pre></div> <h2 id=go-url解析>Go URL解析<a class=headerlink href=#go-url解析 title="Permanent link">&para;</a></h2> <p>URL提供了一种统一访问资源的方式。我们来看一下Go里面如何解析URL。</p> <p><code>url-parsing.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-96-1 name=__codelineno-96-1 href=#__codelineno-96-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-96-2 name=__codelineno-96-2 href=#__codelineno-96-2></a>
<a id=__codelineno-96-3 name=__codelineno-96-3 href=#__codelineno-96-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-96-4 name=__codelineno-96-4 href=#__codelineno-96-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;net/url&quot;</span>
<a id=__codelineno-96-5 name=__codelineno-96-5 href=#__codelineno-96-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-96-6 name=__codelineno-96-6 href=#__codelineno-96-6></a>
<a id=__codelineno-96-7 name=__codelineno-96-7 href=#__codelineno-96-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-96-8 name=__codelineno-96-8 href=#__codelineno-96-8></a><span class=w>    </span><span class=c1>// 我们将解析这个URL，它包含了模式，验证信息，</span>
<a id=__codelineno-96-9 name=__codelineno-96-9 href=#__codelineno-96-9></a><span class=w>    </span><span class=c1>// 主机，端口，路径，查询参数和查询片段</span>
<a id=__codelineno-96-10 name=__codelineno-96-10 href=#__codelineno-96-10></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;postgres://user:pass@host.com:5432/path?k=v#f&quot;</span>
<a id=__codelineno-96-11 name=__codelineno-96-11 href=#__codelineno-96-11></a><span class=w>    </span><span class=c1>// 解析URL，并保证没有错误</span>
<a id=__codelineno-96-12 name=__codelineno-96-12 href=#__codelineno-96-12></a><span class=w>    </span><span class=nx>u</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>url</span><span class=p>.</span><span class=nx>Parse</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span>
<a id=__codelineno-96-13 name=__codelineno-96-13 href=#__codelineno-96-13></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-96-14 name=__codelineno-96-14 href=#__codelineno-96-14></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-96-15 name=__codelineno-96-15 href=#__codelineno-96-15></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-96-16 name=__codelineno-96-16 href=#__codelineno-96-16></a><span class=w>    </span><span class=c1>// 可以直接访问解析后的模式</span>
<a id=__codelineno-96-17 name=__codelineno-96-17 href=#__codelineno-96-17></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>Scheme</span><span class=p>)</span><span class=w> </span><span class=c1>//postgres</span>
<a id=__codelineno-96-18 name=__codelineno-96-18 href=#__codelineno-96-18></a>
<a id=__codelineno-96-19 name=__codelineno-96-19 href=#__codelineno-96-19></a><span class=w>    </span><span class=c1>// User包含了所有的验证信息，使用</span>
<a id=__codelineno-96-20 name=__codelineno-96-20 href=#__codelineno-96-20></a><span class=w>    </span><span class=c1>// Username和Password来获取单独的信息</span>
<a id=__codelineno-96-21 name=__codelineno-96-21 href=#__codelineno-96-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>User</span><span class=p>)</span><span class=w>            </span><span class=c1>//user:pass</span>
<a id=__codelineno-96-22 name=__codelineno-96-22 href=#__codelineno-96-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>User</span><span class=p>.</span><span class=nx>Username</span><span class=p>())</span><span class=w> </span><span class=c1>//user</span>
<a id=__codelineno-96-23 name=__codelineno-96-23 href=#__codelineno-96-23></a><span class=w>    </span><span class=nx>p</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>u</span><span class=p>.</span><span class=nx>User</span><span class=p>.</span><span class=nx>Password</span><span class=p>()</span>
<a id=__codelineno-96-24 name=__codelineno-96-24 href=#__codelineno-96-24></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>p</span><span class=p>)</span><span class=w> </span><span class=c1>//pass</span>
<a id=__codelineno-96-25 name=__codelineno-96-25 href=#__codelineno-96-25></a><span class=w>    </span><span class=c1>// Host包含了主机名和端口，如果需要可以</span>
<a id=__codelineno-96-26 name=__codelineno-96-26 href=#__codelineno-96-26></a><span class=w>    </span><span class=c1>// 手动分解主机名和端口</span>
<a id=__codelineno-96-27 name=__codelineno-96-27 href=#__codelineno-96-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>Host</span><span class=p>)</span><span class=w> </span><span class=c1>//host.com:5432</span>
<a id=__codelineno-96-28 name=__codelineno-96-28 href=#__codelineno-96-28></a>
<a id=__codelineno-96-29 name=__codelineno-96-29 href=#__codelineno-96-29></a><span class=w>    </span><span class=nx>h</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>Host</span><span class=p>,</span><span class=w> </span><span class=s>&quot;:&quot;</span><span class=p>)</span>
<a id=__codelineno-96-30 name=__codelineno-96-30 href=#__codelineno-96-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>h</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w> </span><span class=c1>//host.com</span>
<a id=__codelineno-96-31 name=__codelineno-96-31 href=#__codelineno-96-31></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>h</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span><span class=w> </span><span class=c1>//5432</span>
<a id=__codelineno-96-32 name=__codelineno-96-32 href=#__codelineno-96-32></a>
<a id=__codelineno-96-33 name=__codelineno-96-33 href=#__codelineno-96-33></a><span class=w>    </span><span class=c1>// 这里我们解析出路径和`#`后面的片段</span>
<a id=__codelineno-96-34 name=__codelineno-96-34 href=#__codelineno-96-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>Path</span><span class=p>)</span><span class=w>     </span><span class=c1>///path</span>
<a id=__codelineno-96-35 name=__codelineno-96-35 href=#__codelineno-96-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>Fragment</span><span class=p>)</span><span class=w> </span><span class=c1>//f</span>
<a id=__codelineno-96-36 name=__codelineno-96-36 href=#__codelineno-96-36></a>
<a id=__codelineno-96-37 name=__codelineno-96-37 href=#__codelineno-96-37></a><span class=w>    </span><span class=c1>// 为了得到`k=v`格式的查询参数，使用RawQuery。你可以将</span>
<a id=__codelineno-96-38 name=__codelineno-96-38 href=#__codelineno-96-38></a><span class=w>    </span><span class=c1>// 查询参数解析到一个map里面。这个map为字符串作为key，</span>
<a id=__codelineno-96-39 name=__codelineno-96-39 href=#__codelineno-96-39></a><span class=w>    </span><span class=c1>// 字符串切片作为value。</span>
<a id=__codelineno-96-40 name=__codelineno-96-40 href=#__codelineno-96-40></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>RawQuery</span><span class=p>)</span><span class=w> </span><span class=c1>//k=v</span>
<a id=__codelineno-96-41 name=__codelineno-96-41 href=#__codelineno-96-41></a>
<a id=__codelineno-96-42 name=__codelineno-96-42 href=#__codelineno-96-42></a><span class=w>    </span><span class=nx>m</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>url</span><span class=p>.</span><span class=nx>ParseQuery</span><span class=p>(</span><span class=nx>u</span><span class=p>.</span><span class=nx>RawQuery</span><span class=p>)</span>
<a id=__codelineno-96-43 name=__codelineno-96-43 href=#__codelineno-96-43></a>
<a id=__codelineno-96-44 name=__codelineno-96-44 href=#__codelineno-96-44></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>m</span><span class=p>)</span><span class=w>         </span><span class=c1>//map[k:[v]]</span>
<a id=__codelineno-96-45 name=__codelineno-96-45 href=#__codelineno-96-45></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>m</span><span class=p>[</span><span class=s>&quot;k&quot;</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span><span class=w> </span><span class=c1>//v</span>
<a id=__codelineno-96-46 name=__codelineno-96-46 href=#__codelineno-96-46></a><span class=p>}</span>
</code></pre></div> <h2 id=go-base64编码>Go Base64编码<a class=headerlink href=#go-base64编码 title="Permanent link">&para;</a></h2> <p>Go提供了对base64编码和解码的内置支持</p> <p><code>base64-encoding.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-97-1 name=__codelineno-97-1 href=#__codelineno-97-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-97-2 name=__codelineno-97-2 href=#__codelineno-97-2></a>
<a id=__codelineno-97-3 name=__codelineno-97-3 href=#__codelineno-97-3></a><span class=c1>// 这种导入包的语法将默认的base64起了一个别名b64，这样</span>
<a id=__codelineno-97-4 name=__codelineno-97-4 href=#__codelineno-97-4></a><span class=c1>// 我们在下面就可以直接使用b64表示这个包，省点输入量</span>
<a id=__codelineno-97-5 name=__codelineno-97-5 href=#__codelineno-97-5></a><span class=kn>import</span><span class=w> </span><span class=nx>b64</span><span class=w> </span><span class=s>&quot;encoding/base64&quot;</span>
<a id=__codelineno-97-6 name=__codelineno-97-6 href=#__codelineno-97-6></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-97-7 name=__codelineno-97-7 href=#__codelineno-97-7></a>
<a id=__codelineno-97-8 name=__codelineno-97-8 href=#__codelineno-97-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-97-9 name=__codelineno-97-9 href=#__codelineno-97-9></a><span class=w>    </span><span class=c1>// 这里是我们用来演示编码和解码的字符串</span>
<a id=__codelineno-97-10 name=__codelineno-97-10 href=#__codelineno-97-10></a><span class=w>    </span><span class=nx>data</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;abc123!?$*&amp;()&#39;-=@~&quot;</span>
<a id=__codelineno-97-11 name=__codelineno-97-11 href=#__codelineno-97-11></a><span class=w>    </span><span class=c1>// Go支持标准的和兼容URL的base64编码。</span>
<a id=__codelineno-97-12 name=__codelineno-97-12 href=#__codelineno-97-12></a><span class=w>    </span><span class=c1>// 我们这里使用标准的base64编码，这个</span>
<a id=__codelineno-97-13 name=__codelineno-97-13 href=#__codelineno-97-13></a><span class=w>    </span><span class=c1>// 函数需要一个`[]byte`参数，所以将这</span>
<a id=__codelineno-97-14 name=__codelineno-97-14 href=#__codelineno-97-14></a><span class=w>    </span><span class=c1>// 个字符串转换为字节数组</span>
<a id=__codelineno-97-15 name=__codelineno-97-15 href=#__codelineno-97-15></a><span class=w>    </span><span class=nx>sEnc</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>b64</span><span class=p>.</span><span class=nx>StdEncoding</span><span class=p>.</span><span class=nx>EncodeToString</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>data</span><span class=p>))</span>
<a id=__codelineno-97-16 name=__codelineno-97-16 href=#__codelineno-97-16></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>sEnc</span><span class=p>)</span>
<a id=__codelineno-97-17 name=__codelineno-97-17 href=#__codelineno-97-17></a><span class=w>    </span><span class=c1>// 解码一个base64编码可能返回一个错误，</span>
<a id=__codelineno-97-18 name=__codelineno-97-18 href=#__codelineno-97-18></a><span class=w>    </span><span class=c1>// 如果你不知道输入是否是正确的base64</span>
<a id=__codelineno-97-19 name=__codelineno-97-19 href=#__codelineno-97-19></a><span class=w>    </span><span class=c1>// 编码，你需要检测一些解码错误</span>
<a id=__codelineno-97-20 name=__codelineno-97-20 href=#__codelineno-97-20></a><span class=w>    </span><span class=nx>sDec</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>b64</span><span class=p>.</span><span class=nx>StdEncoding</span><span class=p>.</span><span class=nx>DecodeString</span><span class=p>(</span><span class=nx>sEnc</span><span class=p>)</span>
<a id=__codelineno-97-21 name=__codelineno-97-21 href=#__codelineno-97-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>sDec</span><span class=p>))</span>
<a id=__codelineno-97-22 name=__codelineno-97-22 href=#__codelineno-97-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-97-23 name=__codelineno-97-23 href=#__codelineno-97-23></a><span class=w>    </span><span class=c1>// 使用兼容URL的base64编码和解码</span>
<a id=__codelineno-97-24 name=__codelineno-97-24 href=#__codelineno-97-24></a><span class=w>    </span><span class=nx>uEnc</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>b64</span><span class=p>.</span><span class=nx>URLEncoding</span><span class=p>.</span><span class=nx>EncodeToString</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>data</span><span class=p>))</span>
<a id=__codelineno-97-25 name=__codelineno-97-25 href=#__codelineno-97-25></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>uEnc</span><span class=p>)</span>
<a id=__codelineno-97-26 name=__codelineno-97-26 href=#__codelineno-97-26></a><span class=w>    </span><span class=nx>uDec</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>b64</span><span class=p>.</span><span class=nx>URLEncoding</span><span class=p>.</span><span class=nx>DecodeString</span><span class=p>(</span><span class=nx>uEnc</span><span class=p>)</span>
<a id=__codelineno-97-27 name=__codelineno-97-27 href=#__codelineno-97-27></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>uDec</span><span class=p>))</span>
<a id=__codelineno-97-28 name=__codelineno-97-28 href=#__codelineno-97-28></a><span class=p>}</span>
<a id=__codelineno-97-29 name=__codelineno-97-29 href=#__codelineno-97-29></a>
<a id=__codelineno-97-30 name=__codelineno-97-30 href=#__codelineno-97-30></a><span class=cm>/*</span>
<a id=__codelineno-97-31 name=__codelineno-97-31 href=#__codelineno-97-31></a><span class=cm>类似于如下shell代码：</span>
<a id=__codelineno-97-32 name=__codelineno-97-32 href=#__codelineno-97-32></a><span class=cm>echo -n &quot;your_data&quot; | base64</span>
<a id=__codelineno-97-33 name=__codelineno-97-33 href=#__codelineno-97-33></a>
<a id=__codelineno-97-34 name=__codelineno-97-34 href=#__codelineno-97-34></a><span class=cm>要对Base64编码后的数据进行解码，可以使用以下命令：</span>
<a id=__codelineno-97-35 name=__codelineno-97-35 href=#__codelineno-97-35></a><span class=cm>echo -n &quot;base64_encoded_data&quot; | base64 -d</span>
<a id=__codelineno-97-36 name=__codelineno-97-36 href=#__codelineno-97-36></a><span class=cm>*/</span>
</code></pre></div> <p>运行结果</p> <div class=highlight><pre><span></span><code><a id=__codelineno-98-1 name=__codelineno-98-1 href=#__codelineno-98-1></a>YWJjMTIzIT8kKiYoKSctPUB+
<a id=__codelineno-98-2 name=__codelineno-98-2 href=#__codelineno-98-2></a>abc123!?<span class=nv>$*</span><span class=p>&amp;</span><span class=o>()</span><span class=s1>&#39;-=@~</span>
<a id=__codelineno-98-3 name=__codelineno-98-3 href=#__codelineno-98-3></a><span class=s1>YWJjMTIzIT8kKiYoKSctPUB-</span>
<a id=__codelineno-98-4 name=__codelineno-98-4 href=#__codelineno-98-4></a><span class=s1>abc123!?$*&amp;()&#39;</span>-<span class=o>=</span>@~
</code></pre></div> <p>这两种方法都将原数据编码为base64编码，区别在于标准的编码后面是+，而兼容URL的编码方式后面是-。</p> <h2 id=go-sha1-散列>Go SHA1 散列<a class=headerlink href=#go-sha1-散列 title="Permanent link">&para;</a></h2> <p>SHA1散列经常用来计算二进制或者大文本数据的短标识值。git版本控制系统用SHA1来标识受版本控制的文件和目录。</p> <p>这里介绍Go中如何计算SHA1散列值。</p> <p><code>sha1-hashes.go</code></p> <p>Go 在 <code>crypto/*</code> 包里面实现了几个常用的散列函数。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-99-1 name=__codelineno-99-1 href=#__codelineno-99-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-99-2 name=__codelineno-99-2 href=#__codelineno-99-2></a>
<a id=__codelineno-99-3 name=__codelineno-99-3 href=#__codelineno-99-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;crypto/sha1&quot;</span>
<a id=__codelineno-99-4 name=__codelineno-99-4 href=#__codelineno-99-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-99-5 name=__codelineno-99-5 href=#__codelineno-99-5></a>
<a id=__codelineno-99-6 name=__codelineno-99-6 href=#__codelineno-99-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-99-7 name=__codelineno-99-7 href=#__codelineno-99-7></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;sha1 this string&quot;</span>
<a id=__codelineno-99-8 name=__codelineno-99-8 href=#__codelineno-99-8></a><span class=w>    </span><span class=c1>// 生成一个hash的模式是`sha1.New()`，`sha1.Write(bytes)`</span>
<a id=__codelineno-99-9 name=__codelineno-99-9 href=#__codelineno-99-9></a><span class=w>    </span><span class=c1>// 然后是`sha1.Sum([]byte{})`，下面我们开始一个新的hash</span>
<a id=__codelineno-99-10 name=__codelineno-99-10 href=#__codelineno-99-10></a><span class=w>    </span><span class=c1>// 示例</span>
<a id=__codelineno-99-11 name=__codelineno-99-11 href=#__codelineno-99-11></a><span class=w>    </span><span class=nx>h</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>sha1</span><span class=p>.</span><span class=nx>New</span><span class=p>()</span>
<a id=__codelineno-99-12 name=__codelineno-99-12 href=#__codelineno-99-12></a><span class=w>    </span><span class=c1>// 写入要hash的字节，如果你的参数是字符串，使用`[]byte(s)`</span>
<a id=__codelineno-99-13 name=__codelineno-99-13 href=#__codelineno-99-13></a><span class=w>    </span><span class=c1>// 把它强制转换为字节数组</span>
<a id=__codelineno-99-14 name=__codelineno-99-14 href=#__codelineno-99-14></a><span class=w>    </span><span class=nx>h</span><span class=p>.</span><span class=nx>Write</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>s</span><span class=p>))</span>
<a id=__codelineno-99-15 name=__codelineno-99-15 href=#__codelineno-99-15></a><span class=w>    </span><span class=c1>// 这里计算最终的hash值，Sum的参数是用来追加而外的字节到要</span>
<a id=__codelineno-99-16 name=__codelineno-99-16 href=#__codelineno-99-16></a><span class=w>    </span><span class=c1>// 计算的hash字节里面，一般来讲，如果上面已经把需要hash的</span>
<a id=__codelineno-99-17 name=__codelineno-99-17 href=#__codelineno-99-17></a><span class=w>    </span><span class=c1>// 字节都写入了，这里就设为nil就可以了</span>
<a id=__codelineno-99-18 name=__codelineno-99-18 href=#__codelineno-99-18></a><span class=w>    </span><span class=nx>bs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>h</span><span class=p>.</span><span class=nx>Sum</span><span class=p>(</span><span class=kc>nil</span><span class=p>)</span>
<a id=__codelineno-99-19 name=__codelineno-99-19 href=#__codelineno-99-19></a>
<a id=__codelineno-99-20 name=__codelineno-99-20 href=#__codelineno-99-20></a><span class=w>    </span><span class=c1>// SHA1散列值经常以16进制的方式输出，例如git commit就是</span>
<a id=__codelineno-99-21 name=__codelineno-99-21 href=#__codelineno-99-21></a><span class=w>    </span><span class=c1>// 这样，所以可以使用`%x`来将散列结果格式化为16进制的字符串</span>
<a id=__codelineno-99-22 name=__codelineno-99-22 href=#__codelineno-99-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span><span class=w>         </span><span class=c1>//sha1 this string</span>
<a id=__codelineno-99-23 name=__codelineno-99-23 href=#__codelineno-99-23></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;%x\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>bs</span><span class=p>)</span><span class=w> </span><span class=c1>//cf23df2207d99a74fbe169e3eba035e633b65d94</span>
<a id=__codelineno-99-24 name=__codelineno-99-24 href=#__codelineno-99-24></a><span class=p>}</span>
</code></pre></div> <h2 id=go-string与byte切片之间的转换>Go String与Byte切片之间的转换<a class=headerlink href=#go-string与byte切片之间的转换 title="Permanent link">&para;</a></h2> <p>String转换到Byte数组时，每个byte(byte类型其实就是uint8)保存字符串对应字节的数值。</p> <p>注意Go的字符串是UTF-8编码的，每个字符长度是不确定的，一些字符可能是1、2、3或者4个字节结尾。</p> <p>示例1：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-100-1 name=__codelineno-100-1 href=#__codelineno-100-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-100-2 name=__codelineno-100-2 href=#__codelineno-100-2></a>
<a id=__codelineno-100-3 name=__codelineno-100-3 href=#__codelineno-100-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-100-4 name=__codelineno-100-4 href=#__codelineno-100-4></a>
<a id=__codelineno-100-5 name=__codelineno-100-5 href=#__codelineno-100-5></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-100-6 name=__codelineno-100-6 href=#__codelineno-100-6></a><span class=w>    </span><span class=nx>s1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;abcd&quot;</span>
<a id=__codelineno-100-7 name=__codelineno-100-7 href=#__codelineno-100-7></a><span class=w>    </span><span class=nx>b1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-100-8 name=__codelineno-100-8 href=#__codelineno-100-8></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b1</span><span class=p>)</span><span class=w> </span><span class=c1>// [97 98 99 100]</span>
<a id=__codelineno-100-9 name=__codelineno-100-9 href=#__codelineno-100-9></a>
<a id=__codelineno-100-10 name=__codelineno-100-10 href=#__codelineno-100-10></a><span class=w>    </span><span class=nx>s2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>&quot;中文&quot;</span>
<a id=__codelineno-100-11 name=__codelineno-100-11 href=#__codelineno-100-11></a><span class=w>    </span><span class=nx>b2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>byte</span><span class=p>(</span><span class=nx>s2</span><span class=p>)</span>
<a id=__codelineno-100-12 name=__codelineno-100-12 href=#__codelineno-100-12></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>b2</span><span class=p>)</span><span class=w> </span><span class=c1>// [228 184 173 230 150 135], unicode，每个中文字符会由三个byte组成</span>
<a id=__codelineno-100-13 name=__codelineno-100-13 href=#__codelineno-100-13></a>
<a id=__codelineno-100-14 name=__codelineno-100-14 href=#__codelineno-100-14></a><span class=w>    </span><span class=nx>r1</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>rune</span><span class=p>(</span><span class=nx>s1</span><span class=p>)</span>
<a id=__codelineno-100-15 name=__codelineno-100-15 href=#__codelineno-100-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r1</span><span class=p>)</span><span class=w> </span><span class=c1>// [97 98 99 100], 每个字一个数值</span>
<a id=__codelineno-100-16 name=__codelineno-100-16 href=#__codelineno-100-16></a>
<a id=__codelineno-100-17 name=__codelineno-100-17 href=#__codelineno-100-17></a><span class=w>    </span><span class=nx>r2</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=nb>rune</span><span class=p>(</span><span class=nx>s2</span><span class=p>)</span>
<a id=__codelineno-100-18 name=__codelineno-100-18 href=#__codelineno-100-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>r2</span><span class=p>)</span><span class=w> </span><span class=c1>// [20013 25991], 每个字一个数值</span>
<a id=__codelineno-100-19 name=__codelineno-100-19 href=#__codelineno-100-19></a><span class=p>}</span>
</code></pre></div> <p>输出结果为</p> <div class=highlight><pre><span></span><code><a id=__codelineno-101-1 name=__codelineno-101-1 href=#__codelineno-101-1></a>write<span class=w> </span><span class=m>2</span><span class=w> </span>as<span class=w> </span>two
<a id=__codelineno-101-2 name=__codelineno-101-2 href=#__codelineno-101-2></a>it<span class=s1>&#39;s a weekday</span>
<a id=__codelineno-101-3 name=__codelineno-101-3 href=#__codelineno-101-3></a><span class=s1>it&#39;</span>s<span class=w> </span>before<span class=w> </span>noon
</code></pre></div> <h2 id=go-排序-sorting>Go 排序 Sorting<a class=headerlink href=#go-排序-sorting title="Permanent link">&para;</a></h2> <p>Go 的 sort 包实现了内置和用户自定义数据类型的排序 功能。我们首先关注内置数据类型的排序。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-102-1 name=__codelineno-102-1 href=#__codelineno-102-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-102-2 name=__codelineno-102-2 href=#__codelineno-102-2></a>
<a id=__codelineno-102-3 name=__codelineno-102-3 href=#__codelineno-102-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-102-4 name=__codelineno-102-4 href=#__codelineno-102-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;sort&quot;</span>
<a id=__codelineno-102-5 name=__codelineno-102-5 href=#__codelineno-102-5></a>
<a id=__codelineno-102-6 name=__codelineno-102-6 href=#__codelineno-102-6></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-102-7 name=__codelineno-102-7 href=#__codelineno-102-7></a>
<a id=__codelineno-102-8 name=__codelineno-102-8 href=#__codelineno-102-8></a><span class=w>    </span><span class=c1>// 排序方法是针对内置数据类型的；</span>
<a id=__codelineno-102-9 name=__codelineno-102-9 href=#__codelineno-102-9></a><span class=w>    </span><span class=c1>// 这里是一个字符串的例子。</span>
<a id=__codelineno-102-10 name=__codelineno-102-10 href=#__codelineno-102-10></a><span class=w>    </span><span class=c1>// 注意排序是原地更新的，所以他会改变给定的序列并且不返回一个新值。</span>
<a id=__codelineno-102-11 name=__codelineno-102-11 href=#__codelineno-102-11></a><span class=w>    </span><span class=nx>strs</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;c&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;b&quot;</span><span class=p>}</span>
<a id=__codelineno-102-12 name=__codelineno-102-12 href=#__codelineno-102-12></a><span class=w>    </span><span class=nx>sort</span><span class=p>.</span><span class=nx>Strings</span><span class=p>(</span><span class=nx>strs</span><span class=p>)</span>
<a id=__codelineno-102-13 name=__codelineno-102-13 href=#__codelineno-102-13></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Strings:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strs</span><span class=p>)</span>
<a id=__codelineno-102-14 name=__codelineno-102-14 href=#__codelineno-102-14></a>
<a id=__codelineno-102-15 name=__codelineno-102-15 href=#__codelineno-102-15></a><span class=w>    </span><span class=c1>// 一个 `int` 排序的例子。</span>
<a id=__codelineno-102-16 name=__codelineno-102-16 href=#__codelineno-102-16></a><span class=w>    </span><span class=nx>ints</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>7</span><span class=p>,</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w> </span><span class=mi>4</span><span class=p>}</span>
<a id=__codelineno-102-17 name=__codelineno-102-17 href=#__codelineno-102-17></a><span class=w>    </span><span class=nx>sort</span><span class=p>.</span><span class=nx>Ints</span><span class=p>(</span><span class=nx>ints</span><span class=p>)</span>
<a id=__codelineno-102-18 name=__codelineno-102-18 href=#__codelineno-102-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Ints:   &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>ints</span><span class=p>)</span>
<a id=__codelineno-102-19 name=__codelineno-102-19 href=#__codelineno-102-19></a>
<a id=__codelineno-102-20 name=__codelineno-102-20 href=#__codelineno-102-20></a><span class=w>    </span><span class=c1>// 我们也可以使用 `sort` 来检查一个序列是不是已经是排好序的。</span>
<a id=__codelineno-102-21 name=__codelineno-102-21 href=#__codelineno-102-21></a><span class=w>    </span><span class=nx>s</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>sort</span><span class=p>.</span><span class=nx>IntsAreSorted</span><span class=p>(</span><span class=nx>ints</span><span class=p>)</span>
<a id=__codelineno-102-22 name=__codelineno-102-22 href=#__codelineno-102-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Sorted: &quot;</span><span class=p>,</span><span class=w> </span><span class=nx>s</span><span class=p>)</span>
<a id=__codelineno-102-23 name=__codelineno-102-23 href=#__codelineno-102-23></a><span class=p>}</span>
</code></pre></div> <p>运行程序，打印排序好的字符串和整型序列以及我们 AreSorted 测试的结果 true。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-103-1 name=__codelineno-103-1 href=#__codelineno-103-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>sorting.go
<a id=__codelineno-103-2 name=__codelineno-103-2 href=#__codelineno-103-2></a>Strings:<span class=w> </span><span class=o>[</span>a<span class=w> </span>b<span class=w> </span>c<span class=o>]</span>
<a id=__codelineno-103-3 name=__codelineno-103-3 href=#__codelineno-103-3></a>Ints:<span class=w>    </span><span class=o>[</span><span class=m>2</span><span class=w> </span><span class=m>4</span><span class=w> </span><span class=m>7</span><span class=o>]</span>
<a id=__codelineno-103-4 name=__codelineno-103-4 href=#__codelineno-103-4></a>Sorted:<span class=w>  </span><span class=nb>true</span>
</code></pre></div> <h2 id=go-使用函数自定义排序>Go 使用函数自定义排序<a class=headerlink href=#go-使用函数自定义排序 title="Permanent link">&para;</a></h2> <p>有时候我们想使用和集合的自然排序不同的方法对集合进行排序。 </p> <p>例如，我们想按照字母的长度而不是首字母顺序对字符串排序。 这里是一个 Go 自定义排序的例子。</p> <p><code>sorting-by-functions.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-104-1 name=__codelineno-104-1 href=#__codelineno-104-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-104-2 name=__codelineno-104-2 href=#__codelineno-104-2></a>
<a id=__codelineno-104-3 name=__codelineno-104-3 href=#__codelineno-104-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;sort&quot;</span>
<a id=__codelineno-104-4 name=__codelineno-104-4 href=#__codelineno-104-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-104-5 name=__codelineno-104-5 href=#__codelineno-104-5></a>
<a id=__codelineno-104-6 name=__codelineno-104-6 href=#__codelineno-104-6></a><span class=c1>// 为了在 Go 中使用自定义函数进行排序，我们需要一个对应的类型。</span>
<a id=__codelineno-104-7 name=__codelineno-104-7 href=#__codelineno-104-7></a><span class=c1>// 这里我们创建一个为内置 `[]string` 类型的别名的 `ByLength` 类型。</span>
<a id=__codelineno-104-8 name=__codelineno-104-8 href=#__codelineno-104-8></a><span class=kd>type</span><span class=w> </span><span class=nx>ByLength</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span>
<a id=__codelineno-104-9 name=__codelineno-104-9 href=#__codelineno-104-9></a>
<a id=__codelineno-104-10 name=__codelineno-104-10 href=#__codelineno-104-10></a><span class=c1>// 我们在类型中实现了 `sort.Interface` 的 `Len`，`Less` 和 `Swap` 方法，</span>
<a id=__codelineno-104-11 name=__codelineno-104-11 href=#__codelineno-104-11></a><span class=c1>// 这样我们就可以使用 `sort` 包的通用 `Sort` 方法了，</span>
<a id=__codelineno-104-12 name=__codelineno-104-12 href=#__codelineno-104-12></a><span class=c1>// `Len` 和 `Swap` 通常在各个类型中都差不多，`Less` 将控制实际的自定义排序逻辑。</span>
<a id=__codelineno-104-13 name=__codelineno-104-13 href=#__codelineno-104-13></a><span class=c1>// 在我们的例子中，我们想按字符串长度增加的顺序来排序，</span>
<a id=__codelineno-104-14 name=__codelineno-104-14 href=#__codelineno-104-14></a><span class=c1>// 所以这里使用了 `len(s[i])` 和 `len(s[j])`</span>
<a id=__codelineno-104-15 name=__codelineno-104-15 href=#__codelineno-104-15></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>ByLength</span><span class=p>)</span><span class=w> </span><span class=nx>Len</span><span class=p>()</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-16 name=__codelineno-104-16 href=#__codelineno-104-16></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span>
<a id=__codelineno-104-17 name=__codelineno-104-17 href=#__codelineno-104-17></a><span class=p>}</span>
<a id=__codelineno-104-18 name=__codelineno-104-18 href=#__codelineno-104-18></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>ByLength</span><span class=p>)</span><span class=w> </span><span class=nx>Swap</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-19 name=__codelineno-104-19 href=#__codelineno-104-19></a><span class=w>    </span><span class=nx>s</span><span class=p>[</span><span class=nx>i</span><span class=p>],</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=nx>j</span><span class=p>]</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=nx>j</span><span class=p>],</span><span class=w> </span><span class=nx>s</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
<a id=__codelineno-104-20 name=__codelineno-104-20 href=#__codelineno-104-20></a><span class=p>}</span>
<a id=__codelineno-104-21 name=__codelineno-104-21 href=#__codelineno-104-21></a><span class=kd>func</span><span class=w> </span><span class=p>(</span><span class=nx>s</span><span class=w> </span><span class=nx>ByLength</span><span class=p>)</span><span class=w> </span><span class=nx>Less</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span><span class=w> </span><span class=nx>j</span><span class=w> </span><span class=kt>int</span><span class=p>)</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-22 name=__codelineno-104-22 href=#__codelineno-104-22></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>s</span><span class=p>[</span><span class=nx>j</span><span class=p>])</span>
<a id=__codelineno-104-23 name=__codelineno-104-23 href=#__codelineno-104-23></a><span class=p>}</span>
<a id=__codelineno-104-24 name=__codelineno-104-24 href=#__codelineno-104-24></a>
<a id=__codelineno-104-25 name=__codelineno-104-25 href=#__codelineno-104-25></a><span class=c1>// 一切都准备好了，我们现在可以通过将原始的 `fruits` 切片转型成 `ByLength` 来实现我们的自定排序了。</span>
<a id=__codelineno-104-26 name=__codelineno-104-26 href=#__codelineno-104-26></a><span class=c1>// 然后对这个转型的切片使用 `sort.Sort` 方法。</span>
<a id=__codelineno-104-27 name=__codelineno-104-27 href=#__codelineno-104-27></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-104-28 name=__codelineno-104-28 href=#__codelineno-104-28></a><span class=w>    </span><span class=nx>fruits</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;peach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;banana&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;kiwi&quot;</span><span class=p>}</span>
<a id=__codelineno-104-29 name=__codelineno-104-29 href=#__codelineno-104-29></a><span class=w>    </span><span class=nx>sort</span><span class=p>.</span><span class=nx>Sort</span><span class=p>(</span><span class=nx>ByLength</span><span class=p>(</span><span class=nx>fruits</span><span class=p>))</span>
<a id=__codelineno-104-30 name=__codelineno-104-30 href=#__codelineno-104-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>fruits</span><span class=p>)</span><span class=w> </span><span class=c1>//[kiwi peach banana]</span>
<a id=__codelineno-104-31 name=__codelineno-104-31 href=#__codelineno-104-31></a><span class=p>}</span>
</code></pre></div> <p>运行这个程序，和预期的一样，显示了一个按照字符串 长度排序的列表。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-105-1 name=__codelineno-105-1 href=#__codelineno-105-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>sorting-by-functions.go<span class=w> </span>
<a id=__codelineno-105-2 name=__codelineno-105-2 href=#__codelineno-105-2></a><span class=o>[</span>kiwi<span class=w> </span>peach<span class=w> </span>banana<span class=o>]</span>
</code></pre></div> <p>类似的，参照这个创建一个自定义类型的方法，实现这个类型的 这三个接口方法，然后在一个这个自定义类型的集合上调用 <code>sort.Sort</code> 方法，我们就可以使用任意的函数来排序 Go 切片了。</p> <h2 id=go-命令行参数-arguments>Go 命令行参数 Arguments<a class=headerlink href=#go-命令行参数-arguments title="Permanent link">&para;</a></h2> <p>命令行参数 是指定程序运行参数的一个常见方式。</p> <p>例如：<code>go run hello.go</code>， 程序 go 使用了 run 和 hello.go 两个参数。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-106-1 name=__codelineno-106-1 href=#__codelineno-106-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-106-2 name=__codelineno-106-2 href=#__codelineno-106-2></a>
<a id=__codelineno-106-3 name=__codelineno-106-3 href=#__codelineno-106-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-106-4 name=__codelineno-106-4 href=#__codelineno-106-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-106-5 name=__codelineno-106-5 href=#__codelineno-106-5></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-106-6 name=__codelineno-106-6 href=#__codelineno-106-6></a><span class=p>)</span>
<a id=__codelineno-106-7 name=__codelineno-106-7 href=#__codelineno-106-7></a>
<a id=__codelineno-106-8 name=__codelineno-106-8 href=#__codelineno-106-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-9 name=__codelineno-106-9 href=#__codelineno-106-9></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=kd>func</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-10 name=__codelineno-106-10 href=#__codelineno-106-10></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nb>recover</span><span class=p>();</span><span class=w> </span><span class=nx>r</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-11 name=__codelineno-106-11 href=#__codelineno-106-11></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintln</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stderr</span><span class=p>,</span><span class=w> </span><span class=s>&quot;An error occurred:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>r</span><span class=p>)</span>
<a id=__codelineno-106-12 name=__codelineno-106-12 href=#__codelineno-106-12></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-106-13 name=__codelineno-106-13 href=#__codelineno-106-13></a><span class=w>    </span><span class=p>}()</span>
<a id=__codelineno-106-14 name=__codelineno-106-14 href=#__codelineno-106-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>)</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>4</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-106-15 name=__codelineno-106-15 href=#__codelineno-106-15></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;Usage: %s &lt;arg1&gt; &lt;arg2&gt; &lt;arg3&gt; ...\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-106-16 name=__codelineno-106-16 href=#__codelineno-106-16></a><span class=w>        </span><span class=k>return</span>
<a id=__codelineno-106-17 name=__codelineno-106-17 href=#__codelineno-106-17></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-106-18 name=__codelineno-106-18 href=#__codelineno-106-18></a><span class=w>    </span><span class=c1>// `os.Args` 提供原始命令行参数访问功能。</span>
<a id=__codelineno-106-19 name=__codelineno-106-19 href=#__codelineno-106-19></a><span class=w>    </span><span class=c1>// 注意，切片中的第一个参数是该程序的路径，</span>
<a id=__codelineno-106-20 name=__codelineno-106-20 href=#__codelineno-106-20></a><span class=w>    </span><span class=c1>// 并且 `os.Args[1:]` 保存程序的所有参数。</span>
<a id=__codelineno-106-21 name=__codelineno-106-21 href=#__codelineno-106-21></a><span class=w>    </span><span class=nx>argsWithProg</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span>
<a id=__codelineno-106-22 name=__codelineno-106-22 href=#__codelineno-106-22></a><span class=w>    </span><span class=nx>argsWithoutProg</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span>
<a id=__codelineno-106-23 name=__codelineno-106-23 href=#__codelineno-106-23></a>
<a id=__codelineno-106-24 name=__codelineno-106-24 href=#__codelineno-106-24></a><span class=w>    </span><span class=c1>// 你可以使用标准的索引位置方式取得单个参数的值。</span>
<a id=__codelineno-106-25 name=__codelineno-106-25 href=#__codelineno-106-25></a><span class=w>    </span><span class=nx>arg</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
<a id=__codelineno-106-26 name=__codelineno-106-26 href=#__codelineno-106-26></a>
<a id=__codelineno-106-27 name=__codelineno-106-27 href=#__codelineno-106-27></a><span class=w>    </span><span class=c1>// Print the program&#39;s arguments.</span>
<a id=__codelineno-106-28 name=__codelineno-106-28 href=#__codelineno-106-28></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>argsWithProg</span><span class=p>)</span>
<a id=__codelineno-106-29 name=__codelineno-106-29 href=#__codelineno-106-29></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>argsWithoutProg</span><span class=p>)</span>
<a id=__codelineno-106-30 name=__codelineno-106-30 href=#__codelineno-106-30></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>arg</span><span class=p>)</span>
<a id=__codelineno-106-31 name=__codelineno-106-31 href=#__codelineno-106-31></a><span class=p>}</span>
</code></pre></div> <h2 id=go-命令行标志-flags>Go 命令行标志 Flags<a class=headerlink href=#go-命令行标志-flags title="Permanent link">&para;</a></h2> <p>命令行标志 是命令行程序指定选项的常用方式。例如，在 wc -l 中， 这个 -l 就是一个命令行标志。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-107-1 name=__codelineno-107-1 href=#__codelineno-107-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-107-2 name=__codelineno-107-2 href=#__codelineno-107-2></a>
<a id=__codelineno-107-3 name=__codelineno-107-3 href=#__codelineno-107-3></a><span class=c1>// Go 提供了一个 `flag` 包，支持基本的命令行标志解析。</span>
<a id=__codelineno-107-4 name=__codelineno-107-4 href=#__codelineno-107-4></a><span class=c1>// 我们将用这个包来实现我们的命令行程序示例。</span>
<a id=__codelineno-107-5 name=__codelineno-107-5 href=#__codelineno-107-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;flag&quot;</span>
<a id=__codelineno-107-6 name=__codelineno-107-6 href=#__codelineno-107-6></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-107-7 name=__codelineno-107-7 href=#__codelineno-107-7></a>
<a id=__codelineno-107-8 name=__codelineno-107-8 href=#__codelineno-107-8></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-107-9 name=__codelineno-107-9 href=#__codelineno-107-9></a>
<a id=__codelineno-107-10 name=__codelineno-107-10 href=#__codelineno-107-10></a><span class=w>    </span><span class=c1>// 基本的标记声明仅支持字符串、整数和布尔值选项。</span>
<a id=__codelineno-107-11 name=__codelineno-107-11 href=#__codelineno-107-11></a><span class=w>    </span><span class=c1>// 这里我们声明一个默认值为 `&quot;foo&quot;` 的字符串标志 `word`</span>
<a id=__codelineno-107-12 name=__codelineno-107-12 href=#__codelineno-107-12></a><span class=w>    </span><span class=c1>// 并带有一个简短的描述。这里的 `flag.String` 函数返回一个字</span>
<a id=__codelineno-107-13 name=__codelineno-107-13 href=#__codelineno-107-13></a><span class=w>    </span><span class=c1>// 符串指针（不是一个字符串值），在下面我们会看到是如何</span>
<a id=__codelineno-107-14 name=__codelineno-107-14 href=#__codelineno-107-14></a><span class=w>    </span><span class=c1>// 使用这个指针的。</span>
<a id=__codelineno-107-15 name=__codelineno-107-15 href=#__codelineno-107-15></a><span class=w>    </span><span class=nx>wordPtr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>String</span><span class=p>(</span><span class=s>&quot;word&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a string&quot;</span><span class=p>)</span>
<a id=__codelineno-107-16 name=__codelineno-107-16 href=#__codelineno-107-16></a>
<a id=__codelineno-107-17 name=__codelineno-107-17 href=#__codelineno-107-17></a><span class=w>    </span><span class=c1>// 使用和声明 `word` 标志相同的方法来声明 `numb` 和 `fork` 标志。</span>
<a id=__codelineno-107-18 name=__codelineno-107-18 href=#__codelineno-107-18></a><span class=w>    </span><span class=nx>numbPtr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>Int</span><span class=p>(</span><span class=s>&quot;numb&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>42</span><span class=p>,</span><span class=w> </span><span class=s>&quot;an int&quot;</span><span class=p>)</span>
<a id=__codelineno-107-19 name=__codelineno-107-19 href=#__codelineno-107-19></a><span class=w>    </span><span class=nx>boolPtr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>Bool</span><span class=p>(</span><span class=s>&quot;fork&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a bool&quot;</span><span class=p>)</span>
<a id=__codelineno-107-20 name=__codelineno-107-20 href=#__codelineno-107-20></a>
<a id=__codelineno-107-21 name=__codelineno-107-21 href=#__codelineno-107-21></a><span class=w>    </span><span class=c1>// 用程序中已有的参数来声明一个标志也是可以的。注</span>
<a id=__codelineno-107-22 name=__codelineno-107-22 href=#__codelineno-107-22></a><span class=w>    </span><span class=c1>// 意在标志声明函数中需要使用该参数的指针。</span>
<a id=__codelineno-107-23 name=__codelineno-107-23 href=#__codelineno-107-23></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>svar</span><span class=w> </span><span class=kt>string</span>
<a id=__codelineno-107-24 name=__codelineno-107-24 href=#__codelineno-107-24></a><span class=w>    </span><span class=nx>flag</span><span class=p>.</span><span class=nx>StringVar</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>svar</span><span class=p>,</span><span class=w> </span><span class=s>&quot;svar&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;bar&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a string var&quot;</span><span class=p>)</span>
<a id=__codelineno-107-25 name=__codelineno-107-25 href=#__codelineno-107-25></a>
<a id=__codelineno-107-26 name=__codelineno-107-26 href=#__codelineno-107-26></a><span class=w>    </span><span class=c1>// 所有标志都声明完成以后，调用 `flag.Parse()` 来执行</span>
<a id=__codelineno-107-27 name=__codelineno-107-27 href=#__codelineno-107-27></a><span class=w>    </span><span class=c1>// 命令行解析。</span>
<a id=__codelineno-107-28 name=__codelineno-107-28 href=#__codelineno-107-28></a><span class=w>    </span><span class=nx>flag</span><span class=p>.</span><span class=nx>Parse</span><span class=p>()</span>
<a id=__codelineno-107-29 name=__codelineno-107-29 href=#__codelineno-107-29></a>
<a id=__codelineno-107-30 name=__codelineno-107-30 href=#__codelineno-107-30></a><span class=w>    </span><span class=c1>// 这里我们将仅输出解析的选项以及后面的位置参数。注意，</span>
<a id=__codelineno-107-31 name=__codelineno-107-31 href=#__codelineno-107-31></a><span class=w>    </span><span class=c1>// 我们需要使用类似 `*wordPtr` 这样的语法来对指针解引用，从而</span>
<a id=__codelineno-107-32 name=__codelineno-107-32 href=#__codelineno-107-32></a><span class=w>    </span><span class=c1>// 得到选项的实际值。</span>
<a id=__codelineno-107-33 name=__codelineno-107-33 href=#__codelineno-107-33></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;word:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>wordPtr</span><span class=p>)</span>
<a id=__codelineno-107-34 name=__codelineno-107-34 href=#__codelineno-107-34></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;numb:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>numbPtr</span><span class=p>)</span>
<a id=__codelineno-107-35 name=__codelineno-107-35 href=#__codelineno-107-35></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;fork:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>boolPtr</span><span class=p>)</span>
<a id=__codelineno-107-36 name=__codelineno-107-36 href=#__codelineno-107-36></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;svar:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>svar</span><span class=p>)</span>
<a id=__codelineno-107-37 name=__codelineno-107-37 href=#__codelineno-107-37></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;tail:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>Args</span><span class=p>())</span>
<a id=__codelineno-107-38 name=__codelineno-107-38 href=#__codelineno-107-38></a><span class=p>}</span>
</code></pre></div> <p>测试这个程序前，最好将这个程序编译成二进制文件，然后再运 行这个程序。 <div class=highlight><pre><span></span><code><a id=__codelineno-108-1 name=__codelineno-108-1 href=#__codelineno-108-1></a>$<span class=w> </span>go<span class=w> </span>build<span class=w> </span>command-line-flags.go
<a id=__codelineno-108-2 name=__codelineno-108-2 href=#__codelineno-108-2></a>$<span class=w> </span>.<span class=se>\c</span>ommand-line-flags
<a id=__codelineno-108-3 name=__codelineno-108-3 href=#__codelineno-108-3></a>word:<span class=w> </span>foo
<a id=__codelineno-108-4 name=__codelineno-108-4 href=#__codelineno-108-4></a>numb:<span class=w> </span><span class=m>42</span>
<a id=__codelineno-108-5 name=__codelineno-108-5 href=#__codelineno-108-5></a>fork:<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-108-6 name=__codelineno-108-6 href=#__codelineno-108-6></a>svar:<span class=w> </span>bar
<a id=__codelineno-108-7 name=__codelineno-108-7 href=#__codelineno-108-7></a>tail:<span class=w> </span><span class=o>[]</span>
</code></pre></div></p> <p>注意到，如果你省略一个标志，那么这个标志的值自动的设 定为他的默认值。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-109-1 name=__codelineno-109-1 href=#__codelineno-109-1></a>$<span class=w> </span>./command-line-flags<span class=w> </span>-word<span class=o>=</span>opt
<a id=__codelineno-109-2 name=__codelineno-109-2 href=#__codelineno-109-2></a>word:<span class=w> </span>opt
<a id=__codelineno-109-3 name=__codelineno-109-3 href=#__codelineno-109-3></a>numb:<span class=w> </span><span class=m>42</span>
<a id=__codelineno-109-4 name=__codelineno-109-4 href=#__codelineno-109-4></a>fork:<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-109-5 name=__codelineno-109-5 href=#__codelineno-109-5></a>svar:<span class=w> </span>bar
<a id=__codelineno-109-6 name=__codelineno-109-6 href=#__codelineno-109-6></a>tail:<span class=w> </span><span class=o>[]</span>
</code></pre></div> <p>尾随的位置参数可以出现在任何标志后面。 <div class=highlight><pre><span></span><code><a id=__codelineno-110-1 name=__codelineno-110-1 href=#__codelineno-110-1></a>$<span class=w> </span>./command-line-flags<span class=w> </span>-word<span class=o>=</span>opt<span class=w> </span>a1<span class=w> </span>a2<span class=w> </span>a3
<a id=__codelineno-110-2 name=__codelineno-110-2 href=#__codelineno-110-2></a>word:<span class=w> </span>opt
<a id=__codelineno-110-3 name=__codelineno-110-3 href=#__codelineno-110-3></a>numb:<span class=w> </span><span class=m>42</span>
<a id=__codelineno-110-4 name=__codelineno-110-4 href=#__codelineno-110-4></a>fork:<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-110-5 name=__codelineno-110-5 href=#__codelineno-110-5></a>svar:<span class=w> </span>bar
<a id=__codelineno-110-6 name=__codelineno-110-6 href=#__codelineno-110-6></a>tail:<span class=w> </span><span class=o>[</span>a1<span class=w> </span>a2<span class=w> </span>a3<span class=o>]</span>
</code></pre></div></p> <p>注意，flag 包需要所有的标志出现位置参数之前（ 否则，这个标志将会被解析为位置参数）。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-111-1 name=__codelineno-111-1 href=#__codelineno-111-1></a>$<span class=w> </span>./command-line-flags<span class=w> </span>-word<span class=o>=</span>opt<span class=w> </span>a1<span class=w> </span>a2<span class=w> </span>a3<span class=w> </span>-numb<span class=o>=</span><span class=m>7</span>
<a id=__codelineno-111-2 name=__codelineno-111-2 href=#__codelineno-111-2></a>word:<span class=w> </span>opt
<a id=__codelineno-111-3 name=__codelineno-111-3 href=#__codelineno-111-3></a>numb:<span class=w> </span><span class=m>42</span>
<a id=__codelineno-111-4 name=__codelineno-111-4 href=#__codelineno-111-4></a>fork:<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-111-5 name=__codelineno-111-5 href=#__codelineno-111-5></a>svar:<span class=w> </span>bar
<a id=__codelineno-111-6 name=__codelineno-111-6 href=#__codelineno-111-6></a>trailing:<span class=w> </span><span class=o>[</span>a1<span class=w> </span>a2<span class=w> </span>a3<span class=w> </span>-numb<span class=o>=</span><span class=m>7</span><span class=o>]</span>
<a id=__codelineno-111-7 name=__codelineno-111-7 href=#__codelineno-111-7></a>
<a id=__codelineno-111-8 name=__codelineno-111-8 href=#__codelineno-111-8></a>$<span class=w> </span>./command-line-flags<span class=w> </span>-word<span class=o>=</span>opt<span class=w> </span>-numb<span class=o>=</span><span class=m>7</span><span class=w> </span>a1<span class=w> </span>a2<span class=w> </span>a3
<a id=__codelineno-111-9 name=__codelineno-111-9 href=#__codelineno-111-9></a>word:<span class=w> </span>opt
<a id=__codelineno-111-10 name=__codelineno-111-10 href=#__codelineno-111-10></a>numb:<span class=w> </span><span class=m>7</span>
<a id=__codelineno-111-11 name=__codelineno-111-11 href=#__codelineno-111-11></a>fork:<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-111-12 name=__codelineno-111-12 href=#__codelineno-111-12></a>svar:<span class=w> </span>bar
<a id=__codelineno-111-13 name=__codelineno-111-13 href=#__codelineno-111-13></a>tail:<span class=w> </span><span class=o>[</span>a1<span class=w> </span>a2<span class=w> </span>a3<span class=o>]</span>
</code></pre></div> <p>使用 -h 或者 --help 标志来得到自动生成的这个命 令行程序的帮助文本。 <div class=highlight><pre><span></span><code><a id=__codelineno-112-1 name=__codelineno-112-1 href=#__codelineno-112-1></a>$<span class=w> </span>./command-line-flags<span class=w> </span>-h
<a id=__codelineno-112-2 name=__codelineno-112-2 href=#__codelineno-112-2></a>Usage<span class=w> </span>of<span class=w> </span>./command-line-flags:
<a id=__codelineno-112-3 name=__codelineno-112-3 href=#__codelineno-112-3></a><span class=w>  </span>-fork<span class=o>=</span>false:<span class=w> </span>a<span class=w> </span>bool
<a id=__codelineno-112-4 name=__codelineno-112-4 href=#__codelineno-112-4></a><span class=w>  </span>-numb<span class=o>=</span><span class=m>42</span>:<span class=w> </span>an<span class=w> </span>int
<a id=__codelineno-112-5 name=__codelineno-112-5 href=#__codelineno-112-5></a><span class=w>  </span>-svar<span class=o>=</span><span class=s2>&quot;bar&quot;</span>:<span class=w> </span>a<span class=w> </span>string<span class=w> </span>var
<a id=__codelineno-112-6 name=__codelineno-112-6 href=#__codelineno-112-6></a><span class=w>  </span>-word<span class=o>=</span><span class=s2>&quot;foo&quot;</span>:<span class=w> </span>a<span class=w> </span>string
</code></pre></div></p> <p>如果你提供一个没有使用 flag 包指定的标志，程序会输出一 个错误信息，并再次显示帮助文本。 <div class=highlight><pre><span></span><code><a id=__codelineno-113-1 name=__codelineno-113-1 href=#__codelineno-113-1></a>$<span class=w> </span>./command-line-flags<span class=w> </span>-wat
<a id=__codelineno-113-2 name=__codelineno-113-2 href=#__codelineno-113-2></a>flag<span class=w> </span>provided<span class=w> </span>but<span class=w> </span>not<span class=w> </span>defined:<span class=w> </span>-wat
<a id=__codelineno-113-3 name=__codelineno-113-3 href=#__codelineno-113-3></a>Usage<span class=w> </span>of<span class=w> </span>./command-line-flags:
<a id=__codelineno-113-4 name=__codelineno-113-4 href=#__codelineno-113-4></a><span class=c1># ...</span>
</code></pre></div></p> <p>我们可以使用环境变量，用于参数化程序的基本方式，如下。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-114-1 name=__codelineno-114-1 href=#__codelineno-114-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-114-2 name=__codelineno-114-2 href=#__codelineno-114-2></a>
<a id=__codelineno-114-3 name=__codelineno-114-3 href=#__codelineno-114-3></a><span class=c1>// Go 提供了一个 `flag` 包，支持基本的命令行标志解析。</span>
<a id=__codelineno-114-4 name=__codelineno-114-4 href=#__codelineno-114-4></a><span class=c1>// 我们将用这个包来实现我们的命令行程序示例。</span>
<a id=__codelineno-114-5 name=__codelineno-114-5 href=#__codelineno-114-5></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-114-6 name=__codelineno-114-6 href=#__codelineno-114-6></a><span class=w>    </span><span class=s>&quot;flag&quot;</span>
<a id=__codelineno-114-7 name=__codelineno-114-7 href=#__codelineno-114-7></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-114-8 name=__codelineno-114-8 href=#__codelineno-114-8></a><span class=w>    </span><span class=s>&quot;strconv&quot;</span>
<a id=__codelineno-114-9 name=__codelineno-114-9 href=#__codelineno-114-9></a><span class=p>)</span>
<a id=__codelineno-114-10 name=__codelineno-114-10 href=#__codelineno-114-10></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-114-11 name=__codelineno-114-11 href=#__codelineno-114-11></a>
<a id=__codelineno-114-12 name=__codelineno-114-12 href=#__codelineno-114-12></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-114-13 name=__codelineno-114-13 href=#__codelineno-114-13></a><span class=w>    </span><span class=nx>numbStr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Getenv</span><span class=p>(</span><span class=s>&quot;numb&quot;</span><span class=p>)</span>
<a id=__codelineno-114-14 name=__codelineno-114-14 href=#__codelineno-114-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>numbStr</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-114-15 name=__codelineno-114-15 href=#__codelineno-114-15></a><span class=w>        </span><span class=nx>numbStr</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=s>&quot;0&quot;</span><span class=w> </span><span class=c1>// 设置一个默认值</span>
<a id=__codelineno-114-16 name=__codelineno-114-16 href=#__codelineno-114-16></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-114-17 name=__codelineno-114-17 href=#__codelineno-114-17></a><span class=w>    </span><span class=nx>numb</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strconv</span><span class=p>.</span><span class=nx>Atoi</span><span class=p>(</span><span class=nx>numbStr</span><span class=p>)</span>
<a id=__codelineno-114-18 name=__codelineno-114-18 href=#__codelineno-114-18></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-114-19 name=__codelineno-114-19 href=#__codelineno-114-19></a><span class=w>        </span><span class=c1>// 处理转换失败的情况</span>
<a id=__codelineno-114-20 name=__codelineno-114-20 href=#__codelineno-114-20></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-114-21 name=__codelineno-114-21 href=#__codelineno-114-21></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-114-22 name=__codelineno-114-22 href=#__codelineno-114-22></a><span class=w>    </span><span class=c1>// 基本的标记声明仅支持字符串、整数和布尔值选项。</span>
<a id=__codelineno-114-23 name=__codelineno-114-23 href=#__codelineno-114-23></a><span class=w>    </span><span class=c1>// 这里我们声明一个默认值为 `&quot;foo&quot;` 的字符串标志 `word`</span>
<a id=__codelineno-114-24 name=__codelineno-114-24 href=#__codelineno-114-24></a><span class=w>    </span><span class=c1>// 并带有一个简短的描述。这里的 `flag.String` 函数返回一个字</span>
<a id=__codelineno-114-25 name=__codelineno-114-25 href=#__codelineno-114-25></a><span class=w>    </span><span class=c1>// 符串指针（不是一个字符串值），在下面我们会看到是如何</span>
<a id=__codelineno-114-26 name=__codelineno-114-26 href=#__codelineno-114-26></a><span class=w>    </span><span class=c1>// 使用这个指针的。</span>
<a id=__codelineno-114-27 name=__codelineno-114-27 href=#__codelineno-114-27></a><span class=w>    </span><span class=nx>wordPtr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>String</span><span class=p>(</span><span class=s>&quot;word&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;a string&quot;</span><span class=p>)</span>
<a id=__codelineno-114-28 name=__codelineno-114-28 href=#__codelineno-114-28></a>
<a id=__codelineno-114-29 name=__codelineno-114-29 href=#__codelineno-114-29></a><span class=w>    </span><span class=c1>// 使用和声明 `word` 标志相同的方法来声明 `numb` 和 `fork` 标志。</span>
<a id=__codelineno-114-30 name=__codelineno-114-30 href=#__codelineno-114-30></a><span class=w>    </span><span class=nx>numbPtr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>Int</span><span class=p>(</span><span class=s>&quot;numb&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>numb</span><span class=p>,</span><span class=w> </span><span class=s>&quot;an int&quot;</span><span class=p>)</span>
<a id=__codelineno-114-31 name=__codelineno-114-31 href=#__codelineno-114-31></a><span class=w>  </span><span class=c1>// ......</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-115-1 name=__codelineno-115-1 href=#__codelineno-115-1></a>$<span class=w> </span><span class=nv>numb</span><span class=o>=</span><span class=m>1994</span><span class=w> </span>./command-line-flags
<a id=__codelineno-115-2 name=__codelineno-115-2 href=#__codelineno-115-2></a>word:<span class=w> </span>foo
<a id=__codelineno-115-3 name=__codelineno-115-3 href=#__codelineno-115-3></a>numb:<span class=w> </span><span class=m>1994</span>
<a id=__codelineno-115-4 name=__codelineno-115-4 href=#__codelineno-115-4></a>fork:<span class=w> </span><span class=nb>false</span>
<a id=__codelineno-115-5 name=__codelineno-115-5 href=#__codelineno-115-5></a>svar:<span class=w> </span>bar
<a id=__codelineno-115-6 name=__codelineno-115-6 href=#__codelineno-115-6></a>tail:<span class=w> </span><span class=o>[]</span>
</code></pre></div> <h2 id=go-命令行子命令-subcommands>Go 命令行子命令 Subcommands<a class=headerlink href=#go-命令行子命令-subcommands title="Permanent link">&para;</a></h2> <p>go 和 git 这种命令行工具，都有很多的 子命令。 并且每个工具都有一套自己的 flag，比如： go build 和 go get 是 go 里面的两个不同的子命令。 </p> <p>flag 包让我们可以轻松的为工具定义简单的子命令。</p> <p><code>command-line-subcommands.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-116-1 name=__codelineno-116-1 href=#__codelineno-116-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-116-2 name=__codelineno-116-2 href=#__codelineno-116-2></a>
<a id=__codelineno-116-3 name=__codelineno-116-3 href=#__codelineno-116-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-116-4 name=__codelineno-116-4 href=#__codelineno-116-4></a><span class=w>    </span><span class=s>&quot;flag&quot;</span>
<a id=__codelineno-116-5 name=__codelineno-116-5 href=#__codelineno-116-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-116-6 name=__codelineno-116-6 href=#__codelineno-116-6></a><span class=w>    </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-116-7 name=__codelineno-116-7 href=#__codelineno-116-7></a><span class=p>)</span>
<a id=__codelineno-116-8 name=__codelineno-116-8 href=#__codelineno-116-8></a>
<a id=__codelineno-116-9 name=__codelineno-116-9 href=#__codelineno-116-9></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-116-10 name=__codelineno-116-10 href=#__codelineno-116-10></a>
<a id=__codelineno-116-11 name=__codelineno-116-11 href=#__codelineno-116-11></a><span class=w>    </span><span class=c1>// 我们使用 `NewFlagSet` 函数声明一个子命令，</span>
<a id=__codelineno-116-12 name=__codelineno-116-12 href=#__codelineno-116-12></a><span class=w>    </span><span class=c1>// 然后为这个子命令定义一个专用的 flag。</span>
<a id=__codelineno-116-13 name=__codelineno-116-13 href=#__codelineno-116-13></a><span class=w>    </span><span class=nx>fooCmd</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>NewFlagSet</span><span class=p>(</span><span class=s>&quot;foo&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>ExitOnError</span><span class=p>)</span>
<a id=__codelineno-116-14 name=__codelineno-116-14 href=#__codelineno-116-14></a><span class=w>    </span><span class=nx>fooEnable</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fooCmd</span><span class=p>.</span><span class=nx>Bool</span><span class=p>(</span><span class=s>&quot;enable&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w> </span><span class=s>&quot;enable&quot;</span><span class=p>)</span>
<a id=__codelineno-116-15 name=__codelineno-116-15 href=#__codelineno-116-15></a><span class=w>    </span><span class=nx>fooName</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>fooCmd</span><span class=p>.</span><span class=nx>String</span><span class=p>(</span><span class=s>&quot;name&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;name&quot;</span><span class=p>)</span>
<a id=__codelineno-116-16 name=__codelineno-116-16 href=#__codelineno-116-16></a>
<a id=__codelineno-116-17 name=__codelineno-116-17 href=#__codelineno-116-17></a><span class=w>    </span><span class=c1>// 对于不同的子命令，我们可以定义不同的 flag。</span>
<a id=__codelineno-116-18 name=__codelineno-116-18 href=#__codelineno-116-18></a><span class=w>    </span><span class=nx>barCmd</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>NewFlagSet</span><span class=p>(</span><span class=s>&quot;bar&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>flag</span><span class=p>.</span><span class=nx>ExitOnError</span><span class=p>)</span>
<a id=__codelineno-116-19 name=__codelineno-116-19 href=#__codelineno-116-19></a><span class=w>    </span><span class=nx>barLevel</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>barCmd</span><span class=p>.</span><span class=nx>Int</span><span class=p>(</span><span class=s>&quot;level&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=s>&quot;level&quot;</span><span class=p>)</span>
<a id=__codelineno-116-20 name=__codelineno-116-20 href=#__codelineno-116-20></a>
<a id=__codelineno-116-21 name=__codelineno-116-21 href=#__codelineno-116-21></a><span class=w>    </span><span class=c1>// 期望前面定义的子命令作为第一个参数传入。</span>
<a id=__codelineno-116-22 name=__codelineno-116-22 href=#__codelineno-116-22></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nb>len</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>)</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-116-23 name=__codelineno-116-23 href=#__codelineno-116-23></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Printf</span><span class=p>(</span><span class=s>&quot;usage: %s foo|bar\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-116-24 name=__codelineno-116-24 href=#__codelineno-116-24></a><span class=w>        </span><span class=nx>os</span><span class=p>.</span><span class=nx>Exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-116-25 name=__codelineno-116-25 href=#__codelineno-116-25></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-116-26 name=__codelineno-116-26 href=#__codelineno-116-26></a>
<a id=__codelineno-116-27 name=__codelineno-116-27 href=#__codelineno-116-27></a><span class=w>    </span><span class=c1>// 检查哪一个子命令被调用了。</span>
<a id=__codelineno-116-28 name=__codelineno-116-28 href=#__codelineno-116-28></a><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-116-29 name=__codelineno-116-29 href=#__codelineno-116-29></a>
<a id=__codelineno-116-30 name=__codelineno-116-30 href=#__codelineno-116-30></a><span class=w>    </span><span class=c1>// 每个子命令，都会解析自己的 flag 并允许它访问后续的参数。</span>
<a id=__codelineno-116-31 name=__codelineno-116-31 href=#__codelineno-116-31></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=s>&quot;foo&quot;</span><span class=p>:</span>
<a id=__codelineno-116-32 name=__codelineno-116-32 href=#__codelineno-116-32></a><span class=w>        </span><span class=nx>fooCmd</span><span class=p>.</span><span class=nx>Parse</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>2</span><span class=p>:])</span>
<a id=__codelineno-116-33 name=__codelineno-116-33 href=#__codelineno-116-33></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;subcommand &#39;foo&#39;&quot;</span><span class=p>)</span>
<a id=__codelineno-116-34 name=__codelineno-116-34 href=#__codelineno-116-34></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;  enable:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>fooEnable</span><span class=p>)</span>
<a id=__codelineno-116-35 name=__codelineno-116-35 href=#__codelineno-116-35></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;  name:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>fooName</span><span class=p>)</span>
<a id=__codelineno-116-36 name=__codelineno-116-36 href=#__codelineno-116-36></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;  tail:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>fooCmd</span><span class=p>.</span><span class=nx>Args</span><span class=p>())</span>
<a id=__codelineno-116-37 name=__codelineno-116-37 href=#__codelineno-116-37></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=s>&quot;bar&quot;</span><span class=p>:</span>
<a id=__codelineno-116-38 name=__codelineno-116-38 href=#__codelineno-116-38></a><span class=w>        </span><span class=nx>barCmd</span><span class=p>.</span><span class=nx>Parse</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Args</span><span class=p>[</span><span class=mi>2</span><span class=p>:])</span>
<a id=__codelineno-116-39 name=__codelineno-116-39 href=#__codelineno-116-39></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;subcommand &#39;bar&#39;&quot;</span><span class=p>)</span>
<a id=__codelineno-116-40 name=__codelineno-116-40 href=#__codelineno-116-40></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;  level:&quot;</span><span class=p>,</span><span class=w> </span><span class=o>*</span><span class=nx>barLevel</span><span class=p>)</span>
<a id=__codelineno-116-41 name=__codelineno-116-41 href=#__codelineno-116-41></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;  tail:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>barCmd</span><span class=p>.</span><span class=nx>Args</span><span class=p>())</span>
<a id=__codelineno-116-42 name=__codelineno-116-42 href=#__codelineno-116-42></a><span class=w>    </span><span class=k>default</span><span class=p>:</span>
<a id=__codelineno-116-43 name=__codelineno-116-43 href=#__codelineno-116-43></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;expected &#39;foo&#39; or &#39;bar&#39; subcommands&quot;</span><span class=p>)</span>
<a id=__codelineno-116-44 name=__codelineno-116-44 href=#__codelineno-116-44></a><span class=w>        </span><span class=nx>os</span><span class=p>.</span><span class=nx>Exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-116-45 name=__codelineno-116-45 href=#__codelineno-116-45></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-116-46 name=__codelineno-116-46 href=#__codelineno-116-46></a><span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-117-1 name=__codelineno-117-1 href=#__codelineno-117-1></a>root@gdc-ci-base:/tmp#<span class=w> </span>go<span class=w> </span>build<span class=w> </span>command-line-subcommands.go
<a id=__codelineno-117-2 name=__codelineno-117-2 href=#__codelineno-117-2></a>
<a id=__codelineno-117-3 name=__codelineno-117-3 href=#__codelineno-117-3></a>root@gdc-ci-base:/tmp#<span class=w> </span>./command-line-subcommands<span class=w> </span>foo<span class=w> </span>-enable<span class=w> </span>-name<span class=o>=</span>joe<span class=w> </span>a1<span class=w> </span>a2
<a id=__codelineno-117-4 name=__codelineno-117-4 href=#__codelineno-117-4></a>subcommand<span class=w> </span><span class=s1>&#39;foo&#39;</span>
<a id=__codelineno-117-5 name=__codelineno-117-5 href=#__codelineno-117-5></a><span class=w>  </span>enable:<span class=w> </span><span class=nb>true</span>
<a id=__codelineno-117-6 name=__codelineno-117-6 href=#__codelineno-117-6></a><span class=w>  </span>name:<span class=w> </span>joe
<a id=__codelineno-117-7 name=__codelineno-117-7 href=#__codelineno-117-7></a><span class=w>  </span>tail:<span class=w> </span><span class=o>[</span>a1<span class=w> </span>a2<span class=o>]</span>
<a id=__codelineno-117-8 name=__codelineno-117-8 href=#__codelineno-117-8></a>
<a id=__codelineno-117-9 name=__codelineno-117-9 href=#__codelineno-117-9></a>
<a id=__codelineno-117-10 name=__codelineno-117-10 href=#__codelineno-117-10></a>root@gdc-ci-base:/tmp#<span class=w> </span>./command-line-subcommands<span class=w> </span>bar<span class=w> </span>-level<span class=w> </span><span class=m>8</span><span class=w> </span>a1
<a id=__codelineno-117-11 name=__codelineno-117-11 href=#__codelineno-117-11></a>subcommand<span class=w> </span><span class=s1>&#39;bar&#39;</span>
<a id=__codelineno-117-12 name=__codelineno-117-12 href=#__codelineno-117-12></a><span class=w>  </span>level:<span class=w> </span><span class=m>8</span>
<a id=__codelineno-117-13 name=__codelineno-117-13 href=#__codelineno-117-13></a><span class=w>  </span>tail:<span class=w> </span><span class=o>[</span>a1<span class=o>]</span>
<a id=__codelineno-117-14 name=__codelineno-117-14 href=#__codelineno-117-14></a>
<a id=__codelineno-117-15 name=__codelineno-117-15 href=#__codelineno-117-15></a>
<a id=__codelineno-117-16 name=__codelineno-117-16 href=#__codelineno-117-16></a>root@gdc-ci-base:/tmp#<span class=w> </span>./command-line-subcommands<span class=w> </span>bar<span class=w> </span>-enable<span class=w> </span>a1
<a id=__codelineno-117-17 name=__codelineno-117-17 href=#__codelineno-117-17></a>flag<span class=w> </span>provided<span class=w> </span>but<span class=w> </span>not<span class=w> </span>defined:<span class=w> </span>-enable
<a id=__codelineno-117-18 name=__codelineno-117-18 href=#__codelineno-117-18></a>Usage<span class=w> </span>of<span class=w> </span>bar:
<a id=__codelineno-117-19 name=__codelineno-117-19 href=#__codelineno-117-19></a><span class=w>  </span>-level<span class=w> </span>int
<a id=__codelineno-117-20 name=__codelineno-117-20 href=#__codelineno-117-20></a><span class=w>        </span>level
</code></pre></div> <h2 id=go-环境变量>Go 环境变量<a class=headerlink href=#go-环境变量 title="Permanent link">&para;</a></h2> <p>环境变量是一种很普遍的将配置信息传递给Unix程序的机制。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-118-1 name=__codelineno-118-1 href=#__codelineno-118-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-118-2 name=__codelineno-118-2 href=#__codelineno-118-2></a>
<a id=__codelineno-118-3 name=__codelineno-118-3 href=#__codelineno-118-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-118-4 name=__codelineno-118-4 href=#__codelineno-118-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;strings&quot;</span>
<a id=__codelineno-118-5 name=__codelineno-118-5 href=#__codelineno-118-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-118-6 name=__codelineno-118-6 href=#__codelineno-118-6></a>
<a id=__codelineno-118-7 name=__codelineno-118-7 href=#__codelineno-118-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-118-8 name=__codelineno-118-8 href=#__codelineno-118-8></a><span class=w>    </span><span class=c1>// 为了设置一个key/value对，使用`os.Setenv`</span>
<a id=__codelineno-118-9 name=__codelineno-118-9 href=#__codelineno-118-9></a><span class=w>    </span><span class=c1>// 为了获取一个key的value，使用`os.Getenv`</span>
<a id=__codelineno-118-10 name=__codelineno-118-10 href=#__codelineno-118-10></a><span class=w>    </span><span class=c1>// 如果所提供的key在环境变量中没有对应的value，</span>
<a id=__codelineno-118-11 name=__codelineno-118-11 href=#__codelineno-118-11></a><span class=w>    </span><span class=c1>// 那么返回空字符串</span>
<a id=__codelineno-118-12 name=__codelineno-118-12 href=#__codelineno-118-12></a><span class=w>    </span><span class=nx>os</span><span class=p>.</span><span class=nx>Setenv</span><span class=p>(</span><span class=s>&quot;FOO&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;1&quot;</span><span class=p>)</span>
<a id=__codelineno-118-13 name=__codelineno-118-13 href=#__codelineno-118-13></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Setenv</span><span class=p>(</span><span class=s>&quot;FOO&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;2&quot;</span><span class=p>)</span>
<a id=__codelineno-118-14 name=__codelineno-118-14 href=#__codelineno-118-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-118-15 name=__codelineno-118-15 href=#__codelineno-118-15></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;设置环境变量出错:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-118-16 name=__codelineno-118-16 href=#__codelineno-118-16></a><span class=w>        </span><span class=k>return</span>
<a id=__codelineno-118-17 name=__codelineno-118-17 href=#__codelineno-118-17></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-118-18 name=__codelineno-118-18 href=#__codelineno-118-18></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;FOO:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Getenv</span><span class=p>(</span><span class=s>&quot;FOO&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//FOO: 2</span>
<a id=__codelineno-118-19 name=__codelineno-118-19 href=#__codelineno-118-19></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;BAR:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Getenv</span><span class=p>(</span><span class=s>&quot;BAR&quot;</span><span class=p>))</span><span class=w> </span><span class=c1>//BAR:</span>
<a id=__codelineno-118-20 name=__codelineno-118-20 href=#__codelineno-118-20></a>
<a id=__codelineno-118-21 name=__codelineno-118-21 href=#__codelineno-118-21></a><span class=w>    </span><span class=c1>// 删除环境变量</span>
<a id=__codelineno-118-22 name=__codelineno-118-22 href=#__codelineno-118-22></a><span class=w>    </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Unsetenv</span><span class=p>(</span><span class=s>&quot;FOO&quot;</span><span class=p>)</span>
<a id=__codelineno-118-23 name=__codelineno-118-23 href=#__codelineno-118-23></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-118-24 name=__codelineno-118-24 href=#__codelineno-118-24></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;删除环境变量出错:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-118-25 name=__codelineno-118-25 href=#__codelineno-118-25></a><span class=w>        </span><span class=k>return</span>
<a id=__codelineno-118-26 name=__codelineno-118-26 href=#__codelineno-118-26></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-118-27 name=__codelineno-118-27 href=#__codelineno-118-27></a>
<a id=__codelineno-118-28 name=__codelineno-118-28 href=#__codelineno-118-28></a><span class=w>    </span><span class=c1>// 验证是否删除成功</span>
<a id=__codelineno-118-29 name=__codelineno-118-29 href=#__codelineno-118-29></a><span class=w>    </span><span class=nx>value</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Getenv</span><span class=p>(</span><span class=s>&quot;FOO&quot;</span><span class=p>)</span>
<a id=__codelineno-118-30 name=__codelineno-118-30 href=#__codelineno-118-30></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-118-31 name=__codelineno-118-31 href=#__codelineno-118-31></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;环境变量已成功删除&quot;</span><span class=p>)</span><span class=w> </span><span class=c1>//环境变量已成功删除</span>
<a id=__codelineno-118-32 name=__codelineno-118-32 href=#__codelineno-118-32></a><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-118-33 name=__codelineno-118-33 href=#__codelineno-118-33></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;环境变量删除失败&quot;</span><span class=p>)</span>
<a id=__codelineno-118-34 name=__codelineno-118-34 href=#__codelineno-118-34></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-118-35 name=__codelineno-118-35 href=#__codelineno-118-35></a>
<a id=__codelineno-118-36 name=__codelineno-118-36 href=#__codelineno-118-36></a><span class=w>    </span><span class=c1>// 使用`os.Environ`来列出环境变量中所有的key/value对</span>
<a id=__codelineno-118-37 name=__codelineno-118-37 href=#__codelineno-118-37></a><span class=w>    </span><span class=c1>// 你可以使用`strings.Split`方法来将key和value分开</span>
<a id=__codelineno-118-38 name=__codelineno-118-38 href=#__codelineno-118-38></a><span class=w>    </span><span class=c1>// 这里我们打印所有的key</span>
<a id=__codelineno-118-39 name=__codelineno-118-39 href=#__codelineno-118-39></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>()</span>
<a id=__codelineno-118-40 name=__codelineno-118-40 href=#__codelineno-118-40></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>e</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Environ</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-118-41 name=__codelineno-118-41 href=#__codelineno-118-41></a><span class=w>        </span><span class=nx>pair</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>Split</span><span class=p>(</span><span class=nx>e</span><span class=p>,</span><span class=w> </span><span class=s>&quot;=&quot;</span><span class=p>)</span>
<a id=__codelineno-118-42 name=__codelineno-118-42 href=#__codelineno-118-42></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>pair</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-118-43 name=__codelineno-118-43 href=#__codelineno-118-43></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-118-44 name=__codelineno-118-44 href=#__codelineno-118-44></a><span class=p>}</span>
</code></pre></div> <p>如果我们在运行前设置了 BAR 的值，那么运行程序将会获取到这个值。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-119-1 name=__codelineno-119-1 href=#__codelineno-119-1></a>$<span class=w> </span><span class=nv>BAR</span><span class=o>=</span><span class=m>2</span><span class=w> </span>go<span class=w> </span>run<span class=w> </span>environment-variables.go
<a id=__codelineno-119-2 name=__codelineno-119-2 href=#__codelineno-119-2></a>FOO:<span class=w> </span><span class=m>1</span>
<a id=__codelineno-119-3 name=__codelineno-119-3 href=#__codelineno-119-3></a>BAR:<span class=w> </span><span class=m>2</span>
<a id=__codelineno-119-4 name=__codelineno-119-4 href=#__codelineno-119-4></a><span class=c1># ...</span>
</code></pre></div> <h2 id=http-服务器>HTTP 服务器<a class=headerlink href=#http-服务器 title="Permanent link">&para;</a></h2> <p>使用 net/http 包，我们可以轻松实现一个简单的 HTTP 服务器。</p> <p><code>http-servers.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-120-1 name=__codelineno-120-1 href=#__codelineno-120-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-120-2 name=__codelineno-120-2 href=#__codelineno-120-2></a>
<a id=__codelineno-120-3 name=__codelineno-120-3 href=#__codelineno-120-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-120-4 name=__codelineno-120-4 href=#__codelineno-120-4></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-120-5 name=__codelineno-120-5 href=#__codelineno-120-5></a><span class=w>    </span><span class=s>&quot;net/http&quot;</span>
<a id=__codelineno-120-6 name=__codelineno-120-6 href=#__codelineno-120-6></a><span class=p>)</span>
<a id=__codelineno-120-7 name=__codelineno-120-7 href=#__codelineno-120-7></a>
<a id=__codelineno-120-8 name=__codelineno-120-8 href=#__codelineno-120-8></a><span class=c1>// *handlers* 是 `net/http` 服务器里面的一个基本概念。</span>
<a id=__codelineno-120-9 name=__codelineno-120-9 href=#__codelineno-120-9></a><span class=c1>// handler 对象实现了 `http.Handler` 接口。</span>
<a id=__codelineno-120-10 name=__codelineno-120-10 href=#__codelineno-120-10></a><span class=c1>// 编写 handler 的常见方法是，在具有适当签名的函数上使用 `http.HandlerFunc` 适配。</span>
<a id=__codelineno-120-11 name=__codelineno-120-11 href=#__codelineno-120-11></a><span class=kd>func</span><span class=w> </span><span class=nx>hello</span><span class=p>(</span><span class=nx>w</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>ResponseWriter</span><span class=p>,</span><span class=w> </span><span class=nx>req</span><span class=w> </span><span class=o>*</span><span class=nx>http</span><span class=p>.</span><span class=nx>Request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-120-12 name=__codelineno-120-12 href=#__codelineno-120-12></a>
<a id=__codelineno-120-13 name=__codelineno-120-13 href=#__codelineno-120-13></a><span class=w>    </span><span class=c1>// handler 函数有两个参数，`http.ResponseWriter` 和 `http.Request`。</span>
<a id=__codelineno-120-14 name=__codelineno-120-14 href=#__codelineno-120-14></a><span class=w>    </span><span class=c1>// response writer 被用于写入 HTTP 响应数据，这里我们简单的返回 &quot;hello\n&quot;。</span>
<a id=__codelineno-120-15 name=__codelineno-120-15 href=#__codelineno-120-15></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintf</span><span class=p>(</span><span class=nx>w</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hello\n&quot;</span><span class=p>)</span>
<a id=__codelineno-120-16 name=__codelineno-120-16 href=#__codelineno-120-16></a><span class=p>}</span>
<a id=__codelineno-120-17 name=__codelineno-120-17 href=#__codelineno-120-17></a>
<a id=__codelineno-120-18 name=__codelineno-120-18 href=#__codelineno-120-18></a><span class=kd>func</span><span class=w> </span><span class=nx>headers</span><span class=p>(</span><span class=nx>w</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>ResponseWriter</span><span class=p>,</span><span class=w> </span><span class=nx>req</span><span class=w> </span><span class=o>*</span><span class=nx>http</span><span class=p>.</span><span class=nx>Request</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-120-19 name=__codelineno-120-19 href=#__codelineno-120-19></a>
<a id=__codelineno-120-20 name=__codelineno-120-20 href=#__codelineno-120-20></a><span class=w>    </span><span class=c1>// 这个 handler 稍微复杂一点，</span>
<a id=__codelineno-120-21 name=__codelineno-120-21 href=#__codelineno-120-21></a><span class=w>    </span><span class=c1>// 我们需要读取的 HTTP 请求 header 中的所有内容，并将他们输出至 response body。</span>
<a id=__codelineno-120-22 name=__codelineno-120-22 href=#__codelineno-120-22></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>headers</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-120-23 name=__codelineno-120-23 href=#__codelineno-120-23></a><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>h</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>headers</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-120-24 name=__codelineno-120-24 href=#__codelineno-120-24></a><span class=w>            </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Fprintf</span><span class=p>(</span><span class=nx>w</span><span class=p>,</span><span class=w> </span><span class=s>&quot;%v: %v\n&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>name</span><span class=p>,</span><span class=w> </span><span class=nx>h</span><span class=p>)</span>
<a id=__codelineno-120-25 name=__codelineno-120-25 href=#__codelineno-120-25></a><span class=w>        </span><span class=p>}</span>
<a id=__codelineno-120-26 name=__codelineno-120-26 href=#__codelineno-120-26></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-120-27 name=__codelineno-120-27 href=#__codelineno-120-27></a><span class=p>}</span>
<a id=__codelineno-120-28 name=__codelineno-120-28 href=#__codelineno-120-28></a>
<a id=__codelineno-120-29 name=__codelineno-120-29 href=#__codelineno-120-29></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-120-30 name=__codelineno-120-30 href=#__codelineno-120-30></a>
<a id=__codelineno-120-31 name=__codelineno-120-31 href=#__codelineno-120-31></a><span class=w>    </span><span class=c1>// 使用 `http.HandleFunc` 函数，可以方便的将我们的 handler 注册到服务器路由。</span>
<a id=__codelineno-120-32 name=__codelineno-120-32 href=#__codelineno-120-32></a><span class=w>    </span><span class=c1>// 它是 `net/http` 包中的默认路由，接受一个函数作为参数。</span>
<a id=__codelineno-120-33 name=__codelineno-120-33 href=#__codelineno-120-33></a><span class=w>    </span><span class=nx>http</span><span class=p>.</span><span class=nx>HandleFunc</span><span class=p>(</span><span class=s>&quot;/hello&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>hello</span><span class=p>)</span>
<a id=__codelineno-120-34 name=__codelineno-120-34 href=#__codelineno-120-34></a><span class=w>    </span><span class=nx>http</span><span class=p>.</span><span class=nx>HandleFunc</span><span class=p>(</span><span class=s>&quot;/headers&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>headers</span><span class=p>)</span>
<a id=__codelineno-120-35 name=__codelineno-120-35 href=#__codelineno-120-35></a>
<a id=__codelineno-120-36 name=__codelineno-120-36 href=#__codelineno-120-36></a><span class=w>    </span><span class=c1>// 最后，我们用端口和处理程序调用 `ListenAndServe`。`nil` 告诉它使用我们刚刚设置的默认路由器。</span>
<a id=__codelineno-120-37 name=__codelineno-120-37 href=#__codelineno-120-37></a><span class=w>    </span><span class=nx>http</span><span class=p>.</span><span class=nx>ListenAndServe</span><span class=p>(</span><span class=s>&quot;:8090&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span>
<a id=__codelineno-120-38 name=__codelineno-120-38 href=#__codelineno-120-38></a><span class=p>}</span>
</code></pre></div> <p>后台运行服务器。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-121-1 name=__codelineno-121-1 href=#__codelineno-121-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>http-servers.go<span class=w> </span><span class=p>&amp;</span>
</code></pre></div> <p>访问 /hello 路由。 <div class=highlight><pre><span></span><code><a id=__codelineno-122-1 name=__codelineno-122-1 href=#__codelineno-122-1></a>$<span class=w> </span>curl<span class=w> </span>localhost:8090/hello
<a id=__codelineno-122-2 name=__codelineno-122-2 href=#__codelineno-122-2></a>hello
</code></pre></div></p> <h2 id=http-客户端>HTTP 客户端<a class=headerlink href=#http-客户端 title="Permanent link">&para;</a></h2> <p>Go 标准库的 net/http 包为 HTTP 客户端和服务端提供了出色的支持。 在这个例子中，我们将使用它发送简单的 HTTP 请求。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-123-1 name=__codelineno-123-1 href=#__codelineno-123-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-123-2 name=__codelineno-123-2 href=#__codelineno-123-2></a>
<a id=__codelineno-123-3 name=__codelineno-123-3 href=#__codelineno-123-3></a><span class=kn>import</span><span class=w> </span><span class=p>(</span>
<a id=__codelineno-123-4 name=__codelineno-123-4 href=#__codelineno-123-4></a><span class=w>    </span><span class=s>&quot;bufio&quot;</span>
<a id=__codelineno-123-5 name=__codelineno-123-5 href=#__codelineno-123-5></a><span class=w>    </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-123-6 name=__codelineno-123-6 href=#__codelineno-123-6></a><span class=w>    </span><span class=s>&quot;net/http&quot;</span>
<a id=__codelineno-123-7 name=__codelineno-123-7 href=#__codelineno-123-7></a><span class=p>)</span>
<a id=__codelineno-123-8 name=__codelineno-123-8 href=#__codelineno-123-8></a>
<a id=__codelineno-123-9 name=__codelineno-123-9 href=#__codelineno-123-9></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-123-10 name=__codelineno-123-10 href=#__codelineno-123-10></a>
<a id=__codelineno-123-11 name=__codelineno-123-11 href=#__codelineno-123-11></a><span class=w>    </span><span class=c1>// 向服务端发送一个 HTTP GET 请求。</span>
<a id=__codelineno-123-12 name=__codelineno-123-12 href=#__codelineno-123-12></a><span class=w>    </span><span class=c1>// `http.Get` 是创建 `http.Client` 对象并调用其 `Get` 方法的快捷方式。</span>
<a id=__codelineno-123-13 name=__codelineno-123-13 href=#__codelineno-123-13></a><span class=w>    </span><span class=c1>// 它使用了 `http.DefaultClient` 对象及其默认设置。</span>
<a id=__codelineno-123-14 name=__codelineno-123-14 href=#__codelineno-123-14></a><span class=w>    </span><span class=nx>resp</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>Get</span><span class=p>(</span><span class=s>&quot;http://gobyexample.com&quot;</span><span class=p>)</span>
<a id=__codelineno-123-15 name=__codelineno-123-15 href=#__codelineno-123-15></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-123-16 name=__codelineno-123-16 href=#__codelineno-123-16></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-123-17 name=__codelineno-123-17 href=#__codelineno-123-17></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-123-18 name=__codelineno-123-18 href=#__codelineno-123-18></a><span class=w>    </span><span class=k>defer</span><span class=w> </span><span class=nx>resp</span><span class=p>.</span><span class=nx>Body</span><span class=p>.</span><span class=nx>Close</span><span class=p>()</span>
<a id=__codelineno-123-19 name=__codelineno-123-19 href=#__codelineno-123-19></a>
<a id=__codelineno-123-20 name=__codelineno-123-20 href=#__codelineno-123-20></a><span class=w>    </span><span class=c1>// 打印 HTTP response 状态.</span>
<a id=__codelineno-123-21 name=__codelineno-123-21 href=#__codelineno-123-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;Response status:&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>resp</span><span class=p>.</span><span class=nx>Status</span><span class=p>)</span>
<a id=__codelineno-123-22 name=__codelineno-123-22 href=#__codelineno-123-22></a>
<a id=__codelineno-123-23 name=__codelineno-123-23 href=#__codelineno-123-23></a><span class=w>    </span><span class=c1>// 打印 response body 前面 5 行的内容。</span>
<a id=__codelineno-123-24 name=__codelineno-123-24 href=#__codelineno-123-24></a><span class=w>    </span><span class=nx>scanner</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>bufio</span><span class=p>.</span><span class=nx>NewScanner</span><span class=p>(</span><span class=nx>resp</span><span class=p>.</span><span class=nx>Body</span><span class=p>)</span>
<a id=__codelineno-123-25 name=__codelineno-123-25 href=#__codelineno-123-25></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=nx>scanner</span><span class=p>.</span><span class=nx>Scan</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=p>&lt;</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-123-26 name=__codelineno-123-26 href=#__codelineno-123-26></a><span class=w>        </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nx>scanner</span><span class=p>.</span><span class=nx>Text</span><span class=p>())</span>
<a id=__codelineno-123-27 name=__codelineno-123-27 href=#__codelineno-123-27></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-123-28 name=__codelineno-123-28 href=#__codelineno-123-28></a>
<a id=__codelineno-123-29 name=__codelineno-123-29 href=#__codelineno-123-29></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>scanner</span><span class=p>.</span><span class=nx>Err</span><span class=p>();</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-123-30 name=__codelineno-123-30 href=#__codelineno-123-30></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-123-31 name=__codelineno-123-31 href=#__codelineno-123-31></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-123-32 name=__codelineno-123-32 href=#__codelineno-123-32></a><span class=p>}</span>
</code></pre></div> <h2 id=go-生成进程>Go 生成进程<a class=headerlink href=#go-生成进程 title="Permanent link">&para;</a></h2> <p>有时，我们的 Go 程序需要生成其他的，非 Go 进程。例如，这个 网站的语法高亮是通过在 Go 程序中生成一个 pygmentize 来实现的。 让我们看一些关于 Go 生成进程的例子。</p> <p><code>spawning-processes.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-124-1 name=__codelineno-124-1 href=#__codelineno-124-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-124-2 name=__codelineno-124-2 href=#__codelineno-124-2></a>
<a id=__codelineno-124-3 name=__codelineno-124-3 href=#__codelineno-124-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;fmt&quot;</span>
<a id=__codelineno-124-4 name=__codelineno-124-4 href=#__codelineno-124-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;io/ioutil&quot;</span>
<a id=__codelineno-124-5 name=__codelineno-124-5 href=#__codelineno-124-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os/exec&quot;</span>
<a id=__codelineno-124-6 name=__codelineno-124-6 href=#__codelineno-124-6></a>
<a id=__codelineno-124-7 name=__codelineno-124-7 href=#__codelineno-124-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-124-8 name=__codelineno-124-8 href=#__codelineno-124-8></a>
<a id=__codelineno-124-9 name=__codelineno-124-9 href=#__codelineno-124-9></a><span class=w>    </span><span class=c1>// 我们将从一个简单的命令开始，没有参数或者输入，仅打印</span>
<a id=__codelineno-124-10 name=__codelineno-124-10 href=#__codelineno-124-10></a><span class=w>    </span><span class=c1>// 一些信息到标准输出流。`exec.Command` 函数帮助我们创</span>
<a id=__codelineno-124-11 name=__codelineno-124-11 href=#__codelineno-124-11></a><span class=w>    </span><span class=c1>// 建一个表示这个外部进程的对象。</span>
<a id=__codelineno-124-12 name=__codelineno-124-12 href=#__codelineno-124-12></a><span class=w>    </span><span class=nx>dateCmd</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>exec</span><span class=p>.</span><span class=nx>Command</span><span class=p>(</span><span class=s>&quot;date&quot;</span><span class=p>)</span>
<a id=__codelineno-124-13 name=__codelineno-124-13 href=#__codelineno-124-13></a>
<a id=__codelineno-124-14 name=__codelineno-124-14 href=#__codelineno-124-14></a><span class=w>    </span><span class=c1>// `.Output` 是另一个帮助我们处理运行一个命令的常见情况</span>
<a id=__codelineno-124-15 name=__codelineno-124-15 href=#__codelineno-124-15></a><span class=w>    </span><span class=c1>// 的函数，它等待命令运行完成，并收集命令的输出。如果没</span>
<a id=__codelineno-124-16 name=__codelineno-124-16 href=#__codelineno-124-16></a><span class=w>    </span><span class=c1>// 有出错，`dateOut` 将获取到日期信息的字节。</span>
<a id=__codelineno-124-17 name=__codelineno-124-17 href=#__codelineno-124-17></a><span class=w>    </span><span class=nx>dateOut</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>dateCmd</span><span class=p>.</span><span class=nx>Output</span><span class=p>()</span>
<a id=__codelineno-124-18 name=__codelineno-124-18 href=#__codelineno-124-18></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-124-19 name=__codelineno-124-19 href=#__codelineno-124-19></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-124-20 name=__codelineno-124-20 href=#__codelineno-124-20></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-124-21 name=__codelineno-124-21 href=#__codelineno-124-21></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;&gt; date&quot;</span><span class=p>)</span>
<a id=__codelineno-124-22 name=__codelineno-124-22 href=#__codelineno-124-22></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>dateOut</span><span class=p>))</span>
<a id=__codelineno-124-23 name=__codelineno-124-23 href=#__codelineno-124-23></a>
<a id=__codelineno-124-24 name=__codelineno-124-24 href=#__codelineno-124-24></a><span class=w>    </span><span class=c1>// 下面我们将看看一个稍复杂的例子，我们将从外部进程的</span>
<a id=__codelineno-124-25 name=__codelineno-124-25 href=#__codelineno-124-25></a><span class=w>    </span><span class=c1>// `stdin` 输入数据并从 `stdout` 收集结果。</span>
<a id=__codelineno-124-26 name=__codelineno-124-26 href=#__codelineno-124-26></a><span class=w>    </span><span class=nx>grepCmd</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>exec</span><span class=p>.</span><span class=nx>Command</span><span class=p>(</span><span class=s>&quot;grep&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;hello&quot;</span><span class=p>)</span>
<a id=__codelineno-124-27 name=__codelineno-124-27 href=#__codelineno-124-27></a>
<a id=__codelineno-124-28 name=__codelineno-124-28 href=#__codelineno-124-28></a><span class=w>    </span><span class=c1>// 这里我们明确的获取输入/输出管道，运行这个进程，写入</span>
<a id=__codelineno-124-29 name=__codelineno-124-29 href=#__codelineno-124-29></a><span class=w>    </span><span class=c1>// 一些输入信息，读取输出的结果，最后等待程序运行结束。</span>
<a id=__codelineno-124-30 name=__codelineno-124-30 href=#__codelineno-124-30></a><span class=w>    </span><span class=nx>grepIn</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>grepCmd</span><span class=p>.</span><span class=nx>StdinPipe</span><span class=p>()</span>
<a id=__codelineno-124-31 name=__codelineno-124-31 href=#__codelineno-124-31></a><span class=w>    </span><span class=nx>grepOut</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>grepCmd</span><span class=p>.</span><span class=nx>StdoutPipe</span><span class=p>()</span>
<a id=__codelineno-124-32 name=__codelineno-124-32 href=#__codelineno-124-32></a><span class=w>    </span><span class=nx>grepCmd</span><span class=p>.</span><span class=nx>Start</span><span class=p>()</span>
<a id=__codelineno-124-33 name=__codelineno-124-33 href=#__codelineno-124-33></a><span class=w>    </span><span class=nx>grepIn</span><span class=p>.</span><span class=nx>Write</span><span class=p>([]</span><span class=nb>byte</span><span class=p>(</span><span class=s>&quot;hello grep\ngoodbye grep&quot;</span><span class=p>))</span>
<a id=__codelineno-124-34 name=__codelineno-124-34 href=#__codelineno-124-34></a><span class=w>    </span><span class=nx>grepIn</span><span class=p>.</span><span class=nx>Close</span><span class=p>()</span>
<a id=__codelineno-124-35 name=__codelineno-124-35 href=#__codelineno-124-35></a><span class=w>    </span><span class=nx>grepBytes</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>ioutil</span><span class=p>.</span><span class=nx>ReadAll</span><span class=p>(</span><span class=nx>grepOut</span><span class=p>)</span>
<a id=__codelineno-124-36 name=__codelineno-124-36 href=#__codelineno-124-36></a><span class=w>    </span><span class=nx>grepCmd</span><span class=p>.</span><span class=nx>Wait</span><span class=p>()</span>
<a id=__codelineno-124-37 name=__codelineno-124-37 href=#__codelineno-124-37></a>
<a id=__codelineno-124-38 name=__codelineno-124-38 href=#__codelineno-124-38></a><span class=w>    </span><span class=c1>// 上面的例子中，我们忽略了错误检测，但是你可以使用</span>
<a id=__codelineno-124-39 name=__codelineno-124-39 href=#__codelineno-124-39></a><span class=w>    </span><span class=c1>// `if err != nil` 的方式来进行错误检查，我们也只收集</span>
<a id=__codelineno-124-40 name=__codelineno-124-40 href=#__codelineno-124-40></a><span class=w>    </span><span class=c1>// `StdoutPipe` 的结果，但是你可以使用相同的方法收集</span>
<a id=__codelineno-124-41 name=__codelineno-124-41 href=#__codelineno-124-41></a><span class=w>    </span><span class=c1>// `StderrPipe` 的结果。</span>
<a id=__codelineno-124-42 name=__codelineno-124-42 href=#__codelineno-124-42></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;&gt; grep hello&quot;</span><span class=p>)</span>
<a id=__codelineno-124-43 name=__codelineno-124-43 href=#__codelineno-124-43></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>grepBytes</span><span class=p>))</span>
<a id=__codelineno-124-44 name=__codelineno-124-44 href=#__codelineno-124-44></a>
<a id=__codelineno-124-45 name=__codelineno-124-45 href=#__codelineno-124-45></a><span class=w>    </span><span class=c1>// 注意，在生成命令时，我们需要提供显式描述的命令和参数</span>
<a id=__codelineno-124-46 name=__codelineno-124-46 href=#__codelineno-124-46></a><span class=w>    </span><span class=c1>// 数组，而不能只传递一个命令行字符串。如果你想使用一个</span>
<a id=__codelineno-124-47 name=__codelineno-124-47 href=#__codelineno-124-47></a><span class=w>    </span><span class=c1>// 字符串生成一个完整的命令，那么你可以使用 `bash` 命令</span>
<a id=__codelineno-124-48 name=__codelineno-124-48 href=#__codelineno-124-48></a><span class=w>    </span><span class=c1>// 的 `-c` 选项：</span>
<a id=__codelineno-124-49 name=__codelineno-124-49 href=#__codelineno-124-49></a><span class=w>    </span><span class=nx>lsCmd</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>exec</span><span class=p>.</span><span class=nx>Command</span><span class=p>(</span><span class=s>&quot;bash&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;-c&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;ls -a -l -h&quot;</span><span class=p>)</span>
<a id=__codelineno-124-50 name=__codelineno-124-50 href=#__codelineno-124-50></a><span class=w>    </span><span class=nx>lsOut</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>lsCmd</span><span class=p>.</span><span class=nx>Output</span><span class=p>()</span>
<a id=__codelineno-124-51 name=__codelineno-124-51 href=#__codelineno-124-51></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-124-52 name=__codelineno-124-52 href=#__codelineno-124-52></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-124-53 name=__codelineno-124-53 href=#__codelineno-124-53></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-124-54 name=__codelineno-124-54 href=#__codelineno-124-54></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=s>&quot;&gt; ls -a -l -h&quot;</span><span class=p>)</span>
<a id=__codelineno-124-55 name=__codelineno-124-55 href=#__codelineno-124-55></a><span class=w>    </span><span class=nx>fmt</span><span class=p>.</span><span class=nx>Println</span><span class=p>(</span><span class=nb>string</span><span class=p>(</span><span class=nx>lsOut</span><span class=p>))</span>
<a id=__codelineno-124-56 name=__codelineno-124-56 href=#__codelineno-124-56></a><span class=p>}</span>
</code></pre></div> <h2 id=go-执行进程>Go 执行进程<a class=headerlink href=#go-执行进程 title="Permanent link">&para;</a></h2> <p>在前面的例子中，我们了解了生成外部进程的知识，当我们需要访问外部进程时需要这样做，但是有时候，我们只想用其他的（也许是非 Go 程序）来完全替代当前的 Go 进程。</p> <p>这时候，我们 可以使用经典的 exec 方法的 Go 实现。</p> <p><code>execing-processes.go</code></p> <div class=highlight><pre><span></span><code><a id=__codelineno-125-1 name=__codelineno-125-1 href=#__codelineno-125-1></a><span class=kn>package</span><span class=w> </span><span class=nx>main</span>
<a id=__codelineno-125-2 name=__codelineno-125-2 href=#__codelineno-125-2></a>
<a id=__codelineno-125-3 name=__codelineno-125-3 href=#__codelineno-125-3></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;syscall&quot;</span>
<a id=__codelineno-125-4 name=__codelineno-125-4 href=#__codelineno-125-4></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os&quot;</span>
<a id=__codelineno-125-5 name=__codelineno-125-5 href=#__codelineno-125-5></a><span class=kn>import</span><span class=w> </span><span class=s>&quot;os/exec&quot;</span>
<a id=__codelineno-125-6 name=__codelineno-125-6 href=#__codelineno-125-6></a>
<a id=__codelineno-125-7 name=__codelineno-125-7 href=#__codelineno-125-7></a><span class=kd>func</span><span class=w> </span><span class=nx>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-125-8 name=__codelineno-125-8 href=#__codelineno-125-8></a>
<a id=__codelineno-125-9 name=__codelineno-125-9 href=#__codelineno-125-9></a><span class=w>    </span><span class=c1>// 在我们的例子中，我们将执行 `ls` 命令。Go 需要提供我们需要执行的可执行文件的绝对路径，所以我们将使用 `exec.LookPath` 来得到它（大概是 `/bin/ls`）。</span>
<a id=__codelineno-125-10 name=__codelineno-125-10 href=#__codelineno-125-10></a><span class=w>    </span><span class=nx>binary</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>exec</span><span class=p>.</span><span class=nx>LookPath</span><span class=p>(</span><span class=s>&quot;ls&quot;</span><span class=p>)</span>
<a id=__codelineno-125-11 name=__codelineno-125-11 href=#__codelineno-125-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-125-12 name=__codelineno-125-12 href=#__codelineno-125-12></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
<a id=__codelineno-125-13 name=__codelineno-125-13 href=#__codelineno-125-13></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-125-14 name=__codelineno-125-14 href=#__codelineno-125-14></a>
<a id=__codelineno-125-15 name=__codelineno-125-15 href=#__codelineno-125-15></a><span class=w>    </span><span class=c1>// `Exec` 需要的参数是切片的形式的（不是放在一起的一个大字 符串）。我们给 `ls` 一些基本的参数。注意，第一个参数需要是程序名。</span>
<a id=__codelineno-125-16 name=__codelineno-125-16 href=#__codelineno-125-16></a><span class=w>    </span><span class=nx>args</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&quot;ls&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;-a&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;-l&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;-h&quot;</span><span class=p>}</span>
<a id=__codelineno-125-17 name=__codelineno-125-17 href=#__codelineno-125-17></a>
<a id=__codelineno-125-18 name=__codelineno-125-18 href=#__codelineno-125-18></a><span class=w>    </span><span class=nx>env</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Environ</span><span class=p>()</span>
<a id=__codelineno-125-19 name=__codelineno-125-19 href=#__codelineno-125-19></a>
<a id=__codelineno-125-20 name=__codelineno-125-20 href=#__codelineno-125-20></a><span class=w>    </span><span class=c1>// 这里是 `syscall.Exec` 调用。如果这个调用成功，那么我们的 进程将在这里被替换成 `/bin/ls -a -l -h` 进程。如果存 在错误，那么我们将会得到一个返回值。</span>
<a id=__codelineno-125-21 name=__codelineno-125-21 href=#__codelineno-125-21></a><span class=w>    </span><span class=nx>execErr</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>syscall</span><span class=p>.</span><span class=nx>Exec</span><span class=p>(</span><span class=nx>binary</span><span class=p>,</span><span class=w> </span><span class=nx>args</span><span class=p>,</span><span class=w> </span><span class=nx>env</span><span class=p>)</span>
<a id=__codelineno-125-22 name=__codelineno-125-22 href=#__codelineno-125-22></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>execErr</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span>
<a id=__codelineno-125-23 name=__codelineno-125-23 href=#__codelineno-125-23></a><span class=w>        </span><span class=nb>panic</span><span class=p>(</span><span class=nx>execErr</span><span class=p>)</span>
<a id=__codelineno-125-24 name=__codelineno-125-24 href=#__codelineno-125-24></a><span class=w>    </span><span class=p>}</span>
<a id=__codelineno-125-25 name=__codelineno-125-25 href=#__codelineno-125-25></a><span class=p>}</span>
</code></pre></div> <p>当我们运行程序时，它会替换为 ls。 <div class=highlight><pre><span></span><code><a id=__codelineno-126-1 name=__codelineno-126-1 href=#__codelineno-126-1></a>$<span class=w> </span>go<span class=w> </span>run<span class=w> </span>execing-processes.go
<a id=__codelineno-126-2 name=__codelineno-126-2 href=#__codelineno-126-2></a>total<span class=w> </span><span class=m>16</span>
<a id=__codelineno-126-3 name=__codelineno-126-3 href=#__codelineno-126-3></a>drwxr-xr-x<span class=w>  </span><span class=m>4</span><span class=w> </span>mark<span class=w> </span>136B<span class=w> </span>Oct<span class=w> </span><span class=m>3</span><span class=w> </span><span class=m>16</span>:29<span class=w> </span>.
<a id=__codelineno-126-4 name=__codelineno-126-4 href=#__codelineno-126-4></a>drwxr-xr-x<span class=w> </span><span class=m>91</span><span class=w> </span>mark<span class=w> </span><span class=m>3</span>.0K<span class=w> </span>Oct<span class=w> </span><span class=m>3</span><span class=w> </span><span class=m>12</span>:50<span class=w> </span>..
<a id=__codelineno-126-5 name=__codelineno-126-5 href=#__codelineno-126-5></a>-rw-r--r--<span class=w>  </span><span class=m>1</span><span class=w> </span>mark<span class=w> </span><span class=m>1</span>.3K<span class=w> </span>Oct<span class=w> </span><span class=m>3</span><span class=w> </span><span class=m>16</span>:28<span class=w> </span>execing-processes.go
</code></pre></div></p> <p>注意 Go 并不提供一个经典的 Unix fork 函数。通常这不 是个问题，因为运行 Go 协程，生成进程和执行进程覆盖了 fork 的大多数使用场景。</p> <h2 id=go-常用包>Go 常用包<a class=headerlink href=#go-常用包 title="Permanent link">&para;</a></h2> <p><a href=https://www.lynote.top/2022/10/24/golang/go_%E5%B8%B8%E7%94%A8%E5%8C%85/go_%E5%B8%B8%E7%94%A8%E5%8C%85>Go 常用包</a></p> <h2 id=go常用示例代码片段>Go常用示例代码片段<a class=headerlink href=#go常用示例代码片段 title="Permanent link">&para;</a></h2> <p><a href=https://fz1lin.com/2023/3397475585/ >Go常用示例代码片段</a></p> <h2 id=go语言学习目录>Go语言学习目录<a class=headerlink href=#go语言学习目录 title="Permanent link">&para;</a></h2> <p><a href=https://blog.51cto.com/devwanghui/2508878>Go语言学习目录</a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title=最后更新> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">May 27, 2024 18:13:25</span> </span> <span class=md-source-file__fact> <span class=md-icon title=创建日期> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">February 1, 2024 18:04:35</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/hujianli94/hujianli94.github.io/issues/new/?title=[Feedback]+Go%20By%20Example+-+/Python-vs-Go/1.%E5%AF%B9%E6%AF%94/26.go-example/" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../25.python-example/ class="md-footer__link md-footer__link--prev" aria-label="上一页: Python By Example"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> Python By Example </div> </div> </a> <a href=../../2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class="md-footer__link md-footer__link--next" aria-label="下一页: 使用RPC"> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> 使用RPC </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 hujainli94 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hujianli94 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com/blog_img/20220125122524.png target=_blank rel=noopener title=kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href="mailto:<1879324764@qq.com>" target=_blank rel=noopener title=发送邮件 class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "navigation.indexes", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.471ce7a9.min.js></script> <script src=../../../javascripts/extra.js></script> <script src=https://file.cdn.shafish.cn/blog/js/video.min.js></script> </body> </html>