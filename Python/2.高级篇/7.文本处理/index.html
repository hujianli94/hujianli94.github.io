<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="stay hungry,stay foolish"><meta name=author content=hujainli94><link href=https://hujianli94.github.io/Python/2.%E9%AB%98%E7%BA%A7%E7%AF%87/7.%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/ rel=canonical><link href=../6.%E6%89%93%E9%80%A0%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ rel=prev><link href=../8.Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.2, mkdocs-material-9.2.5"><title>7.文本处理 - DevOps运维开发</title><link rel=stylesheet href=../../../assets/stylesheets/main.0e669242.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.85d0ee34.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/vssue.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video-js.min.css><link rel=stylesheet href=https://file.cdn.shafish.cn/blog/css/video.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","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"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","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",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=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",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#7文本处理 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title=DevOps运维开发 class="md-header__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DevOps运维开发 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 7.文本处理 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label=切换至深色模式 type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=切换至深色模式 for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label=切换至浅色模式 type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title=切换至浅色模式 for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> 首页 </a> </li> <li class=md-tabs__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-tabs__link> Kubernetes </a> </li> <li class=md-tabs__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-tabs__link> Golang </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-tabs__link> Python-vs-Go </a> </li> <li class=md-tabs__item> <a href=../../../Linux/shell/Shell%E7%AE%80%E4%BB%8B/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../Other/tools/1.PicGo%E5%9B%BE%E5%BA%8A/ class=md-tabs__link> Other </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=DevOps运维开发 class="md-nav__button md-logo" aria-label=DevOps运维开发 data-md-component=logo> <img src=../../../assets/images/logo.png alt=logo> </a> DevOps运维开发 </label> <div class=md-nav__source> <a href=https://github.com/hujianli94/hujianli94.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hujianli94.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Kubernetes/ class=md-nav__link> <span class=md-ellipsis> Kubernetes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> 1.安装篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 1.安装篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/1.Kubeadm%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> <span class=md-ellipsis> Kubeadm安装高可用集群 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/2.%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8K8s%E9%9B%86%E7%BE%A4/ class=md-nav__link> <span class=md-ellipsis> 二进制安装高可用K8s集群 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/1.%E5%AE%89%E8%A3%85%E7%AF%87/3.%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 安装常用工具 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> 2.基础篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> 2.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Docker%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Docker基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Kubernetes%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=md-nav__link> <span class=md-ellipsis> Kubernetes的基础概念 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Kubernetes%E8%B0%83%E5%BA%A6%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Kubernetes调度基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Kubernetes%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> Kubernetes服务发布基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/2.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Kubernetes%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> Kubernetes配置管理 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> 3.进阶篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> 3.进阶篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/8.Kubernetes%E5%AD%98%E5%82%A8%E5%85%A5%E9%97%A8/ class=md-nav__link> <span class=md-ellipsis> Kubernetes存储入门 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/3.%E8%BF%9B%E9%98%B6%E7%AF%87/9.Kubernetes%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6/ class=md-nav__link> <span class=md-ellipsis> Kubernetes高级调度 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> 4.高级篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> 4.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/12.%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AD%98%E5%82%A8Rook/ class=md-nav__link> <span class=md-ellipsis> 云原生存储Rook </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/4.%E9%AB%98%E7%BA%A7%E7%AF%87/13.%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%B9%E5%99%A8%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 中间件容器化 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class=md-ellipsis> 5.运维篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> 5.运维篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/14.Kubernetes%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/ class=md-nav__link> <span class=md-ellipsis> Kubernetes日志收集 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/15.Kubernetes%E7%9B%91%E6%8E%A7%E5%91%8A%E8%AD%A6/ class=md-nav__link> <span class=md-ellipsis> Kubernetes监控告警 </span> </a> </li> <li class=md-nav__item> <a href=../../../Kubernetes/5.%E8%BF%90%E7%BB%B4%E7%AF%87/16.%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83Ingress%E8%BF%9B%E9%98%B6/ class=md-nav__link> <span class=md-ellipsis> 服务发布Ingress进阶 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex=0> <span class=md-ellipsis> 6.DevOps篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> 6.DevOps篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Kubernetes/6.DevOps%E7%AF%87/17.DevOps%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> DevOps实践 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> 1.基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> 1.基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Docker/ class=md-nav__link> <span class=md-ellipsis> 1.安装Docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/2.Docker%E9%95%9C%E5%83%8F/ class=md-nav__link> <span class=md-ellipsis> 2.Docker镜像 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/3.Docker%E5%AE%B9%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 3.Docker容器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/4.%E4%BC%81%E4%B8%9A%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93harbor/ class=md-nav__link> <span class=md-ellipsis> 4.企业私有仓库harbor </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/5.Docker%E6%95%B0%E6%8D%AE/ class=md-nav__link> <span class=md-ellipsis> 5.Docker数据 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/6.Docker%E7%BD%91%E7%BB%9C/ class=md-nav__link> <span class=md-ellipsis> 6.Docker网络 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/7.Dockerfile/ class=md-nav__link> <span class=md-ellipsis> 7.Dockerfile </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/8.docker-compose/ class=md-nav__link> <span class=md-ellipsis> 8.docker-compose </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/9.Docker%E7%9B%B8%E5%85%B3%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 9.Docker相关脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/1.%E5%9F%BA%E7%A1%80/10.Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 10.Docker常用命令 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> 2.实战案例 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> 2.实战案例 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/1.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class=md-nav__link> <span class=md-ellipsis> 1.操作系统 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/2.Web%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 2.Web服务与应用 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/3.%E6%8C%81%E7%BB%AD%E5%BC%80%E5%8F%91%E4%B8%8E%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.持续开发与管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/2.%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B/4.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> 4.数据库应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> 3.Devops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> 3.Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Docker/3.Devops/1.confcenter-docker/ class=md-nav__link> <span class=md-ellipsis> 1.confcenter-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/2.simaple-jenkins/ class=md-nav__link> <span class=md-ellipsis> 2.simaple-jenkins </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/3.docker-nginx-spa/ class=md-nav__link> <span class=md-ellipsis> 3.docker-nginx-spa </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/4.fileserver-docker/ class=md-nav__link> <span class=md-ellipsis> 4.fileserver-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/5.haproxy-docker/ class=md-nav__link> <span class=md-ellipsis> 5.haproxy-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/6.mysql-docker/ class=md-nav__link> <span class=md-ellipsis> 6.mysql-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/7.frp-docker/ class=md-nav__link> <span class=md-ellipsis> 7.frp-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/8.coredns-docker/ class=md-nav__link> <span class=md-ellipsis> 8.coredns-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/9.simple-harbor/ class=md-nav__link> <span class=md-ellipsis> 9.simple-harbor </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/10.redis-docker/ class=md-nav__link> <span class=md-ellipsis> 10.redis-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/11.nexus3-docker/ class=md-nav__link> <span class=md-ellipsis> 11.nexus3-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/12.openvpn-docker/ class=md-nav__link> <span class=md-ellipsis> 12.openvpn-docker.md </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/13.nfs-docker/ class=md-nav__link> <span class=md-ellipsis> 13.nfs-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/14.jumpserver-docker/ class=md-nav__link> <span class=md-ellipsis> 14.jumpserver-docker.md </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/15.ansible-docker/ class=md-nav__link> <span class=md-ellipsis> 15.ansible-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/16.minio-docker/ class=md-nav__link> <span class=md-ellipsis> 16.minio-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/17.vaultwarden-docker/ class=md-nav__link> <span class=md-ellipsis> 17.vaultwarden-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/18.kasm-docker/ class=md-nav__link> <span class=md-ellipsis> 18.kasm-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/19.nginx-docker/ class=md-nav__link> <span class=md-ellipsis> 19.nginx-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/20.kafka-docker/ class=md-nav__link> <span class=md-ellipsis> 20.kafka-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/21.golang-docker/ class=md-nav__link> <span class=md-ellipsis> 21.golang-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/22.postgres-docker/ class=md-nav__link> <span class=md-ellipsis> 22.postgres-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/23.nginx-download-docker/ class=md-nav__link> <span class=md-ellipsis> 23.nginx-download-docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/24.helm%E9%83%A8%E7%BD%B2%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> 24.helm部署常用服务 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/25.Python%E6%93%8D%E4%BD%9CDocker/ class=md-nav__link> <span class=md-ellipsis> 25.Python操作Docker </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/26.docker-compose-devops/ class=md-nav__link> <span class=md-ellipsis> 26.docker-compose-devops </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/27.DevOps%E4%B8%8B%E7%9A%84Shell%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 27.DevOps下的Shell脚本 </span> </a> </li> <li class=md-nav__item> <a href=../../../Docker/3.Devops/28.Devops%E4%B8%8B%E7%9A%84Python%E8%84%9A%E6%9C%AC/ class=md-nav__link> <span class=md-ellipsis> 28.Devops下的Python脚本 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Golang </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Golang </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Go-Web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/ class=md-nav__link> <span class=md-ellipsis> Go Web开发实战 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> 1.Go基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> 1.Go基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/1.%E5%AE%89%E8%A3%85Go/ class=md-nav__link> <span class=md-ellipsis> 安装Go </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/2.%E7%AC%AC%E4%B8%80%E4%B8%AAGo%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 第一个Go程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/3.Go%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> Go基础语法 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/1.Go%E5%9F%BA%E7%A1%80/4.Go-Module/ class=md-nav__link> <span class=md-ellipsis> Go Module </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> 2.Go-Web基础 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> 2.Go-Web基础 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/5.%E7%AC%AC%E4%B8%80%E4%B8%AAGo-Web%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 第一个Go Web程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/6.Web%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> Web程序运行原理简介 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/7.net-http%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> net/http包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/2.Go-Web%E5%9F%BA%E7%A1%80/8.html-template%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> html/template包 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> 3.Go-Web请求处理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> 3.Go-Web请求处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/9.%E7%AE%80%E5%8D%95Web%E6%9C%8D%E5%8A%A1%E5%99%A8/ class=md-nav__link> <span class=md-ellipsis> 简单Web服务器 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/10.%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82/ class=md-nav__link> <span class=md-ellipsis> 处理请求 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/3.Go-Web%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/11.session%E5%92%8Ccookie/ class=md-nav__link> <span class=md-ellipsis> session和cookie </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> 4.Go访问数据库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> 4.Go访问数据库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/12.Go%E6%93%8D%E4%BD%9CMySQL/ class=md-nav__link> <span class=md-ellipsis> Go操作MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/13.Go%E6%93%8D%E4%BD%9CRedis/ class=md-nav__link> <span class=md-ellipsis> Go操作Redis </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/14.Go%E6%93%8D%E4%BD%9CMongoDB/ class=md-nav__link> <span class=md-ellipsis> Go操作MongoDB </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/15.Go%E7%9A%84%E5%B8%B8%E8%A7%81ORM%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> Go的常见ORM库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/4.Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/16.Go%E6%93%8D%E4%BD%9CSQLite/ class=md-nav__link> <span class=md-ellipsis> Go操作SQLite </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> 5.Go高级网络编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> 5.Go高级网络编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/17.Go-Socket%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> Go Socket编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/18.Go-RPC%E7%BC%96%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> Go RPC编程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/19.Go-%E5%BE%AE%E6%9C%8D%E5%8A%A1/ class=md-nav__link> <span class=md-ellipsis> Go 微服务 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> <span class=md-ellipsis> 6.Go文件处理 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> 6.Go文件处理 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/20.%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理目录与文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/21.%E5%A4%84%E7%90%86XML%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理XML文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/22.%E5%A4%84%E7%90%86JSON%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理JSON文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/23.%E5%A4%84%E7%90%86CSV%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理CSV文件 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/24.%E5%A4%84%E7%90%86Go%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95/ class=md-nav__link> <span class=md-ellipsis> 处理Go日志记录 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/25.%E5%A4%84%E7%90%86%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 处理正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/6.Go%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/26.%E5%A4%84%E7%90%86Excel%E6%96%87%E4%BB%B6/ class=md-nav__link> <span class=md-ellipsis> 处理Excel文件 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> <span class=md-ellipsis> 7.Go并发编程 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> 7.Go并发编程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/26.%E5%B9%B6%E5%8F%91-%E5%B9%B6%E8%A1%8C/ class=md-nav__link> <span class=md-ellipsis> 并发 并行 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/27.%E8%BF%9B%E7%A8%8B-%E7%BA%BF%E7%A8%8B-%E5%8D%8F%E7%A8%8B/ class=md-nav__link> <span class=md-ellipsis> 进程 线程 协程 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/28.Go%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/ class=md-nav__link> <span class=md-ellipsis> Go并发模型 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/29.goroutine%E5%92%8Cchannel/ class=md-nav__link> <span class=md-ellipsis> goroutine和channel </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/30.sync%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> sync实现并发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/31.Go%E5%B9%B6%E5%8F%91%E7%9A%84Web%E5%BA%94%E7%94%A8/ class=md-nav__link> <span class=md-ellipsis> Go并发的Web应用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_9> <label class=md-nav__link for=__nav_4_9 id=__nav_4_9_label tabindex=0> <span class=md-ellipsis> 8.Go标准库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_9_label aria-expanded=false> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> 8.Go标准库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/32.time/ class=md-nav__link> <span class=md-ellipsis> time </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/33.strings/ class=md-nav__link> <span class=md-ellipsis> strings </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/34.bytes/ class=md-nav__link> <span class=md-ellipsis> bytes </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/35.json/ class=md-nav__link> <span class=md-ellipsis> json </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/36.io-bufio/ class=md-nav__link> <span class=md-ellipsis> io/bufio </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/37.fmt/ class=md-nav__link> <span class=md-ellipsis> fmt </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/38.strconv/ class=md-nav__link> <span class=md-ellipsis> strconv </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/39.regexp/ class=md-nav__link> <span class=md-ellipsis> regexp </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/40.log/ class=md-nav__link> <span class=md-ellipsis> log </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/41.reflect-unsafe/ class=md-nav__link> <span class=md-ellipsis> reflect/unsafe </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/42.os-path-filepath/ class=md-nav__link> <span class=md-ellipsis> os/path/filepath </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/43.unicode/ class=md-nav__link> <span class=md-ellipsis> unicode </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/44.flag/ class=md-nav__link> <span class=md-ellipsis> flag </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/45.net-url/ class=md-nav__link> <span class=md-ellipsis> net/url </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/46.net-http/ class=md-nav__link> <span class=md-ellipsis> net/http </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/47.sort/ class=md-nav__link> <span class=md-ellipsis> sort </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/8.Go%E6%A0%87%E5%87%86%E5%BA%93/48.errors/ class=md-nav__link> <span class=md-ellipsis> errors </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_10> <label class=md-nav__link for=__nav_4_10 id=__nav_4_10_label tabindex=0> <span class=md-ellipsis> 9.Go三方库 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_10_label aria-expanded=false> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> 9.Go三方库 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/0.%E5%BC%80%E6%BA%90%E8%87%AA%E5%B7%B1%E7%9A%84Go%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 开源自己的Go库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/1.cobra/ class=md-nav__link> <span class=md-ellipsis> Cobra </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/2.viper/ class=md-nav__link> <span class=md-ellipsis> Viper </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/3.mahonia/ class=md-nav__link> <span class=md-ellipsis> mahonia </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/4.ssh/ class=md-nav__link> <span class=md-ellipsis> ssh </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/5.fsnotify/ class=md-nav__link> <span class=md-ellipsis> fsnotify </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/6.yaml/ class=md-nav__link> <span class=md-ellipsis> yaml </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/7.tail/ class=md-nav__link> <span class=md-ellipsis> tail </span> </a> </li> <li class=md-nav__item> <a href=../../../Golang/9.Go%E4%B8%89%E6%96%B9%E5%BA%93/8.gopsutil/ class=md-nav__link> <span class=md-ellipsis> gopsutil </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Pythjon-auto-ops/ class=md-nav__link> <span class=md-ellipsis> Python Linux管理与自动化运维 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> 1.基础篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> 1.基础篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/1.Python%E7%94%9F%E6%80%81%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 1.Python生态工具 </span> </a> </li> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/2.Python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%AE%89%E8%A3%85/ class=md-nav__link> <span class=md-ellipsis> 2.Python第三方库安装 </span> </a> </li> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/3.Python%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.Python工作环境管理 </span> </a> </li> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/4.Python%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/ class=md-nav__link> <span class=md-ellipsis> 4.Python开发环境 </span> </a> </li> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/5.Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 5.Python数据结构 </span> </a> </li> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/6.Python%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/ class=md-nav__link> <span class=md-ellipsis> 6.Python项目的组织结构 </span> </a> </li> <li class=md-nav__item> <a href=../../1.%E5%9F%BA%E7%A1%80%E7%AF%87/7.Python%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 7.Python内置函数 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3 checked> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> 2.高级篇 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=true> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> 2.高级篇 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../6.%E6%89%93%E9%80%A0%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 6.打造命令行工具 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> 7.文本处理 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 7.文本处理 </span> </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#11-字符串常量 class=md-nav__link> 1.1 字符串常量 </a> <nav class=md-nav aria-label="1.1 字符串常量"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#111-定义字符串 class=md-nav__link> 1.1.1 定义字符串 </a> </li> <li class=md-nav__item> <a href=#112-字符串是不可变的有序集合 class=md-nav__link> 1.1.2 字符串是不可变的有序集合 </a> </li> <li class=md-nav__item> <a href=#113-字符串函数 class=md-nav__link> 1.1.3 字符串函数 </a> <nav class=md-nav aria-label="1.1.3 字符串函数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1通用操作 class=md-nav__link> 1.通用操作 </a> </li> <li class=md-nav__item> <a href=#2与大小写相关的方法 class=md-nav__link> 2.与大小写相关的方法 </a> </li> <li class=md-nav__item> <a href=#3判断类方法 class=md-nav__link> 3.判断类方法 </a> </li> <li class=md-nav__item> <a href=#4startswith和endswith class=md-nav__link> 4.startswith和endswith </a> </li> <li class=md-nav__item> <a href=#5查找类函数 class=md-nav__link> 5.查找类函数 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#114-案例使用python分析apache的访问日志 class=md-nav__link> 1.1.4 案例：使用Python分析Apache的访问日志 </a> </li> <li class=md-nav__item> <a href=#115-字符串格式化 class=md-nav__link> 1.1.5 字符串格式化 </a> <nav class=md-nav aria-label="1.1.5 字符串格式化"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1format函数 class=md-nav__link> 1.format函数 </a> </li> <li class=md-nav__item> <a href=#2插值格式字符串 class=md-nav__link> 2.插值格式字符串 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12-正则表达式 class=md-nav__link> 1.2 正则表达式 </a> <nav class=md-nav aria-label="1.2 正则表达式"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#121-正则表达式的基本语法 class=md-nav__link> 1.2.1 正则表达式的基本语法 </a> </li> <li class=md-nav__item> <a href=#122--利用re库处理正则表达式 class=md-nav__link> 1.2.2 利用re库处理正则表达式 </a> </li> <li class=md-nav__item> <a href=#123-常用的re方法 class=md-nav__link> 1.2.3 常用的re方法 </a> <nav class=md-nav aria-label="1.2.3 常用的re方法"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1匹配类的函数 class=md-nav__link> 1."匹配"类的函数 </a> </li> <li class=md-nav__item> <a href=#2修改类函数 class=md-nav__link> 2."修改类"函数 </a> </li> <li class=md-nav__item> <a href=#3大小写不敏感 class=md-nav__link> 3.大小写不敏感 </a> </li> <li class=md-nav__item> <a href=#4非贪婪匹配 class=md-nav__link> 4.非贪婪匹配 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#124-案例获取html页面中的所有超链接 class=md-nav__link> 1.2.4 案例：获取HTML页面中的所有超链接 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#13-字符集编码 class=md-nav__link> 1.3 字符集编码 </a> <nav class=md-nav aria-label="1.3 字符集编码"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ascii class=md-nav__link> ASCII </a> </li> <li class=md-nav__item> <a href=#unicod class=md-nav__link> Unicod </a> </li> <li class=md-nav__item> <a href=#utf-8 class=md-nav__link> UTF-8 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#14-jinja2模板 class=md-nav__link> 1.4 Jinja2模板 </a> <nav class=md-nav aria-label="1.4 Jinja2模板"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#141-模板介绍 class=md-nav__link> 1.4.1 模板介绍 </a> </li> <li class=md-nav__item> <a href=#142-jinja2语法入门 class=md-nav__link> 1.4.2 Jinja2语法入门 </a> <nav class=md-nav aria-label="1.4.2 Jinja2语法入门"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1语法块 class=md-nav__link> 1.语法块 </a> </li> <li class=md-nav__item> <a href=#2变量 class=md-nav__link> 2.变量 </a> </li> <li class=md-nav__item> <a href=#3jinja2中的过滤器 class=md-nav__link> 3.Jinja2中的过滤器 </a> </li> <li class=md-nav__item> <a href=#4jinja2的控制结构 class=md-nav__link> 4.Jinja2的控制结构 </a> </li> <li class=md-nav__item> <a href=#5jinja2的for循环 class=md-nav__link> 5.Jinja2的for循环 </a> </li> <li class=md-nav__item> <a href=#6jinja2的宏 class=md-nav__link> 6.Jinja2的宏 </a> </li> <li class=md-nav__item> <a href=#7jinja2的继承和super函数 class=md-nav__link> 7.Jinja2的继承和Super函数 </a> </li> <li class=md-nav__item> <a href=#8jinja2的其他运算 class=md-nav__link> 8.Jinja2的其他运算 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#143-jinja2实战 class=md-nav__link> 1.4.3 Jinja2实战 </a> <nav class=md-nav aria-label="1.4.3 Jinja2实战"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1基本功能演示 class=md-nav__link> 1.基本功能演示 </a> </li> <li class=md-nav__item> <a href=#2继承功能演示 class=md-nav__link> 2.继承功能演示 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#144-案例使用jinja2生成html表格 class=md-nav__link> 1.4.4 案例：使用Jinja2生成HTML表格 </a> <nav class=md-nav aria-label="1.4.4 案例：使用Jinja2生成HTML表格"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1使用jinja2生成html表格 class=md-nav__link> 1.使用Jinja2生成HTML表格 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../8.Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 8.Linux系统管理 </span> </a> </li> <li class=md-nav__item> <a href=../9.%E7%9B%91%E6%8E%A7Linux/ class=md-nav__link> <span class=md-ellipsis> 9.监控Linux </span> </a> </li> <li class=md-nav__item> <a href=../10.%E6%96%87%E6%A1%A3%E4%B8%8E%E6%8A%A5%E5%91%8A/ class=md-nav__link> <span class=md-ellipsis> 10.文档与报告 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Python-vs-Go </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Python-vs-Go </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> 0.学习线路 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> 0.学习线路 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/0.%E5%AD%A6%E4%B9%A0%E7%BA%BF%E8%B7%AF/0.Python-vs-Go/ class=md-nav__link> <span class=md-ellipsis> Python-vs-Go </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> 1.对比学习 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> 1.对比学习 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/1.Hello-World/ class=md-nav__link> <span class=md-ellipsis> Hello-World </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/2.Print/ class=md-nav__link> <span class=md-ellipsis> Print </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/3.%E6%B3%A8%E9%87%8A/ class=md-nav__link> <span class=md-ellipsis> 注释 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/4.%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2/ class=md-nav__link> <span class=md-ellipsis> 多行字符串 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/5.Lists/ class=md-nav__link> <span class=md-ellipsis> Lists </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/6.Map/ class=md-nav__link> <span class=md-ellipsis> Map </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/7.Booleans/ class=md-nav__link> <span class=md-ellipsis> Booleans </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/8.Forloop/ class=md-nav__link> <span class=md-ellipsis> Forloop </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/9.Range/ class=md-nav__link> <span class=md-ellipsis> Range </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/10.Switch/ class=md-nav__link> <span class=md-ellipsis> Switch </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/11.%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 可变参数函数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/12.%E6%97%B6%E9%97%B4%E8%AE%A1%E7%AE%97/ class=md-nav__link> <span class=md-ellipsis> 时间计算 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/13.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/ class=md-nav__link> <span class=md-ellipsis> 函数的闭包 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/14.%E9%80%80%E5%87%BA%E5%A4%84%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 退出处理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/15.%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/ class=md-nav__link> <span class=md-ellipsis> 异常捕获 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/16.%E5%8F%AF%E5%8F%98%E9%A1%B9/ class=md-nav__link> <span class=md-ellipsis> 可变项 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/17.%E7%B1%BB/ class=md-nav__link> <span class=md-ellipsis> 类 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/18.%E6%96%B9%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 方法 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/19.%E5%B9%B6%E5%8F%91/ class=md-nav__link> <span class=md-ellipsis> 并发 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/20.Args/ class=md-nav__link> <span class=md-ellipsis> Args </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/21.%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%E5%88%AB%E5%90%8D/ class=md-nav__link> <span class=md-ellipsis> 导入模块别名 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/22.%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96/ class=md-nav__link> <span class=md-ellipsis> 字符串格式化 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/23.%E5%8E%BB%E9%87%8D/ class=md-nav__link> <span class=md-ellipsis> 去重 </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/1.%E5%AF%B9%E6%AF%94%E5%AD%A6%E4%B9%A0/24.%E5%B8%A6%E9%A2%9C%E8%89%B2%E6%89%93%E5%8D%B0/ class=md-nav__link> <span class=md-ellipsis> 带颜色打印 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> 2.进阶 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> 2.进阶 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/1.%E4%BD%BF%E7%94%A8RPC/ class=md-nav__link> <span class=md-ellipsis> 使用RPC </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/2.%E4%BD%BF%E7%94%A8MySQL/ class=md-nav__link> <span class=md-ellipsis> 使用MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/3.%E4%BD%BF%E7%94%A8Redis/ class=md-nav__link> <span class=md-ellipsis> 使用Redis </span> </a> </li> <li class=md-nav__item> <a href=../../../Python-vs-Go/2.%E8%BF%9B%E9%98%B6/4.%E4%BD%BF%E7%94%A8MongoDB/ class=md-nav__link> <span class=md-ellipsis> 使用MongoDB </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> shell </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/shell/Shell%E7%AE%80%E4%BB%8B/ class=md-nav__link> <span class=md-ellipsis> Shell 教程概述 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/1.%E7%AC%AC%E4%B8%80%E4%B8%AAshell%E7%A8%8B%E5%BA%8F/ class=md-nav__link> <span class=md-ellipsis> 1.第一个 Shell 程序 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/2.Shell%E5%8F%98%E9%87%8F/ class=md-nav__link> <span class=md-ellipsis> 2.Shell 变量 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/3.Shell%E5%8F%82%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 3.Shell 参数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/4.Shell%E6%95%B0%E7%BB%84/ class=md-nav__link> <span class=md-ellipsis> 4.Shell数组 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/5.Shell%E8%BF%90%E7%AE%97%E7%AC%A6/ class=md-nav__link> <span class=md-ellipsis> 5.Shell 运算符 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/6.Shell-echo_printf%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 6.Shell echo/printf 命令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/7.Shell-test%E5%91%BD%E4%BB%A4/ class=md-nav__link> <span class=md-ellipsis> 7.Shell test命令 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/8.Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/ class=md-nav__link> <span class=md-ellipsis> 8.Shell流程控制 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/9.Shell%E5%87%BD%E6%95%B0/ class=md-nav__link> <span class=md-ellipsis> 9.Shell函数 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/10.Shell%E8%BE%93%E5%85%A5_%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91/ class=md-nav__link> <span class=md-ellipsis> 10.Shell输入/输出重定向 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/11.Shell%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ class=md-nav__link> <span class=md-ellipsis> 11.Shell正则表达式 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/12.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep/ class=md-nav__link> <span class=md-ellipsis> 12.Shell三剑客之grep </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/13.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed/ class=md-nav__link> <span class=md-ellipsis> 13.Shell三剑客之sed </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/14.Shell%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bawk/ class=md-nav__link> <span class=md-ellipsis> 14.Shell三剑客之awk </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/15.Shell%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 15.Shell常用工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/16.Shell%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ class=md-nav__link> <span class=md-ellipsis> 16.Shell实战项目 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/17.Shell%E8%84%9A%E6%9C%AC%E7%A4%BA%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 17.Shell脚本示例 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/18.Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%B7%A5%E5%85%B7/ class=md-nav__link> <span class=md-ellipsis> 18.Shell脚本的参数解析工具 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/19.%E5%AE%9E%E7%94%A8Linux-Shell%E8%84%9A%E6%9C%AC%E6%A1%88%E4%BE%8B/ class=md-nav__link> <span class=md-ellipsis> 19.实用Linux Shell脚本案例 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/shell/20.Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E8%A7%84%E8%8C%83/ class=md-nav__link> <span class=md-ellipsis> 20.Shell脚本的规范 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> Ansible </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Ansible/1.Ansible%E5%85%A5%E9%97%A8%E5%92%8C%E5%AE%9E%E8%B7%B5/ class=md-nav__link> <span class=md-ellipsis> 1.Ansible入门和实践 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Ansible/2.Ansible-wiki/ class=md-nav__link> <span class=md-ellipsis> 2.Ansible-wiki </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> Git </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/Git/1.Git%E5%9F%BA%E7%A1%80/ class=md-nav__link> <span class=md-ellipsis> 1.Git基础 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Git/2.%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/ class=md-nav__link> <span class=md-ellipsis> 2.远程仓库 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Git/3.%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/ class=md-nav__link> <span class=md-ellipsis> 3.分支管理 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Git/4.%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5/ class=md-nav__link> <span class=md-ellipsis> 4.分支管理策略 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Git/7.%E4%BD%BF%E7%94%A8Github/ class=md-nav__link> <span class=md-ellipsis> 7.使用Github </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Git/8.%E5%AE%9E%E8%B7%B5GitHub-Flow/ class=md-nav__link> <span class=md-ellipsis> 8.实践GitHub Flow </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/Git/9.%E5%AE%9E%E8%B7%B5Git-Flow/ class=md-nav__link> <span class=md-ellipsis> 9.实践Git Flow </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <label class=md-nav__link for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class=md-ellipsis> system </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> system </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/system/0.%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F%E5%92%8C%E8%BD%AF%E4%BB%B6%E6%BA%90/ class=md-nav__link> <span class=md-ellipsis> 0.系统镜像和软件源 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/1.Linux%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/ class=md-nav__link> <span class=md-ellipsis> Linux安全加固 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/2.Systemd/ class=md-nav__link> <span class=md-ellipsis> Systemd </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/3.Superivisor/ class=md-nav__link> <span class=md-ellipsis> Superivisor </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/4.Linux%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8SSH%E7%99%BB%E5%BD%95%E4%B9%8B%E5%89%8D%E6%98%BE%E7%A4%BA%E6%A8%AA%E5%B9%85/ class=md-nav__link> <span class=md-ellipsis> Linux系统使用SSH登录之前显示横幅 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/5.Linux%E4%B8%AD%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E6%8E%92%E6%9F%A5/ class=md-nav__link> <span class=md-ellipsis> Linux中端口占用排查 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/6.%E4%BD%BF%E7%94%A8curl%E5%8F%91%E9%80%81REST-API%E8%AF%B7%E6%B1%82/ class=md-nav__link> <span class=md-ellipsis> 使用curl发送REST API请求 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/7.%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E7%B3%8A%E6%9F%A5%E6%89%BE%E5%99%A8fzf/ class=md-nav__link> <span class=md-ellipsis> 命令行模糊查找器fzf </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/8.Centos7.9%E7%B3%BB%E7%BB%9F%E7%9B%98%E6%89%A9%E5%AE%B9/ class=md-nav__link> <span class=md-ellipsis> 8.Centos7.9系统盘扩容 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/9.Centos%E5%9C%A8%E7%BA%BF-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96/ class=md-nav__link> <span class=md-ellipsis> 9.Centos在线-离线安装依赖 </span> </a> </li> <li class=md-nav__item> <a href=../../../Linux/system/10.rsync-ssh/ class=md-nav__link> <span class=md-ellipsis> rsync ssh使用 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_5> <label class=md-nav__link for=__nav_7_5 id=__nav_7_5_label tabindex=0> <span class=md-ellipsis> serveices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_5_label aria-expanded=false> <label class=md-nav__title for=__nav_7_5> <span class="md-nav__icon md-icon"></span> serveices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Linux/serveices/0.ubuntu-desktop-vmware/ class=md-nav__link> <span class=md-ellipsis> ubuntu-desktop-vmware </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Other </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Other </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_1> <label class=md-nav__link for=__nav_8_1 id=__nav_8_1_label tabindex=0> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Other/tools/1.PicGo%E5%9B%BE%E5%BA%8A/ class=md-nav__link> <span class=md-ellipsis> 1.PicGo图床 </span> </a> </li> <li class=md-nav__item> <a href=../../../Other/tools/2.Markdown%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/ class=md-nav__link> <span class=md-ellipsis> 2.Markdown基础语法 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#11-字符串常量 class=md-nav__link> 1.1 字符串常量 </a> <nav class=md-nav aria-label="1.1 字符串常量"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#111-定义字符串 class=md-nav__link> 1.1.1 定义字符串 </a> </li> <li class=md-nav__item> <a href=#112-字符串是不可变的有序集合 class=md-nav__link> 1.1.2 字符串是不可变的有序集合 </a> </li> <li class=md-nav__item> <a href=#113-字符串函数 class=md-nav__link> 1.1.3 字符串函数 </a> <nav class=md-nav aria-label="1.1.3 字符串函数"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1通用操作 class=md-nav__link> 1.通用操作 </a> </li> <li class=md-nav__item> <a href=#2与大小写相关的方法 class=md-nav__link> 2.与大小写相关的方法 </a> </li> <li class=md-nav__item> <a href=#3判断类方法 class=md-nav__link> 3.判断类方法 </a> </li> <li class=md-nav__item> <a href=#4startswith和endswith class=md-nav__link> 4.startswith和endswith </a> </li> <li class=md-nav__item> <a href=#5查找类函数 class=md-nav__link> 5.查找类函数 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#114-案例使用python分析apache的访问日志 class=md-nav__link> 1.1.4 案例：使用Python分析Apache的访问日志 </a> </li> <li class=md-nav__item> <a href=#115-字符串格式化 class=md-nav__link> 1.1.5 字符串格式化 </a> <nav class=md-nav aria-label="1.1.5 字符串格式化"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1format函数 class=md-nav__link> 1.format函数 </a> </li> <li class=md-nav__item> <a href=#2插值格式字符串 class=md-nav__link> 2.插值格式字符串 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12-正则表达式 class=md-nav__link> 1.2 正则表达式 </a> <nav class=md-nav aria-label="1.2 正则表达式"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#121-正则表达式的基本语法 class=md-nav__link> 1.2.1 正则表达式的基本语法 </a> </li> <li class=md-nav__item> <a href=#122--利用re库处理正则表达式 class=md-nav__link> 1.2.2 利用re库处理正则表达式 </a> </li> <li class=md-nav__item> <a href=#123-常用的re方法 class=md-nav__link> 1.2.3 常用的re方法 </a> <nav class=md-nav aria-label="1.2.3 常用的re方法"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1匹配类的函数 class=md-nav__link> 1."匹配"类的函数 </a> </li> <li class=md-nav__item> <a href=#2修改类函数 class=md-nav__link> 2."修改类"函数 </a> </li> <li class=md-nav__item> <a href=#3大小写不敏感 class=md-nav__link> 3.大小写不敏感 </a> </li> <li class=md-nav__item> <a href=#4非贪婪匹配 class=md-nav__link> 4.非贪婪匹配 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#124-案例获取html页面中的所有超链接 class=md-nav__link> 1.2.4 案例：获取HTML页面中的所有超链接 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#13-字符集编码 class=md-nav__link> 1.3 字符集编码 </a> <nav class=md-nav aria-label="1.3 字符集编码"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ascii class=md-nav__link> ASCII </a> </li> <li class=md-nav__item> <a href=#unicod class=md-nav__link> Unicod </a> </li> <li class=md-nav__item> <a href=#utf-8 class=md-nav__link> UTF-8 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#14-jinja2模板 class=md-nav__link> 1.4 Jinja2模板 </a> <nav class=md-nav aria-label="1.4 Jinja2模板"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#141-模板介绍 class=md-nav__link> 1.4.1 模板介绍 </a> </li> <li class=md-nav__item> <a href=#142-jinja2语法入门 class=md-nav__link> 1.4.2 Jinja2语法入门 </a> <nav class=md-nav aria-label="1.4.2 Jinja2语法入门"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1语法块 class=md-nav__link> 1.语法块 </a> </li> <li class=md-nav__item> <a href=#2变量 class=md-nav__link> 2.变量 </a> </li> <li class=md-nav__item> <a href=#3jinja2中的过滤器 class=md-nav__link> 3.Jinja2中的过滤器 </a> </li> <li class=md-nav__item> <a href=#4jinja2的控制结构 class=md-nav__link> 4.Jinja2的控制结构 </a> </li> <li class=md-nav__item> <a href=#5jinja2的for循环 class=md-nav__link> 5.Jinja2的for循环 </a> </li> <li class=md-nav__item> <a href=#6jinja2的宏 class=md-nav__link> 6.Jinja2的宏 </a> </li> <li class=md-nav__item> <a href=#7jinja2的继承和super函数 class=md-nav__link> 7.Jinja2的继承和Super函数 </a> </li> <li class=md-nav__item> <a href=#8jinja2的其他运算 class=md-nav__link> 8.Jinja2的其他运算 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#143-jinja2实战 class=md-nav__link> 1.4.3 Jinja2实战 </a> <nav class=md-nav aria-label="1.4.3 Jinja2实战"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1基本功能演示 class=md-nav__link> 1.基本功能演示 </a> </li> <li class=md-nav__item> <a href=#2继承功能演示 class=md-nav__link> 2.继承功能演示 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#144-案例使用jinja2生成html表格 class=md-nav__link> 1.4.4 案例：使用Jinja2生成HTML表格 </a> <nav class=md-nav aria-label="1.4.4 案例：使用Jinja2生成HTML表格"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1使用jinja2生成html表格 class=md-nav__link> 1.使用Jinja2生成HTML表格 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=7文本处理>7.文本处理<a class=headerlink href=#7文本处理 title="Permanent link">&para;</a></h1> <p>正是由于系统管理员需要经常处理文本，Linux才有了许多与文本处理相关的工具，如grep、awk、sed、wc、tr、cut、cat等。</p> <p>文本处理是一个如此常见的需求，因此，我们应该掌握一种强大的文本处理工具并将其应用在日常的所有工作当中。</p> <h2 id=11-字符串常量>1.1 字符串常量<a class=headerlink href=#11-字符串常量 title="Permanent link">&para;</a></h2> <h3 id=111-定义字符串>1.1.1 定义字符串<a class=headerlink href=#111-定义字符串 title="Permanent link">&para;</a></h3> <p>Python可以使用单引号或双引号来定义字符串</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>greet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Hello, world&quot;</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>greet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Hello, world&#39;</span>
</code></pre></div> <p>使用“\”加上一个可以显示的字符来定义。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=nv>intro</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;He\&#39;</span>s<span class=w> </span>a<span class=w> </span>teacher<span class=err>&#39;</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=nv>statement</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;John said to me: \&quot;Can you do me a favour tonight\&quot;&quot;</span>
</code></pre></div> <p>除了使用转义符以外，还可以使用原始字符串（raw string）。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=n>path</span> <span class=o>=</span> <span class=sa>r</span><span class=s2>&quot;c:\next&quot;</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=nb>print</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=nb>print</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isdir</span><span class=p>(</span><span class=n>path</span><span class=p>))</span>
</code></pre></div> <p>Python的三引号定义字符串</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>message</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;&#39;&#39; Type &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=s1>   ...: object?   -&gt; Details about &#39;</span>object<span class=s1>&#39;, use &#39;</span>object??<span class=s1>&#39; for extra details.&#39;&#39;&#39;</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>message</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;&quot;&quot; Type &quot;</span>copyright<span class=s2>&quot;, &quot;</span>credits<span class=s2>&quot; or &quot;</span>license<span class=s2>&quot; for more information.</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=s2>   ...: object?   -&gt; Details about &#39;object&#39;, use &#39;object??&#39; for extra details.&quot;&quot;&quot;</span>
</code></pre></div> <h3 id=112-字符串是不可变的有序集合>1.1.2 字符串是不可变的有序集合<a class=headerlink href=#112-字符串是不可变的有序集合 title="Permanent link">&para;</a></h3> <p>Python字符串的不可变性.所以操作字符串时需要避免产生太多的中间结果.错误的操作.</p> <p>用for循环和字符串的“+”操作连接字符串 <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>fruits</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=s1>&#39;orange&#39;</span>,<span class=w> </span><span class=s1>&#39;apple&#39;</span>,<span class=w> </span><span class=s1>&#39;banana&#39;</span>,<span class=w> </span><span class=s1>&#39;pear&#39;</span><span class=o>]</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>statement</span><span class=w> </span><span class=o>=</span><span class=w> </span>fruits<span class=o>[</span><span class=m>0</span><span class=o>]</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=k>for</span><span class=w> </span>item<span class=w> </span><span class=k>in</span><span class=w> </span>fruits<span class=o>[</span><span class=m>1</span>:<span class=o>]</span>:
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>   </span>...:<span class=w>     </span><span class=nv>statement</span><span class=w> </span><span class=o>=</span><span class=w> </span>statement<span class=w> </span>+<span class=w> </span><span class=s2>&quot;, &quot;</span><span class=w> </span>+<span class=w> </span>item
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>   </span>...:
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>print<span class=o>(</span>statement<span class=o>)</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>orange,<span class=w> </span>apple,<span class=w> </span>banana,<span class=w> </span>pear
</code></pre></div></p> <p>正确的操作 <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;, &quot;</span>.join<span class=o>(</span>fruits<span class=o>)</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;orange, apple, banana, pear&#39;</span>
</code></pre></div></p> <p>字符串的索引 <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=nv>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Hello,world&quot;</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>s<span class=o>[</span>:5<span class=o>]</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>Out<span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Hello&#39;</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>In<span class=w> </span><span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>s<span class=o>[</span><span class=m>0</span>:5<span class=o>]</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>Out<span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Hello&#39;</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>In<span class=w> </span><span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span>s<span class=o>[</span><span class=m>6</span>:<span class=o>]</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>Out<span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;world&#39;</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>In<span class=w> </span><span class=o>[</span><span class=m>10</span><span class=o>]</span>:<span class=w> </span>s<span class=o>[</span>::-1<span class=o>]</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>Out<span class=o>[</span><span class=m>10</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;dlrow,olleH&#39;</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>In<span class=w> </span><span class=o>[</span><span class=m>11</span><span class=o>]</span>:<span class=w> </span>s<span class=o>[</span><span class=m>0</span>:5:2<span class=o>]</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>Out<span class=o>[</span><span class=m>11</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Hlo&#39;</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=c1>#置逆一个字符串</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>In<span class=w> </span><span class=o>[</span><span class=m>12</span><span class=o>]</span>:<span class=w> </span>s<span class=o>[</span>::-1<span class=o>]</span>
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a>Out<span class=o>[</span><span class=m>12</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;dlrow,olleH&#39;</span>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a>
<a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a><span class=c1>#使用reversed函数</span>
<a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>In<span class=w> </span><span class=o>[</span><span class=m>13</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;&#39;</span>.join<span class=o>(</span>reversed<span class=o>(</span>s<span class=o>))</span>
<a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a>Out<span class=o>[</span><span class=m>13</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;dlrow,olleH&#39;</span>
</code></pre></div></p> <h3 id=113-字符串函数>1.1.3 字符串函数<a class=headerlink href=#113-字符串函数 title="Permanent link">&para;</a></h3> <h4 id=1通用操作>1.通用操作<a class=headerlink href=#1通用操作 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Hello,world&quot;</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>len<span class=o>(</span>s<span class=o>)</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=m>11</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Hello&quot;</span><span class=w> </span><span class=k>in</span><span class=w> </span>s
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Hello&quot;</span><span class=w> </span>not<span class=w> </span><span class=k>in</span><span class=w> </span>s
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>False
</code></pre></div> <h4 id=2与大小写相关的方法>2.与大小写相关的方法<a class=headerlink href=#2与大小写相关的方法 title="Permanent link">&para;</a></h4> <p>以下几个函数是与字符大小写相关的字符串处理函数：</p> <table> <thead> <tr> <th>函数</th> <th>功能</th> </tr> </thead> <tbody> <tr> <td>s.upper</td> <td>将字符串转换为大写</td> </tr> <tr> <td>s.lower</td> <td>将字符串转换为小写</td> </tr> <tr> <td>s.isupper</td> <td>判断字符串是否都为大写</td> </tr> <tr> <td>s.islower</td> <td>判断字符串是否都为小写</td> </tr> <tr> <td>s.swapcase</td> <td>将字符串中的大写转换为小写、小写转换为大写</td> </tr> <tr> <td>s.capitalize</td> <td>将首字母转换为大写</td> </tr> <tr> <td>s.istitle</td> <td>判断字符串是不是一个标题</td> </tr> </tbody> </table> <p>由于Python设计优秀，并拥有清晰的命名，所以，通过名字就能知道函数的作用。</p> <p>如果通过名字无法知道函数的具体作用，则可以使用第二章介绍的IPython获取函数的帮助信息，如下所示： <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;hello, world&quot;</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>s.capitalize?
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>Signature:<span class=w> </span>s.capitalize<span class=o>()</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>Docstring:
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>Return<span class=w> </span>a<span class=w> </span>capitalized<span class=w> </span>version<span class=w> </span>of<span class=w> </span>the<span class=w> </span>string.
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>More<span class=w> </span>specifically,<span class=w> </span>make<span class=w> </span>the<span class=w> </span>first<span class=w> </span>character<span class=w> </span>have<span class=w> </span>upper<span class=w> </span><span class=k>case</span><span class=w> </span>and<span class=w> </span>the<span class=w> </span>rest<span class=w> </span>lower
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=k>case</span>.
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>Type:<span class=w>      </span>builtin_function_or_method
</code></pre></div></p> <p>下面是使用IPython对Python中的字符串处理函数进行测试的例子：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;lai ming xing&quot;</span>.upper<span class=o>()</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>Out<span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;LAI MING XING&#39;</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Lai Ming Xing&quot;</span>.upper<span class=o>()</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;LAI MING XING&#39;</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Lai Ming Xing&quot;</span>.lower<span class=o>()</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;lai ming xing&#39;</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;lai ming xing&quot;</span>.isupper<span class=o>()</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;LAI MING XING&quot;</span>.isupper<span class=o>()</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Lai Ming Xing&quot;</span>.swapcase<span class=o>()</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;lAI mING xING&#39;</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;lai ming xing&quot;</span>.capitalize<span class=o>()</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>Out<span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Lai ming xing&#39;</span>
<a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>
<a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a>In<span class=w> </span><span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Lai ming xing&quot;</span>.istitle<span class=o>()</span>
<a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>Out<span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a>
<a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>In<span class=w> </span><span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Lai Ming Xing&quot;</span>.istitle<span class=o>()</span>
<a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a>Out<span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span>True
</code></pre></div> <p>将字符串转换为大写或者小写是很实用的方法。例如，程序等待用户输入，在用户输入“yes”的时候，执行某项操作，否则就退出程序。 为了对用户更加友好，增强用户的体验感，程序应该在用户输入“yes”，“Yes”，“YES”，“yES”，“YeS”时都判断为真。 这个时候，我们可以将用户的输入全部转换为小写，然后与“yes”进行比较。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=n>yes_or_no</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s1>&#39;Plese input yes or no : &#39;</span><span class=p>)</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=k>if</span> <span class=n>yes_or_no</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;yes&quot;</span><span class=p>:</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;continue do something&quot;</span><span class=p>)</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=k>else</span><span class=p>:</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;exit...&quot;</span><span class=p>)</span>
</code></pre></div> <h4 id=3判断类方法>3.判断类方法<a class=headerlink href=#3判断类方法 title="Permanent link">&para;</a></h4> <p>Python的字符串有很多以“is”开头的方法，如前面介绍的istitle、isupper和islower。</p> <p>这类方法都是判断类的方法，它们不会产生新的字符串，并且总是返回True或者False。</p> <p>其他常见的字符串判断类方法有：</p> <table> <thead> <tr> <th>方法</th> <th>功能</th> </tr> </thead> <tbody> <tr> <td>s.isalpha</td> <td>如果字符串只包含字母，并且非空，则返回True，否则返回False</td> </tr> <tr> <td>s.isalnum</td> <td>如果字符串值包含字母和数字，并且非空，则返回True，否则返回False</td> </tr> <tr> <td>s.isspace</td> <td>如果字符串值包含空格、制表符、换行符，并且非空，则返回True，否则返回False</td> </tr> <tr> <td>s.isdecimal</td> <td>如果字符串只包含数字字符，并且非空，则返回True，否则返回False</td> </tr> </tbody> </table> <p>下面是在IPython中测试的例子：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Python&quot;</span>.isalpha<span class=o>()</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>Out<span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Python 3.6&quot;</span>.isalpha<span class=o>()</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Python 3.6&quot;</span>.isalnum<span class=o>()</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot; \t\n&quot;</span>.isspace<span class=o>()</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Python 3.6&quot;</span>.isdecimal<span class=o>()</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;3.6&quot;</span>.isdecimal<span class=o>()</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;36&quot;</span>.isdecimal<span class=o>()</span>
<a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>Out<span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>True
</code></pre></div> <h4 id=4startswith和endswith>4.startswith和endswith<a class=headerlink href=#4startswith和endswith title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>方法</th> <th>功能</th> </tr> </thead> <tbody> <tr> <td>s.startswith</td> <td>判断方法的参数是否为字符串的前缀</td> </tr> <tr> <td>s.endswith</td> <td>判断方法的参数是否为字符串的后缀</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=nv>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;hu jian li&quot;</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>s.startswith<span class=o>(</span><span class=s1>&#39;hu&#39;</span><span class=o>)</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>s.startswith<span class=o>(</span><span class=s1>&#39;hua&#39;</span><span class=o>)</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>Out<span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>In<span class=w> </span><span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>s.startswith<span class=o>(</span><span class=s1>&#39;hu j&#39;</span><span class=o>)</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>Out<span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>In<span class=w> </span><span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span>s.endswith<span class=o>(</span><span class=s1>&#39;li&#39;</span><span class=o>)</span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>Out<span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span>True
</code></pre></div> <p>找出所有文本文件或Python文件，在Python中使用内置的字符串方法即可，非常方便。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>os
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=w> </span>item<span class=w> </span><span class=k>for</span><span class=w> </span>item<span class=w> </span><span class=k>in</span><span class=w> </span>os.listdir<span class=o>(</span><span class=s1>&#39;.&#39;</span><span class=o>)</span><span class=w> </span><span class=k>if</span><span class=w> </span>item.endswith<span class=o>(</span><span class=s1>&#39;.py&#39;</span><span class=o>)</span><span class=w> </span><span class=o>]</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;e.py&#39;</span>,<span class=w> </span><span class=s1>&#39;f.py&#39;</span>,<span class=w> </span><span class=s1>&#39;g.py&#39;</span><span class=o>]</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=w> </span>item<span class=w> </span><span class=k>for</span><span class=w> </span>item<span class=w> </span><span class=k>in</span><span class=w> </span>os.listdir<span class=o>(</span><span class=s1>&#39;.&#39;</span><span class=o>)</span><span class=w> </span><span class=k>if</span><span class=w> </span>item.endswith<span class=o>(</span><span class=s1>&#39;.txt&#39;</span><span class=o>)</span><span class=w> </span><span class=o>]</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;a.txt&#39;</span>,<span class=w> </span><span class=s1>&#39;b.txt&#39;</span>,<span class=w> </span><span class=s1>&#39;c.txt&#39;</span>,<span class=w> </span><span class=s1>&#39;d.txt&#39;</span><span class=o>]</span>
</code></pre></div> <p>下面就以MongoDB的日志为例演示Python中的前缀匹配。一个典型的MongoDB日志目录如下所示： <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>$<span class=w> </span>ls
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>mongod.log<span class=w>  </span>mongod.log.2017-03-01T12-52-22<span class=w>  </span>mongod.log.2017-03-01T12-52-23
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>mongod.log.2017-03-01T12-52-26<span class=w>  </span>mongod.log.2017-03-01T12-52-27
</code></pre></div></p> <p>这个时候，如果我们想要知道所有MongoDB日志文件占用的磁盘大小，可以使用如下命令：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>mongod_logs</span> <span class=o>=</span> <span class=p>[</span><span class=n>item</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=s1>&#39;/var/mongo/log&#39;</span><span class=p>)</span> <span class=k>if</span> <span class=n>item</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;mongod.log&#39;</span><span class=p>)]</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=n>sum_size</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>getsize</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;/var/mongo/log&#39;</span><span class=p>,</span> <span class=n>item</span><span class=p>))</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>mongod_logs</span><span class=p>)</span>
</code></pre></div> <h4 id=5查找类函数>5.查找类函数<a class=headerlink href=#5查找类函数 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>方法</th> <th>功能</th> </tr> </thead> <tbody> <tr> <td>s.find</td> <td>查找子串出现在字符串中的位置，如果查找失败，返回-1</td> </tr> <tr> <td>s.index</td> <td>与find函数类似，如果查找失败，抛出ValueError异常</td> </tr> <tr> <td>s.rfind</td> <td>与find函数类似，区别在于rfind是从后向前查找</td> </tr> <tr> <td>s.rindex</td> <td>与index函数类似，区别在于rindex是从后向前查找。</td> </tr> </tbody> </table> <p><div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w>  </span><span class=nv>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Return the lowest index in S where substring sub is found&quot;</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>s.find<span class=o>(</span><span class=s2>&quot;in&quot;</span><span class=o>)</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=m>18</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>s.find<span class=o>(</span><span class=s2>&quot;in&quot;</span>,19<span class=o>)</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=m>24</span>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>s.find<span class=o>(</span><span class=s2>&quot;not exists&quot;</span><span class=o>)</span>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>-1
</code></pre></div> 对于判断一个字符串是否是另一个字符串的子串，正确的做法是使用in和not in：</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;in&#39;</span><span class=w> </span><span class=k>in</span><span class=w> </span>s
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;not exists&#39;</span><span class=w> </span><span class=k>in</span><span class=w> </span>s
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;not exists&#39;</span><span class=w> </span>not<span class=w> </span><span class=k>in</span><span class=w> </span>s
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>Out<span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>True
</code></pre></div> find函数最容易被错用的地方在于使用find函数判断一个子串是否出现在字符串中。如下所示：</p> <p><strong>错误的用法</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=k>if</span><span class=w> </span><span class=s2>&quot;hello, world&quot;</span>.find<span class=o>(</span><span class=s2>&quot;not exists&quot;</span><span class=o>)</span>:
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=w>   </span>...:<span class=w>     </span>print<span class=o>(</span>True<span class=o>)</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=w>   </span>...:<span class=w> </span><span class=k>else</span>:
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a><span class=w>   </span>...:<span class=w>     </span>print<span class=o>(</span>False<span class=o>)</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=w>   </span>...:<span class=w> </span>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>True
</code></pre></div> <h3 id=114-案例使用python分析apache的访问日志>1.1.4 案例：使用Python分析Apache的访问日志<a class=headerlink href=#114-案例使用python分析apache的访问日志 title="Permanent link">&para;</a></h3> <p>一条典型的Apache默认格式的日志如下：</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=m>193</span>.252.243.232<span class=w> </span>-<span class=w> </span>-<span class=w> </span><span class=o>[</span><span class=m>29</span>/Mar/2009:06:05:34<span class=w> </span>+0200<span class=o>]</span><span class=w> </span><span class=s2>&quot;GET /index.php HTTP/1.1&quot;</span><span class=w> </span><span class=m>200</span><span class=w> </span><span class=m>8714</span><span class=w> </span><span class=s2>&quot;-&quot;</span><span class=w> </span><span class=s2>&quot;Mozilla/5.0 (compatible; PJBot/3.0; +http://crawl.pagesjaunes.fr/robot)&quot;</span><span class=w> </span><span class=s2>&quot;-&quot;</span>
</code></pre></div> Apache默认格式的日志包含12列，分别是：</p> <p>1）客户端IP；</p> <p>2）远程登录名称；</p> <p>3）认证的远程用户；</p> <p>4）请求的时间；</p> <p>5）UTC时间差；</p> <p>6）请求的HTTP方法；</p> <p>7）请求的资源；</p> <p>8）HTTP协议；</p> <p>9）HTTP的状态码；</p> <p>10）服务端发送的字节数；</p> <p>11）访问来源；</p> <p>12）客户浏览器信息（在本例中不具体拆分浏览器信息）。</p> <p>对于前面这一行Apache日志，如果直接使用字符串的split函数进行拆分，那么，拆分以后获得的日志列表中，</p> <p>下标为0的元素是用户的IP， 下标为6的元素是用户请求的资源， 下标是8的元素是本次请求的HTTP CODE。</p> <p>如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>line</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;193.252.243.232 - - [29/Mar/2009:06:05:34 +0200] &quot;GET /index.php HTTP/1.1&quot; 200 8714 &quot;-&quot; &quot;Mozilla/5.0 (compatible; PJBot/3.0; +http://crawl.pagesjaunes.fr/robot)&quot; &quot;-&quot;&#39;</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=w>   </span>...:<span class=w> </span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>line.split<span class=o>()</span>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=o>[</span><span class=s1>&#39;193.252.243.232&#39;</span>,
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=w> </span><span class=s1>&#39;-&#39;</span>,
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=w> </span><span class=s1>&#39;-&#39;</span>,
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=w> </span><span class=s1>&#39;[29/Mar/2009:06:05:34&#39;</span>,
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=w> </span><span class=s1>&#39;+0200]&#39;</span>,
<a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a><span class=w> </span><span class=s1>&#39;&quot;GET&#39;</span>,
<a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a><span class=w> </span><span class=s1>&#39;/index.php&#39;</span>,
<a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a><span class=w> </span><span class=s1>&#39;HTTP/1.1&quot;&#39;</span>,
<a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a><span class=w> </span><span class=s1>&#39;200&#39;</span>,
<a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a><span class=w> </span><span class=s1>&#39;8714&#39;</span>,
<a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a><span class=w> </span><span class=s1>&#39;&quot;-&quot;&#39;</span>,
<a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a><span class=w> </span><span class=s1>&#39;&quot;Mozilla/5.0&#39;</span>,
<a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a><span class=w> </span><span class=s1>&#39;(compatible;&#39;</span>,
<a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a><span class=w> </span><span class=s1>&#39;PJBot/3.0;&#39;</span>,
<a id=__codelineno-20-20 name=__codelineno-20-20 href=#__codelineno-20-20></a><span class=w> </span><span class=s1>&#39;+http://crawl.pagesjaunes.fr/robot)&quot;&#39;</span>,
<a id=__codelineno-20-21 name=__codelineno-20-21 href=#__codelineno-20-21></a><span class=w> </span><span class=s1>&#39;&quot;-&quot;&#39;</span><span class=o>]</span>
<a id=__codelineno-20-22 name=__codelineno-20-22 href=#__codelineno-20-22></a>
<a id=__codelineno-20-23 name=__codelineno-20-23 href=#__codelineno-20-23></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>line.split<span class=o>()[</span><span class=m>0</span><span class=o>]</span>
<a id=__codelineno-20-24 name=__codelineno-20-24 href=#__codelineno-20-24></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;193.252.243.232&#39;</span>
<a id=__codelineno-20-25 name=__codelineno-20-25 href=#__codelineno-20-25></a>
<a id=__codelineno-20-26 name=__codelineno-20-26 href=#__codelineno-20-26></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>line.split<span class=o>()[</span><span class=m>6</span><span class=o>]</span>
<a id=__codelineno-20-27 name=__codelineno-20-27 href=#__codelineno-20-27></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;/index.php&#39;</span>
<a id=__codelineno-20-28 name=__codelineno-20-28 href=#__codelineno-20-28></a>
<a id=__codelineno-20-29 name=__codelineno-20-29 href=#__codelineno-20-29></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>line.split<span class=o>()[</span><span class=m>7</span><span class=o>]</span>
<a id=__codelineno-20-30 name=__codelineno-20-30 href=#__codelineno-20-30></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;HTTP/1.1&quot;&#39;</span>
<a id=__codelineno-20-31 name=__codelineno-20-31 href=#__codelineno-20-31></a>
<a id=__codelineno-20-32 name=__codelineno-20-32 href=#__codelineno-20-32></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>line.split<span class=o>()[</span><span class=m>8</span><span class=o>]</span>
<a id=__codelineno-20-33 name=__codelineno-20-33 href=#__codelineno-20-33></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;200&#39;</span>
</code></pre></div> <p>有了用户IP以后，我们可以很方便地获取到网站的PV和UV（PV是网站的访问请求数，UV是网站的独立访客数）。 在这个例子中，假设Apache的访问日志存放在当前目录下的access.log文件中。我们打开日志文件，逐行进行遍历，然后使用字符串的split函数拆分每一行日志，拆分日志以后通过下标0获取到用户的IP。如下所示：</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=ch>#!/usr/bin/python</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=c1>#-*- coding: UTF-8 -*-</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>print_function</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=n>ips</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;access.log&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a>    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>        <span class=n>ips</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;PV is </span><span class=si>{0}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>ips</span><span class=p>)))</span>
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;UV is </span><span class=si>{0}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>ips</span><span class=p>))))</span>
</code></pre></div> 我们将解析出来的IP添加到一个列表之中，那么，列表的长度就是网站的访问数。 当我们要求UV时，只需要对刚才的列表进行去重，然后统计去重以后的元素个数，就得到了UV。</p> <p>对于这个需求，在Python中可以通过将列表保存到一个集合中的方式来实现。</p> <p>集合天然就拥有去重功能，很适合用来实现这里的需求。</p> <p>接下来看另外一个需求，找到网站中最热的资源。所谓最热的资源就是这个网站中，被访问的最多的资源。这个信息对于工程师来说非常有用。工程师知道哪些资源是比较热门的资源以后，可以对这些资源的访问进行额外的优化（如缓存、反向代码、CDN等技术手段）。</p> <p>要统计网站中最热的资源，显然需要对访问日志中请求的资源进行统计。在Python中，可以使用一个字典来保存资源的热度，例如，字典的键是资源的名称，字典的值是访问的次数。除了使用字典来保存资源的热度以外，Python中还可以使用collections.Counter保存资源的热度。</p> <p>Counter是dict的子类，使用方式与字典类似。对于普通的计数功能，Counter比字典更加好用。如下所示</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>from<span class=w> </span>collections<span class=w> </span>import<span class=w> </span>Counter
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>c</span><span class=w> </span><span class=o>=</span><span class=w> </span>Counter<span class=o>(</span><span class=s1>&#39;abcba&#39;</span><span class=o>)</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>c
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>Counter<span class=o>({</span><span class=s1>&#39;a&#39;</span>:<span class=w> </span><span class=m>2</span>,<span class=w> </span><span class=s1>&#39;b&#39;</span>:<span class=w> </span><span class=m>2</span>,<span class=w> </span><span class=s1>&#39;c&#39;</span>:<span class=w> </span><span class=m>1</span><span class=o>})</span>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>c<span class=o>[</span><span class=s1>&#39;a&#39;</span><span class=o>]</span>+<span class=o>=</span><span class=m>1</span>
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>c<span class=o>[</span><span class=s1>&#39;d&#39;</span><span class=o>]</span>+<span class=o>=</span><span class=m>1</span>
<a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>
<a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>c
<a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>Counter<span class=o>({</span><span class=s1>&#39;a&#39;</span>:<span class=w> </span><span class=m>3</span>,<span class=w> </span><span class=s1>&#39;b&#39;</span>:<span class=w> </span><span class=m>2</span>,<span class=w> </span><span class=s1>&#39;c&#39;</span>:<span class=w> </span><span class=m>1</span>,<span class=w> </span><span class=s1>&#39;d&#39;</span>:<span class=w> </span><span class=m>1</span><span class=o>})</span>
<a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a>
<a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>c.most_common?
<a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a>Signature:<span class=w> </span>c.most_common<span class=o>(</span><span class=nv>n</span><span class=o>=</span>None<span class=o>)</span>
<a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a>Docstring:
<a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a>List<span class=w> </span>the<span class=w> </span>n<span class=w> </span>most<span class=w> </span>common<span class=w> </span>elements<span class=w> </span>and<span class=w> </span>their<span class=w> </span>counts<span class=w> </span>from<span class=w> </span>the<span class=w> </span>most
<a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a>common<span class=w> </span>to<span class=w> </span>the<span class=w> </span>least.<span class=w>  </span>If<span class=w> </span>n<span class=w> </span>is<span class=w> </span>None,<span class=w> </span><span class=k>then</span><span class=w> </span>list<span class=w> </span>all<span class=w> </span>element<span class=w> </span>counts.
<a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a>
<a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a>&gt;&gt;&gt;<span class=w> </span>Counter<span class=o>(</span><span class=s1>&#39;abracadabra&#39;</span><span class=o>)</span>.most_common<span class=o>(</span><span class=m>3</span><span class=o>)</span>
<a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a><span class=o>[(</span><span class=s1>&#39;a&#39;</span>,<span class=w> </span><span class=m>5</span><span class=o>)</span>,<span class=w> </span><span class=o>(</span><span class=s1>&#39;b&#39;</span>,<span class=w> </span><span class=m>2</span><span class=o>)</span>,<span class=w> </span><span class=o>(</span><span class=s1>&#39;r&#39;</span>,<span class=w> </span><span class=m>2</span><span class=o>)]</span>
<a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a>File:<span class=w>      </span>~/anaconda3/lib/python3.9/collections/__init__.py
<a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a>Type:<span class=w>      </span>method
<a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a>
<a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a>In<span class=w> </span><span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>c.most_common<span class=o>(</span><span class=m>2</span><span class=o>)</span>
<a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a>Out<span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span><span class=o>[(</span><span class=s1>&#39;a&#39;</span>,<span class=w> </span><span class=m>3</span><span class=o>)</span>,<span class=w> </span><span class=o>(</span><span class=s1>&#39;b&#39;</span>,<span class=w> </span><span class=m>2</span><span class=o>)]</span>
<a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a>
<a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a>In<span class=w> </span><span class=o>[</span><span class=m>9</span><span class=o>]</span>:
</code></pre></div> <p>对于Counter来说，如果一个键不存在于计数器中，直接对这个键进行运算也不会报错，如上面这段代码中的“c['d']+=1”。 此外，Counter作为一个计数器，还提供一个名为most_common的函数，用来显示Counter中取值最大的几个元素。</p> <p>下面的代码使用Counter统计网站中最热门的十项资源：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=ch>#!/usr/bin/python</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=c1>#-*- coding: UTF-8 -*-</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>print_function</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>Counter</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=n>c</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>()</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;access.log&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a>    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>        <span class=n>c</span><span class=p>[</span><span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=mi>6</span><span class=p>]]</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Popular resources : </span><span class=si>{0}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>most_common</span><span class=p>(</span><span class=mi>10</span><span class=p>)))</span>
</code></pre></div> <p>接下来看一个与用户体验相关的问题。</p> <p>网站的用户体验非常重要，如果用户访问网站经常出错，不但会导致用户口碑变差、降低营收，还会导致用户流失，对公司造成较大的伤害。</p> <p>长此以往，甚至可能导致公司倒闭。因此，网站的出错比例是很重要的一份数据。要统计用户访问出错的比例，可以通过统计每个请求的HTTP CODE得到。</p> <p>在HTTP协议中，如果HTTP CODE为2xx或3xx，则视为访问正确，如果HTTP CODE为4xx或5xx，则视为访问出错。</p> <p>因此，统计网站的出错比例，就是统计出错的请求占总请求数的比例。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=ch>#!/usr/bin/python</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=c1>#-*-coding: UTF-8 -*-</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>print_function</span>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=n>d</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;access.log&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a>    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a>        <span class=n>key</span> <span class=o>=</span> <span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=mi>8</span><span class=p>]</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a>        <span class=n>d</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a>        <span class=n>d</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=n>sum_requests</span><span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=n>error_requests</span><span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>d</span><span class=o>.</span><span class=n>iteritems</span><span class=p>():</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a>    <span class=k>if</span> <span class=nb>int</span><span class=p>(</span><span class=n>key</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>400</span><span class=p>:</span>
<a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a>        <span class=n>error_requests</span><span class=o>+=</span> <span class=n>val</span>
<a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a>    <span class=n>sum_requests</span><span class=o>+=</span> <span class=n>val</span>
<a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a>
<a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;error rate: </span><span class=si>{0:.2f}</span><span class=s1>%&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>error_requests</span> <span class=o>*</span> <span class=mf>100.0</span> <span class=o>/</span> <span class=n>sum_requests</span><span class=p>))</span>
</code></pre></div> <p>我们已经使用Python分析了网站的UV、PV、最热门的资源和出错的比例。 此外，通过Apache的访问日志，还可以统计网站每小时的流量并以此找到网站的请求高峰，以及分析浏览器字段统计用户使用的浏览器类型等。</p> <h3 id=115-字符串格式化>1.1.5 字符串格式化<a class=headerlink href=#115-字符串格式化 title="Permanent link">&para;</a></h3> <p>在Python中，存在两种格式化字符串的方法，即%表达式和format函数。 %表达式从Python诞生之日就开始存在了，是基于C语言的printf模型，目前还广泛使用。 format函数是Python2.6和Python3.0新增加的技术，是Python独有的方法，并且和字符串格式化表达式的功能有不少的重叠。</p> <p>虽然%表达式目前还广泛使用，但是，format函数才是字符串格式化的未来，%表达式在Python未来的版本中可能会被弃用。</p> <h4 id=1format函数>1.format函数<a class=headerlink href=#1format函数 title="Permanent link">&para;</a></h4> <p>我们通过下面的例子来学习format函数的使用方法。</p> <p>通过{}来表示一个占位符，Python会自动将format函数的参数依次传递给{}占位符。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{} is better than {}. {} is better than {}.&quot;</span>.format<span class=o>(</span><span class=s1>&#39;Beautiful&#39;</span>,<span class=w> </span><span class=s1>&#39;ugly&#39;</span>,<span class=w> </span><span class=s1>&#39;Explicit&#39;</span>,<span class=w> </span><span class=s1>&#39;implicit&#39;</span><span class=o>)</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>Out<span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Beautiful is better than ugly. Explicit is better than implicit.&#39;</span>
</code></pre></div> <p>也可以通过下标的方式来访问format函数的参数，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{0} is better than {1}. {2} is better than {3}.&quot;</span>.format<span class=o>(</span><span class=s1>&#39;Beautiful&#39;</span>,<span class=w> </span><span class=s1>&#39;ugly&#39;</span>,<span class=w> </span><span class=s1>&#39;Explicit&#39;</span>,<span class=w> </span><span class=s1>&#39;implicit&#39;</span><span class=o>)</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Beautiful is better than ugly. Explicit is better than implicit.&#39;</span>
</code></pre></div> <p>通过下标访问参数以后，一个参数可以出现多次，如下所示： <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;Beautiful is {0} than ugly. Explicit is {0} than implicit.&quot;</span>.format<span class=w> </span><span class=o>(</span><span class=s1>&#39;better&#39;</span><span class=o>)</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Beautiful is better than ugly. Explicit is better than implicit.&#39;</span>
</code></pre></div></p> <p>在参数较少的情况下，通过占位符或下标的形式访问format函数的参数并没有什么问题。如果参数较多就不太适合了，这个时候，可以使用解释性更强的关键字参数形式。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=nv>d</span><span class=w> </span><span class=o>=</span><span class=w> </span>dict<span class=o>(</span><span class=nv>good1</span><span class=o>=</span><span class=s1>&#39;Beautiful&#39;</span>,<span class=w> </span><span class=nv>bad1</span><span class=o>=</span><span class=s1>&#39;ugly&#39;</span>,<span class=w> </span><span class=nv>good2</span><span class=o>=</span><span class=s1>&#39;Explicit&#39;</span>,<span class=w> </span><span class=nv>bad2</span><span class=o>=</span><span class=s1>&#39;implicit&#39;</span><span class=o>)</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{good1} is better than {bad1}. {good2} is better than {bad2}.&quot;</span>.format<span class=o>(</span>**d<span class=o>)</span>
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Beautiful is better than ugly. Explicit is better than implicit.&#39;</span>
</code></pre></div> <p>format函数也可以直接访问对象的属性，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>from<span class=w> </span>collections<span class=w> </span>import<span class=w> </span>namedtuple
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=w>   </span>...:<span class=w> </span>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span><span class=nv>Person</span><span class=w> </span><span class=o>=</span><span class=w> </span>namedtuple<span class=o>(</span><span class=s1>&#39;Person&#39;</span>,<span class=w> </span><span class=s1>&#39;name age sex&#39;</span><span class=o>)</span>
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a>In<span class=w> </span><span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span><span class=nv>xm</span><span class=w> </span><span class=o>=</span><span class=w>  </span>Person<span class=o>(</span><span class=s1>&#39;Xiaoming&#39;</span>,<span class=w> </span><span class=m>20</span>,<span class=w> </span><span class=s1>&#39;male&#39;</span><span class=o>)</span>
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a><span class=w>   </span>...:<span class=w> </span>
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a>In<span class=w> </span><span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{p.name} {p.age} old this year&quot;</span>.format<span class=o>(</span><span class=nv>p</span><span class=o>=</span>xm<span class=o>)</span>
<a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a>Out<span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Xiaoming 20 old this year&#39;</span>
</code></pre></div> <p>下面的例子分别是对format函数的精度、符号、宽度、对齐方式、字符填充、逗号分隔等格式进行测试：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a>In<span class=w> </span><span class=o>[</span><span class=m>10</span><span class=o>]</span>:<span class=w>  </span><span class=s2>&quot;{:.2f}&quot;</span>.format<span class=o>(</span><span class=m>3</span>.1415926<span class=o>)</span>
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>Out<span class=o>[</span><span class=m>10</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;3.14&#39;</span>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a>In<span class=w> </span><span class=o>[</span><span class=m>11</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{:+.2f}&quot;</span>.format<span class=o>(</span><span class=m>3</span>.1415926<span class=o>)</span>
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>Out<span class=o>[</span><span class=m>11</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;+3.14&#39;</span>
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a>
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>In<span class=w> </span><span class=o>[</span><span class=m>12</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{:10.2f}&quot;</span>.format<span class=o>(</span><span class=m>3</span>.1415926<span class=o>)</span>
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a>Out<span class=o>[</span><span class=m>12</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;      3.14&#39;</span>
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a>
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a>In<span class=w> </span><span class=o>[</span><span class=m>13</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{:^10.2f}&quot;</span>.format<span class=o>(</span><span class=m>3</span>.1415926<span class=o>)</span>
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a>Out<span class=o>[</span><span class=m>13</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;   3.14   &#39;</span>
<a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a>
<a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a>In<span class=w> </span><span class=o>[</span><span class=m>14</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{:_^10.2f}&quot;</span>.format<span class=o>(</span><span class=m>3</span>.1415926<span class=o>)</span>
<a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a>Out<span class=o>[</span><span class=m>14</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;___3.14___&#39;</span>
<a id=__codelineno-30-15 name=__codelineno-30-15 href=#__codelineno-30-15></a>
<a id=__codelineno-30-16 name=__codelineno-30-16 href=#__codelineno-30-16></a>In<span class=w> </span><span class=o>[</span><span class=m>15</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{:,}&quot;</span>.format<span class=o>(</span><span class=m>1234567</span><span class=o>)</span>
<a id=__codelineno-30-17 name=__codelineno-30-17 href=#__codelineno-30-17></a>Out<span class=o>[</span><span class=m>15</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;1,234,567&#39;</span>
<a id=__codelineno-30-18 name=__codelineno-30-18 href=#__codelineno-30-18></a>
<a id=__codelineno-30-19 name=__codelineno-30-19 href=#__codelineno-30-19></a>In<span class=w> </span><span class=o>[</span><span class=m>16</span><span class=o>]</span>:<span class=w> </span><span class=s2>&quot;{:_^+20,.2f}&quot;</span>.format<span class=o>(</span><span class=m>1234</span>.5678<span class=o>)</span>
<a id=__codelineno-30-20 name=__codelineno-30-20 href=#__codelineno-30-20></a>Out<span class=o>[</span><span class=m>16</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;_____+1,234.57______&#39;</span>
</code></pre></div> <h4 id=2插值格式字符串>2.插值格式字符串<a class=headerlink href=#2插值格式字符串 title="Permanent link">&para;</a></h4> <p>Python 3.6添加了一种新的特性，叫作插值格式字符串（interpolated formatstring，简称f-string），可以解决上面提到的所有问题。新语法特性要求在格式字符串的前面加字母f作为前缀，这跟字母b与字母r的用法类似，也就是分别表示字节形式的字符串与原始的（或者说未经转义的）字符串的前缀。 <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=n>key</span> <span class=o>=</span> <span class=s2>&quot;my_var&quot;</span>
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a><span class=n>value</span> <span class=o>=</span> <span class=mf>1.234</span>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a><span class=n>formatted</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s1> = </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s1>&#39;</span>
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a><span class=nb>print</span><span class=p>(</span><span class=n>formatted</span><span class=p>)</span>
</code></pre></div></p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=n>pantry</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>    <span class=p>(</span><span class=s2>&quot;avocados&quot;</span><span class=p>,</span> <span class=mf>1.25</span><span class=p>),</span>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>    <span class=p>(</span><span class=s2>&quot;bananas&quot;</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>),</span>
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>    <span class=p>(</span><span class=s2>&quot;cherries&quot;</span><span class=p>,</span> <span class=mi>15</span><span class=p>)</span>
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a><span class=p>]</span>
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>
<a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a>
<a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=c1>#  %的方式格式化</span>
<a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>count</span><span class=p>)</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>pantry</span><span class=p>):</span>
<a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;#</span><span class=si>%d</span><span class=s2>: </span><span class=si>%-10s</span><span class=s2> = </span><span class=si>%d</span><span class=s2>&quot;</span> <span class=o>%</span> <span class=p>(</span>
<a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>        <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a>        <span class=n>item</span><span class=o>.</span><span class=n>title</span><span class=p>(),</span>
<a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a>        <span class=nb>round</span><span class=p>(</span><span class=n>count</span><span class=p>)))</span>
<a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;*&quot;</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span>
<a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a>
<a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a><span class=c1># format函数格式化</span>
<a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>count</span><span class=p>)</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>pantry</span><span class=p>):</span>
<a id=__codelineno-32-18 name=__codelineno-32-18 href=#__codelineno-32-18></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;#</span><span class=si>{}</span><span class=s2>: </span><span class=si>{:&lt;10s}</span><span class=s2> =</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
<a id=__codelineno-32-19 name=__codelineno-32-19 href=#__codelineno-32-19></a>        <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-32-20 name=__codelineno-32-20 href=#__codelineno-32-20></a>        <span class=n>item</span><span class=o>.</span><span class=n>title</span><span class=p>(),</span>
<a id=__codelineno-32-21 name=__codelineno-32-21 href=#__codelineno-32-21></a>        <span class=nb>round</span><span class=p>(</span><span class=n>count</span><span class=p>)))</span>
<a id=__codelineno-32-22 name=__codelineno-32-22 href=#__codelineno-32-22></a><span class=nb>print</span><span class=p>(</span><span class=s2>&quot;*&quot;</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span>
<a id=__codelineno-32-23 name=__codelineno-32-23 href=#__codelineno-32-23></a>
<a id=__codelineno-32-24 name=__codelineno-32-24 href=#__codelineno-32-24></a><span class=c1># 插值格式字符串</span>
<a id=__codelineno-32-25 name=__codelineno-32-25 href=#__codelineno-32-25></a><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>count</span><span class=p>)</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>pantry</span><span class=p>):</span>
<a id=__codelineno-32-26 name=__codelineno-32-26 href=#__codelineno-32-26></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;#</span><span class=si>{</span><span class=n>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>item</span><span class=o>.</span><span class=n>title</span><span class=p>()</span><span class=si>:</span><span class=s2>&lt;10s</span><span class=si>}</span><span class=s2> =</span><span class=si>{</span><span class=nb>round</span><span class=p>(</span><span class=n>count</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-32-27 name=__codelineno-32-27 href=#__codelineno-32-27></a>
<a id=__codelineno-32-28 name=__codelineno-32-28 href=#__codelineno-32-28></a><span class=c1>#或者写多行</span>
<a id=__codelineno-32-29 name=__codelineno-32-29 href=#__codelineno-32-29></a><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>count</span><span class=p>)</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>pantry</span><span class=p>):</span>
<a id=__codelineno-32-30 name=__codelineno-32-30 href=#__codelineno-32-30></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;#</span><span class=si>{</span><span class=n>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=si>}</span><span class=s2>: &quot;</span>
<a id=__codelineno-32-31 name=__codelineno-32-31 href=#__codelineno-32-31></a>          <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>item</span><span class=o>.</span><span class=n>title</span><span class=p>()</span><span class=si>:</span><span class=s2>&lt;10s</span><span class=si>}</span><span class=s2> =&quot;</span>
<a id=__codelineno-32-32 name=__codelineno-32-32 href=#__codelineno-32-32></a>          <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=nb>round</span><span class=p>(</span><span class=n>count</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <p>在%方法中%s只能替代字符串类型，而在format中不需要理会数据类型；</p> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=c1># 1、按照默认顺序，不指定位置</span>
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>print<span class=o>(</span><span class=s2>&quot;{} {}&quot;</span>.format<span class=o>(</span><span class=s2>&quot;hello&quot;</span>,<span class=s2>&quot;world&quot;</span><span class=o>))</span>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>&gt;&gt;&gt;<span class=w> </span>hello<span class=w> </span>world
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a>
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=c1># 2、设置指定位置，可以多次使用</span>
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a>print<span class=o>(</span><span class=s2>&quot;{0} {1} {0}&quot;</span>.format<span class=o>(</span><span class=s2>&quot;hello&quot;</span>,<span class=s2>&quot;or&quot;</span><span class=o>))</span>
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a>&gt;&gt;&gt;<span class=w> </span>hello<span class=w> </span>or<span class=w> </span>hello
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a>
<a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a><span class=c1># 3、使用列表格式化</span>
<a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a><span class=nv>person</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>{</span><span class=s2>&quot;name&quot;</span>:<span class=s2>&quot;opcai&quot;</span>,<span class=s2>&quot;age&quot;</span>:20<span class=o>}</span>
<a id=__codelineno-33-11 name=__codelineno-33-11 href=#__codelineno-33-11></a>print<span class=o>(</span><span class=s2>&quot;My name is {name} . I am {age} years old .&quot;</span>.format<span class=o>(</span>**person<span class=o>))</span>
<a id=__codelineno-33-12 name=__codelineno-33-12 href=#__codelineno-33-12></a>&gt;&gt;&gt;<span class=w> </span>My<span class=w> </span>name<span class=w> </span>is<span class=w> </span>opcai<span class=w> </span>.<span class=w> </span>I<span class=w> </span>am<span class=w> </span><span class=m>20</span><span class=w> </span>years<span class=w> </span>old<span class=w> </span>.
<a id=__codelineno-33-13 name=__codelineno-33-13 href=#__codelineno-33-13></a>
<a id=__codelineno-33-14 name=__codelineno-33-14 href=#__codelineno-33-14></a><span class=c1># 4、通过列表格式化</span>
<a id=__codelineno-33-15 name=__codelineno-33-15 href=#__codelineno-33-15></a><span class=nv>stu</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=s2>&quot;opcai&quot;</span>,<span class=s2>&quot;linux&quot;</span>,<span class=s2>&quot;MySQL&quot;</span>,<span class=s2>&quot;Python&quot;</span><span class=o>]</span>
<a id=__codelineno-33-16 name=__codelineno-33-16 href=#__codelineno-33-16></a>print<span class=o>(</span><span class=s2>&quot;My name is {0[0]} , I love {0[1]} !&quot;</span>.format<span class=o>(</span>stu<span class=o>))</span>
<a id=__codelineno-33-17 name=__codelineno-33-17 href=#__codelineno-33-17></a>&gt;&gt;&gt;<span class=w> </span>My<span class=w> </span>name<span class=w> </span>is<span class=w> </span>opcai<span class=w> </span>,<span class=w> </span>I<span class=w> </span>love<span class=w> </span>linux<span class=w> </span>!
</code></pre></div> <h2 id=12-正则表达式>1.2 正则表达式<a class=headerlink href=#12-正则表达式 title="Permanent link">&para;</a></h2> <p>需要同时使用“：”和“.”进行split，这对于Python内置的字符串函数来说，就显得比较棘手了。这个时候，可以使用更具有表达能力的正则表达式：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span><span class=nv>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Last login: Thu Mar  2 10:04:52 2017 from 114.113.197.131&quot;</span>
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>
<a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>re<span class=p>;</span><span class=w> </span>re.split<span class=o>(</span><span class=s1>&#39;[:.]\s*&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a>Out<span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;Last login&#39;</span>,<span class=w> </span><span class=s1>&#39;Thu Mar  2 10&#39;</span>,<span class=w> </span><span class=s1>&#39;04&#39;</span>,<span class=w> </span><span class=s1>&#39;52 2017 from 114&#39;</span>,<span class=w> </span><span class=s1>&#39;113&#39;</span>,<span class=w> </span><span class=s1>&#39;197&#39;</span>,<span class=w> </span><span class=s1>&#39;131&#39;</span><span class=o>]</span>
</code></pre></div> <p>正则表达式是个处理文本的强大工具，在文本处理程序中广泛使用，如Office world、OpenOffice、Vim和Emacs。</p> <p>正则表达式在Linux命令行中使用更加广泛，大部分文本处理工具都支持正则表达式，如grep，awk，sed等。正因为正则表达式强大的表达能力，不仅软件工程师使用正则表达式，部分电脑爱好者也开始学习正则表达式，希望通过正则表达式节约文本处理的时间。</p> <h3 id=121-正则表达式的基本语法>1.2.1 正则表达式的基本语法<a class=headerlink href=#121-正则表达式的基本语法 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>正则表达式模式</th> <th>描述</th> <th>示例</th> </tr> </thead> <tbody> <tr> <td>\d</td> <td>匹配任意一个数字字符</td> <td><code>\d</code> 可以匹配到字符串中的数字字符，如 "123"</td> </tr> <tr> <td>\w</td> <td>匹配任意一个字母数字字符</td> <td><code>\w</code> 可以匹配到字符串中的字母和数字字符，如 "a1b2c3"</td> </tr> <tr> <td>\s</td> <td>匹配任意一个空白字符</td> <td><code>\s</code> 可以匹配到字符串中的空格、制表符等空白字符</td> </tr> <tr> <td>^</td> <td>匹配输入字符串的开始位置</td> <td><code>^abc</code> 可以匹配以 "abc" 开始的字符串</td> </tr> <tr> <td>$</td> <td>匹配输入字符串的结束位置</td> <td><code>xyz$</code> 可以匹配以 "xyz" 结束的字符串</td> </tr> <tr> <td>[...]</td> <td>字符集，匹配方括号内的任意一个字符</td> <td><code>[abc]</code> 可以匹配字符串中的 "a"、"b" 或 "c"</td> </tr> <tr> <td>[^...]</td> <td>否定字符集，匹配除方括号内字符之外的任意一个字符</td> <td><code>[^abc]</code> 可以匹配除了 "a"、"b" 和 "c" 以外的字符</td> </tr> <tr> <td>*</td> <td>匹配前面的元素零次或多次</td> <td><code>ab*c</code> 可以匹配 "ac"、"abc"、"abbc" 等</td> </tr> <tr> <td>+</td> <td>匹配前面的元素一次或多次</td> <td><code>ab+c</code> 可以匹配 "abc"、"abbc"、"abbbc" 等</td> </tr> <tr> <td>?</td> <td>匹配前面的元素零次或一次</td> <td><code>ab?c</code> 可以匹配 "ac" 或 "abc"</td> </tr> <tr> <td>{n}</td> <td>匹配前面的元素恰好 n 次</td> <td><code>a{3}</code> 可以匹配 "aaa"</td> </tr> <tr> <td>{n,}</td> <td>匹配前面的元素至少 n 次</td> <td><code>a{2,}</code> 可以匹配 "aa"、"aaa"、"aaaa" 等</td> </tr> <tr> <td>{n,m}</td> <td>匹配前面的元素至少 n 次、最多 m 次</td> <td><code>a{2,4}</code> 可以匹配 "aa"、"aaa" 或 "aaaa"</td> </tr> <tr> <td>(…)</td> <td>分组，捕获匹配的文本</td> <td><code>(ab)+</code> 可以匹配 "ab"、"abab"、"ababab" 等</td> </tr> <tr> <td>|</td> <td>逻辑或，匹配两侧任意一个表达式</td> <td><code>a\|b</code> 可以匹配 "a" 或 "b"</td> </tr> <tr> <td><code>\.</code></td> <td>转义字符，匹配点号字符</td> <td><code>\.</code> 可以匹配字符串中的 "."</td> </tr> <tr> <td><code>\d{4}</code></td> <td>预定义匹配字符集，匹配四位数字</td> <td><code>\d{4}</code> 可以匹配字符串中的四位数字</td> </tr> <tr> <td><code>.*</code></td> <td>重复匹配，匹配任意字符零次或多次</td> <td><code>.*</code> 可以匹配任意长度的字符串</td> </tr> <tr> <td><code>(?i)abc</code></td> <td>忽略大小写匹配，匹配 "abc" 不区分大小写</td> <td><code>(?i)abc</code> 可以匹配 "abc"、"AbC"、"ABC" 等</td> </tr> <tr> <td><code>(?m)^abc$</code></td> <td>多行模式匹配，匹配以 "abc" 开头和结尾的字符串</td> <td><code>(?m)^abc$</code> 可以匹配 "abc" 以及多行文本中的每一行都是 "abc"</td> </tr> <tr> <td><code>.*?</code></td> <td>非贪婪模式匹配，匹配尽量少的字符</td> <td><code>.*?</code> 可以匹配任意长度的字符串，但尽量匹配最少的字符</td> </tr> </tbody> </table> <p>常用的特殊字符。</p> <table> <thead> <tr> <th style="text-align: center;">特殊字符</th> <th style="text-align: center;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">/d</td> <td style="text-align: center;">匹配任何十进制数字，与【0-9】一致</td> </tr> <tr> <td style="text-align: center;">/D</td> <td style="text-align: center;">匹配任意数字</td> </tr> <tr> <td style="text-align: center;">/w</td> <td style="text-align: center;">匹配任何字母数字下划线以及unicode字符集</td> </tr> <tr> <td style="text-align: center;">/W</td> <td style="text-align: center;">匹配任何非字母数字以及下划线</td> </tr> <tr> <td style="text-align: center;">/s</td> <td style="text-align: center;">匹配任何空格字符，与【\n\t\r\v\f】相同</td> </tr> <tr> <td style="text-align: center;">/S</td> <td style="text-align: center;">匹配任意字符</td> </tr> <tr> <td style="text-align: center;">\A</td> <td style="text-align: center;">匹配字符串的起始</td> </tr> <tr> <td style="text-align: center;">\Z</td> <td style="text-align: center;">匹配字符串的结束</td> </tr> <tr> <td style="text-align: center;">.</td> <td style="text-align: center;">匹配任何字符串</td> </tr> </tbody> </table> <p>代码演示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=kn>import</span> <span class=nn>re</span>
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class=c1># 准备需要被匹配的字符串</span>
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=n>data</span> <span class=o>=</span> <span class=s1>&#39;hello jie you are 22 age old&#39;</span>
<a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a>
<a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=c1># 匹配任何十进制数字，与【0-9】一致</span>
<a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\d&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-35-8 name=__codelineno-35-8 href=#__codelineno-35-8></a><span class=c1># 匹配任何空格字符</span>
<a id=__codelineno-35-9 name=__codelineno-35-9 href=#__codelineno-35-9></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\s&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-35-10 name=__codelineno-35-10 href=#__codelineno-35-10></a><span class=c1># 匹配任何字母数字下划线以及unicode字符集</span>
<a id=__codelineno-35-11 name=__codelineno-35-11 href=#__codelineno-35-11></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\w&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-35-12 name=__codelineno-35-12 href=#__codelineno-35-12></a><span class=c1># 匹配字符串的起始</span>
<a id=__codelineno-35-13 name=__codelineno-35-13 href=#__codelineno-35-13></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\Ahello&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
</code></pre></div> <p>量词符号。</p> <table> <thead> <tr> <th style="text-align: center;">符号</th> <th style="text-align: center;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">re1|re2</td> <td style="text-align: center;">匹配正则表达式re1 或者 re2</td> </tr> <tr> <td style="text-align: center;">^</td> <td style="text-align: center;">匹配字符串起始部分</td> </tr> <tr> <td style="text-align: center;">$</td> <td style="text-align: center;">匹配字符串终止部分</td> </tr> <tr> <td style="text-align: center;">*</td> <td style="text-align: center;">匹配0次或者多次前面出现的正则表达式</td> </tr> <tr> <td style="text-align: center;">+</td> <td style="text-align: center;">匹配一次或者多次前面出现的正则表达式</td> </tr> <tr> <td style="text-align: center;">{N}</td> <td style="text-align: center;">匹配N次前面出现的正则表达式</td> </tr> <tr> <td style="text-align: center;">{M,N}</td> <td style="text-align: center;">给出匹配到的数据范围</td> </tr> <tr> <td style="text-align: center;">[...]</td> <td style="text-align: center;">匹配来自字符集的任意单一字符</td> </tr> <tr> <td style="text-align: center;">[..x-y..]</td> <td style="text-align: center;">匹配x~y范围中的任意单一字符</td> </tr> <tr> <td style="text-align: center;">[^...]</td> <td style="text-align: center;">不匹配此字符集中出现的任何一个字符， 包括某一范围的字符（如果在此字符集中出现）</td> </tr> <tr> <td style="text-align: center;">\</td> <td style="text-align: center;">将特殊字符无效化</td> </tr> </tbody> </table> <p>代码演示</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a> <span class=kn>import</span> <span class=nn>re</span>
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>
<a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a><span class=c1># 准备需要被匹配的字符串</span>
<a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=n>data</span> <span class=o>=</span> <span class=s1>&#39;hello jie you are 22 age old&#39;</span>
<a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a>
<a id=__codelineno-36-6 name=__codelineno-36-6 href=#__codelineno-36-6></a><span class=c1># 匹配正则表达式 re1 或者  re2 注意 ： 匹配的数据只按字符串数据返回，而不是按照匹配规则返回</span>
<a id=__codelineno-36-7 name=__codelineno-36-7 href=#__codelineno-36-7></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;hello|jie|21&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-8 name=__codelineno-36-8 href=#__codelineno-36-8></a><span class=c1># 匹配字符串起始部分</span>
<a id=__codelineno-36-9 name=__codelineno-36-9 href=#__codelineno-36-9></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;^hello&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-10 name=__codelineno-36-10 href=#__codelineno-36-10></a><span class=c1># 匹配字符串终止部分</span>
<a id=__codelineno-36-11 name=__codelineno-36-11 href=#__codelineno-36-11></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;old$&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-12 name=__codelineno-36-12 href=#__codelineno-36-12></a><span class=c1># W* 匹配0次或多次数字或字母</span>
<a id=__codelineno-36-13 name=__codelineno-36-13 href=#__codelineno-36-13></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\w*&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-14 name=__codelineno-36-14 href=#__codelineno-36-14></a><span class=c1># W+ 匹配一次或者多次数字或字母 空属于0次范围不会配匹配出来</span>
<a id=__codelineno-36-15 name=__codelineno-36-15 href=#__codelineno-36-15></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\w+&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-16 name=__codelineno-36-16 href=#__codelineno-36-16></a><span class=c1># 对于匹配到的数据只获取3个</span>
<a id=__codelineno-36-17 name=__codelineno-36-17 href=#__codelineno-36-17></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\w</span><span class=si>{3}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-18 name=__codelineno-36-18 href=#__codelineno-36-18></a><span class=c1># 匹配a~z范围中的任意单一字符 [a-zA-Z0-9]等同于\w</span>
<a id=__codelineno-36-19 name=__codelineno-36-19 href=#__codelineno-36-19></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;[a-z]</span><span class=si>{3}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-20 name=__codelineno-36-20 href=#__codelineno-36-20></a><span class=c1># 匹配1或者5次 {N,M}中间的逗号左右不要出现空格</span>
<a id=__codelineno-36-21 name=__codelineno-36-21 href=#__codelineno-36-21></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;\w{1,5}&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
<a id=__codelineno-36-22 name=__codelineno-36-22 href=#__codelineno-36-22></a><span class=c1># 不匹配此字符集中出现的任何一个字符 字符集中的^号不代表开始的意思而是过滤掉</span>
<a id=__codelineno-36-23 name=__codelineno-36-23 href=#__codelineno-36-23></a><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=s1>&#39;[^jie]&#39;</span><span class=p>,</span> <span class=n>data</span><span class=p>))</span>
</code></pre></div> <p>组</p> <table> <thead> <tr> <th style="text-align: center;">符号</th> <th style="text-align: center;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">（）</td> <td style="text-align: center;">在匹配规则中获取指定的数据</td> </tr> </tbody> </table> <p>代码演示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>re
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;hello jie you are 22 age old&#39;</span>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=nv>result</span><span class=w> </span><span class=o>=</span><span class=w> </span>re.search<span class=o>(</span><span class=s1>&#39;hello (.*)jie (.*)&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a>
<a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>print<span class=o>(</span>result.groups<span class=o>())</span>
<a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=o>(</span><span class=s1>&#39;&#39;</span>,<span class=w> </span><span class=s1>&#39;you are 22 age old&#39;</span><span class=o>)</span>
<a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a>
<a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>print<span class=o>(</span><span class=s2>&quot;1:&quot;</span><span class=w> </span>+<span class=w> </span>result.group<span class=o>(</span><span class=m>1</span><span class=o>))</span>
<a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=m>1</span>:
<a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a>
<a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>print<span class=o>(</span><span class=s2>&quot;2:&quot;</span><span class=w> </span>+<span class=w> </span>result.group<span class=o>(</span><span class=m>2</span><span class=o>))</span>
<a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a><span class=m>2</span>:you<span class=w> </span>are<span class=w> </span><span class=m>22</span><span class=w> </span>age<span class=w> </span>old
</code></pre></div> <h3 id=122--利用re库处理正则表达式>1.2.2 利用re库处理正则表达式<a class=headerlink href=#122--利用re库处理正则表达式 title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>方法</th> <th>描述</th> <th>返回值</th> </tr> </thead> <tbody> <tr> <td>compile(pattern[, flags])</td> <td>根据包含正则表达式的字符串创建模式对象</td> <td>re对象</td> </tr> <tr> <td>search(pattern, string[, flags])</td> <td>在字符串中查找</td> <td>第一个匹配到的对象或者None</td> </tr> <tr> <td>match(pattern, string[, flags])</td> <td>在字符串的开始处匹配模式</td> <td>在字符串开头匹配到的对象或者None</td> </tr> <tr> <td>split(pattern, string[, maxsplit=0,flags])</td> <td>根据模式的匹配项来分割字符串</td> <td>分割后的字符串列表</td> </tr> <tr> <td>findall(pattern, string,flags)</td> <td>列出字符串中模式的所有匹配项</td> <td>所有匹配到的字符串列表</td> </tr> <tr> <td>sub(pat,repl, string[,count=0,flags])</td> <td>将字符串中所有的pat的匹配项用repl替换</td> <td>完成替换后的新字符串</td> </tr> <tr> <td>finditer(pattern, string,flags)</td> <td>将所有匹配到的项生成一个迭代器</td> <td>所有匹配到的字符串组合成的迭代器</td> </tr> <tr> <td>subn(pat,repl, string[,count=0,flags])</td> <td>在替换字符串后，同时报告替换的次数</td> <td>完成替换后的新字符串及替换次数</td> </tr> <tr> <td>escape（string</td> <td>将字符串中所有特殊正则表达式字符串转义</td> <td>转义后的字符串</td> </tr> <tr> <td>purge(pattern)</td> <td>清空正则表达式</td> <td></td> </tr> <tr> <td>template(pattern[,flags])</td> <td>编译一个匹配模板</td> <td>模式对象</td> </tr> <tr> <td>fullmatch(pattern, string[, flags])</td> <td>match方法的全字符串匹配版本</td> <td>类似match的返回值</td> </tr> </tbody> </table> <p>re的额外匹配要求</p> <p>re模块的额外匹配要求,其实这些匹配要求都是一些属性，一般情况下使用率不高，了解即可。</p> <table> <thead> <tr> <th style="text-align: center;">属性</th> <th style="text-align: center;">描述</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">re.I 、re.IGNORECASE</td> <td style="text-align: center;">不区分大小写的匹配</td> </tr> <tr> <td style="text-align: center;">re.L、re.LOCALE</td> <td style="text-align: center;">根据所使用的本地语言环境通过\w、\W、\s、\S实现匹配</td> </tr> <tr> <td style="text-align: center;">re.M、re.MULTILINE</td> <td style="text-align: center;">^和$分别匹配目标字符串中行的起始和结尾，而不是严格匹配整个字符串本身的起始和结尾。</td> </tr> <tr> <td style="text-align: center;">re.S、rer.DOTALL</td> <td style="text-align: center;">"."(点号)通常匹配除了\n（换行符）之外的所有单个字符；该标记表示"."（点号）能够匹配全部字符</td> </tr> <tr> <td style="text-align: center;">re.X、re.VERBOSE</td> <td style="text-align: center;">忽略规则表达式中的空白和注释</td> </tr> </tbody> </table> <p>例如，最常用的是re模块下的findall函数，用来输出所有符合模式匹配的子串，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>re
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;What is the difference between python 2.7.13 and Python 3.6.0 ?&quot;</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a>
<a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;python [0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;python 2.7.1&#39;</span><span class=o>]</span>
</code></pre></div> <p>re模块在模式匹配的时候忽略字符的大小写，可以通过传递标志的形式告诉re模块忽略大小写这个需求，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;python [0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data,<span class=w> </span><span class=nv>flags</span><span class=o>=</span>re.IGNORECASE<span class=o>)</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;python 2.7.1&#39;</span>,<span class=w> </span><span class=s1>&#39;Python 3.6.0&#39;</span><span class=o>]</span>
</code></pre></div> <p>Python中有两种使用正则表达式的方式。</p> <ol> <li> <p>第一种是直接使用re模块中的函数，正如前面的例子中演示的一样。</p> </li> <li> <p>第二种是创建一个特定模式编译的正则表达式对象，然后使用这个对象中的方法。</p> </li> </ol> <p>编译的正则表达式使用方法如下： <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>re
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a>
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;What is the difference between python 2.7.13 and Python 3.6.0 ?&quot;</span>
<a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a>
<a id=__codelineno-40-5 name=__codelineno-40-5 href=#__codelineno-40-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=nv>re_obj</span><span class=w> </span><span class=o>=</span><span class=w> </span>re.compile<span class=o>(</span><span class=s1>&#39;python [0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span><span class=nv>flags</span><span class=o>=</span>re.IGNORECASE<span class=o>)</span>
<a id=__codelineno-40-6 name=__codelineno-40-6 href=#__codelineno-40-6></a>
<a id=__codelineno-40-7 name=__codelineno-40-7 href=#__codelineno-40-7></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>re_obj.findall<span class=o>(</span>data<span class=o>)</span>
<a id=__codelineno-40-8 name=__codelineno-40-8 href=#__codelineno-40-8></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;python 2.7.1&#39;</span>,<span class=w> </span><span class=s1>&#39;Python 3.6.0&#39;</span><span class=o>]</span>
</code></pre></div></p> <p>两种方式进行比较</p> <p>例如，我们使用Linux下的seq命令产生1000万个整数保存到文件中。 该数据文件大约有76M，并不算很大，但是足以用来比较编译版本的正则表达式和非编译版本的正则表达式之间的性能。 接下来，对文件的每一行应用模式“<code>[0-9]+</code>”，并使用Linux下的time工具统计程序的运行时间。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-41-1 name=__codelineno-41-1 href=#__codelineno-41-1></a>hujianli@hujianli-OptiPlex-7010:~$<span class=w> </span>seq<span class=w> </span><span class=m>1</span><span class=w> </span><span class=m>10000000</span><span class=w> </span>&gt;<span class=w> </span>data.txt
<a id=__codelineno-41-2 name=__codelineno-41-2 href=#__codelineno-41-2></a>hujianli@hujianli-OptiPlex-7010:~$<span class=w> </span>du<span class=w> </span>-sh<span class=w> </span>data.txt<span class=w> </span>
<a id=__codelineno-41-3 name=__codelineno-41-3 href=#__codelineno-41-3></a>76M<span class=w> </span>data.txt
</code></pre></div> <p>非编译的正则表达式版本源码如下： <div class=highlight><pre><span></span><code><a id=__codelineno-42-1 name=__codelineno-42-1 href=#__codelineno-42-1></a><span class=c1># $ cat re_nocompile.py </span>
<a id=__codelineno-42-2 name=__codelineno-42-2 href=#__codelineno-42-2></a><span class=c1>#!/usr/bin/python</span>
<a id=__codelineno-42-3 name=__codelineno-42-3 href=#__codelineno-42-3></a><span class=c1>#-*- coding: UTF-8 -*-</span>
<a id=__codelineno-42-4 name=__codelineno-42-4 href=#__codelineno-42-4></a><span class=kn>import</span> <span class=nn>re</span>
<a id=__codelineno-42-5 name=__codelineno-42-5 href=#__codelineno-42-5></a>
<a id=__codelineno-42-6 name=__codelineno-42-6 href=#__codelineno-42-6></a><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
<a id=__codelineno-42-7 name=__codelineno-42-7 href=#__codelineno-42-7></a>    <span class=n>pattern</span> <span class=o>=</span> <span class=s2>&quot;[0-9]+&quot;</span>
<a id=__codelineno-42-8 name=__codelineno-42-8 href=#__codelineno-42-8></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-42-9 name=__codelineno-42-9 href=#__codelineno-42-9></a>        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-42-10 name=__codelineno-42-10 href=#__codelineno-42-10></a>            <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=n>line</span><span class=p>)</span>
<a id=__codelineno-42-11 name=__codelineno-42-11 href=#__codelineno-42-11></a>
<a id=__codelineno-42-12 name=__codelineno-42-12 href=#__codelineno-42-12></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
<a id=__codelineno-42-13 name=__codelineno-42-13 href=#__codelineno-42-13></a>    <span class=n>main</span><span class=p>()</span>
</code></pre></div></p> <p>编译的正则表达式版本源码如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-43-1 name=__codelineno-43-1 href=#__codelineno-43-1></a><span class=c1># $ cat re_compile.py </span>
<a id=__codelineno-43-2 name=__codelineno-43-2 href=#__codelineno-43-2></a><span class=c1>#!/usr/bin/python</span>
<a id=__codelineno-43-3 name=__codelineno-43-3 href=#__codelineno-43-3></a><span class=c1>#-*- coding: UTF-8 -*-</span>
<a id=__codelineno-43-4 name=__codelineno-43-4 href=#__codelineno-43-4></a><span class=kn>import</span> <span class=nn>re</span>
<a id=__codelineno-43-5 name=__codelineno-43-5 href=#__codelineno-43-5></a>
<a id=__codelineno-43-6 name=__codelineno-43-6 href=#__codelineno-43-6></a><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
<a id=__codelineno-43-7 name=__codelineno-43-7 href=#__codelineno-43-7></a>    <span class=n>pattern</span> <span class=o>=</span> <span class=s2>&quot;[0-9]+&quot;</span>
<a id=__codelineno-43-8 name=__codelineno-43-8 href=#__codelineno-43-8></a>    <span class=n>re_obj</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>pattern</span><span class=p>)</span>
<a id=__codelineno-43-9 name=__codelineno-43-9 href=#__codelineno-43-9></a>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;data.txt&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-43-10 name=__codelineno-43-10 href=#__codelineno-43-10></a>        <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>f</span><span class=p>:</span>
<a id=__codelineno-43-11 name=__codelineno-43-11 href=#__codelineno-43-11></a>            <span class=n>re_obj</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>line</span><span class=p>)</span>
<a id=__codelineno-43-12 name=__codelineno-43-12 href=#__codelineno-43-12></a>
<a id=__codelineno-43-13 name=__codelineno-43-13 href=#__codelineno-43-13></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
<a id=__codelineno-43-14 name=__codelineno-43-14 href=#__codelineno-43-14></a>    <span class=n>main</span><span class=p>()</span>
</code></pre></div> <p><div class=highlight><pre><span></span><code><a id=__codelineno-44-1 name=__codelineno-44-1 href=#__codelineno-44-1></a>hujianli@hujianli-OptiPlex-7010:~$<span class=w> </span><span class=nb>time</span><span class=w> </span>python<span class=w> </span>re_nocompile.py
<a id=__codelineno-44-2 name=__codelineno-44-2 href=#__codelineno-44-2></a>
<a id=__codelineno-44-3 name=__codelineno-44-3 href=#__codelineno-44-3></a>real<span class=w>    </span>0m10.055s
<a id=__codelineno-44-4 name=__codelineno-44-4 href=#__codelineno-44-4></a>user<span class=w>    </span>0m9.968s
<a id=__codelineno-44-5 name=__codelineno-44-5 href=#__codelineno-44-5></a>sys<span class=w> </span>0m0.040s
<a id=__codelineno-44-6 name=__codelineno-44-6 href=#__codelineno-44-6></a>hujianli@hujianli-OptiPlex-7010:~$<span class=w> </span><span class=nb>time</span><span class=w> </span>python<span class=w> </span>re_compile.py
<a id=__codelineno-44-7 name=__codelineno-44-7 href=#__codelineno-44-7></a>
<a id=__codelineno-44-8 name=__codelineno-44-8 href=#__codelineno-44-8></a>real<span class=w>    </span>0m4.182s
<a id=__codelineno-44-9 name=__codelineno-44-9 href=#__codelineno-44-9></a>user<span class=w>    </span>0m4.160s
<a id=__codelineno-44-10 name=__codelineno-44-10 href=#__codelineno-44-10></a>sys<span class=w> </span>0m0.021s
</code></pre></div> 在数据量大的情况下，建议使用编译版本的正则表达式。</p> <div class="admonition info"> <p class=admonition-title>强烈推荐工具！</p> <p><a href=https://regex101.com/ >正则表达式生成代码网站</a></p> </div> <h3 id=123-常用的re方法>1.2.3 常用的re方法<a class=headerlink href=#123-常用的re方法 title="Permanent link">&para;</a></h3> <h4 id=1匹配类的函数>1."匹配"类的函数<a class=headerlink href=#1匹配类的函数 title="Permanent link">&para;</a></h4> <ul> <li>findall函数</li> </ul> <p>该函数在字符串中查找模式匹配，将所有的匹配字符串以列表的形式返回</p> <div class=highlight><pre><span></span><code><a id=__codelineno-45-1 name=__codelineno-45-1 href=#__codelineno-45-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>re
<a id=__codelineno-45-2 name=__codelineno-45-2 href=#__codelineno-45-2></a>
<a id=__codelineno-45-3 name=__codelineno-45-3 href=#__codelineno-45-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;What is the difference between python 2.7.13 and Python 3.6.0 ?&quot;</span>
<a id=__codelineno-45-4 name=__codelineno-45-4 href=#__codelineno-45-4></a>
<a id=__codelineno-45-5 name=__codelineno-45-5 href=#__codelineno-45-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;[0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-45-6 name=__codelineno-45-6 href=#__codelineno-45-6></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;2.7.1&#39;</span>,<span class=w> </span><span class=s1>&#39;3.6.0&#39;</span><span class=o>]</span>
<a id=__codelineno-45-7 name=__codelineno-45-7 href=#__codelineno-45-7></a>
<a id=__codelineno-45-8 name=__codelineno-45-8 href=#__codelineno-45-8></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;Pytho [0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-45-9 name=__codelineno-45-9 href=#__codelineno-45-9></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=o>[]</span>
<a id=__codelineno-45-10 name=__codelineno-45-10 href=#__codelineno-45-10></a>
<a id=__codelineno-45-11 name=__codelineno-45-11 href=#__codelineno-45-11></a>In<span class=w> </span><span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;Python [0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-45-12 name=__codelineno-45-12 href=#__codelineno-45-12></a>Out<span class=o>[</span><span class=m>5</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;Python 3.6.0&#39;</span><span class=o>]</span>
<a id=__codelineno-45-13 name=__codelineno-45-13 href=#__codelineno-45-13></a>
<a id=__codelineno-45-14 name=__codelineno-45-14 href=#__codelineno-45-14></a>In<span class=w> </span><span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;[0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-45-15 name=__codelineno-45-15 href=#__codelineno-45-15></a>Out<span class=o>[</span><span class=m>6</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;2.7.1&#39;</span>,<span class=w> </span><span class=s1>&#39;3.6.0&#39;</span><span class=o>]</span>
</code></pre></div> <ul> <li>match函数</li> </ul> <p>该函数用以匹配字符串的开始部分，如果模式匹配成功，返回一个SRE_Match类型的对象，如果模式匹配失败，返回一个None。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-46-1 name=__codelineno-46-1 href=#__codelineno-46-1></a>In<span class=w> </span><span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>data.startswith<span class=o>(</span><span class=s1>&#39;What&#39;</span><span class=o>)</span>
<a id=__codelineno-46-2 name=__codelineno-46-2 href=#__codelineno-46-2></a>Out<span class=o>[</span><span class=m>7</span><span class=o>]</span>:<span class=w> </span>True
<a id=__codelineno-46-3 name=__codelineno-46-3 href=#__codelineno-46-3></a>
<a id=__codelineno-46-4 name=__codelineno-46-4 href=#__codelineno-46-4></a>In<span class=w> </span><span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>data.startswith<span class=o>(</span><span class=s1>&#39;Not What&#39;</span><span class=o>)</span>
<a id=__codelineno-46-5 name=__codelineno-46-5 href=#__codelineno-46-5></a>Out<span class=o>[</span><span class=m>8</span><span class=o>]</span>:<span class=w> </span>False
<a id=__codelineno-46-6 name=__codelineno-46-6 href=#__codelineno-46-6></a>
<a id=__codelineno-46-7 name=__codelineno-46-7 href=#__codelineno-46-7></a>In<span class=w> </span><span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span>re.match<span class=o>(</span><span class=s1>&#39;What&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-46-8 name=__codelineno-46-8 href=#__codelineno-46-8></a>Out<span class=o>[</span><span class=m>9</span><span class=o>]</span>:<span class=w> </span>&lt;_sre.SRE_Match<span class=w> </span>object<span class=p>;</span><span class=w> </span><span class=nv>span</span><span class=o>=(</span><span class=m>0</span>,<span class=w> </span><span class=m>4</span><span class=o>)</span>,<span class=w> </span><span class=nv>match</span><span class=o>=</span><span class=s1>&#39;What&#39;</span>&gt;
<a id=__codelineno-46-9 name=__codelineno-46-9 href=#__codelineno-46-9></a>
<a id=__codelineno-46-10 name=__codelineno-46-10 href=#__codelineno-46-10></a>In<span class=w> </span><span class=o>[</span><span class=m>10</span><span class=o>]</span>:<span class=w> </span><span class=k>if</span><span class=w> </span>re.match<span class=o>(</span><span class=s1>&#39;What&#39;</span>,<span class=w> </span>data<span class=o>)</span>:
<a id=__codelineno-46-11 name=__codelineno-46-11 href=#__codelineno-46-11></a><span class=w>    </span>...:<span class=w>     </span>print<span class=o>(</span>True<span class=o>)</span>
<a id=__codelineno-46-12 name=__codelineno-46-12 href=#__codelineno-46-12></a><span class=w>    </span>...:<span class=w> </span><span class=k>else</span>:
<a id=__codelineno-46-13 name=__codelineno-46-13 href=#__codelineno-46-13></a><span class=w>    </span>...:<span class=w>     </span>print<span class=o>(</span>False<span class=o>)</span>
<a id=__codelineno-46-14 name=__codelineno-46-14 href=#__codelineno-46-14></a><span class=w>    </span>...:<span class=w>     </span>
<a id=__codelineno-46-15 name=__codelineno-46-15 href=#__codelineno-46-15></a>True
<a id=__codelineno-46-16 name=__codelineno-46-16 href=#__codelineno-46-16></a>
<a id=__codelineno-46-17 name=__codelineno-46-17 href=#__codelineno-46-17></a>In<span class=w> </span><span class=o>[</span><span class=m>11</span><span class=o>]</span>:<span class=w> </span><span class=k>if</span><span class=w> </span>re.match<span class=o>(</span><span class=s1>&#39;Not What&#39;</span>,<span class=w> </span>data<span class=o>)</span>:
<a id=__codelineno-46-18 name=__codelineno-46-18 href=#__codelineno-46-18></a><span class=w>    </span>...:<span class=w>     </span>print<span class=o>(</span>True<span class=o>)</span>
<a id=__codelineno-46-19 name=__codelineno-46-19 href=#__codelineno-46-19></a><span class=w>    </span>...:<span class=w> </span><span class=k>else</span>:
<a id=__codelineno-46-20 name=__codelineno-46-20 href=#__codelineno-46-20></a><span class=w>    </span>...:<span class=w>     </span>print<span class=o>(</span>False<span class=o>)</span>
<a id=__codelineno-46-21 name=__codelineno-46-21 href=#__codelineno-46-21></a><span class=w>    </span>...:<span class=w>     </span>
<a id=__codelineno-46-22 name=__codelineno-46-22 href=#__codelineno-46-22></a>False
</code></pre></div> <p>虽然简单使用时match函数和startswith函数比较类似，但是，对于复杂的情况，match函数能够轻易解决，starswith则无能为力。</p> <p>例如，我们需要判断一个文本字符串是否以一个数字开头。由于我们不知道具体是哪个数字，只知道要求是数字，因此，无法使用startswith函数。</p> <p>这个时候，可以使用re模块的match函数轻松解决，如下所示： <div class=highlight><pre><span></span><code><a id=__codelineno-47-1 name=__codelineno-47-1 href=#__codelineno-47-1></a>In<span class=w> </span><span class=o>[</span><span class=m>12</span><span class=o>]</span>:<span class=w> </span>re.match<span class=o>(</span><span class=s1>&#39;\d+&#39;</span>,<span class=w> </span><span class=s2>&quot;123 is one hundred and twenty-three&quot;</span><span class=o>)</span>
<a id=__codelineno-47-2 name=__codelineno-47-2 href=#__codelineno-47-2></a>Out<span class=o>[</span><span class=m>12</span><span class=o>]</span>:<span class=w> </span>&lt;_sre.SRE_Match<span class=w> </span>object<span class=p>;</span><span class=w> </span><span class=nv>span</span><span class=o>=(</span><span class=m>0</span>,<span class=w> </span><span class=m>3</span><span class=o>)</span>,<span class=w> </span><span class=nv>match</span><span class=o>=</span><span class=s1>&#39;123&#39;</span>&gt;
</code></pre></div></p> <p>match匹配成功时返回SRE_Match类型的对象。该对象包含了相关的模式和原始字符串，模式匹配成功的子串起始位置和结束位置，也可以通过该对象获取匹配的字符串。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-48-1 name=__codelineno-48-1 href=#__codelineno-48-1></a>In<span class=w> </span><span class=o>[</span><span class=m>13</span><span class=o>]</span>:<span class=w> </span><span class=nv>r</span><span class=w> </span><span class=o>=</span><span class=w> </span>re.match<span class=o>(</span><span class=s1>&#39;\d+&#39;</span>,<span class=w> </span><span class=s2>&quot;123 is one hundred and twenty-three&quot;</span><span class=o>)</span>
<a id=__codelineno-48-2 name=__codelineno-48-2 href=#__codelineno-48-2></a>
<a id=__codelineno-48-3 name=__codelineno-48-3 href=#__codelineno-48-3></a>In<span class=w> </span><span class=o>[</span><span class=m>14</span><span class=o>]</span>:<span class=w> </span>r.start<span class=o>()</span>
<a id=__codelineno-48-4 name=__codelineno-48-4 href=#__codelineno-48-4></a>Out<span class=o>[</span><span class=m>14</span><span class=o>]</span>:<span class=w> </span><span class=m>0</span>
<a id=__codelineno-48-5 name=__codelineno-48-5 href=#__codelineno-48-5></a>
<a id=__codelineno-48-6 name=__codelineno-48-6 href=#__codelineno-48-6></a>In<span class=w> </span><span class=o>[</span><span class=m>15</span><span class=o>]</span>:<span class=w> </span>r.end<span class=o>()</span>
<a id=__codelineno-48-7 name=__codelineno-48-7 href=#__codelineno-48-7></a>Out<span class=o>[</span><span class=m>15</span><span class=o>]</span>:<span class=w> </span><span class=m>3</span>
<a id=__codelineno-48-8 name=__codelineno-48-8 href=#__codelineno-48-8></a>
<a id=__codelineno-48-9 name=__codelineno-48-9 href=#__codelineno-48-9></a>In<span class=w> </span><span class=o>[</span><span class=m>16</span><span class=o>]</span>:<span class=w> </span>r.re<span class=w> </span>
<a id=__codelineno-48-10 name=__codelineno-48-10 href=#__codelineno-48-10></a>Out<span class=o>[</span><span class=m>16</span><span class=o>]</span>:<span class=w> </span>re.compile<span class=o>(</span>r<span class=s1>&#39;\d+&#39;</span>,<span class=w> </span>re.UNICODE<span class=o>)</span>
<a id=__codelineno-48-11 name=__codelineno-48-11 href=#__codelineno-48-11></a>
<a id=__codelineno-48-12 name=__codelineno-48-12 href=#__codelineno-48-12></a>In<span class=w> </span><span class=o>[</span><span class=m>17</span><span class=o>]</span>:<span class=w> </span>r.string<span class=w> </span>
<a id=__codelineno-48-13 name=__codelineno-48-13 href=#__codelineno-48-13></a>Out<span class=o>[</span><span class=m>17</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;123 is one hundred and twenty-three&#39;</span>
<a id=__codelineno-48-14 name=__codelineno-48-14 href=#__codelineno-48-14></a>
<a id=__codelineno-48-15 name=__codelineno-48-15 href=#__codelineno-48-15></a>In<span class=w> </span><span class=o>[</span><span class=m>18</span><span class=o>]</span>:<span class=w> </span>r.group<span class=o>()</span>
<a id=__codelineno-48-16 name=__codelineno-48-16 href=#__codelineno-48-16></a>Out<span class=o>[</span><span class=m>18</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;123&#39;</span>
</code></pre></div> <ul> <li>search函数</li> </ul> <p>该函数模式匹配成功时，也会返回一个SRE_Match对象。</p> <p>search函数与match函数用法几乎一样，区别在于前者在字符串的任意位置进行匹配，后者仅对字符串的开始部分进行匹配。 它们的共同点是，如果匹配成功，返回SRE_Match对象，如果匹配失败，返回一个None。</p> <ul> <li>finditer函数 </li> </ul> <p>该函数返回一个迭代器，遍历迭代器可以得到一个SRE_Match对象，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-49-1 name=__codelineno-49-1 href=#__codelineno-49-1></a>In<span class=w> </span><span class=o>[</span><span class=m>19</span><span class=o>]</span>:<span class=w> </span><span class=nv>data</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;What is the difference between python 2.7.13 and Python 3.6.0 ?&quot;</span>
<a id=__codelineno-49-2 name=__codelineno-49-2 href=#__codelineno-49-2></a>
<a id=__codelineno-49-3 name=__codelineno-49-3 href=#__codelineno-49-3></a>In<span class=w> </span><span class=o>[</span><span class=m>20</span><span class=o>]</span>:<span class=w> </span><span class=nv>r</span><span class=w> </span><span class=o>=</span><span class=w> </span>re.finditer<span class=o>(</span><span class=s1>&#39;[0-9]\.[0-9]\.[0-9]&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-49-4 name=__codelineno-49-4 href=#__codelineno-49-4></a>
<a id=__codelineno-49-5 name=__codelineno-49-5 href=#__codelineno-49-5></a>In<span class=w> </span><span class=o>[</span><span class=m>21</span><span class=o>]</span>:<span class=w> </span><span class=k>for</span><span class=w> </span>it<span class=w> </span><span class=k>in</span><span class=w> </span>r:
<a id=__codelineno-49-6 name=__codelineno-49-6 href=#__codelineno-49-6></a><span class=w>    </span>...:<span class=w>     </span>print<span class=o>(</span>it.group<span class=o>(</span><span class=m>0</span><span class=o>))</span>
<a id=__codelineno-49-7 name=__codelineno-49-7 href=#__codelineno-49-7></a><span class=w>    </span>...:<span class=w>     </span>
<a id=__codelineno-49-8 name=__codelineno-49-8 href=#__codelineno-49-8></a><span class=m>2</span>.7.1
<a id=__codelineno-49-9 name=__codelineno-49-9 href=#__codelineno-49-9></a><span class=m>3</span>.6.0
</code></pre></div> <h4 id=2修改类函数>2."修改类"函数<a class=headerlink href=#2修改类函数 title="Permanent link">&para;</a></h4> <ul> <li>sub函数</li> </ul> <p>该函数类似于字符串的replace函数，只是sub函数支持使用正则表达式。</p> <p>所以，re模块中的sub函数使用场景更加广泛，使用方式也更加灵活。例如，下面的正则表达式模式，可以同时匹配“2.7.13”和“3.6.0”，并将它们都替换为“x.x.x”。这个需求看似简单，如果使用Python字符串的replace函数，需要进行两次替换。使用正则表达式的sub函数，只需要一次替换即可完成。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-50-1 name=__codelineno-50-1 href=#__codelineno-50-1></a>In<span class=w> </span><span class=o>[</span><span class=m>22</span><span class=o>]</span>:<span class=w> </span>re.sub<span class=o>(</span><span class=s1>&#39;[0-9]+\.[0-9]+\.[0-9]+&#39;</span>,<span class=w> </span><span class=s1>&#39;x.x.x&#39;</span>,<span class=w> </span>data<span class=o>)</span>
<a id=__codelineno-50-2 name=__codelineno-50-2 href=#__codelineno-50-2></a>Out<span class=o>[</span><span class=m>22</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;What is the difference between python x.x.x and Python x.x.x ?&#39;</span>
</code></pre></div> <p>也可以结合sub函数和正则表达式的功能实现更加复杂的替换。例如，将下面的日期进行格式化，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-51-1 name=__codelineno-51-1 href=#__codelineno-51-1></a>In<span class=w> </span><span class=o>[</span><span class=m>23</span><span class=o>]</span>:<span class=w> </span><span class=nv>text</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Today is 3/2/2017. PyCon starts 5/25/2017.&#39;</span>
<a id=__codelineno-51-2 name=__codelineno-51-2 href=#__codelineno-51-2></a>
<a id=__codelineno-51-3 name=__codelineno-51-3 href=#__codelineno-51-3></a>In<span class=w> </span><span class=o>[</span><span class=m>24</span><span class=o>]</span>:<span class=w> </span>re.sub<span class=o>(</span>r<span class=s1>&#39;(\d+)/(\d+)/(\d+)&#39;</span>,<span class=w> </span>r<span class=s1>&#39;\3-\1-\2&#39;</span>,<span class=w> </span>text<span class=o>)</span>
<a id=__codelineno-51-4 name=__codelineno-51-4 href=#__codelineno-51-4></a>Out<span class=o>[</span><span class=m>25</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;Today is 2017-3-2. PyCon starts 2017-5-25.&#39;</span>
</code></pre></div> <ul> <li>split函数</li> </ul> <p>split函数与Python字符串的split函数功能一样，都是将一个字符串拆分成子串的列表。</p> <p>区别在于re模块的split函数能够使用正则表达式。例如，对于下面这一段包含冒号，逗号，单引号和若干空格的文本，我们希望拆分出每一个单词。</p> <p>面对这个需求，Python内置的split函数无法进行处理，因此，可以直接使用re模块的split函数。re模块的split函数能够指定多个分隔符，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-52-1 name=__codelineno-52-1 href=#__codelineno-52-1></a>In<span class=w> </span><span class=o>[</span><span class=m>26</span><span class=o>]</span>:<span class=w> </span><span class=nv>text</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;MySQL slave binlog position: master host &#39;10.173.33.35&#39;, filename &#39;mysql-bin.000002&#39;, position &#39;524993060&#39;&quot;</span>
<a id=__codelineno-52-2 name=__codelineno-52-2 href=#__codelineno-52-2></a>
<a id=__codelineno-52-3 name=__codelineno-52-3 href=#__codelineno-52-3></a>In<span class=w> </span><span class=o>[</span><span class=m>27</span><span class=o>]</span>:<span class=w> </span>re.split<span class=o>(</span>r<span class=s2>&quot;[&#39;:,\s]+&quot;</span>,<span class=w> </span>text.strip<span class=o>(</span><span class=s2>&quot;&#39;&quot;</span><span class=o>))</span>
<a id=__codelineno-52-4 name=__codelineno-52-4 href=#__codelineno-52-4></a>Out<span class=o>[</span><span class=m>27</span><span class=o>]</span>:<span class=w> </span>
<a id=__codelineno-52-5 name=__codelineno-52-5 href=#__codelineno-52-5></a><span class=o>[</span><span class=s1>&#39;MySQL&#39;</span>,
<a id=__codelineno-52-6 name=__codelineno-52-6 href=#__codelineno-52-6></a><span class=w> </span><span class=s1>&#39;slave&#39;</span>,
<a id=__codelineno-52-7 name=__codelineno-52-7 href=#__codelineno-52-7></a><span class=w> </span><span class=s1>&#39;binlog&#39;</span>,
<a id=__codelineno-52-8 name=__codelineno-52-8 href=#__codelineno-52-8></a><span class=w> </span><span class=s1>&#39;position&#39;</span>,
<a id=__codelineno-52-9 name=__codelineno-52-9 href=#__codelineno-52-9></a><span class=w> </span><span class=s1>&#39;master&#39;</span>,
<a id=__codelineno-52-10 name=__codelineno-52-10 href=#__codelineno-52-10></a><span class=w> </span><span class=s1>&#39;host&#39;</span>,
<a id=__codelineno-52-11 name=__codelineno-52-11 href=#__codelineno-52-11></a><span class=w> </span><span class=s1>&#39;10.173.33.35&#39;</span>,
<a id=__codelineno-52-12 name=__codelineno-52-12 href=#__codelineno-52-12></a><span class=w> </span><span class=s1>&#39;filename&#39;</span>,
<a id=__codelineno-52-13 name=__codelineno-52-13 href=#__codelineno-52-13></a><span class=w> </span><span class=s1>&#39;mysql-bin.000002&#39;</span>,
<a id=__codelineno-52-14 name=__codelineno-52-14 href=#__codelineno-52-14></a><span class=w> </span><span class=s1>&#39;position&#39;</span>,
<a id=__codelineno-52-15 name=__codelineno-52-15 href=#__codelineno-52-15></a><span class=w> </span><span class=s1>&#39;524993060&#39;</span><span class=o>]</span>
</code></pre></div> <h4 id=3大小写不敏感>3.大小写不敏感<a class=headerlink href=#3大小写不敏感 title="Permanent link">&para;</a></h4> <p>我们使用Python的re模块，并不一定总是为了使用正则表达式进行复杂的匹配。 有时候一些很小的需求，使用re模块也会比较方便。例如，我们在字符串查找或替换的时候需要忽略字符的大小写。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-53-1 name=__codelineno-53-1 href=#__codelineno-53-1></a>In<span class=w> </span><span class=o>[</span><span class=m>28</span><span class=o>]</span>:<span class=w> </span><span class=nv>text</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;UPPER PYTHON, lower python, Mixed Python&#39;</span>
<a id=__codelineno-53-2 name=__codelineno-53-2 href=#__codelineno-53-2></a>In<span class=w> </span><span class=o>[</span><span class=m>29</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;python&#39;</span>,<span class=w> </span>text,<span class=w> </span><span class=nv>flags</span><span class=o>=</span>re.IGNORECASE<span class=o>)</span>
<a id=__codelineno-53-3 name=__codelineno-53-3 href=#__codelineno-53-3></a>Out<span class=o>[</span><span class=m>29</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;PYTHON&#39;</span>,<span class=w> </span><span class=s1>&#39;python&#39;</span>,<span class=w> </span><span class=s1>&#39;Python&#39;</span><span class=o>]</span>
<a id=__codelineno-53-4 name=__codelineno-53-4 href=#__codelineno-53-4></a>In<span class=w> </span><span class=o>[</span><span class=m>30</span><span class=o>]</span>:<span class=w> </span>re.sub<span class=o>(</span><span class=s1>&#39;python&#39;</span>,<span class=w> </span><span class=s1>&#39;snake&#39;</span>,<span class=w> </span>text,<span class=w> </span><span class=nv>flags</span><span class=o>=</span>re.IGNORECASE<span class=o>)</span>
<a id=__codelineno-53-5 name=__codelineno-53-5 href=#__codelineno-53-5></a>Out<span class=o>[</span><span class=m>30</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;UPPER snake, lower snake, Mixed snake&#39;</span>
</code></pre></div> <h4 id=4非贪婪匹配>4.非贪婪匹配<a class=headerlink href=#4非贪婪匹配 title="Permanent link">&para;</a></h4> <p>在正则表达式的字符串匹配中，有贪婪匹配和非贪婪匹配的区别。贪婪匹配总是匹配到最长的那个字符串，相应的，非贪婪匹配是指匹配到最小的那个字符串。</p> <p>例如，在下面这个例子中，我们要匹配以“Beautiful”开头并且以点号结尾的字符串。</p> <p>显然，存在两个符合条件的匹配，分别是“Beautiful is better than ugly.Explicit is better than implicit.”和“Beautiful is better than ugly.”。 默认情况下，正则表达式使用贪婪匹配，如果要使用非贪婪匹配，只需要在匹配字符串时加上一个“？”。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-54-1 name=__codelineno-54-1 href=#__codelineno-54-1></a>In<span class=w> </span><span class=o>[</span><span class=m>31</span><span class=o>]</span>:<span class=w> </span><span class=nv>text</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Beautiful is better than ugly. Explicit is better than implicit.&quot;</span>
<a id=__codelineno-54-2 name=__codelineno-54-2 href=#__codelineno-54-2></a>
<a id=__codelineno-54-3 name=__codelineno-54-3 href=#__codelineno-54-3></a>In<span class=w> </span><span class=o>[</span><span class=m>32</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;Beautiful.*\.&#39;</span>,<span class=w> </span>text<span class=o>)</span>
<a id=__codelineno-54-4 name=__codelineno-54-4 href=#__codelineno-54-4></a>Out<span class=o>[</span><span class=m>33</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;Beautiful is better than ugly. Explicit is better than implicit.&#39;</span><span class=o>]</span>
<a id=__codelineno-54-5 name=__codelineno-54-5 href=#__codelineno-54-5></a>
<a id=__codelineno-54-6 name=__codelineno-54-6 href=#__codelineno-54-6></a>In<span class=w> </span><span class=o>[</span><span class=m>34</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;Beautiful.*?\.&#39;</span>,<span class=w> </span>text<span class=o>)</span>
<a id=__codelineno-54-7 name=__codelineno-54-7 href=#__codelineno-54-7></a>Out<span class=o>[</span><span class=m>35</span><span class=o>]</span>:<span class=w> </span><span class=o>[</span><span class=s1>&#39;Beautiful is better than ugly.&#39;</span><span class=o>]</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-55-1 name=__codelineno-55-1 href=#__codelineno-55-1></a><span class=kn>import</span> <span class=nn>re</span>
<a id=__codelineno-55-2 name=__codelineno-55-2 href=#__codelineno-55-2></a>
<a id=__codelineno-55-3 name=__codelineno-55-3 href=#__codelineno-55-3></a><span class=c1># 准备需要被匹配的字符串</span>
<a id=__codelineno-55-4 name=__codelineno-55-4 href=#__codelineno-55-4></a><span class=n>data</span> <span class=o>=</span> <span class=s1>&#39;hello jie you are 22 age old&#39;</span>
<a id=__codelineno-55-5 name=__codelineno-55-5 href=#__codelineno-55-5></a><span class=c1># ? 可将贪婪模式转为非贪婪模式 就是匹配多次转为匹配一次</span>
<a id=__codelineno-55-6 name=__codelineno-55-6 href=#__codelineno-55-6></a><span class=n>re_obj</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;hello (.*?) you&#39;</span><span class=p>)</span>
<a id=__codelineno-55-7 name=__codelineno-55-7 href=#__codelineno-55-7></a>
<a id=__codelineno-55-8 name=__codelineno-55-8 href=#__codelineno-55-8></a><span class=n>result</span> <span class=o>=</span> <span class=n>re_obj</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
<a id=__codelineno-55-9 name=__codelineno-55-9 href=#__codelineno-55-9></a>
<a id=__codelineno-55-10 name=__codelineno-55-10 href=#__codelineno-55-10></a><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</code></pre></div> <h3 id=124-案例获取html页面中的所有超链接>1.2.4 案例：获取HTML页面中的所有超链接<a class=headerlink href=#124-案例获取html页面中的所有超链接 title="Permanent link">&para;</a></h3> <p>在这个例子中，我们使用开源的requests库获取Hack News的内容，然后使用正则表达式解析出所有的http或https链接。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-56-1 name=__codelineno-56-1 href=#__codelineno-56-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>re
<a id=__codelineno-56-2 name=__codelineno-56-2 href=#__codelineno-56-2></a>
<a id=__codelineno-56-3 name=__codelineno-56-3 href=#__codelineno-56-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span>import<span class=w> </span>requests
<a id=__codelineno-56-4 name=__codelineno-56-4 href=#__codelineno-56-4></a>
<a id=__codelineno-56-5 name=__codelineno-56-5 href=#__codelineno-56-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=nv>r</span><span class=w> </span><span class=o>=</span><span class=w> </span>requests.get<span class=o>(</span><span class=s1>&#39;https://news.ycombinator.com/&#39;</span><span class=o>)</span>
<a id=__codelineno-56-6 name=__codelineno-56-6 href=#__codelineno-56-6></a>
<a id=__codelineno-56-7 name=__codelineno-56-7 href=#__codelineno-56-7></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>re.findall<span class=o>(</span><span class=s1>&#39;&quot;(https?://.*?)&quot;&#39;</span>,<span class=w> </span>r.content<span class=o>)</span>
<a id=__codelineno-56-8 name=__codelineno-56-8 href=#__codelineno-56-8></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>
<a id=__codelineno-56-9 name=__codelineno-56-9 href=#__codelineno-56-9></a><span class=o>[</span><span class=s1>&#39;http://www.ycombinator.com&#39;</span>,
<a id=__codelineno-56-10 name=__codelineno-56-10 href=#__codelineno-56-10></a>
<a id=__codelineno-56-11 name=__codelineno-56-11 href=#__codelineno-56-11></a><span class=w> </span><span class=s1>&#39;https://pages.nist.gov/800-63-3/&#39;</span>,
<a id=__codelineno-56-12 name=__codelineno-56-12 href=#__codelineno-56-12></a><span class=w> </span><span class=s1>&#39;http://chaosinmotion.com/blog/?p=1184&#39;</span>,
<a id=__codelineno-56-13 name=__codelineno-56-13 href=#__codelineno-56-13></a><span class=w>  </span>......
<a id=__codelineno-56-14 name=__codelineno-56-14 href=#__codelineno-56-14></a><span class=w> </span><span class=s1>&#39;https://iohk.io/blog/proof-refinement-basics/&#39;</span>,
<a id=__codelineno-56-15 name=__codelineno-56-15 href=#__codelineno-56-15></a><span class=w> </span><span class=s1>&#39;https://www.youtube.com/watch?v=xkdPjbaLngE&#39;</span>,
<a id=__codelineno-56-16 name=__codelineno-56-16 href=#__codelineno-56-16></a><span class=w> </span><span class=s1>&#39;https://github.com/HackerNews/API&#39;</span>,
<a id=__codelineno-56-17 name=__codelineno-56-17 href=#__codelineno-56-17></a><span class=w> </span><span class=s1>&#39;http://www.ycombinator.com/apply/&#39;</span><span class=o>]</span>
</code></pre></div> <p><strong>requests补充：</strong> </p> <p>requests是用来发送HTTP请求的库，也是Python生态中最知名的开源项目之一，在Python爬虫中广泛使用。</p> <p>requests的功能与标准库的urllib2类似，只是前者的接口设计对工程师更加友好。实现相同的功能，使用requests比使用urllib2能够节省更多的时间。由于requests是一个开源的项目，而不是标准库，所以，使用之前必须先进行安装。</p> <p><a href=https://requests.readthedocs.io/en/latest/ >官方网站</a></p> <p>如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-57-1 name=__codelineno-57-1 href=#__codelineno-57-1></a>pip<span class=w> </span>install<span class=w> </span>requests
<a id=__codelineno-57-2 name=__codelineno-57-2 href=#__codelineno-57-2></a>python<span class=w> </span>-m<span class=w> </span><span class=s2>&quot;import requests&quot;</span>
</code></pre></div> <h2 id=13-字符集编码>1.3 字符集编码<a class=headerlink href=#13-字符集编码 title="Permanent link">&para;</a></h2> <h3 id=ascii>ASCII<a class=headerlink href=#ascii title="Permanent link">&para;</a></h3> <p>ASCII（American Standard Code for Information Interchange，美国标准信息交换代码）是基于拉丁字母的一套电脑编码系统，主要用于显示现代英语和其他西欧语言，其最多只能用 8 位来表示（一个字节），即：2**8 = 256，所以，ASCII码最多只能表示 256 个符号。</p> <p>显然ASCII码无法将世界上的各种文字和符号全部表示，所以，就需要新出一种可以代表所有字符和符号的编码，即：Unicode</p> <h3 id=unicod>Unicod<a class=headerlink href=#unicod title="Permanent link">&para;</a></h3> <p>Unicod（统一码、万国码、单一码）是一种在计算机上使用的字符编码。Unicode 是为了解决传统的字符编码方案的局限而产生的，它为每种语言中的每个字符设定了统一并且唯一的二进制编码，规定虽有的字符和符号最少由 16 位来表示（2个字节），即：2 **16 = 65536，</p> <div class=codehilite><pre><span></span><code>注：此处说的的是最少2个字节，可能更多
</code></pre></div> <h3 id=utf-8>UTF-8<a class=headerlink href=#utf-8 title="Permanent link">&para;</a></h3> <p>UTF-8，是对Unicode编码的压缩和优化，他不再使用最少使用2个字节，而是将所有的字符和符号进行分类：</p> <p>ascii码中的内容用1个字节保存、欧洲的字符用2个字节保存，东亚的字符用3个字节保存。</p> <div class=codehilite><pre><span></span><code>Python2.x版本，默认支持的字符编码为ASCll

Python3.x版本，默认支持的是Unicode，不用声明字符编码可以直接显示中文
</code></pre></div> <p>简单来说：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-58-1 name=__codelineno-58-1 href=#__codelineno-58-1></a>#encode(&quot;utf-8&quot;)          # 编码为utf-8，解码必须一致
<a id=__codelineno-58-2 name=__codelineno-58-2 href=#__codelineno-58-2></a>#decode(&quot;utf-8&quot;)          # 解码utf-8
<a id=__codelineno-58-3 name=__codelineno-58-3 href=#__codelineno-58-3></a>
<a id=__codelineno-58-4 name=__codelineno-58-4 href=#__codelineno-58-4></a>Unicode 最纯，
<a id=__codelineno-58-5 name=__codelineno-58-5 href=#__codelineno-58-5></a>utf-8 ————&gt; Unicode -----&gt; gbk
<a id=__codelineno-58-6 name=__codelineno-58-6 href=#__codelineno-58-6></a>gbk -------&gt; Unicode -----utf-8
</code></pre></div> <p>代码演示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-59-1 name=__codelineno-59-1 href=#__codelineno-59-1></a><span class=ch>#!/usr/bin/env python</span>
<a id=__codelineno-59-2 name=__codelineno-59-2 href=#__codelineno-59-2></a><span class=c1>#-*- coding:utf8 -*-</span>
<a id=__codelineno-59-3 name=__codelineno-59-3 href=#__codelineno-59-3></a><span class=n>wd</span> <span class=o>=</span> <span class=s2>&quot;胡建力学python&quot;</span>
<a id=__codelineno-59-4 name=__codelineno-59-4 href=#__codelineno-59-4></a><span class=n>wd_encode</span> <span class=o>=</span> <span class=n>wd</span><span class=o>.</span><span class=n>encode</span><span class=p>()</span>
<a id=__codelineno-59-5 name=__codelineno-59-5 href=#__codelineno-59-5></a><span class=nb>print</span><span class=p>(</span><span class=n>wd_encode</span><span class=p>)</span>
<a id=__codelineno-59-6 name=__codelineno-59-6 href=#__codelineno-59-6></a><span class=n>wd_decode</span> <span class=o>=</span> <span class=n>wd_encode</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>
<a id=__codelineno-59-7 name=__codelineno-59-7 href=#__codelineno-59-7></a><span class=nb>print</span><span class=p>(</span><span class=n>wd_decode</span><span class=p>)</span>
<a id=__codelineno-59-8 name=__codelineno-59-8 href=#__codelineno-59-8></a>
<a id=__codelineno-59-9 name=__codelineno-59-9 href=#__codelineno-59-9></a><span class=n>wd_encode_gb2312</span> <span class=o>=</span> <span class=n>wd</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s2>&quot;gb2312&quot;</span><span class=p>)</span>
<a id=__codelineno-59-10 name=__codelineno-59-10 href=#__codelineno-59-10></a><span class=nb>print</span><span class=p>(</span><span class=n>wd_encode_gb2312</span><span class=p>)</span>
<a id=__codelineno-59-11 name=__codelineno-59-11 href=#__codelineno-59-11></a><span class=n>wd_decode_gb2312</span> <span class=o>=</span> <span class=n>wd_encode_gb2312</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&quot;gb2312&quot;</span><span class=p>)</span>
<a id=__codelineno-59-12 name=__codelineno-59-12 href=#__codelineno-59-12></a><span class=nb>print</span><span class=p>(</span><span class=n>wd_decode_gb2312</span><span class=p>)</span>
<a id=__codelineno-59-13 name=__codelineno-59-13 href=#__codelineno-59-13></a>
<a id=__codelineno-59-14 name=__codelineno-59-14 href=#__codelineno-59-14></a><span class=n>wd_encode_utf8</span> <span class=o>=</span> <span class=n>wd</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span>
<a id=__codelineno-59-15 name=__codelineno-59-15 href=#__codelineno-59-15></a><span class=nb>print</span><span class=p>(</span><span class=n>wd_encode_utf8</span><span class=p>)</span>
<a id=__codelineno-59-16 name=__codelineno-59-16 href=#__codelineno-59-16></a><span class=n>wd_decode_utf8</span> <span class=o>=</span> <span class=n>wd_encode_utf8</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span>
<a id=__codelineno-59-17 name=__codelineno-59-17 href=#__codelineno-59-17></a><span class=nb>print</span><span class=p>(</span><span class=n>wd_decode_utf8</span><span class=p>)</span>
</code></pre></div> <p>在Python3中，内置的open函数可以指定字符集编码：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-60-1 name=__codelineno-60-1 href=#__codelineno-60-1></a>&gt;&gt;&gt;<span class=w> </span><span class=nv>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;赖明星&#39;</span>
<a id=__codelineno-60-2 name=__codelineno-60-2 href=#__codelineno-60-2></a>&gt;&gt;&gt;<span class=w> </span>name
<a id=__codelineno-60-3 name=__codelineno-60-3 href=#__codelineno-60-3></a><span class=s1>&#39;赖明星&#39;</span>
<a id=__codelineno-60-4 name=__codelineno-60-4 href=#__codelineno-60-4></a>&gt;&gt;&gt;<span class=w> </span>with<span class=w> </span>open<span class=o>(</span><span class=s1>&#39;/tmp/data.txt&#39;</span>,<span class=w> </span><span class=s1>&#39;w&#39;</span>,<span class=w> </span><span class=nv>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=o>)</span><span class=w> </span>as<span class=w> </span>f:
<a id=__codelineno-60-5 name=__codelineno-60-5 href=#__codelineno-60-5></a>...<span class=w> </span>f.write<span class=o>(</span>name<span class=o>)</span>
<a id=__codelineno-60-6 name=__codelineno-60-6 href=#__codelineno-60-6></a><span class=m>3</span>
</code></pre></div> <p>Python3的字符集处理辅助函数：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-61-1 name=__codelineno-61-1 href=#__codelineno-61-1></a><span class=ch>#!/usr/bin/env python</span>
<a id=__codelineno-61-2 name=__codelineno-61-2 href=#__codelineno-61-2></a><span class=c1># -*- coding:utf8 -*-</span>
<a id=__codelineno-61-3 name=__codelineno-61-3 href=#__codelineno-61-3></a><span class=c1># auther: 18793</span>
<a id=__codelineno-61-4 name=__codelineno-61-4 href=#__codelineno-61-4></a><span class=c1># Date：2021/10/20 11:23</span>
<a id=__codelineno-61-5 name=__codelineno-61-5 href=#__codelineno-61-5></a><span class=c1># filename: to_str_hu.py</span>
<a id=__codelineno-61-6 name=__codelineno-61-6 href=#__codelineno-61-6></a>
<a id=__codelineno-61-7 name=__codelineno-61-7 href=#__codelineno-61-7></a>
<a id=__codelineno-61-8 name=__codelineno-61-8 href=#__codelineno-61-8></a><span class=k>def</span> <span class=nf>to_str</span><span class=p>(</span><span class=n>bytes_or_str</span><span class=p>):</span>
<a id=__codelineno-61-9 name=__codelineno-61-9 href=#__codelineno-61-9></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>bytes_or_str</span><span class=p>,</span> <span class=nb>bytes</span><span class=p>):</span>
<a id=__codelineno-61-10 name=__codelineno-61-10 href=#__codelineno-61-10></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>bytes_or_str</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span>
<a id=__codelineno-61-11 name=__codelineno-61-11 href=#__codelineno-61-11></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-61-12 name=__codelineno-61-12 href=#__codelineno-61-12></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>bytes_or_str</span>
<a id=__codelineno-61-13 name=__codelineno-61-13 href=#__codelineno-61-13></a>    <span class=k>return</span> <span class=n>value</span>
<a id=__codelineno-61-14 name=__codelineno-61-14 href=#__codelineno-61-14></a>
<a id=__codelineno-61-15 name=__codelineno-61-15 href=#__codelineno-61-15></a>
<a id=__codelineno-61-16 name=__codelineno-61-16 href=#__codelineno-61-16></a><span class=k>def</span> <span class=nf>to_bytes</span><span class=p>(</span><span class=n>bytes_or_str</span><span class=p>):</span>
<a id=__codelineno-61-17 name=__codelineno-61-17 href=#__codelineno-61-17></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>bytes_or_str</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-61-18 name=__codelineno-61-18 href=#__codelineno-61-18></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>bytes_or_str</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span>
<a id=__codelineno-61-19 name=__codelineno-61-19 href=#__codelineno-61-19></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-61-20 name=__codelineno-61-20 href=#__codelineno-61-20></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>bytes_or_str</span>
<a id=__codelineno-61-21 name=__codelineno-61-21 href=#__codelineno-61-21></a>    <span class=k>return</span> <span class=n>value</span>
<a id=__codelineno-61-22 name=__codelineno-61-22 href=#__codelineno-61-22></a>
<a id=__codelineno-61-23 name=__codelineno-61-23 href=#__codelineno-61-23></a>
<a id=__codelineno-61-24 name=__codelineno-61-24 href=#__codelineno-61-24></a><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>to_str</span><span class=p>(</span><span class=sa>b</span><span class=s2>&quot;hujianli1&quot;</span><span class=p>)))</span>
<a id=__codelineno-61-25 name=__codelineno-61-25 href=#__codelineno-61-25></a><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>to_str</span><span class=p>(</span><span class=s2>&quot;hujianli1&quot;</span><span class=p>)))</span>
<a id=__codelineno-61-26 name=__codelineno-61-26 href=#__codelineno-61-26></a>
<a id=__codelineno-61-27 name=__codelineno-61-27 href=#__codelineno-61-27></a>
<a id=__codelineno-61-28 name=__codelineno-61-28 href=#__codelineno-61-28></a><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>to_bytes</span><span class=p>(</span><span class=sa>b</span><span class=s2>&quot;hujianli2&quot;</span><span class=p>)))</span>
<a id=__codelineno-61-29 name=__codelineno-61-29 href=#__codelineno-61-29></a><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>to_bytes</span><span class=p>(</span><span class=s2>&quot;hujianli2&quot;</span><span class=p>)))</span>
</code></pre></div> <p>“字符串”和“字节串”的转换，字节串在字符串声明时前面新增b</p> <div class=highlight><pre><span></span><code><a id=__codelineno-62-1 name=__codelineno-62-1 href=#__codelineno-62-1></a><span class=k>def</span> <span class=nf>upper_s</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
<a id=__codelineno-62-2 name=__codelineno-62-2 href=#__codelineno-62-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;把输入字符串里的所有 &quot;s&quot; 都转为大写&quot;&quot;&quot;</span>
<a id=__codelineno-62-3 name=__codelineno-62-3 href=#__codelineno-62-3></a>    <span class=k>return</span> <span class=n>s</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;s&#39;</span><span class=p>,</span> <span class=s1>&#39;S&#39;</span><span class=p>)</span>
<a id=__codelineno-62-4 name=__codelineno-62-4 href=#__codelineno-62-4></a>
<a id=__codelineno-62-5 name=__codelineno-62-5 href=#__codelineno-62-5></a>
<a id=__codelineno-62-6 name=__codelineno-62-6 href=#__codelineno-62-6></a><span class=n>bin_obj</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;super sunflowers.&#39;</span>
<a id=__codelineno-62-7 name=__codelineno-62-7 href=#__codelineno-62-7></a><span class=nb>print</span><span class=p>(</span><span class=n>bin_obj</span><span class=p>)</span>
<a id=__codelineno-62-8 name=__codelineno-62-8 href=#__codelineno-62-8></a><span class=n>str_obj</span> <span class=o>=</span> <span class=n>bin_obj</span><span class=o>.</span><span class=n>decode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>)</span>
<a id=__codelineno-62-9 name=__codelineno-62-9 href=#__codelineno-62-9></a><span class=nb>print</span><span class=p>(</span><span class=n>upper_s</span><span class=p>(</span><span class=n>str_obj</span><span class=p>))</span>
</code></pre></div> <h2 id=14-jinja2模板>1.4 Jinja2模板<a class=headerlink href=#14-jinja2模板 title="Permanent link">&para;</a></h2> <h3 id=141-模板介绍>1.4.1 模板介绍<a class=headerlink href=#141-模板介绍 title="Permanent link">&para;</a></h3> <p>模板在Python的web开发中广泛使用，它能够有效地将业务逻辑和页面逻辑分离，使得工程师编写出可读性更好、更加容易理解和维护的代码。</p> <p>试想一下，要为一个大型的表格构建HTML代码，表格中的数据由数据库中读取的数据以及必要的HTML字符串连接在一起。</p> <p>这个时候，最简单也最直接的方式就是在Python代码中使用字符串拼接的方式生成HTML代码。如果真的这么做了，对工程师来说将是个噩梦，而且代码无法维护。</p> <p>Python的标准库自带了一个简单的模板，下面的代码便是一个模板使用的例子。</p> <div class=highlight><pre><span></span><code><a id=__codelineno-63-1 name=__codelineno-63-1 href=#__codelineno-63-1></a>In<span class=w> </span><span class=o>[</span><span class=m>1</span><span class=o>]</span>:<span class=w> </span>from<span class=w> </span>string<span class=w> </span>import<span class=w> </span>Template
<a id=__codelineno-63-2 name=__codelineno-63-2 href=#__codelineno-63-2></a>
<a id=__codelineno-63-3 name=__codelineno-63-3 href=#__codelineno-63-3></a>In<span class=w> </span><span class=o>[</span><span class=m>2</span><span class=o>]</span>:<span class=w> </span><span class=nv>s</span><span class=w> </span><span class=o>=</span><span class=w> </span>Template<span class=o>(</span><span class=s1>&#39;$who is a $role&#39;</span><span class=o>)</span>
<a id=__codelineno-63-4 name=__codelineno-63-4 href=#__codelineno-63-4></a>
<a id=__codelineno-63-5 name=__codelineno-63-5 href=#__codelineno-63-5></a>In<span class=w> </span><span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span>s.substitute<span class=o>(</span><span class=nv>who</span><span class=o>=</span><span class=s1>&#39;bob&#39;</span>,<span class=w> </span><span class=nv>role</span><span class=o>=</span><span class=s1>&#39;teacher&#39;</span><span class=o>)</span>
<a id=__codelineno-63-6 name=__codelineno-63-6 href=#__codelineno-63-6></a>Out<span class=o>[</span><span class=m>3</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;bob is a teacher&#39;</span>
<a id=__codelineno-63-7 name=__codelineno-63-7 href=#__codelineno-63-7></a>
<a id=__codelineno-63-8 name=__codelineno-63-8 href=#__codelineno-63-8></a>In<span class=w> </span><span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span>s.substitute<span class=o>(</span><span class=nv>who</span><span class=o>=</span><span class=s1>&#39;lily&#39;</span>,<span class=w> </span><span class=nv>role</span><span class=o>=</span><span class=s1>&#39;student&#39;</span><span class=o>)</span>
<a id=__codelineno-63-9 name=__codelineno-63-9 href=#__codelineno-63-9></a>Out<span class=o>[</span><span class=m>4</span><span class=o>]</span>:<span class=w> </span><span class=s1>&#39;lily is a student&#39;</span>
</code></pre></div> <p>Python自带的模板功能非常有限，例如无法在模板中使用控制语句和表达式，不支持继承和重用等操作。</p> <p>这对于web开发来说远远不够，因此，出现了第三方的模板系统。目前市面上有非常多的模板系统，其中最知名的是Jinja2和Mako。</p> <h3 id=142-jinja2语法入门>1.4.2 Jinja2语法入门<a class=headerlink href=#142-jinja2语法入门 title="Permanent link">&para;</a></h3> <p>补充资料：Flask是一个使用Python编写的轻量级Web应用框架，本来只是作者的一个愚人节玩笑，不过发布以后大受欢迎，进而成为一个正式的项目。</p> <p>Flask是Python生态中最流行的Web框架之一，本身的代码也写得非常优雅，所以有不少Python工程师学习Flask的源码。</p> <p>Jinja2模板引擎之所以使用广泛，是因为它具有以下优点：</p> <ul> <li> <p>相对于Template，Jinja2更加灵活，它提供了控制结构、表达式和继承等，工程师可以在模板中做更多的事情；</p> </li> <li> <p>相对于Mako，Jinja2提供了仅有的控制结构，不允许在模板中编写太多的业务逻辑，避免了工程师乱用行为；</p> </li> <li> <p>相对于Django模板，Jinja2的性能更好；</p> </li> <li> <p>Jinja2模板的可读性很好。</p> </li> </ul> <p>Jinja2是Flask的一个依赖，如果已经安装了Flask，Jinja2也会随之安装。当然，也可以单独安装Jinja2：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-64-1 name=__codelineno-64-1 href=#__codelineno-64-1></a>pip<span class=w> </span>install<span class=w> </span>jinja2
<a id=__codelineno-64-2 name=__codelineno-64-2 href=#__codelineno-64-2></a>python<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;import jinja2&quot;</span>
</code></pre></div> <p>接下来将详细介绍Jinja2的语法。</p> <h4 id=1语法块>1.语法块<a class=headerlink href=#1语法块 title="Permanent link">&para;</a></h4> <p>在Jinja2中，存在三种语法：</p> <ul> <li> <p>控制结构{%%}</p> </li> <li> <p>变量取值{{}}</p> </li> <li> <p>注释{##}</p> </li> </ul> <p>下面是使用Jinja控制结构和注释的一个例子：</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-65-1 name=__codelineno-65-1 href=#__codelineno-65-1></a>{# note: disabled template because we no longer use this
<a id=__codelineno-65-2 name=__codelineno-65-2 href=#__codelineno-65-2></a>    {% for user in users %}
<a id=__codelineno-65-3 name=__codelineno-65-3 href=#__codelineno-65-3></a>        ...
<a id=__codelineno-65-4 name=__codelineno-65-4 href=#__codelineno-65-4></a>    {% endfor%}
<a id=__codelineno-65-5 name=__codelineno-65-5 href=#__codelineno-65-5></a>#}
</code></pre></div> 可以看到，for循环的使用与Python比较类似，但是，没有了复合语句末尾的冒号。 此外需要使用endfor作为结束标志。</p> <p>Jinja2中的if语句也一样，没有复合语句末尾的冒号，需要使用endif作为结束标志。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-66-1 name=__codelineno-66-1 href=#__codelineno-66-1></a>{% if users %}
<a id=__codelineno-66-2 name=__codelineno-66-2 href=#__codelineno-66-2></a>    <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
<a id=__codelineno-66-3 name=__codelineno-66-3 href=#__codelineno-66-3></a>    {% for user in users %}
<a id=__codelineno-66-4 name=__codelineno-66-4 href=#__codelineno-66-4></a>        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>{{ user.username }}<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<a id=__codelineno-66-5 name=__codelineno-66-5 href=#__codelineno-66-5></a>    {% endfor%}
<a id=__codelineno-66-6 name=__codelineno-66-6 href=#__codelineno-66-6></a>    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
<a id=__codelineno-66-7 name=__codelineno-66-7 href=#__codelineno-66-7></a>{% endif %}
</code></pre></div> <h4 id=2变量>2.变量<a class=headerlink href=#2变量 title="Permanent link">&para;</a></h4> <p>Jinja2模板中使用的{{}}语法表示一个变量，它是一种特殊的占位符，告诉模板引擎这个位置的值在渲染模板时获取。</p> <p>Jinja2识别所有的Python数据类型，甚至是一些复杂的类型，如列表、字典和对象等，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-67-1 name=__codelineno-67-1 href=#__codelineno-67-1></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>A value from a dictionary: {{ mydict[&#39;key&#39;] }}.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-67-2 name=__codelineno-67-2 href=#__codelineno-67-2></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>A value from a list: {{ mylist[3] }}.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-67-3 name=__codelineno-67-3 href=#__codelineno-67-3></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>A value from a list, with a variable index: {{ mylist[myintvar] }}.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-67-4 name=__codelineno-67-4 href=#__codelineno-67-4></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>A value from an object&#39;s method: {{ myobj.somemethod() }}.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</code></pre></div> <h4 id=3jinja2中的过滤器>3.Jinja2中的过滤器<a class=headerlink href=#3jinja2中的过滤器 title="Permanent link">&para;</a></h4> <p>变量可以通过“过滤器”进行修改，过滤器可以理解为是Jinja2里面的内置函数和字符串处理函数。例如，存在一个名为lower的过滤器，它的作用与字符串对象的lower方法一模一样。</p> <p>在Jinja2中，变量可以通过“过滤器”修改，过滤器与变量用管道（|）分割。多个过滤器可以链式调用，前一个过滤器的输出会作为后一个过滤器的输入。如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-68-1 name=__codelineno-68-1 href=#__codelineno-68-1></a>{{ &quot;Hello World&quot; | replace(&quot;Hello&quot;, &quot;Goodbye&quot;) }}
<a id=__codelineno-68-2 name=__codelineno-68-2 href=#__codelineno-68-2></a>    -&gt; Goodbye World
<a id=__codelineno-68-3 name=__codelineno-68-3 href=#__codelineno-68-3></a>
<a id=__codelineno-68-4 name=__codelineno-68-4 href=#__codelineno-68-4></a>{{ &quot;Hello World&quot; | replace(&quot;Hello&quot;, &quot;Goodbye&quot;) | upper }}
<a id=__codelineno-68-5 name=__codelineno-68-5 href=#__codelineno-68-5></a>    -&gt; GOODBYE WORLD
<a id=__codelineno-68-6 name=__codelineno-68-6 href=#__codelineno-68-6></a>
<a id=__codelineno-68-7 name=__codelineno-68-7 href=#__codelineno-68-7></a>{ 42.55 | round }}
<a id=__codelineno-68-8 name=__codelineno-68-8 href=#__codelineno-68-8></a>    -&gt; 43.0
<a id=__codelineno-68-9 name=__codelineno-68-9 href=#__codelineno-68-9></a>
<a id=__codelineno-68-10 name=__codelineno-68-10 href=#__codelineno-68-10></a>{{ 42.55 | round | int }}
<a id=__codelineno-68-11 name=__codelineno-68-11 href=#__codelineno-68-11></a>    -&gt; 43
</code></pre></div> <p>Jinja2变量过滤器</p> <table> <thead> <tr> <th>过滤器名称</th> <th>说明</th> </tr> </thead> <tbody> <tr> <td>safe</td> <td>渲染值时不转义</td> </tr> <tr> <td>capitalize</td> <td>把值的首字母转换成大写，其他字母转换成小写</td> </tr> <tr> <td>lower</td> <td>把值转换成小写形式</td> </tr> <tr> <td>upper</td> <td>把值转换成大写形式</td> </tr> <tr> <td>title</td> <td>把值中每个单词的首字母都转换成大写</td> </tr> <tr> <td>trim</td> <td>把值的首尾空格删掉</td> </tr> <tr> <td>striptags</td> <td>渲染之前把值中所有的 HTML 标签都删掉</td> </tr> </tbody> </table> <h4 id=4jinja2的控制结构>4.Jinja2的控制结构<a class=headerlink href=#4jinja2的控制结构 title="Permanent link">&para;</a></h4> <p>Jinja2中的if语句类似于Python中的if语句，但是，需要使用endif语句作为条件判断的结束。我们可以使用if语句判断一个变量是否定义，是否为空，是否为真值。与Python中的if语句一样，也可以使用elif和else构建多个分支，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-69-1 name=__codelineno-69-1 href=#__codelineno-69-1></a>{% if kenny.sick %}
<a id=__codelineno-69-2 name=__codelineno-69-2 href=#__codelineno-69-2></a>    Kenny is sick.
<a id=__codelineno-69-3 name=__codelineno-69-3 href=#__codelineno-69-3></a>{% elif kenny.dead %}
<a id=__codelineno-69-4 name=__codelineno-69-4 href=#__codelineno-69-4></a>    You killed Kenny! You bastard!!!
<a id=__codelineno-69-5 name=__codelineno-69-5 href=#__codelineno-69-5></a>{% else %}
<a id=__codelineno-69-6 name=__codelineno-69-6 href=#__codelineno-69-6></a>    Kenny looks okay ---so far
<a id=__codelineno-69-7 name=__codelineno-69-7 href=#__codelineno-69-7></a>{% endif %}
</code></pre></div> <h4 id=5jinja2的for循环>5.Jinja2的for循环<a class=headerlink href=#5jinja2的for循环 title="Permanent link">&para;</a></h4> <p>Jinja2中的for语句可用于迭代Python的数据类型，包括列表、元组和字典。 在Jinja中不存在while循环，这也符合了Jinja2的“提供仅有的控制结构，不允许在模板中编写太多的业务逻辑，避免了工程师乱用行为”设计原则。</p> <p>在Jinja2中迭代列表： <div class=highlight><pre><span></span><code><a id=__codelineno-70-1 name=__codelineno-70-1 href=#__codelineno-70-1></a><span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Members<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
<a id=__codelineno-70-2 name=__codelineno-70-2 href=#__codelineno-70-2></a><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
<a id=__codelineno-70-3 name=__codelineno-70-3 href=#__codelineno-70-3></a>    {% for user in users %}
<a id=__codelineno-70-4 name=__codelineno-70-4 href=#__codelineno-70-4></a>        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>{{ user.username }}<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<a id=__codelineno-70-5 name=__codelineno-70-5 href=#__codelineno-70-5></a>    {% endfor%}
<a id=__codelineno-70-6 name=__codelineno-70-6 href=#__codelineno-70-6></a><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</code></pre></div></p> <p>在Jinja2中也可以遍历字典：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-71-1 name=__codelineno-71-1 href=#__codelineno-71-1></a><span class=p>&lt;</span><span class=nt>dl</span><span class=p>&gt;</span>
<a id=__codelineno-71-2 name=__codelineno-71-2 href=#__codelineno-71-2></a>    {% for key, value in d.iteritems() %}
<a id=__codelineno-71-3 name=__codelineno-71-3 href=#__codelineno-71-3></a>        <span class=p>&lt;</span><span class=nt>dt</span><span class=p>&gt;</span>{{ key }}<span class=p>&lt;/</span><span class=nt>dt</span><span class=p>&gt;</span>
<a id=__codelineno-71-4 name=__codelineno-71-4 href=#__codelineno-71-4></a>        <span class=p>&lt;</span><span class=nt>dd</span><span class=p>&gt;</span>{{ value }}<span class=p>&lt;/</span><span class=nt>dd</span><span class=p>&gt;</span>
<a id=__codelineno-71-5 name=__codelineno-71-5 href=#__codelineno-71-5></a>    {% endfor%}
<a id=__codelineno-71-6 name=__codelineno-71-6 href=#__codelineno-71-6></a><span class=p>&lt;/</span><span class=nt>dl</span><span class=p>&gt;</span>
</code></pre></div> <p>除了基本的for循环使用以外，Jinja2还提供了一些特殊的变量，我们不用定义就可以直接使用这些变量。</p> <p>假设你有一个保存了联系人信息的字典，字典的key是联系人的名字，字典的value是联系人的电话。你现在想把联系人的信息以表格的形式显示在HTML页面上。此时，除了姓名和电话以外，你还希望表格的第一列是序号。这个需求如果在Python代码中实现，将会像下面这样</p> <div class=highlight><pre><span></span><code><a id=__codelineno-72-1 name=__codelineno-72-1 href=#__codelineno-72-1></a><span class=n>data</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>bob</span><span class=o>=</span><span class=mi>13000000001</span><span class=p>,</span> <span class=n>lily</span><span class=o>=</span><span class=mi>130000000002</span><span class=p>,</span> <span class=n>robin</span><span class=o>=</span><span class=mi>130000000003</span><span class=p>)</span>
<a id=__codelineno-72-2 name=__codelineno-72-2 href=#__codelineno-72-2></a><span class=n>index</span> <span class=o>=</span> <span class=mi>0</span>
<a id=__codelineno-72-3 name=__codelineno-72-3 href=#__codelineno-72-3></a><span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>viewitems</span><span class=p>():</span>
<a id=__codelineno-72-4 name=__codelineno-72-4 href=#__codelineno-72-4></a>    <span class=n>index</span> <span class=o>+=</span> <span class=mi>1</span>
<a id=__codelineno-72-5 name=__codelineno-72-5 href=#__codelineno-72-5></a>    <span class=nb>print</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>sep</span><span class=o>=</span><span class=s2>&quot;,&quot;</span><span class=p>)</span>
</code></pre></div> <p>Jinja2为了让工程师尽可能在模板中少写Python代码处理业务逻辑，仅在模板中处理显示工作问题，提供了一些特殊变量。对于前面的这个例子，在Jinja2中的正确做法如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-73-1 name=__codelineno-73-1 href=#__codelineno-73-1></a>{% for key, value in data.iteritems() %}
<a id=__codelineno-73-2 name=__codelineno-73-2 href=#__codelineno-73-2></a>    <span class=p>&lt;</span><span class=nt>tr</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;info&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-73-3 name=__codelineno-73-3 href=#__codelineno-73-3></a>        <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>{{ loop.index}}<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
<a id=__codelineno-73-4 name=__codelineno-73-4 href=#__codelineno-73-4></a>        <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>{{ key }}<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
<a id=__codelineno-73-5 name=__codelineno-73-5 href=#__codelineno-73-5></a>        <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>{{ value }}<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
<a id=__codelineno-73-6 name=__codelineno-73-6 href=#__codelineno-73-6></a>    <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
<a id=__codelineno-73-7 name=__codelineno-73-7 href=#__codelineno-73-7></a>{% endfor%}
</code></pre></div> <h4 id=6jinja2的宏>6.Jinja2的宏<a class=headerlink href=#6jinja2的宏 title="Permanent link">&para;</a></h4> <p>宏类似于编程语言中的函数，它用于将行为抽象成可重复调用的代码块。与函数一样，宏分为定义和调用，下面是一个声明宏的例子：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-74-1 name=__codelineno-74-1 href=#__codelineno-74-1></a>{% macro input(name, type=&#39;text&#39;, value=&#39;&#39;) %}
<a id=__codelineno-74-2 name=__codelineno-74-2 href=#__codelineno-74-2></a>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;{{ type }}&quot;</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;{{ name }}&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;{{ value }}&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-74-3 name=__codelineno-74-3 href=#__codelineno-74-3></a>{% endmacro %}
</code></pre></div> <p>在宏的定义中，使用macro关键字定义一个宏，input是宏的名称。 它有三个参数，分别是name，type和value，其中type和value参数有默认值。</p> <p>可以看到宏的定义与Python的函数定义非常相似，此外，它与Jinja2中的for循环和if语句一样，不需要使用复合语句的冒号，使用endmacro结束宏的定义。</p> <p>下面是宏的调用，与函数调用类似： <div class=highlight><pre><span></span><code><a id=__codelineno-75-1 name=__codelineno-75-1 href=#__codelineno-75-1></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{{ input(&#39;username&#39;, value=&#39;user&#39;) }}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-75-2 name=__codelineno-75-2 href=#__codelineno-75-2></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{{ input(&#39;password&#39;, &#39;password&#39;) }}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-75-3 name=__codelineno-75-3 href=#__codelineno-75-3></a><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{{ input(&#39;submit&#39;, &#39;submit&#39;, &#39;Submit&#39;) }}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</code></pre></div></p> <h4 id=7jinja2的继承和super函数>7.Jinja2的继承和Super函数<a class=headerlink href=#7jinja2的继承和super函数 title="Permanent link">&para;</a></h4> <p>如果只是使用Jinja2进行配置文件管理，将基本用不到Jinja2继承功能。如果是使用Jinja2进行web开发，那么，继承是Jinja2最吸引人的功能。</p> <p>Jinja2中最强大的部分就是模板继承。模板继承允许你构建一个包含站点共同元素的基本模板“骨架”，并定义子模板可以覆盖的块。</p> <p>假设我们有一个名为base.html的HTML文档，里面的内容如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-76-1 name=__codelineno-76-1 href=#__codelineno-76-1></a><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-76-2 name=__codelineno-76-2 href=#__codelineno-76-2></a><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-76-3 name=__codelineno-76-3 href=#__codelineno-76-3></a>    {% block head %}
<a id=__codelineno-76-4 name=__codelineno-76-4 href=#__codelineno-76-4></a>    <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;style.css&quot;</span> <span class=p>/&gt;</span>
<a id=__codelineno-76-5 name=__codelineno-76-5 href=#__codelineno-76-5></a>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>{% block title %}{% endblock %}-My Webpage<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-76-6 name=__codelineno-76-6 href=#__codelineno-76-6></a>    {% endblock %}
<a id=__codelineno-76-7 name=__codelineno-76-7 href=#__codelineno-76-7></a><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-76-8 name=__codelineno-76-8 href=#__codelineno-76-8></a><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-76-9 name=__codelineno-76-9 href=#__codelineno-76-9></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;content&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-76-10 name=__codelineno-76-10 href=#__codelineno-76-10></a>    {% block content %}{% endblock %}
<a id=__codelineno-76-11 name=__codelineno-76-11 href=#__codelineno-76-11></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-76-12 name=__codelineno-76-12 href=#__codelineno-76-12></a><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</code></pre></div> <p>在base.html中，我们使用{%block name%}的方式定义了三个块，这些块可以在子模板中进行替换或调用。</p> <p>下面是一个名为index.html的HTML文档，文档的内容如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-77-1 name=__codelineno-77-1 href=#__codelineno-77-1></a>{% extends &quot;base.html&quot; %}
<a id=__codelineno-77-2 name=__codelineno-77-2 href=#__codelineno-77-2></a>
<a id=__codelineno-77-3 name=__codelineno-77-3 href=#__codelineno-77-3></a>{% block title %}Index{% endblock%}
<a id=__codelineno-77-4 name=__codelineno-77-4 href=#__codelineno-77-4></a>
<a id=__codelineno-77-5 name=__codelineno-77-5 href=#__codelineno-77-5></a>{% block head %}
<a id=__codelineno-77-6 name=__codelineno-77-6 href=#__codelineno-77-6></a>    {{ super() }}
<a id=__codelineno-77-7 name=__codelineno-77-7 href=#__codelineno-77-7></a>    <span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-77-8 name=__codelineno-77-8 href=#__codelineno-77-8></a><span class=w>    </span><span class=p>.</span><span class=nc>important</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#336699</span><span class=p>;</span><span class=w> </span><span class=p>}</span>
<a id=__codelineno-77-9 name=__codelineno-77-9 href=#__codelineno-77-9></a><span class=w>    </span><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
<a id=__codelineno-77-10 name=__codelineno-77-10 href=#__codelineno-77-10></a>{% endblock%}
<a id=__codelineno-77-11 name=__codelineno-77-11 href=#__codelineno-77-11></a>
<a id=__codelineno-77-12 name=__codelineno-77-12 href=#__codelineno-77-12></a>{% block content %}
<a id=__codelineno-77-13 name=__codelineno-77-13 href=#__codelineno-77-13></a>    <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>Index<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
<a id=__codelineno-77-14 name=__codelineno-77-14 href=#__codelineno-77-14></a>    <span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;important&quot;</span><span class=p>&gt;</span> Welcome on my awesome homepage.  <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-77-15 name=__codelineno-77-15 href=#__codelineno-77-15></a>{% endblock%}
</code></pre></div> <p>在index.html中，我们使用<code>{%extends"base.html"%}</code>继承base.html，继承以后，base.html中的所有内容都会在index.html中展现。</p> <p>在index.html中，我们重新定义了title和content这两个块的内容。</p> <h4 id=8jinja2的其他运算>8.Jinja2的其他运算<a class=headerlink href=#8jinja2的其他运算 title="Permanent link">&para;</a></h4> <p>Jinja2中可以定义变量，为了对变量进行操作，Jinja2提供了算数操作、比较操作和逻辑操作。使用Jinja2模板时，应该尽可能在Python代码中进行逻辑处理，在Jinja2中仅处理显示问题。</p> <p>因此，一般很少用到Jinja2的变量和变量的运算操作。</p> <p>部分Jinja2中的运算操作：</p> <ul> <li> <p>算数运算<code>+-*///%***</code></p> </li> <li> <p>比较操作<code>==！=&gt;&gt;=&lt;&lt;=</code></p> </li> <li> <p>逻辑运算<code>not and or</code></p> </li> </ul> <h3 id=143-jinja2实战>1.4.3 Jinja2实战<a class=headerlink href=#143-jinja2实战 title="Permanent link">&para;</a></h3> <p>下面来看两个例子以巩固前面的知识。 如果读者在Flask中使用Jinja2，则几乎不需要关心Jinja2的使用。因为Jinja2的开发者和Flask的开发者是同一个人，为了便于工程师在Flask中使用Jinja2 ，作者在Flask中很好地集成了Jinja2。</p> <p>集成以后，想要在Flask中使用Jinja2，只需使用Flask包下的render_template函数访问模板即可。</p> <h4 id=1基本功能演示>1.基本功能演示<a class=headerlink href=#1基本功能演示 title="Permanent link">&para;</a></h4> <p>创建一个最简单的flask-demo程序</p> <p>安装虚拟环境</p> <div class=highlight><pre><span></span><code><a id=__codelineno-78-1 name=__codelineno-78-1 href=#__codelineno-78-1></a>$<span class=w> </span>sudo<span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>python3-venv
<a id=__codelineno-78-2 name=__codelineno-78-2 href=#__codelineno-78-2></a>$<span class=w> </span>mkdir<span class=w> </span>flask-sample1/
<a id=__codelineno-78-3 name=__codelineno-78-3 href=#__codelineno-78-3></a>$<span class=w> </span><span class=nb>cd</span><span class=w> </span>flask-sample1/
<a id=__codelineno-78-4 name=__codelineno-78-4 href=#__codelineno-78-4></a>$<span class=w> </span>mkdir<span class=w> </span>static
<a id=__codelineno-78-5 name=__codelineno-78-5 href=#__codelineno-78-5></a>$<span class=w> </span>mkdir<span class=w> </span>templates
<a id=__codelineno-78-6 name=__codelineno-78-6 href=#__codelineno-78-6></a>
<a id=__codelineno-78-7 name=__codelineno-78-7 href=#__codelineno-78-7></a><span class=c1>#目录结构如下</span>
<a id=__codelineno-78-8 name=__codelineno-78-8 href=#__codelineno-78-8></a>+<span class=w> </span>flask-sample1<span class=w> </span>
<a id=__codelineno-78-9 name=__codelineno-78-9 href=#__codelineno-78-9></a><span class=w>    </span>-<span class=w> </span>static
<a id=__codelineno-78-10 name=__codelineno-78-10 href=#__codelineno-78-10></a><span class=w>    </span>-<span class=w> </span>templates
<a id=__codelineno-78-11 name=__codelineno-78-11 href=#__codelineno-78-11></a>
<a id=__codelineno-78-12 name=__codelineno-78-12 href=#__codelineno-78-12></a><span class=c1>#创建虚拟环境</span>
<a id=__codelineno-78-13 name=__codelineno-78-13 href=#__codelineno-78-13></a><span class=c1># 使用Python 3自带的 venv 创建虚拟环境</span>
<a id=__codelineno-78-14 name=__codelineno-78-14 href=#__codelineno-78-14></a>$<span class=w> </span>python3<span class=w> </span>-m<span class=w> </span>venv<span class=w> </span>venv
<a id=__codelineno-78-15 name=__codelineno-78-15 href=#__codelineno-78-15></a>$<span class=w> </span><span class=nb>source</span><span class=w> </span>venv/bin/activate
<a id=__codelineno-78-16 name=__codelineno-78-16 href=#__codelineno-78-16></a><span class=o>(</span>venv<span class=o>)</span><span class=w> </span>$<span class=w> </span>pip<span class=w> </span>install<span class=w> </span>flask
<a id=__codelineno-78-17 name=__codelineno-78-17 href=#__codelineno-78-17></a><span class=o>(</span>venv<span class=o>)</span><span class=w> </span>$<span class=w> </span>pip<span class=w> </span>freeze
<a id=__codelineno-78-18 name=__codelineno-78-18 href=#__codelineno-78-18></a><span class=o>(</span>venv<span class=o>)</span><span class=w> </span>$<span class=w> </span>python<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;import flask&quot;</span>
</code></pre></div> <p>vim app.py</p> <p>app.py代码如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-79-1 name=__codelineno-79-1 href=#__codelineno-79-1></a><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span>
<a id=__codelineno-79-2 name=__codelineno-79-2 href=#__codelineno-79-2></a>
<a id=__codelineno-79-3 name=__codelineno-79-3 href=#__codelineno-79-3></a><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
<a id=__codelineno-79-4 name=__codelineno-79-4 href=#__codelineno-79-4></a>
<a id=__codelineno-79-5 name=__codelineno-79-5 href=#__codelineno-79-5></a>
<a id=__codelineno-79-6 name=__codelineno-79-6 href=#__codelineno-79-6></a><span class=nd>@app</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<a id=__codelineno-79-7 name=__codelineno-79-7 href=#__codelineno-79-7></a><span class=k>def</span> <span class=nf>hello_world</span><span class=p>():</span>
<a id=__codelineno-79-8 name=__codelineno-79-8 href=#__codelineno-79-8></a>    <span class=k>return</span> <span class=s1>&#39;Hello World!&#39;</span>
<a id=__codelineno-79-9 name=__codelineno-79-9 href=#__codelineno-79-9></a>
<a id=__codelineno-79-10 name=__codelineno-79-10 href=#__codelineno-79-10></a>
<a id=__codelineno-79-11 name=__codelineno-79-11 href=#__codelineno-79-11></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
<a id=__codelineno-79-12 name=__codelineno-79-12 href=#__codelineno-79-12></a>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>port</span><span class=o>=</span><span class=mi>9011</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=s2>&quot;0.0.0.0&quot;</span><span class=p>)</span>  <span class=c1># 如果不是本地访问需要加IP</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-80-1 name=__codelineno-80-1 href=#__codelineno-80-1></a>flask<span class=w> </span>run<span class=w> </span>--host<span class=o>=</span><span class=m>0</span>.0.0.0<span class=w> </span>--port<span class=o>=</span><span class=m>9011</span>
</code></pre></div> <p>flask-sample1/templates/simple.html 如下</p> <div class=highlight><pre><span></span><code><a id=__codelineno-81-1 name=__codelineno-81-1 href=#__codelineno-81-1></a><span class=cp>&lt;!DOCTYPE html&gt;</span>
<a id=__codelineno-81-2 name=__codelineno-81-2 href=#__codelineno-81-2></a><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-81-3 name=__codelineno-81-3 href=#__codelineno-81-3></a>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-81-4 name=__codelineno-81-4 href=#__codelineno-81-4></a>        <span class=cm>&lt;!-- 使用过滤器处理表达式的结果 --&gt;</span>
<a id=__codelineno-81-5 name=__codelineno-81-5 href=#__codelineno-81-5></a>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>{{ title | trim }}<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-81-6 name=__codelineno-81-6 href=#__codelineno-81-6></a>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-81-7 name=__codelineno-81-7 href=#__codelineno-81-7></a>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-81-8 name=__codelineno-81-8 href=#__codelineno-81-8></a>        <span class=cm>&lt;!-- 注释 --&gt;</span>
<a id=__codelineno-81-9 name=__codelineno-81-9 href=#__codelineno-81-9></a>        {# This is a Comment #}
<a id=__codelineno-81-10 name=__codelineno-81-10 href=#__codelineno-81-10></a>        <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;navigation&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-81-11 name=__codelineno-81-11 href=#__codelineno-81-11></a>            <span class=cm>&lt;!-- for语句，以endfor结束 --&gt;</span>
<a id=__codelineno-81-12 name=__codelineno-81-12 href=#__codelineno-81-12></a>            {% for item in items %}
<a id=__codelineno-81-13 name=__codelineno-81-13 href=#__codelineno-81-13></a>                <span class=cm>&lt;!-- 访问变量的属性 --&gt;</span>
<a id=__codelineno-81-14 name=__codelineno-81-14 href=#__codelineno-81-14></a>                <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;{{ item.href }}&quot;</span><span class=p>&gt;</span>{{ item[&#39;caption&#39;] }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<a id=__codelineno-81-15 name=__codelineno-81-15 href=#__codelineno-81-15></a>            {% endfor %}
<a id=__codelineno-81-16 name=__codelineno-81-16 href=#__codelineno-81-16></a>        <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
<a id=__codelineno-81-17 name=__codelineno-81-17 href=#__codelineno-81-17></a>        <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{{ content }}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-81-18 name=__codelineno-81-18 href=#__codelineno-81-18></a>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-81-19 name=__codelineno-81-19 href=#__codelineno-81-19></a><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>在这个HTML模板中，我们使用for循环遍历一个列表，列表中的每一项是一个字典。 字典中包含了文字和连接，我们将使用字典中的数据渲染成HTML的超链接。此外，我们还会使用Jinja2提供的过滤器trim删除title中的空格。</p> <p>修改app.py文件 <div class=highlight><pre><span></span><code><a id=__codelineno-82-1 name=__codelineno-82-1 href=#__codelineno-82-1></a><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>render_template</span>
<a id=__codelineno-82-2 name=__codelineno-82-2 href=#__codelineno-82-2></a>
<a id=__codelineno-82-3 name=__codelineno-82-3 href=#__codelineno-82-3></a><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
<a id=__codelineno-82-4 name=__codelineno-82-4 href=#__codelineno-82-4></a>
<a id=__codelineno-82-5 name=__codelineno-82-5 href=#__codelineno-82-5></a>
<a id=__codelineno-82-6 name=__codelineno-82-6 href=#__codelineno-82-6></a><span class=nd>@app</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<a id=__codelineno-82-7 name=__codelineno-82-7 href=#__codelineno-82-7></a><span class=k>def</span> <span class=nf>hello_world</span><span class=p>():</span>
<a id=__codelineno-82-8 name=__codelineno-82-8 href=#__codelineno-82-8></a>    <span class=n>title</span> <span class=o>=</span> <span class=s2>&quot;Title  H   &quot;</span>
<a id=__codelineno-82-9 name=__codelineno-82-9 href=#__codelineno-82-9></a>    <span class=n>items</span> <span class=o>=</span> <span class=p>[{</span><span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;a.com&#39;</span><span class=p>,</span> <span class=s1>&#39;caption&#39;</span><span class=p>:</span> <span class=s1>&#39;ACaption&#39;</span><span class=p>},</span> <span class=p>{</span><span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;b.com&#39;</span><span class=p>,</span> <span class=s1>&#39;caption&#39;</span><span class=p>:</span> <span class=s1>&#39;Bcaption&#39;</span><span class=p>}]</span>
<a id=__codelineno-82-10 name=__codelineno-82-10 href=#__codelineno-82-10></a>    <span class=n>content</span> <span class=o>=</span> <span class=s2>&quot;This is content&quot;</span>
<a id=__codelineno-82-11 name=__codelineno-82-11 href=#__codelineno-82-11></a>    <span class=k>return</span> <span class=n>render_template</span><span class=p>(</span><span class=s1>&#39;simple.html&#39;</span><span class=p>,</span> <span class=o>**</span><span class=nb>locals</span><span class=p>())</span>
<a id=__codelineno-82-12 name=__codelineno-82-12 href=#__codelineno-82-12></a>
<a id=__codelineno-82-13 name=__codelineno-82-13 href=#__codelineno-82-13></a>
<a id=__codelineno-82-14 name=__codelineno-82-14 href=#__codelineno-82-14></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
<a id=__codelineno-82-15 name=__codelineno-82-15 href=#__codelineno-82-15></a>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</code></pre></div></p> <p>执行上面的代码，渲染模板的结果如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-83-1 name=__codelineno-83-1 href=#__codelineno-83-1></a>$<span class=w> </span>curl<span class=w> </span>http://127.0.0.1:5000/
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-84-1 name=__codelineno-84-1 href=#__codelineno-84-1></a><span class=cp>&lt;!DOCTYPE html&gt;</span>
<a id=__codelineno-84-2 name=__codelineno-84-2 href=#__codelineno-84-2></a><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-84-3 name=__codelineno-84-3 href=#__codelineno-84-3></a>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-84-4 name=__codelineno-84-4 href=#__codelineno-84-4></a>        <span class=cm>&lt;!-- 使用过滤器处理表达式的结果 --&gt;</span>
<a id=__codelineno-84-5 name=__codelineno-84-5 href=#__codelineno-84-5></a>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Title  H<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-84-6 name=__codelineno-84-6 href=#__codelineno-84-6></a>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-84-7 name=__codelineno-84-7 href=#__codelineno-84-7></a>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-84-8 name=__codelineno-84-8 href=#__codelineno-84-8></a>        <span class=cm>&lt;!-- 注释 --&gt;</span>
<a id=__codelineno-84-9 name=__codelineno-84-9 href=#__codelineno-84-9></a>
<a id=__codelineno-84-10 name=__codelineno-84-10 href=#__codelineno-84-10></a>        <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;navigation&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-84-11 name=__codelineno-84-11 href=#__codelineno-84-11></a>            <span class=cm>&lt;!-- for语句，以endfor结束 --&gt;</span>
<a id=__codelineno-84-12 name=__codelineno-84-12 href=#__codelineno-84-12></a>
<a id=__codelineno-84-13 name=__codelineno-84-13 href=#__codelineno-84-13></a>                <span class=cm>&lt;!-- 访问变量的属性 --&gt;</span>
<a id=__codelineno-84-14 name=__codelineno-84-14 href=#__codelineno-84-14></a>                <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;a.com&quot;</span><span class=p>&gt;</span>ACaption<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<a id=__codelineno-84-15 name=__codelineno-84-15 href=#__codelineno-84-15></a>
<a id=__codelineno-84-16 name=__codelineno-84-16 href=#__codelineno-84-16></a>                <span class=cm>&lt;!-- 访问变量的属性 --&gt;</span>
<a id=__codelineno-84-17 name=__codelineno-84-17 href=#__codelineno-84-17></a>                <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;b.com&quot;</span><span class=p>&gt;</span>Bcaption<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<a id=__codelineno-84-18 name=__codelineno-84-18 href=#__codelineno-84-18></a>
<a id=__codelineno-84-19 name=__codelineno-84-19 href=#__codelineno-84-19></a>        <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
<a id=__codelineno-84-20 name=__codelineno-84-20 href=#__codelineno-84-20></a>        <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>This is content<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-84-21 name=__codelineno-84-21 href=#__codelineno-84-21></a>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-84-22 name=__codelineno-84-22 href=#__codelineno-84-22></a><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>可以看到，使用Jinja2渲染模板以后title中的空格已经被删除，for循环也正确渲染了多个超链接标签。</p> <h4 id=2继承功能演示>2.继承功能演示<a class=headerlink href=#2继承功能演示 title="Permanent link">&para;</a></h4> <p>为了演示继承的功能，我们需要使用两个HTML文件，分别是base.html和index.html。</p> <p>base.html的内容如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-85-1 name=__codelineno-85-1 href=#__codelineno-85-1></a><span class=cp>&lt;!DOCTYPE html&gt;</span>
<a id=__codelineno-85-2 name=__codelineno-85-2 href=#__codelineno-85-2></a><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-85-3 name=__codelineno-85-3 href=#__codelineno-85-3></a>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-85-4 name=__codelineno-85-4 href=#__codelineno-85-4></a>        <span class=cm>&lt;!-- 定义代码块，可以在子模块中重载 --&gt;</span>
<a id=__codelineno-85-5 name=__codelineno-85-5 href=#__codelineno-85-5></a>        {% block head %}
<a id=__codelineno-85-6 name=__codelineno-85-6 href=#__codelineno-85-6></a>            <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;style.css&quot;</span> <span class=p>/&gt;</span>
<a id=__codelineno-85-7 name=__codelineno-85-7 href=#__codelineno-85-7></a>            <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>{% block title %}{% endblock %} - My Webpage<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-85-8 name=__codelineno-85-8 href=#__codelineno-85-8></a>        {% endblock %}
<a id=__codelineno-85-9 name=__codelineno-85-9 href=#__codelineno-85-9></a>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-85-10 name=__codelineno-85-10 href=#__codelineno-85-10></a>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-85-11 name=__codelineno-85-11 href=#__codelineno-85-11></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;content&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-85-12 name=__codelineno-85-12 href=#__codelineno-85-12></a>            <span class=cm>&lt;!-- 定义代码块，没有提供默认内容 --&gt;</span>
<a id=__codelineno-85-13 name=__codelineno-85-13 href=#__codelineno-85-13></a>            {% block content %}
<a id=__codelineno-85-14 name=__codelineno-85-14 href=#__codelineno-85-14></a>            {% endblock %}
<a id=__codelineno-85-15 name=__codelineno-85-15 href=#__codelineno-85-15></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-85-16 name=__codelineno-85-16 href=#__codelineno-85-16></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;footer&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-85-17 name=__codelineno-85-17 href=#__codelineno-85-17></a>            <span class=cm>&lt;!-- 定义代码块，没有提供默认内容 --&gt;</span>
<a id=__codelineno-85-18 name=__codelineno-85-18 href=#__codelineno-85-18></a>            {% block footer %}
<a id=__codelineno-85-19 name=__codelineno-85-19 href=#__codelineno-85-19></a>            {% endblock %}
<a id=__codelineno-85-20 name=__codelineno-85-20 href=#__codelineno-85-20></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-85-21 name=__codelineno-85-21 href=#__codelineno-85-21></a>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-85-22 name=__codelineno-85-22 href=#__codelineno-85-22></a><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>index.html的内容如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-86-1 name=__codelineno-86-1 href=#__codelineno-86-1></a><span class=cm>&lt;!-- 写在开头，用以继承 --&gt;</span>
<a id=__codelineno-86-2 name=__codelineno-86-2 href=#__codelineno-86-2></a>{% extends &quot;base.html&quot; %}
<a id=__codelineno-86-3 name=__codelineno-86-3 href=#__codelineno-86-3></a>
<a id=__codelineno-86-4 name=__codelineno-86-4 href=#__codelineno-86-4></a><span class=cm>&lt;!-- 标题模块被重载 --&gt;</span>
<a id=__codelineno-86-5 name=__codelineno-86-5 href=#__codelineno-86-5></a>{% block title %}Index{% endblock %}
<a id=__codelineno-86-6 name=__codelineno-86-6 href=#__codelineno-86-6></a>
<a id=__codelineno-86-7 name=__codelineno-86-7 href=#__codelineno-86-7></a><span class=cm>&lt;!-- head模块被重载，并且，使用super继承了base.html中head的内容 --&gt;</span>
<a id=__codelineno-86-8 name=__codelineno-86-8 href=#__codelineno-86-8></a>{% block head %}
<a id=__codelineno-86-9 name=__codelineno-86-9 href=#__codelineno-86-9></a>    {{ super() }}
<a id=__codelineno-86-10 name=__codelineno-86-10 href=#__codelineno-86-10></a><span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span><span class=p>&gt;</span><span class=w> </span><span class=p>.</span><span class=nc>important</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#336699</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
<a id=__codelineno-86-11 name=__codelineno-86-11 href=#__codelineno-86-11></a>{% endblock %}
<a id=__codelineno-86-12 name=__codelineno-86-12 href=#__codelineno-86-12></a>
<a id=__codelineno-86-13 name=__codelineno-86-13 href=#__codelineno-86-13></a><span class=cm>&lt;!-- 覆盖了content模块 --&gt;</span>
<a id=__codelineno-86-14 name=__codelineno-86-14 href=#__codelineno-86-14></a>{% block content %}
<a id=__codelineno-86-15 name=__codelineno-86-15 href=#__codelineno-86-15></a><span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>This is h1 content<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
<a id=__codelineno-86-16 name=__codelineno-86-16 href=#__codelineno-86-16></a><span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;important&quot;</span><span class=p>&gt;</span>Welcome on my awesome homepage.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-86-17 name=__codelineno-86-17 href=#__codelineno-86-17></a>{% endblock %}
</code></pre></div> <p>我们使用下面的Python代码渲染Jinja2模板：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-87-1 name=__codelineno-87-1 href=#__codelineno-87-1></a><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>render_template</span>
<a id=__codelineno-87-2 name=__codelineno-87-2 href=#__codelineno-87-2></a>
<a id=__codelineno-87-3 name=__codelineno-87-3 href=#__codelineno-87-3></a><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
<a id=__codelineno-87-4 name=__codelineno-87-4 href=#__codelineno-87-4></a>
<a id=__codelineno-87-5 name=__codelineno-87-5 href=#__codelineno-87-5></a>
<a id=__codelineno-87-6 name=__codelineno-87-6 href=#__codelineno-87-6></a><span class=nd>@app</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
<a id=__codelineno-87-7 name=__codelineno-87-7 href=#__codelineno-87-7></a><span class=k>def</span> <span class=nf>hello_world</span><span class=p>():</span>
<a id=__codelineno-87-8 name=__codelineno-87-8 href=#__codelineno-87-8></a>    <span class=k>return</span> <span class=n>render_template</span><span class=p>(</span><span class=s1>&#39;index.html&#39;</span><span class=p>)</span>
<a id=__codelineno-87-9 name=__codelineno-87-9 href=#__codelineno-87-9></a>
<a id=__codelineno-87-10 name=__codelineno-87-10 href=#__codelineno-87-10></a>
<a id=__codelineno-87-11 name=__codelineno-87-11 href=#__codelineno-87-11></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
<a id=__codelineno-87-12 name=__codelineno-87-12 href=#__codelineno-87-12></a>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>()</span>
</code></pre></div> <p>渲染以后生成的结果如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-88-1 name=__codelineno-88-1 href=#__codelineno-88-1></a><span class=cm>&lt;!-- 写在开头，用以继承 --&gt;</span>
<a id=__codelineno-88-2 name=__codelineno-88-2 href=#__codelineno-88-2></a><span class=cp>&lt;!DOCTYPE html&gt;</span>
<a id=__codelineno-88-3 name=__codelineno-88-3 href=#__codelineno-88-3></a><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-88-4 name=__codelineno-88-4 href=#__codelineno-88-4></a>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-88-5 name=__codelineno-88-5 href=#__codelineno-88-5></a>        <span class=cm>&lt;!-- 定义代码块，可以在子模块中重载 --&gt;</span>
<a id=__codelineno-88-6 name=__codelineno-88-6 href=#__codelineno-88-6></a>
<a id=__codelineno-88-7 name=__codelineno-88-7 href=#__codelineno-88-7></a>            <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;style.css&quot;</span> <span class=p>/&gt;</span>
<a id=__codelineno-88-8 name=__codelineno-88-8 href=#__codelineno-88-8></a>            <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Index - My Webpage<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
<a id=__codelineno-88-9 name=__codelineno-88-9 href=#__codelineno-88-9></a>
<a id=__codelineno-88-10 name=__codelineno-88-10 href=#__codelineno-88-10></a><span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;text/css&quot;</span><span class=p>&gt;</span><span class=w> </span><span class=p>.</span><span class=nc>important</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#336699</span><span class=p>;</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
<a id=__codelineno-88-11 name=__codelineno-88-11 href=#__codelineno-88-11></a>
<a id=__codelineno-88-12 name=__codelineno-88-12 href=#__codelineno-88-12></a>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
<a id=__codelineno-88-13 name=__codelineno-88-13 href=#__codelineno-88-13></a>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-88-14 name=__codelineno-88-14 href=#__codelineno-88-14></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;content&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-88-15 name=__codelineno-88-15 href=#__codelineno-88-15></a>            <span class=cm>&lt;!-- 定义代码块，没有提供默认内容 --&gt;</span>
<a id=__codelineno-88-16 name=__codelineno-88-16 href=#__codelineno-88-16></a>
<a id=__codelineno-88-17 name=__codelineno-88-17 href=#__codelineno-88-17></a><span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>This is h1 content<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
<a id=__codelineno-88-18 name=__codelineno-88-18 href=#__codelineno-88-18></a><span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;important&quot;</span><span class=p>&gt;</span>Welcome on my awesome homepage.<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<a id=__codelineno-88-19 name=__codelineno-88-19 href=#__codelineno-88-19></a>
<a id=__codelineno-88-20 name=__codelineno-88-20 href=#__codelineno-88-20></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-88-21 name=__codelineno-88-21 href=#__codelineno-88-21></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;footer&quot;</span><span class=p>&gt;</span>
<a id=__codelineno-88-22 name=__codelineno-88-22 href=#__codelineno-88-22></a>            <span class=cm>&lt;!-- 定义代码块，没有提供默认内容 --&gt;</span>
<a id=__codelineno-88-23 name=__codelineno-88-23 href=#__codelineno-88-23></a>
<a id=__codelineno-88-24 name=__codelineno-88-24 href=#__codelineno-88-24></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
<a id=__codelineno-88-25 name=__codelineno-88-25 href=#__codelineno-88-25></a>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-88-26 name=__codelineno-88-26 href=#__codelineno-88-26></a><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>从这个例子中可以看到：</p> <p>1）我们渲染的是index.html，并没有直接渲染base.html，但是最后生成的模板中包含了完整的HTML框架，这也是继承广泛的使用场景；</p> <p>2）我们虽然在index.html中定义了title块，但是，因为我们使用{{super（）}}引用了base.html中的HEAD块，因此，最后渲染的结果中包含了base.html中的head块和index.html中的head块。 例如，最后渲染的结果中title标签的内容是“Index-My Webpage”，这个字符串就来自index.html和base.html；</p> <p>3）我们在index.html中重新定义了content块的内容，因此，最后生成的文档中在正确位置显示了content块的内容。</p> <h3 id=144-案例使用jinja2生成html表格>1.4.4 案例：使用Jinja2生成HTML表格<a class=headerlink href=#144-案例使用jinja2生成html表格 title="Permanent link">&para;</a></h3> <h4 id=1使用jinja2生成html表格>1.使用Jinja2生成HTML表格<a class=headerlink href=#1使用jinja2生成html表格 title="Permanent link">&para;</a></h4> <p>如果不使用模板，只能在Python代码中拼接HTML代码，如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-89-1 name=__codelineno-89-1 href=#__codelineno-89-1></a><span class=ch>#!/usr/bin/python</span>
<a id=__codelineno-89-2 name=__codelineno-89-2 href=#__codelineno-89-2></a><span class=c1># -*- coding: UTF-8 -*-</span>
<a id=__codelineno-89-3 name=__codelineno-89-3 href=#__codelineno-89-3></a><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>print_function</span>
<a id=__codelineno-89-4 name=__codelineno-89-4 href=#__codelineno-89-4></a><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>unicode_literals</span>
<a id=__codelineno-89-5 name=__codelineno-89-5 href=#__codelineno-89-5></a>
<a id=__codelineno-89-6 name=__codelineno-89-6 href=#__codelineno-89-6></a><span class=n>links</span> <span class=o>=</span> <span class=p>[{</span><span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=sa>u</span><span class=s1>&#39;杭州地铁三期规划正式获批 3号线即将上马&#39;</span><span class=p>,</span>
<a id=__codelineno-89-7 name=__codelineno-89-7 href=#__codelineno-89-7></a>          <span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;http://zzhz.zjol.com.cn/system/2016/12/21/021404496.shtml&#39;</span><span class=p>},</span>
<a id=__codelineno-89-8 name=__codelineno-89-8 href=#__codelineno-89-8></a>         <span class=p>{</span><span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=sa>u</span><span class=s1>&#39;涉及房地产的四个关键点&#39;</span><span class=p>,</span>
<a id=__codelineno-89-9 name=__codelineno-89-9 href=#__codelineno-89-9></a>          <span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;http://zzhz.zjol.com.cn/system/2016/12/19/021402558.shtml&#39;</span><span class=p>},</span>
<a id=__codelineno-89-10 name=__codelineno-89-10 href=#__codelineno-89-10></a>         <span class=p>{</span><span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=sa>u</span><span class=s1>&#39;潮鸣项目定名“凤起潮鸣”，绿城说的“杭州生活样本”将如何呈现&#39;</span><span class=p>,</span>
<a id=__codelineno-89-11 name=__codelineno-89-11 href=#__codelineno-89-11></a>          <span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;http://zzhz.zjol.com.cn/system/2016/12/19/021402558.shtml&#39;</span><span class=p>}]</span>
<a id=__codelineno-89-12 name=__codelineno-89-12 href=#__codelineno-89-12></a>
<a id=__codelineno-89-13 name=__codelineno-89-13 href=#__codelineno-89-13></a><span class=n>content</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-89-14 name=__codelineno-89-14 href=#__codelineno-89-14></a><span class=s2>&lt;html&gt;</span>
<a id=__codelineno-89-15 name=__codelineno-89-15 href=#__codelineno-89-15></a><span class=s2>    &lt;body&gt;</span>
<a id=__codelineno-89-16 name=__codelineno-89-16 href=#__codelineno-89-16></a><span class=s2>        &lt;table&gt;</span>
<a id=__codelineno-89-17 name=__codelineno-89-17 href=#__codelineno-89-17></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-89-18 name=__codelineno-89-18 href=#__codelineno-89-18></a>
<a id=__codelineno-89-19 name=__codelineno-89-19 href=#__codelineno-89-19></a><span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>link</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>links</span><span class=p>,</span> <span class=mi>1</span><span class=p>):</span>
<a id=__codelineno-89-20 name=__codelineno-89-20 href=#__codelineno-89-20></a>    <span class=n>item</span> <span class=o>=</span> <span class=s2>&quot;&lt;tr&gt;&lt;td&gt;</span><span class=si>{0}</span><span class=s2>&lt;/td&gt;&lt;td&gt;&lt;a href = &#39;</span><span class=si>{1}</span><span class=s2>&#39;&gt;</span><span class=si>{2}</span><span class=s2>&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;</span><span class=se>\n</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
<a id=__codelineno-89-21 name=__codelineno-89-21 href=#__codelineno-89-21></a>        <span class=n>index</span><span class=p>,</span> <span class=n>link</span><span class=p>[</span><span class=s1>&#39;href&#39;</span><span class=p>],</span> <span class=n>link</span><span class=p>[</span><span class=s1>&#39;title&#39;</span><span class=p>])</span>
<a id=__codelineno-89-22 name=__codelineno-89-22 href=#__codelineno-89-22></a>    <span class=n>content</span> <span class=o>+=</span> <span class=n>item</span>
<a id=__codelineno-89-23 name=__codelineno-89-23 href=#__codelineno-89-23></a>
<a id=__codelineno-89-24 name=__codelineno-89-24 href=#__codelineno-89-24></a><span class=n>content</span> <span class=o>+=</span> <span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-89-25 name=__codelineno-89-25 href=#__codelineno-89-25></a><span class=s2>        &lt;/table&gt;</span>
<a id=__codelineno-89-26 name=__codelineno-89-26 href=#__codelineno-89-26></a><span class=s2>    &lt;/body&gt;</span>
<a id=__codelineno-89-27 name=__codelineno-89-27 href=#__codelineno-89-27></a><span class=s2>&lt;/html&gt;</span>
<a id=__codelineno-89-28 name=__codelineno-89-28 href=#__codelineno-89-28></a><span class=s2>&quot;&quot;&quot;</span>
<a id=__codelineno-89-29 name=__codelineno-89-29 href=#__codelineno-89-29></a><span class=nb>print</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>
</code></pre></div> <p>可以看到，上面的代码将业务逻辑和表现逻辑混合在一起，显得比较混乱。这个时候，我们完全可以使用Jinja2模板解决这个问题。</p> <p>使用Jinja2以后，我们需要一个模板。在这个例子中，模板的名称为hzfc.html，内容如下：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-90-1 name=__codelineno-90-1 href=#__codelineno-90-1></a><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
<a id=__codelineno-90-2 name=__codelineno-90-2 href=#__codelineno-90-2></a>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-90-3 name=__codelineno-90-3 href=#__codelineno-90-3></a>        <span class=p>&lt;</span><span class=nt>table</span><span class=p>&gt;</span>
<a id=__codelineno-90-4 name=__codelineno-90-4 href=#__codelineno-90-4></a>            {% for item in items %}
<a id=__codelineno-90-5 name=__codelineno-90-5 href=#__codelineno-90-5></a>            <span class=p>&lt;</span><span class=nt>tr</span><span class=p>&gt;</span>
<a id=__codelineno-90-6 name=__codelineno-90-6 href=#__codelineno-90-6></a>                <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;</span>{{ loop.index }}<span class=p>&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
<a id=__codelineno-90-7 name=__codelineno-90-7 href=#__codelineno-90-7></a>                <span class=p>&lt;</span><span class=nt>td</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href </span><span class=o>=</span> <span class=s>&quot;{{ item[&#39;href&#39;] }}&quot;</span><span class=p>&gt;</span>{{ item[&#39;title&#39;] }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>td</span><span class=p>&gt;</span>
<a id=__codelineno-90-8 name=__codelineno-90-8 href=#__codelineno-90-8></a>            <span class=p>&lt;/</span><span class=nt>tr</span><span class=p>&gt;</span>
<a id=__codelineno-90-9 name=__codelineno-90-9 href=#__codelineno-90-9></a>            {% endfor %}
<a id=__codelineno-90-10 name=__codelineno-90-10 href=#__codelineno-90-10></a>        <span class=p>&lt;/</span><span class=nt>table</span><span class=p>&gt;</span>
<a id=__codelineno-90-11 name=__codelineno-90-11 href=#__codelineno-90-11></a>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
<a id=__codelineno-90-12 name=__codelineno-90-12 href=#__codelineno-90-12></a><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</code></pre></div> <p>使用模板以后，我们只需要在Python代码中调用渲染函数即可，在本例中，我们将使用4.4.3节中的辅助函数render。渲染模板的Python代码如下所示：</p> <div class=highlight><pre><span></span><code><a id=__codelineno-91-1 name=__codelineno-91-1 href=#__codelineno-91-1></a><span class=c1># -*- coding: UTF-8 -*-</span>
<a id=__codelineno-91-2 name=__codelineno-91-2 href=#__codelineno-91-2></a>
<a id=__codelineno-91-3 name=__codelineno-91-3 href=#__codelineno-91-3></a><span class=kn>import</span> <span class=nn>jinja2</span>
<a id=__codelineno-91-4 name=__codelineno-91-4 href=#__codelineno-91-4></a>
<a id=__codelineno-91-5 name=__codelineno-91-5 href=#__codelineno-91-5></a><span class=n>links</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-91-6 name=__codelineno-91-6 href=#__codelineno-91-6></a>    <span class=p>{</span><span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=sa>u</span><span class=s1>&#39;杭州地铁三期规划正式获批 3号线即将上马&#39;</span><span class=p>,</span> <span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;http://zzhz.zjol.com.cn/system/2016/12/21/021404496.shtml&#39;</span><span class=p>},</span>
<a id=__codelineno-91-7 name=__codelineno-91-7 href=#__codelineno-91-7></a>    <span class=p>{</span><span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=sa>u</span><span class=s1>&#39;涉及房地产的四个关键点&#39;</span><span class=p>,</span> <span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;http://zzhz.zjol.com.cn/system/2016 /12/19/021402558.shtml&#39;</span><span class=p>},</span>
<a id=__codelineno-91-8 name=__codelineno-91-8 href=#__codelineno-91-8></a>    <span class=p>{</span><span class=s1>&#39;title&#39;</span><span class=p>:</span> <span class=sa>u</span><span class=s1>&#39;潮鸣项目定名“凤起潮鸣”，绿城说的“杭州生活样本”将如何呈现&#39;</span><span class=p>,</span> <span class=s1>&#39;href&#39;</span><span class=p>:</span> <span class=s1>&#39;http://zzhz.zjol.com.cn/system/2016/12/19/021402558.shtml&#39;</span><span class=p>}</span>
<a id=__codelineno-91-9 name=__codelineno-91-9 href=#__codelineno-91-9></a><span class=p>]</span>
<a id=__codelineno-91-10 name=__codelineno-91-10 href=#__codelineno-91-10></a>
<a id=__codelineno-91-11 name=__codelineno-91-11 href=#__codelineno-91-11></a><span class=n>env</span> <span class=o>=</span> <span class=n>jinja2</span><span class=o>.</span><span class=n>Environment</span><span class=p>(</span><span class=n>loader</span><span class=o>=</span><span class=n>jinja2</span><span class=o>.</span><span class=n>FileSystemLoader</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>))</span>
<a id=__codelineno-91-12 name=__codelineno-91-12 href=#__codelineno-91-12></a><span class=n>template</span> <span class=o>=</span> <span class=n>env</span><span class=o>.</span><span class=n>get_template</span><span class=p>(</span><span class=s1>&#39;hzfc.html&#39;</span><span class=p>)</span>
<a id=__codelineno-91-13 name=__codelineno-91-13 href=#__codelineno-91-13></a><span class=n>content</span> <span class=o>=</span> <span class=n>template</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>items</span><span class=o>=</span><span class=n>links</span><span class=p>)</span>
<a id=__codelineno-91-14 name=__codelineno-91-14 href=#__codelineno-91-14></a>
<a id=__codelineno-91-15 name=__codelineno-91-15 href=#__codelineno-91-15></a><span class=nb>print</span><span class=p>(</span><span class=n>content</span><span class=p>)</span>
</code></pre></div> <p>可以看到，当我们将业务逻辑与表现逻辑分离以后，代码自然就变得清晰易懂、易于维护了。</p> <hr> <div class=md-source-file> <small> 最后更新: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">August 8, 2023 13:32:58</span> <br> 创建日期: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">August 5, 2023 14:24:41</span> </small> </div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href="https://github.com/hujianli94/hujianli94.github.io/issues/new/?title=[Feedback]+7.%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86+-+/Python/2.%E9%AB%98%E7%BA%A7%E7%AF%87/7.%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" target=_blank>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../6.%E6%89%93%E9%80%A0%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 6.打造命令行工具" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> 6.打造命令行工具 </div> </div> </a> <a href=../8.Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/ class="md-footer__link md-footer__link--next" aria-label="下一页: 8.Linux系统管理" rel=next> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> 8.Linux系统管理 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 - 2024 hujainli94 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/hujianli94 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com/blog_img/20220125122524.png target=_blank rel=noopener title=kaliarch-bucket-1251990360.cos.ap-beijing.myqcloud.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"/></svg> </a> <a href="mailto:<1879324764@qq.com>" target=_blank rel=noopener title=发送邮件 class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">同意</button> <label class=md-button for=__settings>管理设定</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.code.annotate", "navigation.indexes", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.78eede0e.min.js></script> <script src=../../../javascripts/extra.js></script> <script src=https://file.cdn.shafish.cn/blog/js/video.min.js></script> </body> </html>